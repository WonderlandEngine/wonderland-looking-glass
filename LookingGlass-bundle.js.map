{
  "version": 3,
  "sources": ["../example/node_modules/howler/dist/howler.js", "../example/node_modules/earcut/src/earcut.js", "../node_modules/@lookingglass/webxr-polyfill/src/lib/EventTarget.js", "../node_modules/gl-matrix/src/gl-matrix/common.js", "../node_modules/gl-matrix/src/gl-matrix/mat4.js", "../node_modules/gl-matrix/src/gl-matrix/vec3.js", "../node_modules/gl-matrix/src/gl-matrix/mat3.js", "../node_modules/gl-matrix/src/gl-matrix/vec4.js", "../node_modules/gl-matrix/src/gl-matrix/quat.js", "../node_modules/@lookingglass/webxr-polyfill/src/api/XRRigidTransform.js", "../node_modules/@lookingglass/webxr-polyfill/src/api/XRSpace.js", "../node_modules/@lookingglass/webxr-polyfill/src/api/XRReferenceSpace.js", "../node_modules/@lookingglass/webxr-polyfill/src/api/XRSystem.js", "../node_modules/@lookingglass/webxr-polyfill/src/lib/global.js", "../node_modules/@lookingglass/webxr-polyfill/src/lib/now.js", "../node_modules/@lookingglass/webxr-polyfill/src/api/XRPose.js", "../node_modules/@lookingglass/webxr-polyfill/src/api/XRViewerPose.js", "../node_modules/@lookingglass/webxr-polyfill/src/api/XRViewport.js", "../node_modules/@lookingglass/webxr-polyfill/src/api/XRView.js", "../node_modules/@lookingglass/webxr-polyfill/src/api/XRFrame.js", "../node_modules/@lookingglass/webxr-polyfill/src/api/XRRenderState.js", "../node_modules/@lookingglass/webxr-polyfill/src/api/XRInputSourceEvent.js", "../node_modules/@lookingglass/webxr-polyfill/src/api/XRSessionEvent.js", "../node_modules/@lookingglass/webxr-polyfill/src/api/XRInputSourcesChangeEvent.js", "../node_modules/@lookingglass/webxr-polyfill/src/api/XRSession.js", "../node_modules/@lookingglass/webxr-polyfill/src/api/XRInputSource.js", "../node_modules/@lookingglass/webxr-polyfill/src/constants.js", "../node_modules/@lookingglass/webxr-polyfill/src/api/XRWebGLLayer.js", "../node_modules/@lookingglass/webxr-polyfill/src/api/XRReferenceSpaceEvent.js", "../node_modules/@lookingglass/webxr-polyfill/src/api/index.js", "../node_modules/@lookingglass/webxr-polyfill/src/polyfill-globals.js", "../node_modules/@lookingglass/webxr-polyfill/src/utils.js", "../node_modules/cardboard-vr-display/dist/cardboard-vr-display.js", "../node_modules/@lookingglass/webxr-polyfill/src/devices/XRDevice.js", "../node_modules/@lookingglass/webxr-polyfill/src/devices/GamepadMappings.js", "../node_modules/@lookingglass/webxr-polyfill/src/lib/OrientationArmModel.js", "../node_modules/@lookingglass/webxr-polyfill/src/devices/GamepadXRInputSource.js", "../node_modules/@lookingglass/webxr-polyfill/src/devices/WebVRDevice.js", "../node_modules/@lookingglass/webxr-polyfill/src/devices/CardboardXRDevice.js", "../node_modules/@lookingglass/webxr-polyfill/src/devices/InlineDevice.js", "../node_modules/@lookingglass/webxr-polyfill/src/devices.js", "../node_modules/@lookingglass/webxr-polyfill/src/WebXRPolyfill.js", "../node_modules/ws/browser.js", "../node_modules/holoplay-core/dist/holoplaycore.js", "../node_modules/gl-matrix/dist/gl-matrix.js", "../node_modules/@lookingglass/webxr/dist/webxr.umd.cjs", "../example/node_modules/@wonderlandengine/api/dist/index.js", "../example/node_modules/wasm-feature-detect/dist/esm/index.js", "../example/node_modules/@wonderlandengine/api/dist/property.js", "../example/node_modules/@wonderlandengine/api/dist/decorators.js", "../example/node_modules/@wonderlandengine/api/dist/utils/object.js", "../example/node_modules/@wonderlandengine/api/dist/utils/event.js", "../example/node_modules/@wonderlandengine/api/dist/utils/fetch.js", "../example/node_modules/@wonderlandengine/api/dist/wonderland.js", "../example/node_modules/@wonderlandengine/api/dist/texture-manager.js", "../example/node_modules/@wonderlandengine/api/dist/engine.js", "../example/node_modules/@wonderlandengine/api/dist/wasm.js", "../example/node_modules/@wonderlandengine/api/dist/version.js", "../example/node_modules/@wonderlandengine/components/dist/8thwall-camera.js", "../example/node_modules/@wonderlandengine/components/dist/utils/webxr.js", "../example/node_modules/@wonderlandengine/components/dist/anchor.js", "../example/node_modules/@wonderlandengine/components/dist/cursor-target.js", "../example/node_modules/gl-matrix/esm/common.js", "../example/node_modules/gl-matrix/esm/mat3.js", "../example/node_modules/gl-matrix/esm/mat4.js", "../example/node_modules/gl-matrix/esm/quat.js", "../example/node_modules/gl-matrix/esm/vec3.js", "../example/node_modules/gl-matrix/esm/vec4.js", "../example/node_modules/gl-matrix/esm/quat2.js", "../example/node_modules/@wonderlandengine/components/dist/hit-test-location.js", "../example/node_modules/@wonderlandengine/components/dist/cursor.js", "../example/node_modules/@wonderlandengine/components/dist/debug-object.js", "../example/node_modules/@wonderlandengine/components/dist/fixed-foveation.js", "../example/node_modules/@wonderlandengine/components/dist/hand-tracking.js", "../example/node_modules/@wonderlandengine/components/dist/howler-audio-listener.js", "../example/node_modules/@wonderlandengine/components/dist/howler-audio-source.js", "../example/node_modules/@wonderlandengine/components/dist/utils/utils.js", "../example/node_modules/@wonderlandengine/components/dist/image-texture.js", "../example/node_modules/@wonderlandengine/components/dist/mouse-look.js", "../example/node_modules/@wonderlandengine/components/dist/player-height.js", "../example/node_modules/@wonderlandengine/components/dist/target-framerate.js", "../example/node_modules/@wonderlandengine/components/dist/teleport.js", "../example/node_modules/@wonderlandengine/components/dist/trail.js", "../example/node_modules/@wonderlandengine/components/dist/two-joint-ik-solver.js", "../example/node_modules/@wonderlandengine/components/dist/video-texture.js", "../example/node_modules/@wonderlandengine/components/dist/vr-mode-active-switch.js", "../example/node_modules/@wonderlandengine/components/dist/plane-detection.js", "../example/node_modules/@wonderlandengine/components/dist/vrm.js", "../example/node_modules/@wonderlandengine/components/dist/wasd-controls.js", "../node_modules/@wonderlandengine/api/dist/property.js", "../node_modules/@wonderlandengine/api/dist/decorators.js", "../node_modules/@wonderlandengine/api/dist/utils/object.js", "../node_modules/@wonderlandengine/api/dist/wonderland.js", "../node_modules/@wonderlandengine/api/dist/wasm.js", "../node_modules/@wonderlandengine/components/dist/utils/webxr.js", "../looking-glass.js", "../example/js/floating-animation.js", "../example/js/index.js"],
  "sourcesContent": ["/*!\n *  howler.js v2.2.3\n *  howlerjs.com\n *\n *  (c) 2013-2020, James Simpson of GoldFire Studios\n *  goldfirestudios.com\n *\n *  MIT License\n */\n\n(function() {\n\n  'use strict';\n\n  /** Global Methods **/\n  /***************************************************************************/\n\n  /**\n   * Create the global controller. All contained methods and properties apply\n   * to all sounds that are currently playing or will be in the future.\n   */\n  var HowlerGlobal = function() {\n    this.init();\n  };\n  HowlerGlobal.prototype = {\n    /**\n     * Initialize the global Howler object.\n     * @return {Howler}\n     */\n    init: function() {\n      var self = this || Howler;\n\n      // Create a global ID counter.\n      self._counter = 1000;\n\n      // Pool of unlocked HTML5 Audio objects.\n      self._html5AudioPool = [];\n      self.html5PoolSize = 10;\n\n      // Internal properties.\n      self._codecs = {};\n      self._howls = [];\n      self._muted = false;\n      self._volume = 1;\n      self._canPlayEvent = 'canplaythrough';\n      self._navigator = (typeof window !== 'undefined' && window.navigator) ? window.navigator : null;\n\n      // Public properties.\n      self.masterGain = null;\n      self.noAudio = false;\n      self.usingWebAudio = true;\n      self.autoSuspend = true;\n      self.ctx = null;\n\n      // Set to false to disable the auto audio unlocker.\n      self.autoUnlock = true;\n\n      // Setup the various state values for global tracking.\n      self._setup();\n\n      return self;\n    },\n\n    /**\n     * Get/set the global volume for all sounds.\n     * @param  {Float} vol Volume from 0.0 to 1.0.\n     * @return {Howler/Float}     Returns self or current volume.\n     */\n    volume: function(vol) {\n      var self = this || Howler;\n      vol = parseFloat(vol);\n\n      // If we don't have an AudioContext created yet, run the setup.\n      if (!self.ctx) {\n        setupAudioContext();\n      }\n\n      if (typeof vol !== 'undefined' && vol >= 0 && vol <= 1) {\n        self._volume = vol;\n\n        // Don't update any of the nodes if we are muted.\n        if (self._muted) {\n          return self;\n        }\n\n        // When using Web Audio, we just need to adjust the master gain.\n        if (self.usingWebAudio) {\n          self.masterGain.gain.setValueAtTime(vol, Howler.ctx.currentTime);\n        }\n\n        // Loop through and change volume for all HTML5 audio nodes.\n        for (var i=0; i<self._howls.length; i++) {\n          if (!self._howls[i]._webAudio) {\n            // Get all of the sounds in this Howl group.\n            var ids = self._howls[i]._getSoundIds();\n\n            // Loop through all sounds and change the volumes.\n            for (var j=0; j<ids.length; j++) {\n              var sound = self._howls[i]._soundById(ids[j]);\n\n              if (sound && sound._node) {\n                sound._node.volume = sound._volume * vol;\n              }\n            }\n          }\n        }\n\n        return self;\n      }\n\n      return self._volume;\n    },\n\n    /**\n     * Handle muting and unmuting globally.\n     * @param  {Boolean} muted Is muted or not.\n     */\n    mute: function(muted) {\n      var self = this || Howler;\n\n      // If we don't have an AudioContext created yet, run the setup.\n      if (!self.ctx) {\n        setupAudioContext();\n      }\n\n      self._muted = muted;\n\n      // With Web Audio, we just need to mute the master gain.\n      if (self.usingWebAudio) {\n        self.masterGain.gain.setValueAtTime(muted ? 0 : self._volume, Howler.ctx.currentTime);\n      }\n\n      // Loop through and mute all HTML5 Audio nodes.\n      for (var i=0; i<self._howls.length; i++) {\n        if (!self._howls[i]._webAudio) {\n          // Get all of the sounds in this Howl group.\n          var ids = self._howls[i]._getSoundIds();\n\n          // Loop through all sounds and mark the audio node as muted.\n          for (var j=0; j<ids.length; j++) {\n            var sound = self._howls[i]._soundById(ids[j]);\n\n            if (sound && sound._node) {\n              sound._node.muted = (muted) ? true : sound._muted;\n            }\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Handle stopping all sounds globally.\n     */\n    stop: function() {\n      var self = this || Howler;\n\n      // Loop through all Howls and stop them.\n      for (var i=0; i<self._howls.length; i++) {\n        self._howls[i].stop();\n      }\n\n      return self;\n    },\n\n    /**\n     * Unload and destroy all currently loaded Howl objects.\n     * @return {Howler}\n     */\n    unload: function() {\n      var self = this || Howler;\n\n      for (var i=self._howls.length-1; i>=0; i--) {\n        self._howls[i].unload();\n      }\n\n      // Create a new AudioContext to make sure it is fully reset.\n      if (self.usingWebAudio && self.ctx && typeof self.ctx.close !== 'undefined') {\n        self.ctx.close();\n        self.ctx = null;\n        setupAudioContext();\n      }\n\n      return self;\n    },\n\n    /**\n     * Check for codec support of specific extension.\n     * @param  {String} ext Audio file extention.\n     * @return {Boolean}\n     */\n    codecs: function(ext) {\n      return (this || Howler)._codecs[ext.replace(/^x-/, '')];\n    },\n\n    /**\n     * Setup various state values for global tracking.\n     * @return {Howler}\n     */\n    _setup: function() {\n      var self = this || Howler;\n\n      // Keeps track of the suspend/resume state of the AudioContext.\n      self.state = self.ctx ? self.ctx.state || 'suspended' : 'suspended';\n\n      // Automatically begin the 30-second suspend process\n      self._autoSuspend();\n\n      // Check if audio is available.\n      if (!self.usingWebAudio) {\n        // No audio is available on this system if noAudio is set to true.\n        if (typeof Audio !== 'undefined') {\n          try {\n            var test = new Audio();\n\n            // Check if the canplaythrough event is available.\n            if (typeof test.oncanplaythrough === 'undefined') {\n              self._canPlayEvent = 'canplay';\n            }\n          } catch(e) {\n            self.noAudio = true;\n          }\n        } else {\n          self.noAudio = true;\n        }\n      }\n\n      // Test to make sure audio isn't disabled in Internet Explorer.\n      try {\n        var test = new Audio();\n        if (test.muted) {\n          self.noAudio = true;\n        }\n      } catch (e) {}\n\n      // Check for supported codecs.\n      if (!self.noAudio) {\n        self._setupCodecs();\n      }\n\n      return self;\n    },\n\n    /**\n     * Check for browser support for various codecs and cache the results.\n     * @return {Howler}\n     */\n    _setupCodecs: function() {\n      var self = this || Howler;\n      var audioTest = null;\n\n      // Must wrap in a try/catch because IE11 in server mode throws an error.\n      try {\n        audioTest = (typeof Audio !== 'undefined') ? new Audio() : null;\n      } catch (err) {\n        return self;\n      }\n\n      if (!audioTest || typeof audioTest.canPlayType !== 'function') {\n        return self;\n      }\n\n      var mpegTest = audioTest.canPlayType('audio/mpeg;').replace(/^no$/, '');\n\n      // Opera version <33 has mixed MP3 support, so we need to check for and block it.\n      var ua = self._navigator ? self._navigator.userAgent : '';\n      var checkOpera = ua.match(/OPR\\/([0-6].)/g);\n      var isOldOpera = (checkOpera && parseInt(checkOpera[0].split('/')[1], 10) < 33);\n      var checkSafari = ua.indexOf('Safari') !== -1 && ua.indexOf('Chrome') === -1;\n      var safariVersion = ua.match(/Version\\/(.*?) /);\n      var isOldSafari = (checkSafari && safariVersion && parseInt(safariVersion[1], 10) < 15);\n\n      self._codecs = {\n        mp3: !!(!isOldOpera && (mpegTest || audioTest.canPlayType('audio/mp3;').replace(/^no$/, ''))),\n        mpeg: !!mpegTest,\n        opus: !!audioTest.canPlayType('audio/ogg; codecs=\"opus\"').replace(/^no$/, ''),\n        ogg: !!audioTest.canPlayType('audio/ogg; codecs=\"vorbis\"').replace(/^no$/, ''),\n        oga: !!audioTest.canPlayType('audio/ogg; codecs=\"vorbis\"').replace(/^no$/, ''),\n        wav: !!(audioTest.canPlayType('audio/wav; codecs=\"1\"') || audioTest.canPlayType('audio/wav')).replace(/^no$/, ''),\n        aac: !!audioTest.canPlayType('audio/aac;').replace(/^no$/, ''),\n        caf: !!audioTest.canPlayType('audio/x-caf;').replace(/^no$/, ''),\n        m4a: !!(audioTest.canPlayType('audio/x-m4a;') || audioTest.canPlayType('audio/m4a;') || audioTest.canPlayType('audio/aac;')).replace(/^no$/, ''),\n        m4b: !!(audioTest.canPlayType('audio/x-m4b;') || audioTest.canPlayType('audio/m4b;') || audioTest.canPlayType('audio/aac;')).replace(/^no$/, ''),\n        mp4: !!(audioTest.canPlayType('audio/x-mp4;') || audioTest.canPlayType('audio/mp4;') || audioTest.canPlayType('audio/aac;')).replace(/^no$/, ''),\n        weba: !!(!isOldSafari && audioTest.canPlayType('audio/webm; codecs=\"vorbis\"').replace(/^no$/, '')),\n        webm: !!(!isOldSafari && audioTest.canPlayType('audio/webm; codecs=\"vorbis\"').replace(/^no$/, '')),\n        dolby: !!audioTest.canPlayType('audio/mp4; codecs=\"ec-3\"').replace(/^no$/, ''),\n        flac: !!(audioTest.canPlayType('audio/x-flac;') || audioTest.canPlayType('audio/flac;')).replace(/^no$/, '')\n      };\n\n      return self;\n    },\n\n    /**\n     * Some browsers/devices will only allow audio to be played after a user interaction.\n     * Attempt to automatically unlock audio on the first user interaction.\n     * Concept from: http://paulbakaus.com/tutorials/html5/web-audio-on-ios/\n     * @return {Howler}\n     */\n    _unlockAudio: function() {\n      var self = this || Howler;\n\n      // Only run this if Web Audio is supported and it hasn't already been unlocked.\n      if (self._audioUnlocked || !self.ctx) {\n        return;\n      }\n\n      self._audioUnlocked = false;\n      self.autoUnlock = false;\n\n      // Some mobile devices/platforms have distortion issues when opening/closing tabs and/or web views.\n      // Bugs in the browser (especially Mobile Safari) can cause the sampleRate to change from 44100 to 48000.\n      // By calling Howler.unload(), we create a new AudioContext with the correct sampleRate.\n      if (!self._mobileUnloaded && self.ctx.sampleRate !== 44100) {\n        self._mobileUnloaded = true;\n        self.unload();\n      }\n\n      // Scratch buffer for enabling iOS to dispose of web audio buffers correctly, as per:\n      // http://stackoverflow.com/questions/24119684\n      self._scratchBuffer = self.ctx.createBuffer(1, 1, 22050);\n\n      // Call this method on touch start to create and play a buffer,\n      // then check if the audio actually played to determine if\n      // audio has now been unlocked on iOS, Android, etc.\n      var unlock = function(e) {\n        // Create a pool of unlocked HTML5 Audio objects that can\n        // be used for playing sounds without user interaction. HTML5\n        // Audio objects must be individually unlocked, as opposed\n        // to the WebAudio API which only needs a single activation.\n        // This must occur before WebAudio setup or the source.onended\n        // event will not fire.\n        while (self._html5AudioPool.length < self.html5PoolSize) {\n          try {\n            var audioNode = new Audio();\n\n            // Mark this Audio object as unlocked to ensure it can get returned\n            // to the unlocked pool when released.\n            audioNode._unlocked = true;\n\n            // Add the audio node to the pool.\n            self._releaseHtml5Audio(audioNode);\n          } catch (e) {\n            self.noAudio = true;\n            break;\n          }\n        }\n\n        // Loop through any assigned audio nodes and unlock them.\n        for (var i=0; i<self._howls.length; i++) {\n          if (!self._howls[i]._webAudio) {\n            // Get all of the sounds in this Howl group.\n            var ids = self._howls[i]._getSoundIds();\n\n            // Loop through all sounds and unlock the audio nodes.\n            for (var j=0; j<ids.length; j++) {\n              var sound = self._howls[i]._soundById(ids[j]);\n\n              if (sound && sound._node && !sound._node._unlocked) {\n                sound._node._unlocked = true;\n                sound._node.load();\n              }\n            }\n          }\n        }\n\n        // Fix Android can not play in suspend state.\n        self._autoResume();\n\n        // Create an empty buffer.\n        var source = self.ctx.createBufferSource();\n        source.buffer = self._scratchBuffer;\n        source.connect(self.ctx.destination);\n\n        // Play the empty buffer.\n        if (typeof source.start === 'undefined') {\n          source.noteOn(0);\n        } else {\n          source.start(0);\n        }\n\n        // Calling resume() on a stack initiated by user gesture is what actually unlocks the audio on Android Chrome >= 55.\n        if (typeof self.ctx.resume === 'function') {\n          self.ctx.resume();\n        }\n\n        // Setup a timeout to check that we are unlocked on the next event loop.\n        source.onended = function() {\n          source.disconnect(0);\n\n          // Update the unlocked state and prevent this check from happening again.\n          self._audioUnlocked = true;\n\n          // Remove the touch start listener.\n          document.removeEventListener('touchstart', unlock, true);\n          document.removeEventListener('touchend', unlock, true);\n          document.removeEventListener('click', unlock, true);\n          document.removeEventListener('keydown', unlock, true);\n\n          // Let all sounds know that audio has been unlocked.\n          for (var i=0; i<self._howls.length; i++) {\n            self._howls[i]._emit('unlock');\n          }\n        };\n      };\n\n      // Setup a touch start listener to attempt an unlock in.\n      document.addEventListener('touchstart', unlock, true);\n      document.addEventListener('touchend', unlock, true);\n      document.addEventListener('click', unlock, true);\n      document.addEventListener('keydown', unlock, true);\n\n      return self;\n    },\n\n    /**\n     * Get an unlocked HTML5 Audio object from the pool. If none are left,\n     * return a new Audio object and throw a warning.\n     * @return {Audio} HTML5 Audio object.\n     */\n    _obtainHtml5Audio: function() {\n      var self = this || Howler;\n\n      // Return the next object from the pool if one exists.\n      if (self._html5AudioPool.length) {\n        return self._html5AudioPool.pop();\n      }\n\n      //.Check if the audio is locked and throw a warning.\n      var testPlay = new Audio().play();\n      if (testPlay && typeof Promise !== 'undefined' && (testPlay instanceof Promise || typeof testPlay.then === 'function')) {\n        testPlay.catch(function() {\n          console.warn('HTML5 Audio pool exhausted, returning potentially locked audio object.');\n        });\n      }\n\n      return new Audio();\n    },\n\n    /**\n     * Return an activated HTML5 Audio object to the pool.\n     * @return {Howler}\n     */\n    _releaseHtml5Audio: function(audio) {\n      var self = this || Howler;\n\n      // Don't add audio to the pool if we don't know if it has been unlocked.\n      if (audio._unlocked) {\n        self._html5AudioPool.push(audio);\n      }\n\n      return self;\n    },\n\n    /**\n     * Automatically suspend the Web Audio AudioContext after no sound has played for 30 seconds.\n     * This saves processing/energy and fixes various browser-specific bugs with audio getting stuck.\n     * @return {Howler}\n     */\n    _autoSuspend: function() {\n      var self = this;\n\n      if (!self.autoSuspend || !self.ctx || typeof self.ctx.suspend === 'undefined' || !Howler.usingWebAudio) {\n        return;\n      }\n\n      // Check if any sounds are playing.\n      for (var i=0; i<self._howls.length; i++) {\n        if (self._howls[i]._webAudio) {\n          for (var j=0; j<self._howls[i]._sounds.length; j++) {\n            if (!self._howls[i]._sounds[j]._paused) {\n              return self;\n            }\n          }\n        }\n      }\n\n      if (self._suspendTimer) {\n        clearTimeout(self._suspendTimer);\n      }\n\n      // If no sound has played after 30 seconds, suspend the context.\n      self._suspendTimer = setTimeout(function() {\n        if (!self.autoSuspend) {\n          return;\n        }\n\n        self._suspendTimer = null;\n        self.state = 'suspending';\n\n        // Handle updating the state of the audio context after suspending.\n        var handleSuspension = function() {\n          self.state = 'suspended';\n\n          if (self._resumeAfterSuspend) {\n            delete self._resumeAfterSuspend;\n            self._autoResume();\n          }\n        };\n\n        // Either the state gets suspended or it is interrupted.\n        // Either way, we need to update the state to suspended.\n        self.ctx.suspend().then(handleSuspension, handleSuspension);\n      }, 30000);\n\n      return self;\n    },\n\n    /**\n     * Automatically resume the Web Audio AudioContext when a new sound is played.\n     * @return {Howler}\n     */\n    _autoResume: function() {\n      var self = this;\n\n      if (!self.ctx || typeof self.ctx.resume === 'undefined' || !Howler.usingWebAudio) {\n        return;\n      }\n\n      if (self.state === 'running' && self.ctx.state !== 'interrupted' && self._suspendTimer) {\n        clearTimeout(self._suspendTimer);\n        self._suspendTimer = null;\n      } else if (self.state === 'suspended' || self.state === 'running' && self.ctx.state === 'interrupted') {\n        self.ctx.resume().then(function() {\n          self.state = 'running';\n\n          // Emit to all Howls that the audio has resumed.\n          for (var i=0; i<self._howls.length; i++) {\n            self._howls[i]._emit('resume');\n          }\n        });\n\n        if (self._suspendTimer) {\n          clearTimeout(self._suspendTimer);\n          self._suspendTimer = null;\n        }\n      } else if (self.state === 'suspending') {\n        self._resumeAfterSuspend = true;\n      }\n\n      return self;\n    }\n  };\n\n  // Setup the global audio controller.\n  var Howler = new HowlerGlobal();\n\n  /** Group Methods **/\n  /***************************************************************************/\n\n  /**\n   * Create an audio group controller.\n   * @param {Object} o Passed in properties for this group.\n   */\n  var Howl = function(o) {\n    var self = this;\n\n    // Throw an error if no source is provided.\n    if (!o.src || o.src.length === 0) {\n      console.error('An array of source files must be passed with any new Howl.');\n      return;\n    }\n\n    self.init(o);\n  };\n  Howl.prototype = {\n    /**\n     * Initialize a new Howl group object.\n     * @param  {Object} o Passed in properties for this group.\n     * @return {Howl}\n     */\n    init: function(o) {\n      var self = this;\n\n      // If we don't have an AudioContext created yet, run the setup.\n      if (!Howler.ctx) {\n        setupAudioContext();\n      }\n\n      // Setup user-defined default properties.\n      self._autoplay = o.autoplay || false;\n      self._format = (typeof o.format !== 'string') ? o.format : [o.format];\n      self._html5 = o.html5 || false;\n      self._muted = o.mute || false;\n      self._loop = o.loop || false;\n      self._pool = o.pool || 5;\n      self._preload = (typeof o.preload === 'boolean' || o.preload === 'metadata') ? o.preload : true;\n      self._rate = o.rate || 1;\n      self._sprite = o.sprite || {};\n      self._src = (typeof o.src !== 'string') ? o.src : [o.src];\n      self._volume = o.volume !== undefined ? o.volume : 1;\n      self._xhr = {\n        method: o.xhr && o.xhr.method ? o.xhr.method : 'GET',\n        headers: o.xhr && o.xhr.headers ? o.xhr.headers : null,\n        withCredentials: o.xhr && o.xhr.withCredentials ? o.xhr.withCredentials : false,\n      };\n\n      // Setup all other default properties.\n      self._duration = 0;\n      self._state = 'unloaded';\n      self._sounds = [];\n      self._endTimers = {};\n      self._queue = [];\n      self._playLock = false;\n\n      // Setup event listeners.\n      self._onend = o.onend ? [{fn: o.onend}] : [];\n      self._onfade = o.onfade ? [{fn: o.onfade}] : [];\n      self._onload = o.onload ? [{fn: o.onload}] : [];\n      self._onloaderror = o.onloaderror ? [{fn: o.onloaderror}] : [];\n      self._onplayerror = o.onplayerror ? [{fn: o.onplayerror}] : [];\n      self._onpause = o.onpause ? [{fn: o.onpause}] : [];\n      self._onplay = o.onplay ? [{fn: o.onplay}] : [];\n      self._onstop = o.onstop ? [{fn: o.onstop}] : [];\n      self._onmute = o.onmute ? [{fn: o.onmute}] : [];\n      self._onvolume = o.onvolume ? [{fn: o.onvolume}] : [];\n      self._onrate = o.onrate ? [{fn: o.onrate}] : [];\n      self._onseek = o.onseek ? [{fn: o.onseek}] : [];\n      self._onunlock = o.onunlock ? [{fn: o.onunlock}] : [];\n      self._onresume = [];\n\n      // Web Audio or HTML5 Audio?\n      self._webAudio = Howler.usingWebAudio && !self._html5;\n\n      // Automatically try to enable audio.\n      if (typeof Howler.ctx !== 'undefined' && Howler.ctx && Howler.autoUnlock) {\n        Howler._unlockAudio();\n      }\n\n      // Keep track of this Howl group in the global controller.\n      Howler._howls.push(self);\n\n      // If they selected autoplay, add a play event to the load queue.\n      if (self._autoplay) {\n        self._queue.push({\n          event: 'play',\n          action: function() {\n            self.play();\n          }\n        });\n      }\n\n      // Load the source file unless otherwise specified.\n      if (self._preload && self._preload !== 'none') {\n        self.load();\n      }\n\n      return self;\n    },\n\n    /**\n     * Load the audio file.\n     * @return {Howler}\n     */\n    load: function() {\n      var self = this;\n      var url = null;\n\n      // If no audio is available, quit immediately.\n      if (Howler.noAudio) {\n        self._emit('loaderror', null, 'No audio support.');\n        return;\n      }\n\n      // Make sure our source is in an array.\n      if (typeof self._src === 'string') {\n        self._src = [self._src];\n      }\n\n      // Loop through the sources and pick the first one that is compatible.\n      for (var i=0; i<self._src.length; i++) {\n        var ext, str;\n\n        if (self._format && self._format[i]) {\n          // If an extension was specified, use that instead.\n          ext = self._format[i];\n        } else {\n          // Make sure the source is a string.\n          str = self._src[i];\n          if (typeof str !== 'string') {\n            self._emit('loaderror', null, 'Non-string found in selected audio sources - ignoring.');\n            continue;\n          }\n\n          // Extract the file extension from the URL or base64 data URI.\n          ext = /^data:audio\\/([^;,]+);/i.exec(str);\n          if (!ext) {\n            ext = /\\.([^.]+)$/.exec(str.split('?', 1)[0]);\n          }\n\n          if (ext) {\n            ext = ext[1].toLowerCase();\n          }\n        }\n\n        // Log a warning if no extension was found.\n        if (!ext) {\n          console.warn('No file extension was found. Consider using the \"format\" property or specify an extension.');\n        }\n\n        // Check if this extension is available.\n        if (ext && Howler.codecs(ext)) {\n          url = self._src[i];\n          break;\n        }\n      }\n\n      if (!url) {\n        self._emit('loaderror', null, 'No codec support for selected audio sources.');\n        return;\n      }\n\n      self._src = url;\n      self._state = 'loading';\n\n      // If the hosting page is HTTPS and the source isn't,\n      // drop down to HTML5 Audio to avoid Mixed Content errors.\n      if (window.location.protocol === 'https:' && url.slice(0, 5) === 'http:') {\n        self._html5 = true;\n        self._webAudio = false;\n      }\n\n      // Create a new sound object and add it to the pool.\n      new Sound(self);\n\n      // Load and decode the audio data for playback.\n      if (self._webAudio) {\n        loadBuffer(self);\n      }\n\n      return self;\n    },\n\n    /**\n     * Play a sound or resume previous playback.\n     * @param  {String/Number} sprite   Sprite name for sprite playback or sound id to continue previous.\n     * @param  {Boolean} internal Internal Use: true prevents event firing.\n     * @return {Number}          Sound ID.\n     */\n    play: function(sprite, internal) {\n      var self = this;\n      var id = null;\n\n      // Determine if a sprite, sound id or nothing was passed\n      if (typeof sprite === 'number') {\n        id = sprite;\n        sprite = null;\n      } else if (typeof sprite === 'string' && self._state === 'loaded' && !self._sprite[sprite]) {\n        // If the passed sprite doesn't exist, do nothing.\n        return null;\n      } else if (typeof sprite === 'undefined') {\n        // Use the default sound sprite (plays the full audio length).\n        sprite = '__default';\n\n        // Check if there is a single paused sound that isn't ended.\n        // If there is, play that sound. If not, continue as usual.\n        if (!self._playLock) {\n          var num = 0;\n          for (var i=0; i<self._sounds.length; i++) {\n            if (self._sounds[i]._paused && !self._sounds[i]._ended) {\n              num++;\n              id = self._sounds[i]._id;\n            }\n          }\n\n          if (num === 1) {\n            sprite = null;\n          } else {\n            id = null;\n          }\n        }\n      }\n\n      // Get the selected node, or get one from the pool.\n      var sound = id ? self._soundById(id) : self._inactiveSound();\n\n      // If the sound doesn't exist, do nothing.\n      if (!sound) {\n        return null;\n      }\n\n      // Select the sprite definition.\n      if (id && !sprite) {\n        sprite = sound._sprite || '__default';\n      }\n\n      // If the sound hasn't loaded, we must wait to get the audio's duration.\n      // We also need to wait to make sure we don't run into race conditions with\n      // the order of function calls.\n      if (self._state !== 'loaded') {\n        // Set the sprite value on this sound.\n        sound._sprite = sprite;\n\n        // Mark this sound as not ended in case another sound is played before this one loads.\n        sound._ended = false;\n\n        // Add the sound to the queue to be played on load.\n        var soundId = sound._id;\n        self._queue.push({\n          event: 'play',\n          action: function() {\n            self.play(soundId);\n          }\n        });\n\n        return soundId;\n      }\n\n      // Don't play the sound if an id was passed and it is already playing.\n      if (id && !sound._paused) {\n        // Trigger the play event, in order to keep iterating through queue.\n        if (!internal) {\n          self._loadQueue('play');\n        }\n\n        return sound._id;\n      }\n\n      // Make sure the AudioContext isn't suspended, and resume it if it is.\n      if (self._webAudio) {\n        Howler._autoResume();\n      }\n\n      // Determine how long to play for and where to start playing.\n      var seek = Math.max(0, sound._seek > 0 ? sound._seek : self._sprite[sprite][0] / 1000);\n      var duration = Math.max(0, ((self._sprite[sprite][0] + self._sprite[sprite][1]) / 1000) - seek);\n      var timeout = (duration * 1000) / Math.abs(sound._rate);\n      var start = self._sprite[sprite][0] / 1000;\n      var stop = (self._sprite[sprite][0] + self._sprite[sprite][1]) / 1000;\n      sound._sprite = sprite;\n\n      // Mark the sound as ended instantly so that this async playback\n      // doesn't get grabbed by another call to play while this one waits to start.\n      sound._ended = false;\n\n      // Update the parameters of the sound.\n      var setParams = function() {\n        sound._paused = false;\n        sound._seek = seek;\n        sound._start = start;\n        sound._stop = stop;\n        sound._loop = !!(sound._loop || self._sprite[sprite][2]);\n      };\n\n      // End the sound instantly if seek is at the end.\n      if (seek >= stop) {\n        self._ended(sound);\n        return;\n      }\n\n      // Begin the actual playback.\n      var node = sound._node;\n      if (self._webAudio) {\n        // Fire this when the sound is ready to play to begin Web Audio playback.\n        var playWebAudio = function() {\n          self._playLock = false;\n          setParams();\n          self._refreshBuffer(sound);\n\n          // Setup the playback params.\n          var vol = (sound._muted || self._muted) ? 0 : sound._volume;\n          node.gain.setValueAtTime(vol, Howler.ctx.currentTime);\n          sound._playStart = Howler.ctx.currentTime;\n\n          // Play the sound using the supported method.\n          if (typeof node.bufferSource.start === 'undefined') {\n            sound._loop ? node.bufferSource.noteGrainOn(0, seek, 86400) : node.bufferSource.noteGrainOn(0, seek, duration);\n          } else {\n            sound._loop ? node.bufferSource.start(0, seek, 86400) : node.bufferSource.start(0, seek, duration);\n          }\n\n          // Start a new timer if none is present.\n          if (timeout !== Infinity) {\n            self._endTimers[sound._id] = setTimeout(self._ended.bind(self, sound), timeout);\n          }\n\n          if (!internal) {\n            setTimeout(function() {\n              self._emit('play', sound._id);\n              self._loadQueue();\n            }, 0);\n          }\n        };\n\n        if (Howler.state === 'running' && Howler.ctx.state !== 'interrupted') {\n          playWebAudio();\n        } else {\n          self._playLock = true;\n\n          // Wait for the audio context to resume before playing.\n          self.once('resume', playWebAudio);\n\n          // Cancel the end timer.\n          self._clearTimer(sound._id);\n        }\n      } else {\n        // Fire this when the sound is ready to play to begin HTML5 Audio playback.\n        var playHtml5 = function() {\n          node.currentTime = seek;\n          node.muted = sound._muted || self._muted || Howler._muted || node.muted;\n          node.volume = sound._volume * Howler.volume();\n          node.playbackRate = sound._rate;\n\n          // Some browsers will throw an error if this is called without user interaction.\n          try {\n            var play = node.play();\n\n            // Support older browsers that don't support promises, and thus don't have this issue.\n            if (play && typeof Promise !== 'undefined' && (play instanceof Promise || typeof play.then === 'function')) {\n              // Implements a lock to prevent DOMException: The play() request was interrupted by a call to pause().\n              self._playLock = true;\n\n              // Set param values immediately.\n              setParams();\n\n              // Releases the lock and executes queued actions.\n              play\n                .then(function() {\n                  self._playLock = false;\n                  node._unlocked = true;\n                  if (!internal) {\n                    self._emit('play', sound._id);\n                  } else {\n                    self._loadQueue();\n                  }\n                })\n                .catch(function() {\n                  self._playLock = false;\n                  self._emit('playerror', sound._id, 'Playback was unable to start. This is most commonly an issue ' +\n                    'on mobile devices and Chrome where playback was not within a user interaction.');\n\n                  // Reset the ended and paused values.\n                  sound._ended = true;\n                  sound._paused = true;\n                });\n            } else if (!internal) {\n              self._playLock = false;\n              setParams();\n              self._emit('play', sound._id);\n            }\n\n            // Setting rate before playing won't work in IE, so we set it again here.\n            node.playbackRate = sound._rate;\n\n            // If the node is still paused, then we can assume there was a playback issue.\n            if (node.paused) {\n              self._emit('playerror', sound._id, 'Playback was unable to start. This is most commonly an issue ' +\n                'on mobile devices and Chrome where playback was not within a user interaction.');\n              return;\n            }\n\n            // Setup the end timer on sprites or listen for the ended event.\n            if (sprite !== '__default' || sound._loop) {\n              self._endTimers[sound._id] = setTimeout(self._ended.bind(self, sound), timeout);\n            } else {\n              self._endTimers[sound._id] = function() {\n                // Fire ended on this audio node.\n                self._ended(sound);\n\n                // Clear this listener.\n                node.removeEventListener('ended', self._endTimers[sound._id], false);\n              };\n              node.addEventListener('ended', self._endTimers[sound._id], false);\n            }\n          } catch (err) {\n            self._emit('playerror', sound._id, err);\n          }\n        };\n\n        // If this is streaming audio, make sure the src is set and load again.\n        if (node.src === 'data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA') {\n          node.src = self._src;\n          node.load();\n        }\n\n        // Play immediately if ready, or wait for the 'canplaythrough'e vent.\n        var loadedNoReadyState = (window && window.ejecta) || (!node.readyState && Howler._navigator.isCocoonJS);\n        if (node.readyState >= 3 || loadedNoReadyState) {\n          playHtml5();\n        } else {\n          self._playLock = true;\n          self._state = 'loading';\n\n          var listener = function() {\n            self._state = 'loaded';\n            \n            // Begin playback.\n            playHtml5();\n\n            // Clear this listener.\n            node.removeEventListener(Howler._canPlayEvent, listener, false);\n          };\n          node.addEventListener(Howler._canPlayEvent, listener, false);\n\n          // Cancel the end timer.\n          self._clearTimer(sound._id);\n        }\n      }\n\n      return sound._id;\n    },\n\n    /**\n     * Pause playback and save current position.\n     * @param  {Number} id The sound ID (empty to pause all in group).\n     * @return {Howl}\n     */\n    pause: function(id) {\n      var self = this;\n\n      // If the sound hasn't loaded or a play() promise is pending, add it to the load queue to pause when capable.\n      if (self._state !== 'loaded' || self._playLock) {\n        self._queue.push({\n          event: 'pause',\n          action: function() {\n            self.pause(id);\n          }\n        });\n\n        return self;\n      }\n\n      // If no id is passed, get all ID's to be paused.\n      var ids = self._getSoundIds(id);\n\n      for (var i=0; i<ids.length; i++) {\n        // Clear the end timer.\n        self._clearTimer(ids[i]);\n\n        // Get the sound.\n        var sound = self._soundById(ids[i]);\n\n        if (sound && !sound._paused) {\n          // Reset the seek position.\n          sound._seek = self.seek(ids[i]);\n          sound._rateSeek = 0;\n          sound._paused = true;\n\n          // Stop currently running fades.\n          self._stopFade(ids[i]);\n\n          if (sound._node) {\n            if (self._webAudio) {\n              // Make sure the sound has been created.\n              if (!sound._node.bufferSource) {\n                continue;\n              }\n\n              if (typeof sound._node.bufferSource.stop === 'undefined') {\n                sound._node.bufferSource.noteOff(0);\n              } else {\n                sound._node.bufferSource.stop(0);\n              }\n\n              // Clean up the buffer source.\n              self._cleanBuffer(sound._node);\n            } else if (!isNaN(sound._node.duration) || sound._node.duration === Infinity) {\n              sound._node.pause();\n            }\n          }\n        }\n\n        // Fire the pause event, unless `true` is passed as the 2nd argument.\n        if (!arguments[1]) {\n          self._emit('pause', sound ? sound._id : null);\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Stop playback and reset to start.\n     * @param  {Number} id The sound ID (empty to stop all in group).\n     * @param  {Boolean} internal Internal Use: true prevents event firing.\n     * @return {Howl}\n     */\n    stop: function(id, internal) {\n      var self = this;\n\n      // If the sound hasn't loaded, add it to the load queue to stop when capable.\n      if (self._state !== 'loaded' || self._playLock) {\n        self._queue.push({\n          event: 'stop',\n          action: function() {\n            self.stop(id);\n          }\n        });\n\n        return self;\n      }\n\n      // If no id is passed, get all ID's to be stopped.\n      var ids = self._getSoundIds(id);\n\n      for (var i=0; i<ids.length; i++) {\n        // Clear the end timer.\n        self._clearTimer(ids[i]);\n\n        // Get the sound.\n        var sound = self._soundById(ids[i]);\n\n        if (sound) {\n          // Reset the seek position.\n          sound._seek = sound._start || 0;\n          sound._rateSeek = 0;\n          sound._paused = true;\n          sound._ended = true;\n\n          // Stop currently running fades.\n          self._stopFade(ids[i]);\n\n          if (sound._node) {\n            if (self._webAudio) {\n              // Make sure the sound's AudioBufferSourceNode has been created.\n              if (sound._node.bufferSource) {\n                if (typeof sound._node.bufferSource.stop === 'undefined') {\n                  sound._node.bufferSource.noteOff(0);\n                } else {\n                  sound._node.bufferSource.stop(0);\n                }\n\n                // Clean up the buffer source.\n                self._cleanBuffer(sound._node);\n              }\n            } else if (!isNaN(sound._node.duration) || sound._node.duration === Infinity) {\n              sound._node.currentTime = sound._start || 0;\n              sound._node.pause();\n\n              // If this is a live stream, stop download once the audio is stopped.\n              if (sound._node.duration === Infinity) {\n                self._clearSound(sound._node);\n              }\n            }\n          }\n\n          if (!internal) {\n            self._emit('stop', sound._id);\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Mute/unmute a single sound or all sounds in this Howl group.\n     * @param  {Boolean} muted Set to true to mute and false to unmute.\n     * @param  {Number} id    The sound ID to update (omit to mute/unmute all).\n     * @return {Howl}\n     */\n    mute: function(muted, id) {\n      var self = this;\n\n      // If the sound hasn't loaded, add it to the load queue to mute when capable.\n      if (self._state !== 'loaded'|| self._playLock) {\n        self._queue.push({\n          event: 'mute',\n          action: function() {\n            self.mute(muted, id);\n          }\n        });\n\n        return self;\n      }\n\n      // If applying mute/unmute to all sounds, update the group's value.\n      if (typeof id === 'undefined') {\n        if (typeof muted === 'boolean') {\n          self._muted = muted;\n        } else {\n          return self._muted;\n        }\n      }\n\n      // If no id is passed, get all ID's to be muted.\n      var ids = self._getSoundIds(id);\n\n      for (var i=0; i<ids.length; i++) {\n        // Get the sound.\n        var sound = self._soundById(ids[i]);\n\n        if (sound) {\n          sound._muted = muted;\n\n          // Cancel active fade and set the volume to the end value.\n          if (sound._interval) {\n            self._stopFade(sound._id);\n          }\n\n          if (self._webAudio && sound._node) {\n            sound._node.gain.setValueAtTime(muted ? 0 : sound._volume, Howler.ctx.currentTime);\n          } else if (sound._node) {\n            sound._node.muted = Howler._muted ? true : muted;\n          }\n\n          self._emit('mute', sound._id);\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Get/set the volume of this sound or of the Howl group. This method can optionally take 0, 1 or 2 arguments.\n     *   volume() -> Returns the group's volume value.\n     *   volume(id) -> Returns the sound id's current volume.\n     *   volume(vol) -> Sets the volume of all sounds in this Howl group.\n     *   volume(vol, id) -> Sets the volume of passed sound id.\n     * @return {Howl/Number} Returns self or current volume.\n     */\n    volume: function() {\n      var self = this;\n      var args = arguments;\n      var vol, id;\n\n      // Determine the values based on arguments.\n      if (args.length === 0) {\n        // Return the value of the groups' volume.\n        return self._volume;\n      } else if (args.length === 1 || args.length === 2 && typeof args[1] === 'undefined') {\n        // First check if this is an ID, and if not, assume it is a new volume.\n        var ids = self._getSoundIds();\n        var index = ids.indexOf(args[0]);\n        if (index >= 0) {\n          id = parseInt(args[0], 10);\n        } else {\n          vol = parseFloat(args[0]);\n        }\n      } else if (args.length >= 2) {\n        vol = parseFloat(args[0]);\n        id = parseInt(args[1], 10);\n      }\n\n      // Update the volume or return the current volume.\n      var sound;\n      if (typeof vol !== 'undefined' && vol >= 0 && vol <= 1) {\n        // If the sound hasn't loaded, add it to the load queue to change volume when capable.\n        if (self._state !== 'loaded'|| self._playLock) {\n          self._queue.push({\n            event: 'volume',\n            action: function() {\n              self.volume.apply(self, args);\n            }\n          });\n\n          return self;\n        }\n\n        // Set the group volume.\n        if (typeof id === 'undefined') {\n          self._volume = vol;\n        }\n\n        // Update one or all volumes.\n        id = self._getSoundIds(id);\n        for (var i=0; i<id.length; i++) {\n          // Get the sound.\n          sound = self._soundById(id[i]);\n\n          if (sound) {\n            sound._volume = vol;\n\n            // Stop currently running fades.\n            if (!args[2]) {\n              self._stopFade(id[i]);\n            }\n\n            if (self._webAudio && sound._node && !sound._muted) {\n              sound._node.gain.setValueAtTime(vol, Howler.ctx.currentTime);\n            } else if (sound._node && !sound._muted) {\n              sound._node.volume = vol * Howler.volume();\n            }\n\n            self._emit('volume', sound._id);\n          }\n        }\n      } else {\n        sound = id ? self._soundById(id) : self._sounds[0];\n        return sound ? sound._volume : 0;\n      }\n\n      return self;\n    },\n\n    /**\n     * Fade a currently playing sound between two volumes (if no id is passed, all sounds will fade).\n     * @param  {Number} from The value to fade from (0.0 to 1.0).\n     * @param  {Number} to   The volume to fade to (0.0 to 1.0).\n     * @param  {Number} len  Time in milliseconds to fade.\n     * @param  {Number} id   The sound id (omit to fade all sounds).\n     * @return {Howl}\n     */\n    fade: function(from, to, len, id) {\n      var self = this;\n\n      // If the sound hasn't loaded, add it to the load queue to fade when capable.\n      if (self._state !== 'loaded' || self._playLock) {\n        self._queue.push({\n          event: 'fade',\n          action: function() {\n            self.fade(from, to, len, id);\n          }\n        });\n\n        return self;\n      }\n\n      // Make sure the to/from/len values are numbers.\n      from = Math.min(Math.max(0, parseFloat(from)), 1);\n      to = Math.min(Math.max(0, parseFloat(to)), 1);\n      len = parseFloat(len);\n\n      // Set the volume to the start position.\n      self.volume(from, id);\n\n      // Fade the volume of one or all sounds.\n      var ids = self._getSoundIds(id);\n      for (var i=0; i<ids.length; i++) {\n        // Get the sound.\n        var sound = self._soundById(ids[i]);\n\n        // Create a linear fade or fall back to timeouts with HTML5 Audio.\n        if (sound) {\n          // Stop the previous fade if no sprite is being used (otherwise, volume handles this).\n          if (!id) {\n            self._stopFade(ids[i]);\n          }\n\n          // If we are using Web Audio, let the native methods do the actual fade.\n          if (self._webAudio && !sound._muted) {\n            var currentTime = Howler.ctx.currentTime;\n            var end = currentTime + (len / 1000);\n            sound._volume = from;\n            sound._node.gain.setValueAtTime(from, currentTime);\n            sound._node.gain.linearRampToValueAtTime(to, end);\n          }\n\n          self._startFadeInterval(sound, from, to, len, ids[i], typeof id === 'undefined');\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Starts the internal interval to fade a sound.\n     * @param  {Object} sound Reference to sound to fade.\n     * @param  {Number} from The value to fade from (0.0 to 1.0).\n     * @param  {Number} to   The volume to fade to (0.0 to 1.0).\n     * @param  {Number} len  Time in milliseconds to fade.\n     * @param  {Number} id   The sound id to fade.\n     * @param  {Boolean} isGroup   If true, set the volume on the group.\n     */\n    _startFadeInterval: function(sound, from, to, len, id, isGroup) {\n      var self = this;\n      var vol = from;\n      var diff = to - from;\n      var steps = Math.abs(diff / 0.01);\n      var stepLen = Math.max(4, (steps > 0) ? len / steps : len);\n      var lastTick = Date.now();\n\n      // Store the value being faded to.\n      sound._fadeTo = to;\n\n      // Update the volume value on each interval tick.\n      sound._interval = setInterval(function() {\n        // Update the volume based on the time since the last tick.\n        var tick = (Date.now() - lastTick) / len;\n        lastTick = Date.now();\n        vol += diff * tick;\n\n        // Round to within 2 decimal points.\n        vol = Math.round(vol * 100) / 100;\n\n        // Make sure the volume is in the right bounds.\n        if (diff < 0) {\n          vol = Math.max(to, vol);\n        } else {\n          vol = Math.min(to, vol);\n        }\n\n        // Change the volume.\n        if (self._webAudio) {\n          sound._volume = vol;\n        } else {\n          self.volume(vol, sound._id, true);\n        }\n\n        // Set the group's volume.\n        if (isGroup) {\n          self._volume = vol;\n        }\n\n        // When the fade is complete, stop it and fire event.\n        if ((to < from && vol <= to) || (to > from && vol >= to)) {\n          clearInterval(sound._interval);\n          sound._interval = null;\n          sound._fadeTo = null;\n          self.volume(to, sound._id);\n          self._emit('fade', sound._id);\n        }\n      }, stepLen);\n    },\n\n    /**\n     * Internal method that stops the currently playing fade when\n     * a new fade starts, volume is changed or the sound is stopped.\n     * @param  {Number} id The sound id.\n     * @return {Howl}\n     */\n    _stopFade: function(id) {\n      var self = this;\n      var sound = self._soundById(id);\n\n      if (sound && sound._interval) {\n        if (self._webAudio) {\n          sound._node.gain.cancelScheduledValues(Howler.ctx.currentTime);\n        }\n\n        clearInterval(sound._interval);\n        sound._interval = null;\n        self.volume(sound._fadeTo, id);\n        sound._fadeTo = null;\n        self._emit('fade', id);\n      }\n\n      return self;\n    },\n\n    /**\n     * Get/set the loop parameter on a sound. This method can optionally take 0, 1 or 2 arguments.\n     *   loop() -> Returns the group's loop value.\n     *   loop(id) -> Returns the sound id's loop value.\n     *   loop(loop) -> Sets the loop value for all sounds in this Howl group.\n     *   loop(loop, id) -> Sets the loop value of passed sound id.\n     * @return {Howl/Boolean} Returns self or current loop value.\n     */\n    loop: function() {\n      var self = this;\n      var args = arguments;\n      var loop, id, sound;\n\n      // Determine the values for loop and id.\n      if (args.length === 0) {\n        // Return the grou's loop value.\n        return self._loop;\n      } else if (args.length === 1) {\n        if (typeof args[0] === 'boolean') {\n          loop = args[0];\n          self._loop = loop;\n        } else {\n          // Return this sound's loop value.\n          sound = self._soundById(parseInt(args[0], 10));\n          return sound ? sound._loop : false;\n        }\n      } else if (args.length === 2) {\n        loop = args[0];\n        id = parseInt(args[1], 10);\n      }\n\n      // If no id is passed, get all ID's to be looped.\n      var ids = self._getSoundIds(id);\n      for (var i=0; i<ids.length; i++) {\n        sound = self._soundById(ids[i]);\n\n        if (sound) {\n          sound._loop = loop;\n          if (self._webAudio && sound._node && sound._node.bufferSource) {\n            sound._node.bufferSource.loop = loop;\n            if (loop) {\n              sound._node.bufferSource.loopStart = sound._start || 0;\n              sound._node.bufferSource.loopEnd = sound._stop;\n\n              // If playing, restart playback to ensure looping updates.\n              if (self.playing(ids[i])) {\n                self.pause(ids[i], true);\n                self.play(ids[i], true);\n              }\n            }\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Get/set the playback rate of a sound. This method can optionally take 0, 1 or 2 arguments.\n     *   rate() -> Returns the first sound node's current playback rate.\n     *   rate(id) -> Returns the sound id's current playback rate.\n     *   rate(rate) -> Sets the playback rate of all sounds in this Howl group.\n     *   rate(rate, id) -> Sets the playback rate of passed sound id.\n     * @return {Howl/Number} Returns self or the current playback rate.\n     */\n    rate: function() {\n      var self = this;\n      var args = arguments;\n      var rate, id;\n\n      // Determine the values based on arguments.\n      if (args.length === 0) {\n        // We will simply return the current rate of the first node.\n        id = self._sounds[0]._id;\n      } else if (args.length === 1) {\n        // First check if this is an ID, and if not, assume it is a new rate value.\n        var ids = self._getSoundIds();\n        var index = ids.indexOf(args[0]);\n        if (index >= 0) {\n          id = parseInt(args[0], 10);\n        } else {\n          rate = parseFloat(args[0]);\n        }\n      } else if (args.length === 2) {\n        rate = parseFloat(args[0]);\n        id = parseInt(args[1], 10);\n      }\n\n      // Update the playback rate or return the current value.\n      var sound;\n      if (typeof rate === 'number') {\n        // If the sound hasn't loaded, add it to the load queue to change playback rate when capable.\n        if (self._state !== 'loaded' || self._playLock) {\n          self._queue.push({\n            event: 'rate',\n            action: function() {\n              self.rate.apply(self, args);\n            }\n          });\n\n          return self;\n        }\n\n        // Set the group rate.\n        if (typeof id === 'undefined') {\n          self._rate = rate;\n        }\n\n        // Update one or all volumes.\n        id = self._getSoundIds(id);\n        for (var i=0; i<id.length; i++) {\n          // Get the sound.\n          sound = self._soundById(id[i]);\n\n          if (sound) {\n            // Keep track of our position when the rate changed and update the playback\n            // start position so we can properly adjust the seek position for time elapsed.\n            if (self.playing(id[i])) {\n              sound._rateSeek = self.seek(id[i]);\n              sound._playStart = self._webAudio ? Howler.ctx.currentTime : sound._playStart;\n            }\n            sound._rate = rate;\n\n            // Change the playback rate.\n            if (self._webAudio && sound._node && sound._node.bufferSource) {\n              sound._node.bufferSource.playbackRate.setValueAtTime(rate, Howler.ctx.currentTime);\n            } else if (sound._node) {\n              sound._node.playbackRate = rate;\n            }\n\n            // Reset the timers.\n            var seek = self.seek(id[i]);\n            var duration = ((self._sprite[sound._sprite][0] + self._sprite[sound._sprite][1]) / 1000) - seek;\n            var timeout = (duration * 1000) / Math.abs(sound._rate);\n\n            // Start a new end timer if sound is already playing.\n            if (self._endTimers[id[i]] || !sound._paused) {\n              self._clearTimer(id[i]);\n              self._endTimers[id[i]] = setTimeout(self._ended.bind(self, sound), timeout);\n            }\n\n            self._emit('rate', sound._id);\n          }\n        }\n      } else {\n        sound = self._soundById(id);\n        return sound ? sound._rate : self._rate;\n      }\n\n      return self;\n    },\n\n    /**\n     * Get/set the seek position of a sound. This method can optionally take 0, 1 or 2 arguments.\n     *   seek() -> Returns the first sound node's current seek position.\n     *   seek(id) -> Returns the sound id's current seek position.\n     *   seek(seek) -> Sets the seek position of the first sound node.\n     *   seek(seek, id) -> Sets the seek position of passed sound id.\n     * @return {Howl/Number} Returns self or the current seek position.\n     */\n    seek: function() {\n      var self = this;\n      var args = arguments;\n      var seek, id;\n\n      // Determine the values based on arguments.\n      if (args.length === 0) {\n        // We will simply return the current position of the first node.\n        if (self._sounds.length) {\n          id = self._sounds[0]._id;\n        }\n      } else if (args.length === 1) {\n        // First check if this is an ID, and if not, assume it is a new seek position.\n        var ids = self._getSoundIds();\n        var index = ids.indexOf(args[0]);\n        if (index >= 0) {\n          id = parseInt(args[0], 10);\n        } else if (self._sounds.length) {\n          id = self._sounds[0]._id;\n          seek = parseFloat(args[0]);\n        }\n      } else if (args.length === 2) {\n        seek = parseFloat(args[0]);\n        id = parseInt(args[1], 10);\n      }\n\n      // If there is no ID, bail out.\n      if (typeof id === 'undefined') {\n        return 0;\n      }\n\n      // If the sound hasn't loaded, add it to the load queue to seek when capable.\n      if (typeof seek === 'number' && (self._state !== 'loaded' || self._playLock)) {\n        self._queue.push({\n          event: 'seek',\n          action: function() {\n            self.seek.apply(self, args);\n          }\n        });\n\n        return self;\n      }\n\n      // Get the sound.\n      var sound = self._soundById(id);\n\n      if (sound) {\n        if (typeof seek === 'number' && seek >= 0) {\n          // Pause the sound and update position for restarting playback.\n          var playing = self.playing(id);\n          if (playing) {\n            self.pause(id, true);\n          }\n\n          // Move the position of the track and cancel timer.\n          sound._seek = seek;\n          sound._ended = false;\n          self._clearTimer(id);\n\n          // Update the seek position for HTML5 Audio.\n          if (!self._webAudio && sound._node && !isNaN(sound._node.duration)) {\n            sound._node.currentTime = seek;\n          }\n\n          // Seek and emit when ready.\n          var seekAndEmit = function() {\n            // Restart the playback if the sound was playing.\n            if (playing) {\n              self.play(id, true);\n            }\n\n            self._emit('seek', id);\n          };\n\n          // Wait for the play lock to be unset before emitting (HTML5 Audio).\n          if (playing && !self._webAudio) {\n            var emitSeek = function() {\n              if (!self._playLock) {\n                seekAndEmit();\n              } else {\n                setTimeout(emitSeek, 0);\n              }\n            };\n            setTimeout(emitSeek, 0);\n          } else {\n            seekAndEmit();\n          }\n        } else {\n          if (self._webAudio) {\n            var realTime = self.playing(id) ? Howler.ctx.currentTime - sound._playStart : 0;\n            var rateSeek = sound._rateSeek ? sound._rateSeek - sound._seek : 0;\n            return sound._seek + (rateSeek + realTime * Math.abs(sound._rate));\n          } else {\n            return sound._node.currentTime;\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Check if a specific sound is currently playing or not (if id is provided), or check if at least one of the sounds in the group is playing or not.\n     * @param  {Number}  id The sound id to check. If none is passed, the whole sound group is checked.\n     * @return {Boolean} True if playing and false if not.\n     */\n    playing: function(id) {\n      var self = this;\n\n      // Check the passed sound ID (if any).\n      if (typeof id === 'number') {\n        var sound = self._soundById(id);\n        return sound ? !sound._paused : false;\n      }\n\n      // Otherwise, loop through all sounds and check if any are playing.\n      for (var i=0; i<self._sounds.length; i++) {\n        if (!self._sounds[i]._paused) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n\n    /**\n     * Get the duration of this sound. Passing a sound id will return the sprite duration.\n     * @param  {Number} id The sound id to check. If none is passed, return full source duration.\n     * @return {Number} Audio duration in seconds.\n     */\n    duration: function(id) {\n      var self = this;\n      var duration = self._duration;\n\n      // If we pass an ID, get the sound and return the sprite length.\n      var sound = self._soundById(id);\n      if (sound) {\n        duration = self._sprite[sound._sprite][1] / 1000;\n      }\n\n      return duration;\n    },\n\n    /**\n     * Returns the current loaded state of this Howl.\n     * @return {String} 'unloaded', 'loading', 'loaded'\n     */\n    state: function() {\n      return this._state;\n    },\n\n    /**\n     * Unload and destroy the current Howl object.\n     * This will immediately stop all sound instances attached to this group.\n     */\n    unload: function() {\n      var self = this;\n\n      // Stop playing any active sounds.\n      var sounds = self._sounds;\n      for (var i=0; i<sounds.length; i++) {\n        // Stop the sound if it is currently playing.\n        if (!sounds[i]._paused) {\n          self.stop(sounds[i]._id);\n        }\n\n        // Remove the source or disconnect.\n        if (!self._webAudio) {\n          // Set the source to 0-second silence to stop any downloading (except in IE).\n          self._clearSound(sounds[i]._node);\n\n          // Remove any event listeners.\n          sounds[i]._node.removeEventListener('error', sounds[i]._errorFn, false);\n          sounds[i]._node.removeEventListener(Howler._canPlayEvent, sounds[i]._loadFn, false);\n          sounds[i]._node.removeEventListener('ended', sounds[i]._endFn, false);\n\n          // Release the Audio object back to the pool.\n          Howler._releaseHtml5Audio(sounds[i]._node);\n        }\n\n        // Empty out all of the nodes.\n        delete sounds[i]._node;\n\n        // Make sure all timers are cleared out.\n        self._clearTimer(sounds[i]._id);\n      }\n\n      // Remove the references in the global Howler object.\n      var index = Howler._howls.indexOf(self);\n      if (index >= 0) {\n        Howler._howls.splice(index, 1);\n      }\n\n      // Delete this sound from the cache (if no other Howl is using it).\n      var remCache = true;\n      for (i=0; i<Howler._howls.length; i++) {\n        if (Howler._howls[i]._src === self._src || self._src.indexOf(Howler._howls[i]._src) >= 0) {\n          remCache = false;\n          break;\n        }\n      }\n\n      if (cache && remCache) {\n        delete cache[self._src];\n      }\n\n      // Clear global errors.\n      Howler.noAudio = false;\n\n      // Clear out `self`.\n      self._state = 'unloaded';\n      self._sounds = [];\n      self = null;\n\n      return null;\n    },\n\n    /**\n     * Listen to a custom event.\n     * @param  {String}   event Event name.\n     * @param  {Function} fn    Listener to call.\n     * @param  {Number}   id    (optional) Only listen to events for this sound.\n     * @param  {Number}   once  (INTERNAL) Marks event to fire only once.\n     * @return {Howl}\n     */\n    on: function(event, fn, id, once) {\n      var self = this;\n      var events = self['_on' + event];\n\n      if (typeof fn === 'function') {\n        events.push(once ? {id: id, fn: fn, once: once} : {id: id, fn: fn});\n      }\n\n      return self;\n    },\n\n    /**\n     * Remove a custom event. Call without parameters to remove all events.\n     * @param  {String}   event Event name.\n     * @param  {Function} fn    Listener to remove. Leave empty to remove all.\n     * @param  {Number}   id    (optional) Only remove events for this sound.\n     * @return {Howl}\n     */\n    off: function(event, fn, id) {\n      var self = this;\n      var events = self['_on' + event];\n      var i = 0;\n\n      // Allow passing just an event and ID.\n      if (typeof fn === 'number') {\n        id = fn;\n        fn = null;\n      }\n\n      if (fn || id) {\n        // Loop through event store and remove the passed function.\n        for (i=0; i<events.length; i++) {\n          var isId = (id === events[i].id);\n          if (fn === events[i].fn && isId || !fn && isId) {\n            events.splice(i, 1);\n            break;\n          }\n        }\n      } else if (event) {\n        // Clear out all events of this type.\n        self['_on' + event] = [];\n      } else {\n        // Clear out all events of every type.\n        var keys = Object.keys(self);\n        for (i=0; i<keys.length; i++) {\n          if ((keys[i].indexOf('_on') === 0) && Array.isArray(self[keys[i]])) {\n            self[keys[i]] = [];\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Listen to a custom event and remove it once fired.\n     * @param  {String}   event Event name.\n     * @param  {Function} fn    Listener to call.\n     * @param  {Number}   id    (optional) Only listen to events for this sound.\n     * @return {Howl}\n     */\n    once: function(event, fn, id) {\n      var self = this;\n\n      // Setup the event listener.\n      self.on(event, fn, id, 1);\n\n      return self;\n    },\n\n    /**\n     * Emit all events of a specific type and pass the sound id.\n     * @param  {String} event Event name.\n     * @param  {Number} id    Sound ID.\n     * @param  {Number} msg   Message to go with event.\n     * @return {Howl}\n     */\n    _emit: function(event, id, msg) {\n      var self = this;\n      var events = self['_on' + event];\n\n      // Loop through event store and fire all functions.\n      for (var i=events.length-1; i>=0; i--) {\n        // Only fire the listener if the correct ID is used.\n        if (!events[i].id || events[i].id === id || event === 'load') {\n          setTimeout(function(fn) {\n            fn.call(this, id, msg);\n          }.bind(self, events[i].fn), 0);\n\n          // If this event was setup with `once`, remove it.\n          if (events[i].once) {\n            self.off(event, events[i].fn, events[i].id);\n          }\n        }\n      }\n\n      // Pass the event type into load queue so that it can continue stepping.\n      self._loadQueue(event);\n\n      return self;\n    },\n\n    /**\n     * Queue of actions initiated before the sound has loaded.\n     * These will be called in sequence, with the next only firing\n     * after the previous has finished executing (even if async like play).\n     * @return {Howl}\n     */\n    _loadQueue: function(event) {\n      var self = this;\n\n      if (self._queue.length > 0) {\n        var task = self._queue[0];\n\n        // Remove this task if a matching event was passed.\n        if (task.event === event) {\n          self._queue.shift();\n          self._loadQueue();\n        }\n\n        // Run the task if no event type is passed.\n        if (!event) {\n          task.action();\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Fired when playback ends at the end of the duration.\n     * @param  {Sound} sound The sound object to work with.\n     * @return {Howl}\n     */\n    _ended: function(sound) {\n      var self = this;\n      var sprite = sound._sprite;\n\n      // If we are using IE and there was network latency we may be clipping\n      // audio before it completes playing. Lets check the node to make sure it\n      // believes it has completed, before ending the playback.\n      if (!self._webAudio && sound._node && !sound._node.paused && !sound._node.ended && sound._node.currentTime < sound._stop) {\n        setTimeout(self._ended.bind(self, sound), 100);\n        return self;\n      }\n\n      // Should this sound loop?\n      var loop = !!(sound._loop || self._sprite[sprite][2]);\n\n      // Fire the ended event.\n      self._emit('end', sound._id);\n\n      // Restart the playback for HTML5 Audio loop.\n      if (!self._webAudio && loop) {\n        self.stop(sound._id, true).play(sound._id);\n      }\n\n      // Restart this timer if on a Web Audio loop.\n      if (self._webAudio && loop) {\n        self._emit('play', sound._id);\n        sound._seek = sound._start || 0;\n        sound._rateSeek = 0;\n        sound._playStart = Howler.ctx.currentTime;\n\n        var timeout = ((sound._stop - sound._start) * 1000) / Math.abs(sound._rate);\n        self._endTimers[sound._id] = setTimeout(self._ended.bind(self, sound), timeout);\n      }\n\n      // Mark the node as paused.\n      if (self._webAudio && !loop) {\n        sound._paused = true;\n        sound._ended = true;\n        sound._seek = sound._start || 0;\n        sound._rateSeek = 0;\n        self._clearTimer(sound._id);\n\n        // Clean up the buffer source.\n        self._cleanBuffer(sound._node);\n\n        // Attempt to auto-suspend AudioContext if no sounds are still playing.\n        Howler._autoSuspend();\n      }\n\n      // When using a sprite, end the track.\n      if (!self._webAudio && !loop) {\n        self.stop(sound._id, true);\n      }\n\n      return self;\n    },\n\n    /**\n     * Clear the end timer for a sound playback.\n     * @param  {Number} id The sound ID.\n     * @return {Howl}\n     */\n    _clearTimer: function(id) {\n      var self = this;\n\n      if (self._endTimers[id]) {\n        // Clear the timeout or remove the ended listener.\n        if (typeof self._endTimers[id] !== 'function') {\n          clearTimeout(self._endTimers[id]);\n        } else {\n          var sound = self._soundById(id);\n          if (sound && sound._node) {\n            sound._node.removeEventListener('ended', self._endTimers[id], false);\n          }\n        }\n\n        delete self._endTimers[id];\n      }\n\n      return self;\n    },\n\n    /**\n     * Return the sound identified by this ID, or return null.\n     * @param  {Number} id Sound ID\n     * @return {Object}    Sound object or null.\n     */\n    _soundById: function(id) {\n      var self = this;\n\n      // Loop through all sounds and find the one with this ID.\n      for (var i=0; i<self._sounds.length; i++) {\n        if (id === self._sounds[i]._id) {\n          return self._sounds[i];\n        }\n      }\n\n      return null;\n    },\n\n    /**\n     * Return an inactive sound from the pool or create a new one.\n     * @return {Sound} Sound playback object.\n     */\n    _inactiveSound: function() {\n      var self = this;\n\n      self._drain();\n\n      // Find the first inactive node to recycle.\n      for (var i=0; i<self._sounds.length; i++) {\n        if (self._sounds[i]._ended) {\n          return self._sounds[i].reset();\n        }\n      }\n\n      // If no inactive node was found, create a new one.\n      return new Sound(self);\n    },\n\n    /**\n     * Drain excess inactive sounds from the pool.\n     */\n    _drain: function() {\n      var self = this;\n      var limit = self._pool;\n      var cnt = 0;\n      var i = 0;\n\n      // If there are less sounds than the max pool size, we are done.\n      if (self._sounds.length < limit) {\n        return;\n      }\n\n      // Count the number of inactive sounds.\n      for (i=0; i<self._sounds.length; i++) {\n        if (self._sounds[i]._ended) {\n          cnt++;\n        }\n      }\n\n      // Remove excess inactive sounds, going in reverse order.\n      for (i=self._sounds.length - 1; i>=0; i--) {\n        if (cnt <= limit) {\n          return;\n        }\n\n        if (self._sounds[i]._ended) {\n          // Disconnect the audio source when using Web Audio.\n          if (self._webAudio && self._sounds[i]._node) {\n            self._sounds[i]._node.disconnect(0);\n          }\n\n          // Remove sounds until we have the pool size.\n          self._sounds.splice(i, 1);\n          cnt--;\n        }\n      }\n    },\n\n    /**\n     * Get all ID's from the sounds pool.\n     * @param  {Number} id Only return one ID if one is passed.\n     * @return {Array}    Array of IDs.\n     */\n    _getSoundIds: function(id) {\n      var self = this;\n\n      if (typeof id === 'undefined') {\n        var ids = [];\n        for (var i=0; i<self._sounds.length; i++) {\n          ids.push(self._sounds[i]._id);\n        }\n\n        return ids;\n      } else {\n        return [id];\n      }\n    },\n\n    /**\n     * Load the sound back into the buffer source.\n     * @param  {Sound} sound The sound object to work with.\n     * @return {Howl}\n     */\n    _refreshBuffer: function(sound) {\n      var self = this;\n\n      // Setup the buffer source for playback.\n      sound._node.bufferSource = Howler.ctx.createBufferSource();\n      sound._node.bufferSource.buffer = cache[self._src];\n\n      // Connect to the correct node.\n      if (sound._panner) {\n        sound._node.bufferSource.connect(sound._panner);\n      } else {\n        sound._node.bufferSource.connect(sound._node);\n      }\n\n      // Setup looping and playback rate.\n      sound._node.bufferSource.loop = sound._loop;\n      if (sound._loop) {\n        sound._node.bufferSource.loopStart = sound._start || 0;\n        sound._node.bufferSource.loopEnd = sound._stop || 0;\n      }\n      sound._node.bufferSource.playbackRate.setValueAtTime(sound._rate, Howler.ctx.currentTime);\n\n      return self;\n    },\n\n    /**\n     * Prevent memory leaks by cleaning up the buffer source after playback.\n     * @param  {Object} node Sound's audio node containing the buffer source.\n     * @return {Howl}\n     */\n    _cleanBuffer: function(node) {\n      var self = this;\n      var isIOS = Howler._navigator && Howler._navigator.vendor.indexOf('Apple') >= 0;\n\n      if (Howler._scratchBuffer && node.bufferSource) {\n        node.bufferSource.onended = null;\n        node.bufferSource.disconnect(0);\n        if (isIOS) {\n          try { node.bufferSource.buffer = Howler._scratchBuffer; } catch(e) {}\n        }\n      }\n      node.bufferSource = null;\n\n      return self;\n    },\n\n    /**\n     * Set the source to a 0-second silence to stop any downloading (except in IE).\n     * @param  {Object} node Audio node to clear.\n     */\n    _clearSound: function(node) {\n      var checkIE = /MSIE |Trident\\//.test(Howler._navigator && Howler._navigator.userAgent);\n      if (!checkIE) {\n        node.src = 'data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA';\n      }\n    }\n  };\n\n  /** Single Sound Methods **/\n  /***************************************************************************/\n\n  /**\n   * Setup the sound object, which each node attached to a Howl group is contained in.\n   * @param {Object} howl The Howl parent group.\n   */\n  var Sound = function(howl) {\n    this._parent = howl;\n    this.init();\n  };\n  Sound.prototype = {\n    /**\n     * Initialize a new Sound object.\n     * @return {Sound}\n     */\n    init: function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Setup the default parameters.\n      self._muted = parent._muted;\n      self._loop = parent._loop;\n      self._volume = parent._volume;\n      self._rate = parent._rate;\n      self._seek = 0;\n      self._paused = true;\n      self._ended = true;\n      self._sprite = '__default';\n\n      // Generate a unique ID for this sound.\n      self._id = ++Howler._counter;\n\n      // Add itself to the parent's pool.\n      parent._sounds.push(self);\n\n      // Create the new node.\n      self.create();\n\n      return self;\n    },\n\n    /**\n     * Create and setup a new sound object, whether HTML5 Audio or Web Audio.\n     * @return {Sound}\n     */\n    create: function() {\n      var self = this;\n      var parent = self._parent;\n      var volume = (Howler._muted || self._muted || self._parent._muted) ? 0 : self._volume;\n\n      if (parent._webAudio) {\n        // Create the gain node for controlling volume (the source will connect to this).\n        self._node = (typeof Howler.ctx.createGain === 'undefined') ? Howler.ctx.createGainNode() : Howler.ctx.createGain();\n        self._node.gain.setValueAtTime(volume, Howler.ctx.currentTime);\n        self._node.paused = true;\n        self._node.connect(Howler.masterGain);\n      } else if (!Howler.noAudio) {\n        // Get an unlocked Audio object from the pool.\n        self._node = Howler._obtainHtml5Audio();\n\n        // Listen for errors (http://dev.w3.org/html5/spec-author-view/spec.html#mediaerror).\n        self._errorFn = self._errorListener.bind(self);\n        self._node.addEventListener('error', self._errorFn, false);\n\n        // Listen for 'canplaythrough' event to let us know the sound is ready.\n        self._loadFn = self._loadListener.bind(self);\n        self._node.addEventListener(Howler._canPlayEvent, self._loadFn, false);\n\n        // Listen for the 'ended' event on the sound to account for edge-case where\n        // a finite sound has a duration of Infinity.\n        self._endFn = self._endListener.bind(self);\n        self._node.addEventListener('ended', self._endFn, false);\n\n        // Setup the new audio node.\n        self._node.src = parent._src;\n        self._node.preload = parent._preload === true ? 'auto' : parent._preload;\n        self._node.volume = volume * Howler.volume();\n\n        // Begin loading the source.\n        self._node.load();\n      }\n\n      return self;\n    },\n\n    /**\n     * Reset the parameters of this sound to the original state (for recycle).\n     * @return {Sound}\n     */\n    reset: function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Reset all of the parameters of this sound.\n      self._muted = parent._muted;\n      self._loop = parent._loop;\n      self._volume = parent._volume;\n      self._rate = parent._rate;\n      self._seek = 0;\n      self._rateSeek = 0;\n      self._paused = true;\n      self._ended = true;\n      self._sprite = '__default';\n\n      // Generate a new ID so that it isn't confused with the previous sound.\n      self._id = ++Howler._counter;\n\n      return self;\n    },\n\n    /**\n     * HTML5 Audio error listener callback.\n     */\n    _errorListener: function() {\n      var self = this;\n\n      // Fire an error event and pass back the code.\n      self._parent._emit('loaderror', self._id, self._node.error ? self._node.error.code : 0);\n\n      // Clear the event listener.\n      self._node.removeEventListener('error', self._errorFn, false);\n    },\n\n    /**\n     * HTML5 Audio canplaythrough listener callback.\n     */\n    _loadListener: function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Round up the duration to account for the lower precision in HTML5 Audio.\n      parent._duration = Math.ceil(self._node.duration * 10) / 10;\n\n      // Setup a sprite if none is defined.\n      if (Object.keys(parent._sprite).length === 0) {\n        parent._sprite = {__default: [0, parent._duration * 1000]};\n      }\n\n      if (parent._state !== 'loaded') {\n        parent._state = 'loaded';\n        parent._emit('load');\n        parent._loadQueue();\n      }\n\n      // Clear the event listener.\n      self._node.removeEventListener(Howler._canPlayEvent, self._loadFn, false);\n    },\n\n    /**\n     * HTML5 Audio ended listener callback.\n     */\n    _endListener: function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Only handle the `ended`` event if the duration is Infinity.\n      if (parent._duration === Infinity) {\n        // Update the parent duration to match the real audio duration.\n        // Round up the duration to account for the lower precision in HTML5 Audio.\n        parent._duration = Math.ceil(self._node.duration * 10) / 10;\n\n        // Update the sprite that corresponds to the real duration.\n        if (parent._sprite.__default[1] === Infinity) {\n          parent._sprite.__default[1] = parent._duration * 1000;\n        }\n\n        // Run the regular ended method.\n        parent._ended(self);\n      }\n\n      // Clear the event listener since the duration is now correct.\n      self._node.removeEventListener('ended', self._endFn, false);\n    }\n  };\n\n  /** Helper Methods **/\n  /***************************************************************************/\n\n  var cache = {};\n\n  /**\n   * Buffer a sound from URL, Data URI or cache and decode to audio source (Web Audio API).\n   * @param  {Howl} self\n   */\n  var loadBuffer = function(self) {\n    var url = self._src;\n\n    // Check if the buffer has already been cached and use it instead.\n    if (cache[url]) {\n      // Set the duration from the cache.\n      self._duration = cache[url].duration;\n\n      // Load the sound into this Howl.\n      loadSound(self);\n\n      return;\n    }\n\n    if (/^data:[^;]+;base64,/.test(url)) {\n      // Decode the base64 data URI without XHR, since some browsers don't support it.\n      var data = atob(url.split(',')[1]);\n      var dataView = new Uint8Array(data.length);\n      for (var i=0; i<data.length; ++i) {\n        dataView[i] = data.charCodeAt(i);\n      }\n\n      decodeAudioData(dataView.buffer, self);\n    } else {\n      // Load the buffer from the URL.\n      var xhr = new XMLHttpRequest();\n      xhr.open(self._xhr.method, url, true);\n      xhr.withCredentials = self._xhr.withCredentials;\n      xhr.responseType = 'arraybuffer';\n\n      // Apply any custom headers to the request.\n      if (self._xhr.headers) {\n        Object.keys(self._xhr.headers).forEach(function(key) {\n          xhr.setRequestHeader(key, self._xhr.headers[key]);\n        });\n      }\n\n      xhr.onload = function() {\n        // Make sure we get a successful response back.\n        var code = (xhr.status + '')[0];\n        if (code !== '0' && code !== '2' && code !== '3') {\n          self._emit('loaderror', null, 'Failed loading audio file with status: ' + xhr.status + '.');\n          return;\n        }\n\n        decodeAudioData(xhr.response, self);\n      };\n      xhr.onerror = function() {\n        // If there is an error, switch to HTML5 Audio.\n        if (self._webAudio) {\n          self._html5 = true;\n          self._webAudio = false;\n          self._sounds = [];\n          delete cache[url];\n          self.load();\n        }\n      };\n      safeXhrSend(xhr);\n    }\n  };\n\n  /**\n   * Send the XHR request wrapped in a try/catch.\n   * @param  {Object} xhr XHR to send.\n   */\n  var safeXhrSend = function(xhr) {\n    try {\n      xhr.send();\n    } catch (e) {\n      xhr.onerror();\n    }\n  };\n\n  /**\n   * Decode audio data from an array buffer.\n   * @param  {ArrayBuffer} arraybuffer The audio data.\n   * @param  {Howl}        self\n   */\n  var decodeAudioData = function(arraybuffer, self) {\n    // Fire a load error if something broke.\n    var error = function() {\n      self._emit('loaderror', null, 'Decoding audio data failed.');\n    };\n\n    // Load the sound on success.\n    var success = function(buffer) {\n      if (buffer && self._sounds.length > 0) {\n        cache[self._src] = buffer;\n        loadSound(self, buffer);\n      } else {\n        error();\n      }\n    };\n\n    // Decode the buffer into an audio source.\n    if (typeof Promise !== 'undefined' && Howler.ctx.decodeAudioData.length === 1) {\n      Howler.ctx.decodeAudioData(arraybuffer).then(success).catch(error);\n    } else {\n      Howler.ctx.decodeAudioData(arraybuffer, success, error);\n    }\n  }\n\n  /**\n   * Sound is now loaded, so finish setting everything up and fire the loaded event.\n   * @param  {Howl} self\n   * @param  {Object} buffer The decoded buffer sound source.\n   */\n  var loadSound = function(self, buffer) {\n    // Set the duration.\n    if (buffer && !self._duration) {\n      self._duration = buffer.duration;\n    }\n\n    // Setup a sprite if none is defined.\n    if (Object.keys(self._sprite).length === 0) {\n      self._sprite = {__default: [0, self._duration * 1000]};\n    }\n\n    // Fire the loaded event.\n    if (self._state !== 'loaded') {\n      self._state = 'loaded';\n      self._emit('load');\n      self._loadQueue();\n    }\n  };\n\n  /**\n   * Setup the audio context when available, or switch to HTML5 Audio mode.\n   */\n  var setupAudioContext = function() {\n    // If we have already detected that Web Audio isn't supported, don't run this step again.\n    if (!Howler.usingWebAudio) {\n      return;\n    }\n\n    // Check if we are using Web Audio and setup the AudioContext if we are.\n    try {\n      if (typeof AudioContext !== 'undefined') {\n        Howler.ctx = new AudioContext();\n      } else if (typeof webkitAudioContext !== 'undefined') {\n        Howler.ctx = new webkitAudioContext();\n      } else {\n        Howler.usingWebAudio = false;\n      }\n    } catch(e) {\n      Howler.usingWebAudio = false;\n    }\n\n    // If the audio context creation still failed, set using web audio to false.\n    if (!Howler.ctx) {\n      Howler.usingWebAudio = false;\n    }\n\n    // Check if a webview is being used on iOS8 or earlier (rather than the browser).\n    // If it is, disable Web Audio as it causes crashing.\n    var iOS = (/iP(hone|od|ad)/.test(Howler._navigator && Howler._navigator.platform));\n    var appVersion = Howler._navigator && Howler._navigator.appVersion.match(/OS (\\d+)_(\\d+)_?(\\d+)?/);\n    var version = appVersion ? parseInt(appVersion[1], 10) : null;\n    if (iOS && version && version < 9) {\n      var safari = /safari/.test(Howler._navigator && Howler._navigator.userAgent.toLowerCase());\n      if (Howler._navigator && !safari) {\n        Howler.usingWebAudio = false;\n      }\n    }\n\n    // Create and expose the master GainNode when using Web Audio (useful for plugins or advanced usage).\n    if (Howler.usingWebAudio) {\n      Howler.masterGain = (typeof Howler.ctx.createGain === 'undefined') ? Howler.ctx.createGainNode() : Howler.ctx.createGain();\n      Howler.masterGain.gain.setValueAtTime(Howler._muted ? 0 : Howler._volume, Howler.ctx.currentTime);\n      Howler.masterGain.connect(Howler.ctx.destination);\n    }\n\n    // Re-run the setup on Howler.\n    Howler._setup();\n  };\n\n  // Add support for AMD (Asynchronous Module Definition) libraries such as require.js.\n  if (typeof define === 'function' && define.amd) {\n    define([], function() {\n      return {\n        Howler: Howler,\n        Howl: Howl\n      };\n    });\n  }\n\n  // Add support for CommonJS libraries such as browserify.\n  if (typeof exports !== 'undefined') {\n    exports.Howler = Howler;\n    exports.Howl = Howl;\n  }\n\n  // Add to global in Node.js (for testing, etc).\n  if (typeof global !== 'undefined') {\n    global.HowlerGlobal = HowlerGlobal;\n    global.Howler = Howler;\n    global.Howl = Howl;\n    global.Sound = Sound;\n  } else if (typeof window !== 'undefined') {  // Define globally in case AMD is not available or unused.\n    window.HowlerGlobal = HowlerGlobal;\n    window.Howler = Howler;\n    window.Howl = Howl;\n    window.Sound = Sound;\n  }\n})();\n\n\n/*!\n *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.\n *  \n *  howler.js v2.2.3\n *  howlerjs.com\n *\n *  (c) 2013-2020, James Simpson of GoldFire Studios\n *  goldfirestudios.com\n *\n *  MIT License\n */\n\n(function() {\n\n  'use strict';\n\n  // Setup default properties.\n  HowlerGlobal.prototype._pos = [0, 0, 0];\n  HowlerGlobal.prototype._orientation = [0, 0, -1, 0, 1, 0];\n\n  /** Global Methods **/\n  /***************************************************************************/\n\n  /**\n   * Helper method to update the stereo panning position of all current Howls.\n   * Future Howls will not use this value unless explicitly set.\n   * @param  {Number} pan A value of -1.0 is all the way left and 1.0 is all the way right.\n   * @return {Howler/Number}     Self or current stereo panning value.\n   */\n  HowlerGlobal.prototype.stereo = function(pan) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self.ctx || !self.ctx.listener) {\n      return self;\n    }\n\n    // Loop through all Howls and update their stereo panning.\n    for (var i=self._howls.length-1; i>=0; i--) {\n      self._howls[i].stereo(pan);\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the position of the listener in 3D cartesian space. Sounds using\n   * 3D position will be relative to the listener's position.\n   * @param  {Number} x The x-position of the listener.\n   * @param  {Number} y The y-position of the listener.\n   * @param  {Number} z The z-position of the listener.\n   * @return {Howler/Array}   Self or current listener position.\n   */\n  HowlerGlobal.prototype.pos = function(x, y, z) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self.ctx || !self.ctx.listener) {\n      return self;\n    }\n\n    // Set the defaults for optional 'y' & 'z'.\n    y = (typeof y !== 'number') ? self._pos[1] : y;\n    z = (typeof z !== 'number') ? self._pos[2] : z;\n\n    if (typeof x === 'number') {\n      self._pos = [x, y, z];\n\n      if (typeof self.ctx.listener.positionX !== 'undefined') {\n        self.ctx.listener.positionX.setTargetAtTime(self._pos[0], Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.positionY.setTargetAtTime(self._pos[1], Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.positionZ.setTargetAtTime(self._pos[2], Howler.ctx.currentTime, 0.1);\n      } else {\n        self.ctx.listener.setPosition(self._pos[0], self._pos[1], self._pos[2]);\n      }\n    } else {\n      return self._pos;\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the direction the listener is pointing in the 3D cartesian space.\n   * A front and up vector must be provided. The front is the direction the\n   * face of the listener is pointing, and up is the direction the top of the\n   * listener is pointing. Thus, these values are expected to be at right angles\n   * from each other.\n   * @param  {Number} x   The x-orientation of the listener.\n   * @param  {Number} y   The y-orientation of the listener.\n   * @param  {Number} z   The z-orientation of the listener.\n   * @param  {Number} xUp The x-orientation of the top of the listener.\n   * @param  {Number} yUp The y-orientation of the top of the listener.\n   * @param  {Number} zUp The z-orientation of the top of the listener.\n   * @return {Howler/Array}     Returns self or the current orientation vectors.\n   */\n  HowlerGlobal.prototype.orientation = function(x, y, z, xUp, yUp, zUp) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self.ctx || !self.ctx.listener) {\n      return self;\n    }\n\n    // Set the defaults for optional 'y' & 'z'.\n    var or = self._orientation;\n    y = (typeof y !== 'number') ? or[1] : y;\n    z = (typeof z !== 'number') ? or[2] : z;\n    xUp = (typeof xUp !== 'number') ? or[3] : xUp;\n    yUp = (typeof yUp !== 'number') ? or[4] : yUp;\n    zUp = (typeof zUp !== 'number') ? or[5] : zUp;\n\n    if (typeof x === 'number') {\n      self._orientation = [x, y, z, xUp, yUp, zUp];\n\n      if (typeof self.ctx.listener.forwardX !== 'undefined') {\n        self.ctx.listener.forwardX.setTargetAtTime(x, Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.forwardY.setTargetAtTime(y, Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.forwardZ.setTargetAtTime(z, Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.upX.setTargetAtTime(xUp, Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.upY.setTargetAtTime(yUp, Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.upZ.setTargetAtTime(zUp, Howler.ctx.currentTime, 0.1);\n      } else {\n        self.ctx.listener.setOrientation(x, y, z, xUp, yUp, zUp);\n      }\n    } else {\n      return or;\n    }\n\n    return self;\n  };\n\n  /** Group Methods **/\n  /***************************************************************************/\n\n  /**\n   * Add new properties to the core init.\n   * @param  {Function} _super Core init method.\n   * @return {Howl}\n   */\n  Howl.prototype.init = (function(_super) {\n    return function(o) {\n      var self = this;\n\n      // Setup user-defined default properties.\n      self._orientation = o.orientation || [1, 0, 0];\n      self._stereo = o.stereo || null;\n      self._pos = o.pos || null;\n      self._pannerAttr = {\n        coneInnerAngle: typeof o.coneInnerAngle !== 'undefined' ? o.coneInnerAngle : 360,\n        coneOuterAngle: typeof o.coneOuterAngle !== 'undefined' ? o.coneOuterAngle : 360,\n        coneOuterGain: typeof o.coneOuterGain !== 'undefined' ? o.coneOuterGain : 0,\n        distanceModel: typeof o.distanceModel !== 'undefined' ? o.distanceModel : 'inverse',\n        maxDistance: typeof o.maxDistance !== 'undefined' ? o.maxDistance : 10000,\n        panningModel: typeof o.panningModel !== 'undefined' ? o.panningModel : 'HRTF',\n        refDistance: typeof o.refDistance !== 'undefined' ? o.refDistance : 1,\n        rolloffFactor: typeof o.rolloffFactor !== 'undefined' ? o.rolloffFactor : 1\n      };\n\n      // Setup event listeners.\n      self._onstereo = o.onstereo ? [{fn: o.onstereo}] : [];\n      self._onpos = o.onpos ? [{fn: o.onpos}] : [];\n      self._onorientation = o.onorientation ? [{fn: o.onorientation}] : [];\n\n      // Complete initilization with howler.js core's init function.\n      return _super.call(this, o);\n    };\n  })(Howl.prototype.init);\n\n  /**\n   * Get/set the stereo panning of the audio source for this sound or all in the group.\n   * @param  {Number} pan  A value of -1.0 is all the way left and 1.0 is all the way right.\n   * @param  {Number} id (optional) The sound ID. If none is passed, all in group will be updated.\n   * @return {Howl/Number}    Returns self or the current stereo panning value.\n   */\n  Howl.prototype.stereo = function(pan, id) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self._webAudio) {\n      return self;\n    }\n\n    // If the sound hasn't loaded, add it to the load queue to change stereo pan when capable.\n    if (self._state !== 'loaded') {\n      self._queue.push({\n        event: 'stereo',\n        action: function() {\n          self.stereo(pan, id);\n        }\n      });\n\n      return self;\n    }\n\n    // Check for PannerStereoNode support and fallback to PannerNode if it doesn't exist.\n    var pannerType = (typeof Howler.ctx.createStereoPanner === 'undefined') ? 'spatial' : 'stereo';\n\n    // Setup the group's stereo panning if no ID is passed.\n    if (typeof id === 'undefined') {\n      // Return the group's stereo panning if no parameters are passed.\n      if (typeof pan === 'number') {\n        self._stereo = pan;\n        self._pos = [pan, 0, 0];\n      } else {\n        return self._stereo;\n      }\n    }\n\n    // Change the streo panning of one or all sounds in group.\n    var ids = self._getSoundIds(id);\n    for (var i=0; i<ids.length; i++) {\n      // Get the sound.\n      var sound = self._soundById(ids[i]);\n\n      if (sound) {\n        if (typeof pan === 'number') {\n          sound._stereo = pan;\n          sound._pos = [pan, 0, 0];\n\n          if (sound._node) {\n            // If we are falling back, make sure the panningModel is equalpower.\n            sound._pannerAttr.panningModel = 'equalpower';\n\n            // Check if there is a panner setup and create a new one if not.\n            if (!sound._panner || !sound._panner.pan) {\n              setupPanner(sound, pannerType);\n            }\n\n            if (pannerType === 'spatial') {\n              if (typeof sound._panner.positionX !== 'undefined') {\n                sound._panner.positionX.setValueAtTime(pan, Howler.ctx.currentTime);\n                sound._panner.positionY.setValueAtTime(0, Howler.ctx.currentTime);\n                sound._panner.positionZ.setValueAtTime(0, Howler.ctx.currentTime);\n              } else {\n                sound._panner.setPosition(pan, 0, 0);\n              }\n            } else {\n              sound._panner.pan.setValueAtTime(pan, Howler.ctx.currentTime);\n            }\n          }\n\n          self._emit('stereo', sound._id);\n        } else {\n          return sound._stereo;\n        }\n      }\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the 3D spatial position of the audio source for this sound or group relative to the global listener.\n   * @param  {Number} x  The x-position of the audio source.\n   * @param  {Number} y  The y-position of the audio source.\n   * @param  {Number} z  The z-position of the audio source.\n   * @param  {Number} id (optional) The sound ID. If none is passed, all in group will be updated.\n   * @return {Howl/Array}    Returns self or the current 3D spatial position: [x, y, z].\n   */\n  Howl.prototype.pos = function(x, y, z, id) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self._webAudio) {\n      return self;\n    }\n\n    // If the sound hasn't loaded, add it to the load queue to change position when capable.\n    if (self._state !== 'loaded') {\n      self._queue.push({\n        event: 'pos',\n        action: function() {\n          self.pos(x, y, z, id);\n        }\n      });\n\n      return self;\n    }\n\n    // Set the defaults for optional 'y' & 'z'.\n    y = (typeof y !== 'number') ? 0 : y;\n    z = (typeof z !== 'number') ? -0.5 : z;\n\n    // Setup the group's spatial position if no ID is passed.\n    if (typeof id === 'undefined') {\n      // Return the group's spatial position if no parameters are passed.\n      if (typeof x === 'number') {\n        self._pos = [x, y, z];\n      } else {\n        return self._pos;\n      }\n    }\n\n    // Change the spatial position of one or all sounds in group.\n    var ids = self._getSoundIds(id);\n    for (var i=0; i<ids.length; i++) {\n      // Get the sound.\n      var sound = self._soundById(ids[i]);\n\n      if (sound) {\n        if (typeof x === 'number') {\n          sound._pos = [x, y, z];\n\n          if (sound._node) {\n            // Check if there is a panner setup and create a new one if not.\n            if (!sound._panner || sound._panner.pan) {\n              setupPanner(sound, 'spatial');\n            }\n\n            if (typeof sound._panner.positionX !== 'undefined') {\n              sound._panner.positionX.setValueAtTime(x, Howler.ctx.currentTime);\n              sound._panner.positionY.setValueAtTime(y, Howler.ctx.currentTime);\n              sound._panner.positionZ.setValueAtTime(z, Howler.ctx.currentTime);\n            } else {\n              sound._panner.setPosition(x, y, z);\n            }\n          }\n\n          self._emit('pos', sound._id);\n        } else {\n          return sound._pos;\n        }\n      }\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the direction the audio source is pointing in the 3D cartesian coordinate\n   * space. Depending on how direction the sound is, based on the `cone` attributes,\n   * a sound pointing away from the listener can be quiet or silent.\n   * @param  {Number} x  The x-orientation of the source.\n   * @param  {Number} y  The y-orientation of the source.\n   * @param  {Number} z  The z-orientation of the source.\n   * @param  {Number} id (optional) The sound ID. If none is passed, all in group will be updated.\n   * @return {Howl/Array}    Returns self or the current 3D spatial orientation: [x, y, z].\n   */\n  Howl.prototype.orientation = function(x, y, z, id) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self._webAudio) {\n      return self;\n    }\n\n    // If the sound hasn't loaded, add it to the load queue to change orientation when capable.\n    if (self._state !== 'loaded') {\n      self._queue.push({\n        event: 'orientation',\n        action: function() {\n          self.orientation(x, y, z, id);\n        }\n      });\n\n      return self;\n    }\n\n    // Set the defaults for optional 'y' & 'z'.\n    y = (typeof y !== 'number') ? self._orientation[1] : y;\n    z = (typeof z !== 'number') ? self._orientation[2] : z;\n\n    // Setup the group's spatial orientation if no ID is passed.\n    if (typeof id === 'undefined') {\n      // Return the group's spatial orientation if no parameters are passed.\n      if (typeof x === 'number') {\n        self._orientation = [x, y, z];\n      } else {\n        return self._orientation;\n      }\n    }\n\n    // Change the spatial orientation of one or all sounds in group.\n    var ids = self._getSoundIds(id);\n    for (var i=0; i<ids.length; i++) {\n      // Get the sound.\n      var sound = self._soundById(ids[i]);\n\n      if (sound) {\n        if (typeof x === 'number') {\n          sound._orientation = [x, y, z];\n\n          if (sound._node) {\n            // Check if there is a panner setup and create a new one if not.\n            if (!sound._panner) {\n              // Make sure we have a position to setup the node with.\n              if (!sound._pos) {\n                sound._pos = self._pos || [0, 0, -0.5];\n              }\n\n              setupPanner(sound, 'spatial');\n            }\n\n            if (typeof sound._panner.orientationX !== 'undefined') {\n              sound._panner.orientationX.setValueAtTime(x, Howler.ctx.currentTime);\n              sound._panner.orientationY.setValueAtTime(y, Howler.ctx.currentTime);\n              sound._panner.orientationZ.setValueAtTime(z, Howler.ctx.currentTime);\n            } else {\n              sound._panner.setOrientation(x, y, z);\n            }\n          }\n\n          self._emit('orientation', sound._id);\n        } else {\n          return sound._orientation;\n        }\n      }\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the panner node's attributes for a sound or group of sounds.\n   * This method can optionall take 0, 1 or 2 arguments.\n   *   pannerAttr() -> Returns the group's values.\n   *   pannerAttr(id) -> Returns the sound id's values.\n   *   pannerAttr(o) -> Set's the values of all sounds in this Howl group.\n   *   pannerAttr(o, id) -> Set's the values of passed sound id.\n   *\n   *   Attributes:\n   *     coneInnerAngle - (360 by default) A parameter for directional audio sources, this is an angle, in degrees,\n   *                      inside of which there will be no volume reduction.\n   *     coneOuterAngle - (360 by default) A parameter for directional audio sources, this is an angle, in degrees,\n   *                      outside of which the volume will be reduced to a constant value of `coneOuterGain`.\n   *     coneOuterGain - (0 by default) A parameter for directional audio sources, this is the gain outside of the\n   *                     `coneOuterAngle`. It is a linear value in the range `[0, 1]`.\n   *     distanceModel - ('inverse' by default) Determines algorithm used to reduce volume as audio moves away from\n   *                     listener. Can be `linear`, `inverse` or `exponential.\n   *     maxDistance - (10000 by default) The maximum distance between source and listener, after which the volume\n   *                   will not be reduced any further.\n   *     refDistance - (1 by default) A reference distance for reducing volume as source moves further from the listener.\n   *                   This is simply a variable of the distance model and has a different effect depending on which model\n   *                   is used and the scale of your coordinates. Generally, volume will be equal to 1 at this distance.\n   *     rolloffFactor - (1 by default) How quickly the volume reduces as source moves from listener. This is simply a\n   *                     variable of the distance model and can be in the range of `[0, 1]` with `linear` and `[0, \u221E]`\n   *                     with `inverse` and `exponential`.\n   *     panningModel - ('HRTF' by default) Determines which spatialization algorithm is used to position audio.\n   *                     Can be `HRTF` or `equalpower`.\n   *\n   * @return {Howl/Object} Returns self or current panner attributes.\n   */\n  Howl.prototype.pannerAttr = function() {\n    var self = this;\n    var args = arguments;\n    var o, id, sound;\n\n    // Stop right here if not using Web Audio.\n    if (!self._webAudio) {\n      return self;\n    }\n\n    // Determine the values based on arguments.\n    if (args.length === 0) {\n      // Return the group's panner attribute values.\n      return self._pannerAttr;\n    } else if (args.length === 1) {\n      if (typeof args[0] === 'object') {\n        o = args[0];\n\n        // Set the grou's panner attribute values.\n        if (typeof id === 'undefined') {\n          if (!o.pannerAttr) {\n            o.pannerAttr = {\n              coneInnerAngle: o.coneInnerAngle,\n              coneOuterAngle: o.coneOuterAngle,\n              coneOuterGain: o.coneOuterGain,\n              distanceModel: o.distanceModel,\n              maxDistance: o.maxDistance,\n              refDistance: o.refDistance,\n              rolloffFactor: o.rolloffFactor,\n              panningModel: o.panningModel\n            };\n          }\n\n          self._pannerAttr = {\n            coneInnerAngle: typeof o.pannerAttr.coneInnerAngle !== 'undefined' ? o.pannerAttr.coneInnerAngle : self._coneInnerAngle,\n            coneOuterAngle: typeof o.pannerAttr.coneOuterAngle !== 'undefined' ? o.pannerAttr.coneOuterAngle : self._coneOuterAngle,\n            coneOuterGain: typeof o.pannerAttr.coneOuterGain !== 'undefined' ? o.pannerAttr.coneOuterGain : self._coneOuterGain,\n            distanceModel: typeof o.pannerAttr.distanceModel !== 'undefined' ? o.pannerAttr.distanceModel : self._distanceModel,\n            maxDistance: typeof o.pannerAttr.maxDistance !== 'undefined' ? o.pannerAttr.maxDistance : self._maxDistance,\n            refDistance: typeof o.pannerAttr.refDistance !== 'undefined' ? o.pannerAttr.refDistance : self._refDistance,\n            rolloffFactor: typeof o.pannerAttr.rolloffFactor !== 'undefined' ? o.pannerAttr.rolloffFactor : self._rolloffFactor,\n            panningModel: typeof o.pannerAttr.panningModel !== 'undefined' ? o.pannerAttr.panningModel : self._panningModel\n          };\n        }\n      } else {\n        // Return this sound's panner attribute values.\n        sound = self._soundById(parseInt(args[0], 10));\n        return sound ? sound._pannerAttr : self._pannerAttr;\n      }\n    } else if (args.length === 2) {\n      o = args[0];\n      id = parseInt(args[1], 10);\n    }\n\n    // Update the values of the specified sounds.\n    var ids = self._getSoundIds(id);\n    for (var i=0; i<ids.length; i++) {\n      sound = self._soundById(ids[i]);\n\n      if (sound) {\n        // Merge the new values into the sound.\n        var pa = sound._pannerAttr;\n        pa = {\n          coneInnerAngle: typeof o.coneInnerAngle !== 'undefined' ? o.coneInnerAngle : pa.coneInnerAngle,\n          coneOuterAngle: typeof o.coneOuterAngle !== 'undefined' ? o.coneOuterAngle : pa.coneOuterAngle,\n          coneOuterGain: typeof o.coneOuterGain !== 'undefined' ? o.coneOuterGain : pa.coneOuterGain,\n          distanceModel: typeof o.distanceModel !== 'undefined' ? o.distanceModel : pa.distanceModel,\n          maxDistance: typeof o.maxDistance !== 'undefined' ? o.maxDistance : pa.maxDistance,\n          refDistance: typeof o.refDistance !== 'undefined' ? o.refDistance : pa.refDistance,\n          rolloffFactor: typeof o.rolloffFactor !== 'undefined' ? o.rolloffFactor : pa.rolloffFactor,\n          panningModel: typeof o.panningModel !== 'undefined' ? o.panningModel : pa.panningModel\n        };\n\n        // Update the panner values or create a new panner if none exists.\n        var panner = sound._panner;\n        if (panner) {\n          panner.coneInnerAngle = pa.coneInnerAngle;\n          panner.coneOuterAngle = pa.coneOuterAngle;\n          panner.coneOuterGain = pa.coneOuterGain;\n          panner.distanceModel = pa.distanceModel;\n          panner.maxDistance = pa.maxDistance;\n          panner.refDistance = pa.refDistance;\n          panner.rolloffFactor = pa.rolloffFactor;\n          panner.panningModel = pa.panningModel;\n        } else {\n          // Make sure we have a position to setup the node with.\n          if (!sound._pos) {\n            sound._pos = self._pos || [0, 0, -0.5];\n          }\n\n          // Create a new panner node.\n          setupPanner(sound, 'spatial');\n        }\n      }\n    }\n\n    return self;\n  };\n\n  /** Single Sound Methods **/\n  /***************************************************************************/\n\n  /**\n   * Add new properties to the core Sound init.\n   * @param  {Function} _super Core Sound init method.\n   * @return {Sound}\n   */\n  Sound.prototype.init = (function(_super) {\n    return function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Setup user-defined default properties.\n      self._orientation = parent._orientation;\n      self._stereo = parent._stereo;\n      self._pos = parent._pos;\n      self._pannerAttr = parent._pannerAttr;\n\n      // Complete initilization with howler.js core Sound's init function.\n      _super.call(this);\n\n      // If a stereo or position was specified, set it up.\n      if (self._stereo) {\n        parent.stereo(self._stereo);\n      } else if (self._pos) {\n        parent.pos(self._pos[0], self._pos[1], self._pos[2], self._id);\n      }\n    };\n  })(Sound.prototype.init);\n\n  /**\n   * Override the Sound.reset method to clean up properties from the spatial plugin.\n   * @param  {Function} _super Sound reset method.\n   * @return {Sound}\n   */\n  Sound.prototype.reset = (function(_super) {\n    return function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Reset all spatial plugin properties on this sound.\n      self._orientation = parent._orientation;\n      self._stereo = parent._stereo;\n      self._pos = parent._pos;\n      self._pannerAttr = parent._pannerAttr;\n\n      // If a stereo or position was specified, set it up.\n      if (self._stereo) {\n        parent.stereo(self._stereo);\n      } else if (self._pos) {\n        parent.pos(self._pos[0], self._pos[1], self._pos[2], self._id);\n      } else if (self._panner) {\n        // Disconnect the panner.\n        self._panner.disconnect(0);\n        self._panner = undefined;\n        parent._refreshBuffer(self);\n      }\n\n      // Complete resetting of the sound.\n      return _super.call(this);\n    };\n  })(Sound.prototype.reset);\n\n  /** Helper Methods **/\n  /***************************************************************************/\n\n  /**\n   * Create a new panner node and save it on the sound.\n   * @param  {Sound} sound Specific sound to setup panning on.\n   * @param {String} type Type of panner to create: 'stereo' or 'spatial'.\n   */\n  var setupPanner = function(sound, type) {\n    type = type || 'spatial';\n\n    // Create the new panner node.\n    if (type === 'spatial') {\n      sound._panner = Howler.ctx.createPanner();\n      sound._panner.coneInnerAngle = sound._pannerAttr.coneInnerAngle;\n      sound._panner.coneOuterAngle = sound._pannerAttr.coneOuterAngle;\n      sound._panner.coneOuterGain = sound._pannerAttr.coneOuterGain;\n      sound._panner.distanceModel = sound._pannerAttr.distanceModel;\n      sound._panner.maxDistance = sound._pannerAttr.maxDistance;\n      sound._panner.refDistance = sound._pannerAttr.refDistance;\n      sound._panner.rolloffFactor = sound._pannerAttr.rolloffFactor;\n      sound._panner.panningModel = sound._pannerAttr.panningModel;\n\n      if (typeof sound._panner.positionX !== 'undefined') {\n        sound._panner.positionX.setValueAtTime(sound._pos[0], Howler.ctx.currentTime);\n        sound._panner.positionY.setValueAtTime(sound._pos[1], Howler.ctx.currentTime);\n        sound._panner.positionZ.setValueAtTime(sound._pos[2], Howler.ctx.currentTime);\n      } else {\n        sound._panner.setPosition(sound._pos[0], sound._pos[1], sound._pos[2]);\n      }\n\n      if (typeof sound._panner.orientationX !== 'undefined') {\n        sound._panner.orientationX.setValueAtTime(sound._orientation[0], Howler.ctx.currentTime);\n        sound._panner.orientationY.setValueAtTime(sound._orientation[1], Howler.ctx.currentTime);\n        sound._panner.orientationZ.setValueAtTime(sound._orientation[2], Howler.ctx.currentTime);\n      } else {\n        sound._panner.setOrientation(sound._orientation[0], sound._orientation[1], sound._orientation[2]);\n      }\n    } else {\n      sound._panner = Howler.ctx.createStereoPanner();\n      sound._panner.pan.setValueAtTime(sound._stereo, Howler.ctx.currentTime);\n    }\n\n    sound._panner.connect(sound._node);\n\n    // Update the connections.\n    if (!sound._paused) {\n      sound._parent.pause(sound._id, true).play(sound._id, true);\n    }\n  };\n})();\n", "'use strict';\n\nmodule.exports = earcut;\nmodule.exports.default = earcut;\n\nfunction earcut(data, holeIndices, dim) {\n\n    dim = dim || 2;\n\n    var hasHoles = holeIndices && holeIndices.length,\n        outerLen = hasHoles ? holeIndices[0] * dim : data.length,\n        outerNode = linkedList(data, 0, outerLen, dim, true),\n        triangles = [];\n\n    if (!outerNode || outerNode.next === outerNode.prev) return triangles;\n\n    var minX, minY, maxX, maxY, x, y, invSize;\n\n    if (hasHoles) outerNode = eliminateHoles(data, holeIndices, outerNode, dim);\n\n    // if the shape is not too simple, we'll use z-order curve hash later; calculate polygon bbox\n    if (data.length > 80 * dim) {\n        minX = maxX = data[0];\n        minY = maxY = data[1];\n\n        for (var i = dim; i < outerLen; i += dim) {\n            x = data[i];\n            y = data[i + 1];\n            if (x < minX) minX = x;\n            if (y < minY) minY = y;\n            if (x > maxX) maxX = x;\n            if (y > maxY) maxY = y;\n        }\n\n        // minX, minY and invSize are later used to transform coords into integers for z-order calculation\n        invSize = Math.max(maxX - minX, maxY - minY);\n        invSize = invSize !== 0 ? 32767 / invSize : 0;\n    }\n\n    earcutLinked(outerNode, triangles, dim, minX, minY, invSize, 0);\n\n    return triangles;\n}\n\n// create a circular doubly linked list from polygon points in the specified winding order\nfunction linkedList(data, start, end, dim, clockwise) {\n    var i, last;\n\n    if (clockwise === (signedArea(data, start, end, dim) > 0)) {\n        for (i = start; i < end; i += dim) last = insertNode(i, data[i], data[i + 1], last);\n    } else {\n        for (i = end - dim; i >= start; i -= dim) last = insertNode(i, data[i], data[i + 1], last);\n    }\n\n    if (last && equals(last, last.next)) {\n        removeNode(last);\n        last = last.next;\n    }\n\n    return last;\n}\n\n// eliminate colinear or duplicate points\nfunction filterPoints(start, end) {\n    if (!start) return start;\n    if (!end) end = start;\n\n    var p = start,\n        again;\n    do {\n        again = false;\n\n        if (!p.steiner && (equals(p, p.next) || area(p.prev, p, p.next) === 0)) {\n            removeNode(p);\n            p = end = p.prev;\n            if (p === p.next) break;\n            again = true;\n\n        } else {\n            p = p.next;\n        }\n    } while (again || p !== end);\n\n    return end;\n}\n\n// main ear slicing loop which triangulates a polygon (given as a linked list)\nfunction earcutLinked(ear, triangles, dim, minX, minY, invSize, pass) {\n    if (!ear) return;\n\n    // interlink polygon nodes in z-order\n    if (!pass && invSize) indexCurve(ear, minX, minY, invSize);\n\n    var stop = ear,\n        prev, next;\n\n    // iterate through ears, slicing them one by one\n    while (ear.prev !== ear.next) {\n        prev = ear.prev;\n        next = ear.next;\n\n        if (invSize ? isEarHashed(ear, minX, minY, invSize) : isEar(ear)) {\n            // cut off the triangle\n            triangles.push(prev.i / dim | 0);\n            triangles.push(ear.i / dim | 0);\n            triangles.push(next.i / dim | 0);\n\n            removeNode(ear);\n\n            // skipping the next vertex leads to less sliver triangles\n            ear = next.next;\n            stop = next.next;\n\n            continue;\n        }\n\n        ear = next;\n\n        // if we looped through the whole remaining polygon and can't find any more ears\n        if (ear === stop) {\n            // try filtering points and slicing again\n            if (!pass) {\n                earcutLinked(filterPoints(ear), triangles, dim, minX, minY, invSize, 1);\n\n            // if this didn't work, try curing all small self-intersections locally\n            } else if (pass === 1) {\n                ear = cureLocalIntersections(filterPoints(ear), triangles, dim);\n                earcutLinked(ear, triangles, dim, minX, minY, invSize, 2);\n\n            // as a last resort, try splitting the remaining polygon into two\n            } else if (pass === 2) {\n                splitEarcut(ear, triangles, dim, minX, minY, invSize);\n            }\n\n            break;\n        }\n    }\n}\n\n// check whether a polygon node forms a valid ear with adjacent nodes\nfunction isEar(ear) {\n    var a = ear.prev,\n        b = ear,\n        c = ear.next;\n\n    if (area(a, b, c) >= 0) return false; // reflex, can't be an ear\n\n    // now make sure we don't have other points inside the potential ear\n    var ax = a.x, bx = b.x, cx = c.x, ay = a.y, by = b.y, cy = c.y;\n\n    // triangle bbox; min & max are calculated like this for speed\n    var x0 = ax < bx ? (ax < cx ? ax : cx) : (bx < cx ? bx : cx),\n        y0 = ay < by ? (ay < cy ? ay : cy) : (by < cy ? by : cy),\n        x1 = ax > bx ? (ax > cx ? ax : cx) : (bx > cx ? bx : cx),\n        y1 = ay > by ? (ay > cy ? ay : cy) : (by > cy ? by : cy);\n\n    var p = c.next;\n    while (p !== a) {\n        if (p.x >= x0 && p.x <= x1 && p.y >= y0 && p.y <= y1 &&\n            pointInTriangle(ax, ay, bx, by, cx, cy, p.x, p.y) &&\n            area(p.prev, p, p.next) >= 0) return false;\n        p = p.next;\n    }\n\n    return true;\n}\n\nfunction isEarHashed(ear, minX, minY, invSize) {\n    var a = ear.prev,\n        b = ear,\n        c = ear.next;\n\n    if (area(a, b, c) >= 0) return false; // reflex, can't be an ear\n\n    var ax = a.x, bx = b.x, cx = c.x, ay = a.y, by = b.y, cy = c.y;\n\n    // triangle bbox; min & max are calculated like this for speed\n    var x0 = ax < bx ? (ax < cx ? ax : cx) : (bx < cx ? bx : cx),\n        y0 = ay < by ? (ay < cy ? ay : cy) : (by < cy ? by : cy),\n        x1 = ax > bx ? (ax > cx ? ax : cx) : (bx > cx ? bx : cx),\n        y1 = ay > by ? (ay > cy ? ay : cy) : (by > cy ? by : cy);\n\n    // z-order range for the current triangle bbox;\n    var minZ = zOrder(x0, y0, minX, minY, invSize),\n        maxZ = zOrder(x1, y1, minX, minY, invSize);\n\n    var p = ear.prevZ,\n        n = ear.nextZ;\n\n    // look for points inside the triangle in both directions\n    while (p && p.z >= minZ && n && n.z <= maxZ) {\n        if (p.x >= x0 && p.x <= x1 && p.y >= y0 && p.y <= y1 && p !== a && p !== c &&\n            pointInTriangle(ax, ay, bx, by, cx, cy, p.x, p.y) && area(p.prev, p, p.next) >= 0) return false;\n        p = p.prevZ;\n\n        if (n.x >= x0 && n.x <= x1 && n.y >= y0 && n.y <= y1 && n !== a && n !== c &&\n            pointInTriangle(ax, ay, bx, by, cx, cy, n.x, n.y) && area(n.prev, n, n.next) >= 0) return false;\n        n = n.nextZ;\n    }\n\n    // look for remaining points in decreasing z-order\n    while (p && p.z >= minZ) {\n        if (p.x >= x0 && p.x <= x1 && p.y >= y0 && p.y <= y1 && p !== a && p !== c &&\n            pointInTriangle(ax, ay, bx, by, cx, cy, p.x, p.y) && area(p.prev, p, p.next) >= 0) return false;\n        p = p.prevZ;\n    }\n\n    // look for remaining points in increasing z-order\n    while (n && n.z <= maxZ) {\n        if (n.x >= x0 && n.x <= x1 && n.y >= y0 && n.y <= y1 && n !== a && n !== c &&\n            pointInTriangle(ax, ay, bx, by, cx, cy, n.x, n.y) && area(n.prev, n, n.next) >= 0) return false;\n        n = n.nextZ;\n    }\n\n    return true;\n}\n\n// go through all polygon nodes and cure small local self-intersections\nfunction cureLocalIntersections(start, triangles, dim) {\n    var p = start;\n    do {\n        var a = p.prev,\n            b = p.next.next;\n\n        if (!equals(a, b) && intersects(a, p, p.next, b) && locallyInside(a, b) && locallyInside(b, a)) {\n\n            triangles.push(a.i / dim | 0);\n            triangles.push(p.i / dim | 0);\n            triangles.push(b.i / dim | 0);\n\n            // remove two nodes involved\n            removeNode(p);\n            removeNode(p.next);\n\n            p = start = b;\n        }\n        p = p.next;\n    } while (p !== start);\n\n    return filterPoints(p);\n}\n\n// try splitting polygon into two and triangulate them independently\nfunction splitEarcut(start, triangles, dim, minX, minY, invSize) {\n    // look for a valid diagonal that divides the polygon into two\n    var a = start;\n    do {\n        var b = a.next.next;\n        while (b !== a.prev) {\n            if (a.i !== b.i && isValidDiagonal(a, b)) {\n                // split the polygon in two by the diagonal\n                var c = splitPolygon(a, b);\n\n                // filter colinear points around the cuts\n                a = filterPoints(a, a.next);\n                c = filterPoints(c, c.next);\n\n                // run earcut on each half\n                earcutLinked(a, triangles, dim, minX, minY, invSize, 0);\n                earcutLinked(c, triangles, dim, minX, minY, invSize, 0);\n                return;\n            }\n            b = b.next;\n        }\n        a = a.next;\n    } while (a !== start);\n}\n\n// link every hole into the outer loop, producing a single-ring polygon without holes\nfunction eliminateHoles(data, holeIndices, outerNode, dim) {\n    var queue = [],\n        i, len, start, end, list;\n\n    for (i = 0, len = holeIndices.length; i < len; i++) {\n        start = holeIndices[i] * dim;\n        end = i < len - 1 ? holeIndices[i + 1] * dim : data.length;\n        list = linkedList(data, start, end, dim, false);\n        if (list === list.next) list.steiner = true;\n        queue.push(getLeftmost(list));\n    }\n\n    queue.sort(compareX);\n\n    // process holes from left to right\n    for (i = 0; i < queue.length; i++) {\n        outerNode = eliminateHole(queue[i], outerNode);\n    }\n\n    return outerNode;\n}\n\nfunction compareX(a, b) {\n    return a.x - b.x;\n}\n\n// find a bridge between vertices that connects hole with an outer ring and and link it\nfunction eliminateHole(hole, outerNode) {\n    var bridge = findHoleBridge(hole, outerNode);\n    if (!bridge) {\n        return outerNode;\n    }\n\n    var bridgeReverse = splitPolygon(bridge, hole);\n\n    // filter collinear points around the cuts\n    filterPoints(bridgeReverse, bridgeReverse.next);\n    return filterPoints(bridge, bridge.next);\n}\n\n// David Eberly's algorithm for finding a bridge between hole and outer polygon\nfunction findHoleBridge(hole, outerNode) {\n    var p = outerNode,\n        hx = hole.x,\n        hy = hole.y,\n        qx = -Infinity,\n        m;\n\n    // find a segment intersected by a ray from the hole's leftmost point to the left;\n    // segment's endpoint with lesser x will be potential connection point\n    do {\n        if (hy <= p.y && hy >= p.next.y && p.next.y !== p.y) {\n            var x = p.x + (hy - p.y) * (p.next.x - p.x) / (p.next.y - p.y);\n            if (x <= hx && x > qx) {\n                qx = x;\n                m = p.x < p.next.x ? p : p.next;\n                if (x === hx) return m; // hole touches outer segment; pick leftmost endpoint\n            }\n        }\n        p = p.next;\n    } while (p !== outerNode);\n\n    if (!m) return null;\n\n    // look for points inside the triangle of hole point, segment intersection and endpoint;\n    // if there are no points found, we have a valid connection;\n    // otherwise choose the point of the minimum angle with the ray as connection point\n\n    var stop = m,\n        mx = m.x,\n        my = m.y,\n        tanMin = Infinity,\n        tan;\n\n    p = m;\n\n    do {\n        if (hx >= p.x && p.x >= mx && hx !== p.x &&\n                pointInTriangle(hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y)) {\n\n            tan = Math.abs(hy - p.y) / (hx - p.x); // tangential\n\n            if (locallyInside(p, hole) &&\n                (tan < tanMin || (tan === tanMin && (p.x > m.x || (p.x === m.x && sectorContainsSector(m, p)))))) {\n                m = p;\n                tanMin = tan;\n            }\n        }\n\n        p = p.next;\n    } while (p !== stop);\n\n    return m;\n}\n\n// whether sector in vertex m contains sector in vertex p in the same coordinates\nfunction sectorContainsSector(m, p) {\n    return area(m.prev, m, p.prev) < 0 && area(p.next, m, m.next) < 0;\n}\n\n// interlink polygon nodes in z-order\nfunction indexCurve(start, minX, minY, invSize) {\n    var p = start;\n    do {\n        if (p.z === 0) p.z = zOrder(p.x, p.y, minX, minY, invSize);\n        p.prevZ = p.prev;\n        p.nextZ = p.next;\n        p = p.next;\n    } while (p !== start);\n\n    p.prevZ.nextZ = null;\n    p.prevZ = null;\n\n    sortLinked(p);\n}\n\n// Simon Tatham's linked list merge sort algorithm\n// http://www.chiark.greenend.org.uk/~sgtatham/algorithms/listsort.html\nfunction sortLinked(list) {\n    var i, p, q, e, tail, numMerges, pSize, qSize,\n        inSize = 1;\n\n    do {\n        p = list;\n        list = null;\n        tail = null;\n        numMerges = 0;\n\n        while (p) {\n            numMerges++;\n            q = p;\n            pSize = 0;\n            for (i = 0; i < inSize; i++) {\n                pSize++;\n                q = q.nextZ;\n                if (!q) break;\n            }\n            qSize = inSize;\n\n            while (pSize > 0 || (qSize > 0 && q)) {\n\n                if (pSize !== 0 && (qSize === 0 || !q || p.z <= q.z)) {\n                    e = p;\n                    p = p.nextZ;\n                    pSize--;\n                } else {\n                    e = q;\n                    q = q.nextZ;\n                    qSize--;\n                }\n\n                if (tail) tail.nextZ = e;\n                else list = e;\n\n                e.prevZ = tail;\n                tail = e;\n            }\n\n            p = q;\n        }\n\n        tail.nextZ = null;\n        inSize *= 2;\n\n    } while (numMerges > 1);\n\n    return list;\n}\n\n// z-order of a point given coords and inverse of the longer side of data bbox\nfunction zOrder(x, y, minX, minY, invSize) {\n    // coords are transformed into non-negative 15-bit integer range\n    x = (x - minX) * invSize | 0;\n    y = (y - minY) * invSize | 0;\n\n    x = (x | (x << 8)) & 0x00FF00FF;\n    x = (x | (x << 4)) & 0x0F0F0F0F;\n    x = (x | (x << 2)) & 0x33333333;\n    x = (x | (x << 1)) & 0x55555555;\n\n    y = (y | (y << 8)) & 0x00FF00FF;\n    y = (y | (y << 4)) & 0x0F0F0F0F;\n    y = (y | (y << 2)) & 0x33333333;\n    y = (y | (y << 1)) & 0x55555555;\n\n    return x | (y << 1);\n}\n\n// find the leftmost node of a polygon ring\nfunction getLeftmost(start) {\n    var p = start,\n        leftmost = start;\n    do {\n        if (p.x < leftmost.x || (p.x === leftmost.x && p.y < leftmost.y)) leftmost = p;\n        p = p.next;\n    } while (p !== start);\n\n    return leftmost;\n}\n\n// check if a point lies within a convex triangle\nfunction pointInTriangle(ax, ay, bx, by, cx, cy, px, py) {\n    return (cx - px) * (ay - py) >= (ax - px) * (cy - py) &&\n           (ax - px) * (by - py) >= (bx - px) * (ay - py) &&\n           (bx - px) * (cy - py) >= (cx - px) * (by - py);\n}\n\n// check if a diagonal between two polygon nodes is valid (lies in polygon interior)\nfunction isValidDiagonal(a, b) {\n    return a.next.i !== b.i && a.prev.i !== b.i && !intersectsPolygon(a, b) && // dones't intersect other edges\n           (locallyInside(a, b) && locallyInside(b, a) && middleInside(a, b) && // locally visible\n            (area(a.prev, a, b.prev) || area(a, b.prev, b)) || // does not create opposite-facing sectors\n            equals(a, b) && area(a.prev, a, a.next) > 0 && area(b.prev, b, b.next) > 0); // special zero-length case\n}\n\n// signed area of a triangle\nfunction area(p, q, r) {\n    return (q.y - p.y) * (r.x - q.x) - (q.x - p.x) * (r.y - q.y);\n}\n\n// check if two points are equal\nfunction equals(p1, p2) {\n    return p1.x === p2.x && p1.y === p2.y;\n}\n\n// check if two segments intersect\nfunction intersects(p1, q1, p2, q2) {\n    var o1 = sign(area(p1, q1, p2));\n    var o2 = sign(area(p1, q1, q2));\n    var o3 = sign(area(p2, q2, p1));\n    var o4 = sign(area(p2, q2, q1));\n\n    if (o1 !== o2 && o3 !== o4) return true; // general case\n\n    if (o1 === 0 && onSegment(p1, p2, q1)) return true; // p1, q1 and p2 are collinear and p2 lies on p1q1\n    if (o2 === 0 && onSegment(p1, q2, q1)) return true; // p1, q1 and q2 are collinear and q2 lies on p1q1\n    if (o3 === 0 && onSegment(p2, p1, q2)) return true; // p2, q2 and p1 are collinear and p1 lies on p2q2\n    if (o4 === 0 && onSegment(p2, q1, q2)) return true; // p2, q2 and q1 are collinear and q1 lies on p2q2\n\n    return false;\n}\n\n// for collinear points p, q, r, check if point q lies on segment pr\nfunction onSegment(p, q, r) {\n    return q.x <= Math.max(p.x, r.x) && q.x >= Math.min(p.x, r.x) && q.y <= Math.max(p.y, r.y) && q.y >= Math.min(p.y, r.y);\n}\n\nfunction sign(num) {\n    return num > 0 ? 1 : num < 0 ? -1 : 0;\n}\n\n// check if a polygon diagonal intersects any polygon segments\nfunction intersectsPolygon(a, b) {\n    var p = a;\n    do {\n        if (p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i &&\n                intersects(p, p.next, a, b)) return true;\n        p = p.next;\n    } while (p !== a);\n\n    return false;\n}\n\n// check if a polygon diagonal is locally inside the polygon\nfunction locallyInside(a, b) {\n    return area(a.prev, a, a.next) < 0 ?\n        area(a, b, a.next) >= 0 && area(a, a.prev, b) >= 0 :\n        area(a, b, a.prev) < 0 || area(a, a.next, b) < 0;\n}\n\n// check if the middle point of a polygon diagonal is inside the polygon\nfunction middleInside(a, b) {\n    var p = a,\n        inside = false,\n        px = (a.x + b.x) / 2,\n        py = (a.y + b.y) / 2;\n    do {\n        if (((p.y > py) !== (p.next.y > py)) && p.next.y !== p.y &&\n                (px < (p.next.x - p.x) * (py - p.y) / (p.next.y - p.y) + p.x))\n            inside = !inside;\n        p = p.next;\n    } while (p !== a);\n\n    return inside;\n}\n\n// link two polygon vertices with a bridge; if the vertices belong to the same ring, it splits polygon into two;\n// if one belongs to the outer ring and another to a hole, it merges it into a single ring\nfunction splitPolygon(a, b) {\n    var a2 = new Node(a.i, a.x, a.y),\n        b2 = new Node(b.i, b.x, b.y),\n        an = a.next,\n        bp = b.prev;\n\n    a.next = b;\n    b.prev = a;\n\n    a2.next = an;\n    an.prev = a2;\n\n    b2.next = a2;\n    a2.prev = b2;\n\n    bp.next = b2;\n    b2.prev = bp;\n\n    return b2;\n}\n\n// create a node and optionally link it with previous one (in a circular doubly linked list)\nfunction insertNode(i, x, y, last) {\n    var p = new Node(i, x, y);\n\n    if (!last) {\n        p.prev = p;\n        p.next = p;\n\n    } else {\n        p.next = last.next;\n        p.prev = last;\n        last.next.prev = p;\n        last.next = p;\n    }\n    return p;\n}\n\nfunction removeNode(p) {\n    p.next.prev = p.prev;\n    p.prev.next = p.next;\n\n    if (p.prevZ) p.prevZ.nextZ = p.nextZ;\n    if (p.nextZ) p.nextZ.prevZ = p.prevZ;\n}\n\nfunction Node(i, x, y) {\n    // vertex index in coordinates array\n    this.i = i;\n\n    // vertex coordinates\n    this.x = x;\n    this.y = y;\n\n    // previous and next vertex nodes in a polygon ring\n    this.prev = null;\n    this.next = null;\n\n    // z-order curve value\n    this.z = 0;\n\n    // previous and next nodes in z-order\n    this.prevZ = null;\n    this.nextZ = null;\n\n    // indicates whether this is a steiner point\n    this.steiner = false;\n}\n\n// return a percentage difference between the polygon area and its triangulation area;\n// used to verify correctness of triangulation\nearcut.deviation = function (data, holeIndices, dim, triangles) {\n    var hasHoles = holeIndices && holeIndices.length;\n    var outerLen = hasHoles ? holeIndices[0] * dim : data.length;\n\n    var polygonArea = Math.abs(signedArea(data, 0, outerLen, dim));\n    if (hasHoles) {\n        for (var i = 0, len = holeIndices.length; i < len; i++) {\n            var start = holeIndices[i] * dim;\n            var end = i < len - 1 ? holeIndices[i + 1] * dim : data.length;\n            polygonArea -= Math.abs(signedArea(data, start, end, dim));\n        }\n    }\n\n    var trianglesArea = 0;\n    for (i = 0; i < triangles.length; i += 3) {\n        var a = triangles[i] * dim;\n        var b = triangles[i + 1] * dim;\n        var c = triangles[i + 2] * dim;\n        trianglesArea += Math.abs(\n            (data[a] - data[c]) * (data[b + 1] - data[a + 1]) -\n            (data[a] - data[b]) * (data[c + 1] - data[a + 1]));\n    }\n\n    return polygonArea === 0 && trianglesArea === 0 ? 0 :\n        Math.abs((trianglesArea - polygonArea) / polygonArea);\n};\n\nfunction signedArea(data, start, end, dim) {\n    var sum = 0;\n    for (var i = start, j = end - dim; i < end; i += dim) {\n        sum += (data[j] - data[i]) * (data[i + 1] + data[j + 1]);\n        j = i;\n    }\n    return sum;\n}\n\n// turn a polygon in a multi-dimensional array form (e.g. as in GeoJSON) into a form Earcut accepts\nearcut.flatten = function (data) {\n    var dim = data[0][0].length,\n        result = {vertices: [], holes: [], dimensions: dim},\n        holeIndex = 0;\n\n    for (var i = 0; i < data.length; i++) {\n        for (var j = 0; j < data[i].length; j++) {\n            for (var d = 0; d < dim; d++) result.vertices.push(data[i][j][d]);\n        }\n        if (i > 0) {\n            holeIndex += data[i - 1].length;\n            result.holes.push(holeIndex);\n        }\n    }\n    return result;\n};\n", "/*\r\n * Copyright 2017 Google Inc. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *     http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nconst PRIVATE = Symbol('@@webxr-polyfill/EventTarget');\r\n\r\nexport default class EventTarget {\r\n  constructor() {\r\n    this[PRIVATE] = {\r\n      listeners: new Map(),\r\n    };\r\n  }\r\n\r\n  /**\r\n   * @param {string} type\r\n   * @param {Function} listener\r\n   */\r\n  addEventListener(type, listener) {\r\n    if (typeof type !== 'string') { throw new Error('`type` must be a string'); }\r\n    if (typeof listener !== 'function') { throw new Error('`listener` must be a function'); }\r\n\r\n    const typedListeners = this[PRIVATE].listeners.get(type) || [];\r\n    typedListeners.push(listener);\r\n    this[PRIVATE].listeners.set(type, typedListeners);\r\n  }\r\n\r\n  /**\r\n   * @param {string} type\r\n   * @param {Function} listener\r\n   */\r\n  removeEventListener(type, listener) {\r\n    if (typeof type !== 'string') { throw new Error('`type` must be a string'); }\r\n    if (typeof listener !== 'function') { throw new Error('`listener` must be a function'); }\r\n\r\n    const typedListeners = this[PRIVATE].listeners.get(type) || [];\r\n\r\n    for (let i = typedListeners.length; i >= 0; i--) {\r\n      if (typedListeners[i] === listener) {\r\n        typedListeners.pop();\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param {string} type\r\n   * @param {object} event\r\n   */\r\n  dispatchEvent(type, event) {\r\n    const typedListeners = this[PRIVATE].listeners.get(type) || [];\r\n\r\n    // Copy over all the listeners because a callback could remove\r\n    // an event listener, preventing all listeners from firing when\r\n    // the event was first dispatched.\r\n    const queue = [];\r\n    for (let i = 0; i < typedListeners.length; i++) {\r\n      queue[i] = typedListeners[i];\r\n    }\r\n\r\n    for (let listener of queue) {\r\n      listener(event);\r\n    }\r\n\r\n    // Also fire if this EventTarget has an `on${EVENT_TYPE}` property\r\n    // that's a function\r\n    if (typeof this[`on${type}`] === 'function') {\r\n      this[`on${type}`](event);\r\n    }\r\n  }\r\n}\r\n", "/**\n * Common utilities\n * @module glMatrix\n */\n\n// Configuration Constants\nexport const EPSILON = 0.000001;\nexport let ARRAY_TYPE = (typeof Float32Array !== 'undefined') ? Float32Array : Array;\nexport const RANDOM = Math.random;\n\n/**\n * Sets the type of array used when creating new vectors and matrices\n *\n * @param {Type} type Array type, such as Float32Array or Array\n */\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\n\nconst degree = Math.PI / 180;\n\n/**\n * Convert Degree To Radian\n *\n * @param {Number} a Angle in Degrees\n */\nexport function toRadian(a) {\n  return a * degree;\n}\n\n/**\n * Tests whether or not the arguments have approximately the same value, within an absolute\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\n * than or equal to 1.0, and a relative tolerance is used for larger values)\n *\n * @param {Number} a The first number to test.\n * @param {Number} b The second number to test.\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\n */\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON*Math.max(1.0, Math.abs(a), Math.abs(b));\n}\n", "import * as glMatrix from \"./common.js\";\n\n/**\n * 4x4 Matrix<br>Format: column-major, when typed out it looks like row-major<br>The matrices are being post multiplied.\n * @module mat4\n */\n\n/**\n * Creates a new identity mat4\n *\n * @returns {mat4} a new 4x4 matrix\n */\nexport function create() {\n  let out = new glMatrix.ARRAY_TYPE(16);\n  if(glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n  }\n  out[0] = 1;\n  out[5] = 1;\n  out[10] = 1;\n  out[15] = 1;\n  return out;\n}\n\n/**\n * Creates a new mat4 initialized with values from an existing matrix\n *\n * @param {mat4} a matrix to clone\n * @returns {mat4} a new 4x4 matrix\n */\nexport function clone(a) {\n  let out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n\n/**\n * Copy the values from one mat4 to another\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the source matrix\n * @returns {mat4} out\n */\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n\n/**\n * Create a new mat4 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\n * @returns {mat4} A new mat4\n */\nexport function fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  let out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n\n/**\n * Set the components of a mat4 to the given values\n *\n * @param {mat4} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\n * @returns {mat4} out\n */\nexport function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n\n\n/**\n * Set a mat4 to the identity matrix\n *\n * @param {mat4} out the receiving matrix\n * @returns {mat4} out\n */\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n\n/**\n * Transpose the values of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the source matrix\n * @returns {mat4} out\n */\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    let a01 = a[1], a02 = a[2], a03 = a[3];\n    let a12 = a[6], a13 = a[7];\n    let a23 = a[11];\n\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a01;\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a02;\n    out[9] = a12;\n    out[11] = a[14];\n    out[12] = a03;\n    out[13] = a13;\n    out[14] = a23;\n  } else {\n    out[0] = a[0];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a[1];\n    out[5] = a[5];\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a[2];\n    out[9] = a[6];\n    out[10] = a[10];\n    out[11] = a[14];\n    out[12] = a[3];\n    out[13] = a[7];\n    out[14] = a[11];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n\n/**\n * Inverts a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the source matrix\n * @returns {mat4} out\n */\nexport function invert(out, a) {\n  let a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3];\n  let a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7];\n  let a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11];\n  let a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];\n\n  let b00 = a00 * a11 - a01 * a10;\n  let b01 = a00 * a12 - a02 * a10;\n  let b02 = a00 * a13 - a03 * a10;\n  let b03 = a01 * a12 - a02 * a11;\n  let b04 = a01 * a13 - a03 * a11;\n  let b05 = a02 * a13 - a03 * a12;\n  let b06 = a20 * a31 - a21 * a30;\n  let b07 = a20 * a32 - a22 * a30;\n  let b08 = a20 * a33 - a23 * a30;\n  let b09 = a21 * a32 - a22 * a31;\n  let b10 = a21 * a33 - a23 * a31;\n  let b11 = a22 * a33 - a23 * a32;\n\n  // Calculate the determinant\n  let det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n  det = 1.0 / det;\n\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n\n  return out;\n}\n\n/**\n * Calculates the adjugate of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the source matrix\n * @returns {mat4} out\n */\nexport function adjoint(out, a) {\n  let a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3];\n  let a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7];\n  let a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11];\n  let a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];\n\n  out[0]  =  (a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22));\n  out[1]  = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));\n  out[2]  =  (a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12));\n  out[3]  = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));\n  out[4]  = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));\n  out[5]  =  (a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22));\n  out[6]  = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));\n  out[7]  =  (a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12));\n  out[8]  =  (a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21));\n  out[9]  = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));\n  out[10] =  (a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11));\n  out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));\n  out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));\n  out[13] =  (a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21));\n  out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));\n  out[15] =  (a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11));\n  return out;\n}\n\n/**\n * Calculates the determinant of a mat4\n *\n * @param {mat4} a the source matrix\n * @returns {Number} determinant of a\n */\nexport function determinant(a) {\n  let a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3];\n  let a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7];\n  let a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11];\n  let a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];\n\n  let b00 = a00 * a11 - a01 * a10;\n  let b01 = a00 * a12 - a02 * a10;\n  let b02 = a00 * a13 - a03 * a10;\n  let b03 = a01 * a12 - a02 * a11;\n  let b04 = a01 * a13 - a03 * a11;\n  let b05 = a02 * a13 - a03 * a12;\n  let b06 = a20 * a31 - a21 * a30;\n  let b07 = a20 * a32 - a22 * a30;\n  let b08 = a20 * a33 - a23 * a30;\n  let b09 = a21 * a32 - a22 * a31;\n  let b10 = a21 * a33 - a23 * a31;\n  let b11 = a22 * a33 - a23 * a32;\n\n  // Calculate the determinant\n  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n}\n\n/**\n * Multiplies two mat4s\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the first operand\n * @param {mat4} b the second operand\n * @returns {mat4} out\n */\nexport function multiply(out, a, b) {\n  let a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3];\n  let a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7];\n  let a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11];\n  let a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];\n\n  // Cache only the current line of the second matrix\n  let b0  = b[0], b1 = b[1], b2 = b[2], b3 = b[3];\n  out[0] = b0*a00 + b1*a10 + b2*a20 + b3*a30;\n  out[1] = b0*a01 + b1*a11 + b2*a21 + b3*a31;\n  out[2] = b0*a02 + b1*a12 + b2*a22 + b3*a32;\n  out[3] = b0*a03 + b1*a13 + b2*a23 + b3*a33;\n\n  b0 = b[4]; b1 = b[5]; b2 = b[6]; b3 = b[7];\n  out[4] = b0*a00 + b1*a10 + b2*a20 + b3*a30;\n  out[5] = b0*a01 + b1*a11 + b2*a21 + b3*a31;\n  out[6] = b0*a02 + b1*a12 + b2*a22 + b3*a32;\n  out[7] = b0*a03 + b1*a13 + b2*a23 + b3*a33;\n\n  b0 = b[8]; b1 = b[9]; b2 = b[10]; b3 = b[11];\n  out[8] = b0*a00 + b1*a10 + b2*a20 + b3*a30;\n  out[9] = b0*a01 + b1*a11 + b2*a21 + b3*a31;\n  out[10] = b0*a02 + b1*a12 + b2*a22 + b3*a32;\n  out[11] = b0*a03 + b1*a13 + b2*a23 + b3*a33;\n\n  b0 = b[12]; b1 = b[13]; b2 = b[14]; b3 = b[15];\n  out[12] = b0*a00 + b1*a10 + b2*a20 + b3*a30;\n  out[13] = b0*a01 + b1*a11 + b2*a21 + b3*a31;\n  out[14] = b0*a02 + b1*a12 + b2*a22 + b3*a32;\n  out[15] = b0*a03 + b1*a13 + b2*a23 + b3*a33;\n  return out;\n}\n\n/**\n * Translate a mat4 by the given vector\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to translate\n * @param {vec3} v vector to translate by\n * @returns {mat4} out\n */\nexport function translate(out, a, v) {\n  let x = v[0], y = v[1], z = v[2];\n  let a00, a01, a02, a03;\n  let a10, a11, a12, a13;\n  let a20, a21, a22, a23;\n\n  if (a === out) {\n    out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n    out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n    out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n    out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n  } else {\n    a00 = a[0]; a01 = a[1]; a02 = a[2]; a03 = a[3];\n    a10 = a[4]; a11 = a[5]; a12 = a[6]; a13 = a[7];\n    a20 = a[8]; a21 = a[9]; a22 = a[10]; a23 = a[11];\n\n    out[0] = a00; out[1] = a01; out[2] = a02; out[3] = a03;\n    out[4] = a10; out[5] = a11; out[6] = a12; out[7] = a13;\n    out[8] = a20; out[9] = a21; out[10] = a22; out[11] = a23;\n\n    out[12] = a00 * x + a10 * y + a20 * z + a[12];\n    out[13] = a01 * x + a11 * y + a21 * z + a[13];\n    out[14] = a02 * x + a12 * y + a22 * z + a[14];\n    out[15] = a03 * x + a13 * y + a23 * z + a[15];\n  }\n\n  return out;\n}\n\n/**\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to scale\n * @param {vec3} v the vec3 to scale the matrix by\n * @returns {mat4} out\n **/\nexport function scale(out, a, v) {\n  let x = v[0], y = v[1], z = v[2];\n\n  out[0] = a[0] * x;\n  out[1] = a[1] * x;\n  out[2] = a[2] * x;\n  out[3] = a[3] * x;\n  out[4] = a[4] * y;\n  out[5] = a[5] * y;\n  out[6] = a[6] * y;\n  out[7] = a[7] * y;\n  out[8] = a[8] * z;\n  out[9] = a[9] * z;\n  out[10] = a[10] * z;\n  out[11] = a[11] * z;\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n\n/**\n * Rotates a mat4 by the given angle around the given axis\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @param {vec3} axis the axis to rotate around\n * @returns {mat4} out\n */\nexport function rotate(out, a, rad, axis) {\n  let x = axis[0], y = axis[1], z = axis[2];\n  let len = Math.sqrt(x * x + y * y + z * z);\n  let s, c, t;\n  let a00, a01, a02, a03;\n  let a10, a11, a12, a13;\n  let a20, a21, a22, a23;\n  let b00, b01, b02;\n  let b10, b11, b12;\n  let b20, b21, b22;\n\n  if (len < glMatrix.EPSILON) { return null; }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c;\n\n  a00 = a[0]; a01 = a[1]; a02 = a[2]; a03 = a[3];\n  a10 = a[4]; a11 = a[5]; a12 = a[6]; a13 = a[7];\n  a20 = a[8]; a21 = a[9]; a22 = a[10]; a23 = a[11];\n\n  // Construct the elements of the rotation matrix\n  b00 = x * x * t + c; b01 = y * x * t + z * s; b02 = z * x * t - y * s;\n  b10 = x * y * t - z * s; b11 = y * y * t + c; b12 = z * y * t + x * s;\n  b20 = x * z * t + y * s; b21 = y * z * t - x * s; b22 = z * z * t + c;\n\n  // Perform rotation-specific matrix multiplication\n  out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n  out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n  out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n  out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n  out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n  out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n  out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n  out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n  out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n  out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n  out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n  out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n  if (a !== out) { // If the source and destination differ, copy the unchanged last row\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n  return out;\n}\n\n/**\n * Rotates a matrix by the given angle around the X axis\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\nexport function rotateX(out, a, rad) {\n  let s = Math.sin(rad);\n  let c = Math.cos(rad);\n  let a10 = a[4];\n  let a11 = a[5];\n  let a12 = a[6];\n  let a13 = a[7];\n  let a20 = a[8];\n  let a21 = a[9];\n  let a22 = a[10];\n  let a23 = a[11];\n\n  if (a !== out) { // If the source and destination differ, copy the unchanged rows\n    out[0]  = a[0];\n    out[1]  = a[1];\n    out[2]  = a[2];\n    out[3]  = a[3];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n\n  // Perform axis-specific matrix multiplication\n  out[4] = a10 * c + a20 * s;\n  out[5] = a11 * c + a21 * s;\n  out[6] = a12 * c + a22 * s;\n  out[7] = a13 * c + a23 * s;\n  out[8] = a20 * c - a10 * s;\n  out[9] = a21 * c - a11 * s;\n  out[10] = a22 * c - a12 * s;\n  out[11] = a23 * c - a13 * s;\n  return out;\n}\n\n/**\n * Rotates a matrix by the given angle around the Y axis\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\nexport function rotateY(out, a, rad) {\n  let s = Math.sin(rad);\n  let c = Math.cos(rad);\n  let a00 = a[0];\n  let a01 = a[1];\n  let a02 = a[2];\n  let a03 = a[3];\n  let a20 = a[8];\n  let a21 = a[9];\n  let a22 = a[10];\n  let a23 = a[11];\n\n  if (a !== out) { // If the source and destination differ, copy the unchanged rows\n    out[4]  = a[4];\n    out[5]  = a[5];\n    out[6]  = a[6];\n    out[7]  = a[7];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n\n  // Perform axis-specific matrix multiplication\n  out[0] = a00 * c - a20 * s;\n  out[1] = a01 * c - a21 * s;\n  out[2] = a02 * c - a22 * s;\n  out[3] = a03 * c - a23 * s;\n  out[8] = a00 * s + a20 * c;\n  out[9] = a01 * s + a21 * c;\n  out[10] = a02 * s + a22 * c;\n  out[11] = a03 * s + a23 * c;\n  return out;\n}\n\n/**\n * Rotates a matrix by the given angle around the Z axis\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\nexport function rotateZ(out, a, rad) {\n  let s = Math.sin(rad);\n  let c = Math.cos(rad);\n  let a00 = a[0];\n  let a01 = a[1];\n  let a02 = a[2];\n  let a03 = a[3];\n  let a10 = a[4];\n  let a11 = a[5];\n  let a12 = a[6];\n  let a13 = a[7];\n\n  if (a !== out) { // If the source and destination differ, copy the unchanged last row\n    out[8]  = a[8];\n    out[9]  = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n\n  // Perform axis-specific matrix multiplication\n  out[0] = a00 * c + a10 * s;\n  out[1] = a01 * c + a11 * s;\n  out[2] = a02 * c + a12 * s;\n  out[3] = a03 * c + a13 * s;\n  out[4] = a10 * c - a00 * s;\n  out[5] = a11 * c - a01 * s;\n  out[6] = a12 * c - a02 * s;\n  out[7] = a13 * c - a03 * s;\n  return out;\n}\n\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {vec3} v Translation vector\n * @returns {mat4} out\n */\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.scale(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {vec3} v Scaling vector\n * @returns {mat4} out\n */\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = v[1];\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = v[2];\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n\n/**\n * Creates a matrix from a given angle around a given axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotate(dest, dest, rad, axis);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @param {vec3} axis the axis to rotate around\n * @returns {mat4} out\n */\nexport function fromRotation(out, rad, axis) {\n  let x = axis[0], y = axis[1], z = axis[2];\n  let len = Math.sqrt(x * x + y * y + z * z);\n  let s, c, t;\n\n  if (len < glMatrix.EPSILON) { return null; }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c;\n\n  // Perform rotation-specific matrix multiplication\n  out[0] = x * x * t + c;\n  out[1] = y * x * t + z * s;\n  out[2] = z * x * t - y * s;\n  out[3] = 0;\n  out[4] = x * y * t - z * s;\n  out[5] = y * y * t + c;\n  out[6] = z * y * t + x * s;\n  out[7] = 0;\n  out[8] = x * z * t + y * s;\n  out[9] = y * z * t - x * s;\n  out[10] = z * z * t + c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n\n/**\n * Creates a matrix from the given angle around the X axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateX(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\nexport function fromXRotation(out, rad) {\n  let s = Math.sin(rad);\n  let c = Math.cos(rad);\n\n  // Perform axis-specific matrix multiplication\n  out[0]  = 1;\n  out[1]  = 0;\n  out[2]  = 0;\n  out[3]  = 0;\n  out[4] = 0;\n  out[5] = c;\n  out[6] = s;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = -s;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n\n/**\n * Creates a matrix from the given angle around the Y axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateY(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\nexport function fromYRotation(out, rad) {\n  let s = Math.sin(rad);\n  let c = Math.cos(rad);\n\n  // Perform axis-specific matrix multiplication\n  out[0]  = c;\n  out[1]  = 0;\n  out[2]  = -s;\n  out[3]  = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = s;\n  out[9] = 0;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n\n/**\n * Creates a matrix from the given angle around the Z axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateZ(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\nexport function fromZRotation(out, rad) {\n  let s = Math.sin(rad);\n  let c = Math.cos(rad);\n\n  // Perform axis-specific matrix multiplication\n  out[0]  = c;\n  out[1]  = s;\n  out[2]  = 0;\n  out[3]  = 0;\n  out[4] = -s;\n  out[5] = c;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n\n/**\n * Creates a matrix from a quaternion rotation and vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {vec3} v Translation vector\n * @returns {mat4} out\n */\nexport function fromRotationTranslation(out, q, v) {\n  // Quaternion math\n  let x = q[0], y = q[1], z = q[2], w = q[3];\n  let x2 = x + x;\n  let y2 = y + y;\n  let z2 = z + z;\n\n  let xx = x * x2;\n  let xy = x * y2;\n  let xz = x * z2;\n  let yy = y * y2;\n  let yz = y * z2;\n  let zz = z * z2;\n  let wx = w * x2;\n  let wy = w * y2;\n  let wz = w * z2;\n\n  out[0] = 1 - (yy + zz);\n  out[1] = xy + wz;\n  out[2] = xz - wy;\n  out[3] = 0;\n  out[4] = xy - wz;\n  out[5] = 1 - (xx + zz);\n  out[6] = yz + wx;\n  out[7] = 0;\n  out[8] = xz + wy;\n  out[9] = yz - wx;\n  out[10] = 1 - (xx + yy);\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n\n  return out;\n}\n\n/**\n * Creates a new mat4 from a dual quat.\n *\n * @param {mat4} out Matrix\n * @param {quat2} a Dual Quaternion\n * @returns {mat4} mat4 receiving operation result\n */\nexport function fromQuat2(out, a) {\n  let translation = new glMatrix.ARRAY_TYPE(3);\n  let bx = -a[0], by = -a[1], bz = -a[2], bw = a[3],\n  ax = a[4], ay = a[5], az = a[6], aw = a[7];\n\n  let magnitude = bx * bx + by * by + bz * bz + bw * bw;\n  //Only scale if it makes sense\n  if (magnitude > 0) {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;\n  } else {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  }\n  fromRotationTranslation(out, a, translation);\n  return out;\n}\n\n/**\n * Returns the translation vector component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslation,\n *  the returned vector will be the same as the translation vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive translation component\n * @param  {mat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\nexport function getTranslation(out, mat) {\n  out[0] = mat[12];\n  out[1] = mat[13];\n  out[2] = mat[14];\n\n  return out;\n}\n\n/**\n * Returns the scaling factor component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslationScale\n *  with a normalized Quaternion paramter, the returned vector will be\n *  the same as the scaling vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive scaling factor component\n * @param  {mat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\nexport function getScaling(out, mat) {\n  let m11 = mat[0];\n  let m12 = mat[1];\n  let m13 = mat[2];\n  let m21 = mat[4];\n  let m22 = mat[5];\n  let m23 = mat[6];\n  let m31 = mat[8];\n  let m32 = mat[9];\n  let m33 = mat[10];\n\n  out[0] = Math.sqrt(m11 * m11 + m12 * m12 + m13 * m13);\n  out[1] = Math.sqrt(m21 * m21 + m22 * m22 + m23 * m23);\n  out[2] = Math.sqrt(m31 * m31 + m32 * m32 + m33 * m33);\n\n  return out;\n}\n\n/**\n * Returns a quaternion representing the rotational component\n *  of a transformation matrix. If a matrix is built with\n *  fromRotationTranslation, the returned quaternion will be the\n *  same as the quaternion originally supplied.\n * @param {quat} out Quaternion to receive the rotation component\n * @param {mat4} mat Matrix to be decomposed (input)\n * @return {quat} out\n */\nexport function getRotation(out, mat) {\n  // Algorithm taken from http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\n  let trace = mat[0] + mat[5] + mat[10];\n  let S = 0;\n\n  if (trace > 0) {\n    S = Math.sqrt(trace + 1.0) * 2;\n    out[3] = 0.25 * S;\n    out[0] = (mat[6] - mat[9]) / S;\n    out[1] = (mat[8] - mat[2]) / S;\n    out[2] = (mat[1] - mat[4]) / S;\n  } else if ((mat[0] > mat[5]) && (mat[0] > mat[10])) {\n    S = Math.sqrt(1.0 + mat[0] - mat[5] - mat[10]) * 2;\n    out[3] = (mat[6] - mat[9]) / S;\n    out[0] = 0.25 * S;\n    out[1] = (mat[1] + mat[4]) / S;\n    out[2] = (mat[8] + mat[2]) / S;\n  } else if (mat[5] > mat[10]) {\n    S = Math.sqrt(1.0 + mat[5] - mat[0] - mat[10]) * 2;\n    out[3] = (mat[8] - mat[2]) / S;\n    out[0] = (mat[1] + mat[4]) / S;\n    out[1] = 0.25 * S;\n    out[2] = (mat[6] + mat[9]) / S;\n  } else {\n    S = Math.sqrt(1.0 + mat[10] - mat[0] - mat[5]) * 2;\n    out[3] = (mat[1] - mat[4]) / S;\n    out[0] = (mat[8] + mat[2]) / S;\n    out[1] = (mat[6] + mat[9]) / S;\n    out[2] = 0.25 * S;\n  }\n\n  return out;\n}\n\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {vec3} v Translation vector\n * @param {vec3} s Scaling vector\n * @returns {mat4} out\n */\nexport function fromRotationTranslationScale(out, q, v, s) {\n  // Quaternion math\n  let x = q[0], y = q[1], z = q[2], w = q[3];\n  let x2 = x + x;\n  let y2 = y + y;\n  let z2 = z + z;\n\n  let xx = x * x2;\n  let xy = x * y2;\n  let xz = x * z2;\n  let yy = y * y2;\n  let yz = y * z2;\n  let zz = z * z2;\n  let wx = w * x2;\n  let wy = w * y2;\n  let wz = w * z2;\n  let sx = s[0];\n  let sy = s[1];\n  let sz = s[2];\n\n  out[0] = (1 - (yy + zz)) * sx;\n  out[1] = (xy + wz) * sx;\n  out[2] = (xz - wy) * sx;\n  out[3] = 0;\n  out[4] = (xy - wz) * sy;\n  out[5] = (1 - (xx + zz)) * sy;\n  out[6] = (yz + wx) * sy;\n  out[7] = 0;\n  out[8] = (xz + wy) * sz;\n  out[9] = (yz - wx) * sz;\n  out[10] = (1 - (xx + yy)) * sz;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n\n  return out;\n}\n\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     mat4.translate(dest, origin);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *     mat4.translate(dest, negativeOrigin);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {vec3} v Translation vector\n * @param {vec3} s Scaling vector\n * @param {vec3} o The origin vector around which to scale and rotate\n * @returns {mat4} out\n */\nexport function fromRotationTranslationScaleOrigin(out, q, v, s, o) {\n  // Quaternion math\n  let x = q[0], y = q[1], z = q[2], w = q[3];\n  let x2 = x + x;\n  let y2 = y + y;\n  let z2 = z + z;\n\n  let xx = x * x2;\n  let xy = x * y2;\n  let xz = x * z2;\n  let yy = y * y2;\n  let yz = y * z2;\n  let zz = z * z2;\n  let wx = w * x2;\n  let wy = w * y2;\n  let wz = w * z2;\n\n  let sx = s[0];\n  let sy = s[1];\n  let sz = s[2];\n\n  let ox = o[0];\n  let oy = o[1];\n  let oz = o[2];\n\n  let out0 = (1 - (yy + zz)) * sx;\n  let out1 = (xy + wz) * sx;\n  let out2 = (xz - wy) * sx;\n  let out4 = (xy - wz) * sy;\n  let out5 = (1 - (xx + zz)) * sy;\n  let out6 = (yz + wx) * sy;\n  let out8 = (xz + wy) * sz;\n  let out9 = (yz - wx) * sz;\n  let out10 = (1 - (xx + yy)) * sz;\n\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = 0;\n  out[4] = out4;\n  out[5] = out5;\n  out[6] = out6;\n  out[7] = 0;\n  out[8] = out8;\n  out[9] = out9;\n  out[10] = out10;\n  out[11] = 0;\n  out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);\n  out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);\n  out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);\n  out[15] = 1;\n\n  return out;\n}\n\n/**\n * Calculates a 4x4 matrix from the given quaternion\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat} q Quaternion to create matrix from\n *\n * @returns {mat4} out\n */\nexport function fromQuat(out, q) {\n  let x = q[0], y = q[1], z = q[2], w = q[3];\n  let x2 = x + x;\n  let y2 = y + y;\n  let z2 = z + z;\n\n  let xx = x * x2;\n  let yx = y * x2;\n  let yy = y * y2;\n  let zx = z * x2;\n  let zy = z * y2;\n  let zz = z * z2;\n  let wx = w * x2;\n  let wy = w * y2;\n  let wz = w * z2;\n\n  out[0] = 1 - yy - zz;\n  out[1] = yx + wz;\n  out[2] = zx - wy;\n  out[3] = 0;\n\n  out[4] = yx - wz;\n  out[5] = 1 - xx - zz;\n  out[6] = zy + wx;\n  out[7] = 0;\n\n  out[8] = zx + wy;\n  out[9] = zy - wx;\n  out[10] = 1 - xx - yy;\n  out[11] = 0;\n\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n\n  return out;\n}\n\n/**\n * Generates a frustum matrix with the given bounds\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Number} left Left bound of the frustum\n * @param {Number} right Right bound of the frustum\n * @param {Number} bottom Bottom bound of the frustum\n * @param {Number} top Top bound of the frustum\n * @param {Number} near Near bound of the frustum\n * @param {Number} far Far bound of the frustum\n * @returns {mat4} out\n */\nexport function frustum(out, left, right, bottom, top, near, far) {\n  let rl = 1 / (right - left);\n  let tb = 1 / (top - bottom);\n  let nf = 1 / (near - far);\n  out[0] = (near * 2) * rl;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = (near * 2) * tb;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = (right + left) * rl;\n  out[9] = (top + bottom) * tb;\n  out[10] = (far + near) * nf;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = (far * near * 2) * nf;\n  out[15] = 0;\n  return out;\n}\n\n/**\n * Generates a perspective projection matrix with the given bounds.\n * Passing null/undefined/no value for far will generate infinite projection matrix.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum, can be null or Infinity\n * @returns {mat4} out\n */\nexport function perspective(out, fovy, aspect, near, far) {\n  let f = 1.0 / Math.tan(fovy / 2), nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = (far + near) * nf;\n    out[14] = (2 * far * near) * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -2 * near;\n  }\n  return out;\n}\n\n/**\n * Generates a perspective projection matrix with the given field of view.\n * This is primarily useful for generating projection matrices to be used\n * with the still experiemental WebVR API.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Object} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\nexport function perspectiveFromFieldOfView(out, fov, near, far) {\n  let upTan = Math.tan(fov.upDegrees * Math.PI/180.0);\n  let downTan = Math.tan(fov.downDegrees * Math.PI/180.0);\n  let leftTan = Math.tan(fov.leftDegrees * Math.PI/180.0);\n  let rightTan = Math.tan(fov.rightDegrees * Math.PI/180.0);\n  let xScale = 2.0 / (leftTan + rightTan);\n  let yScale = 2.0 / (upTan + downTan);\n\n  out[0] = xScale;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  out[4] = 0.0;\n  out[5] = yScale;\n  out[6] = 0.0;\n  out[7] = 0.0;\n  out[8] = -((leftTan - rightTan) * xScale * 0.5);\n  out[9] = ((upTan - downTan) * yScale * 0.5);\n  out[10] = far / (near - far);\n  out[11] = -1.0;\n  out[12] = 0.0;\n  out[13] = 0.0;\n  out[14] = (far * near) / (near - far);\n  out[15] = 0.0;\n  return out;\n}\n\n/**\n * Generates a orthogonal projection matrix with the given bounds\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\nexport function ortho(out, left, right, bottom, top, near, far) {\n  let lr = 1 / (left - right);\n  let bt = 1 / (bottom - top);\n  let nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 2 * nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = (far + near) * nf;\n  out[15] = 1;\n  return out;\n}\n\n/**\n * Generates a look-at matrix with the given eye position, focal point, and up axis.\n * If you want a matrix that actually makes an object look at another object, you should use targetTo instead.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {vec3} eye Position of the viewer\n * @param {vec3} center Point the viewer is looking at\n * @param {vec3} up vec3 pointing up\n * @returns {mat4} out\n */\nexport function lookAt(out, eye, center, up) {\n  let x0, x1, x2, y0, y1, y2, z0, z1, z2, len;\n  let eyex = eye[0];\n  let eyey = eye[1];\n  let eyez = eye[2];\n  let upx = up[0];\n  let upy = up[1];\n  let upz = up[2];\n  let centerx = center[0];\n  let centery = center[1];\n  let centerz = center[2];\n\n  if (Math.abs(eyex - centerx) < glMatrix.EPSILON &&\n      Math.abs(eyey - centery) < glMatrix.EPSILON &&\n      Math.abs(eyez - centerz) < glMatrix.EPSILON) {\n    return identity(out);\n  }\n\n  z0 = eyex - centerx;\n  z1 = eyey - centery;\n  z2 = eyez - centerz;\n\n  len = 1 / Math.sqrt(z0 * z0 + z1 * z1 + z2 * z2);\n  z0 *= len;\n  z1 *= len;\n  z2 *= len;\n\n  x0 = upy * z2 - upz * z1;\n  x1 = upz * z0 - upx * z2;\n  x2 = upx * z1 - upy * z0;\n  len = Math.sqrt(x0 * x0 + x1 * x1 + x2 * x2);\n  if (!len) {\n    x0 = 0;\n    x1 = 0;\n    x2 = 0;\n  } else {\n    len = 1 / len;\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  y0 = z1 * x2 - z2 * x1;\n  y1 = z2 * x0 - z0 * x2;\n  y2 = z0 * x1 - z1 * x0;\n\n  len = Math.sqrt(y0 * y0 + y1 * y1 + y2 * y2);\n  if (!len) {\n    y0 = 0;\n    y1 = 0;\n    y2 = 0;\n  } else {\n    len = 1 / len;\n    y0 *= len;\n    y1 *= len;\n    y2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = y0;\n  out[2] = z0;\n  out[3] = 0;\n  out[4] = x1;\n  out[5] = y1;\n  out[6] = z1;\n  out[7] = 0;\n  out[8] = x2;\n  out[9] = y2;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n  out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n  out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n  out[15] = 1;\n\n  return out;\n}\n\n/**\n * Generates a matrix that makes something look at something else.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {vec3} eye Position of the viewer\n * @param {vec3} center Point the viewer is looking at\n * @param {vec3} up vec3 pointing up\n * @returns {mat4} out\n */\nexport function targetTo(out, eye, target, up) {\n  let eyex = eye[0],\n      eyey = eye[1],\n      eyez = eye[2],\n      upx = up[0],\n      upy = up[1],\n      upz = up[2];\n\n  let z0 = eyex - target[0],\n      z1 = eyey - target[1],\n      z2 = eyez - target[2];\n\n  let len = z0*z0 + z1*z1 + z2*z2;\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    z0 *= len;\n    z1 *= len;\n    z2 *= len;\n  }\n\n  let x0 = upy * z2 - upz * z1,\n      x1 = upz * z0 - upx * z2,\n      x2 = upx * z1 - upy * z0;\n\n  len = x0*x0 + x1*x1 + x2*x2;\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = x1;\n  out[2] = x2;\n  out[3] = 0;\n  out[4] = z1 * x2 - z2 * x1;\n  out[5] = z2 * x0 - z0 * x2;\n  out[6] = z0 * x1 - z1 * x0;\n  out[7] = 0;\n  out[8] = z0;\n  out[9] = z1;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = eyex;\n  out[13] = eyey;\n  out[14] = eyez;\n  out[15] = 1;\n  return out;\n};\n\n/**\n * Returns a string representation of a mat4\n *\n * @param {mat4} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\nexport function str(a) {\n  return 'mat4(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ', ' +\n          a[4] + ', ' + a[5] + ', ' + a[6] + ', ' + a[7] + ', ' +\n          a[8] + ', ' + a[9] + ', ' + a[10] + ', ' + a[11] + ', ' +\n          a[12] + ', ' + a[13] + ', ' + a[14] + ', ' + a[15] + ')';\n}\n\n/**\n * Returns Frobenius norm of a mat4\n *\n * @param {mat4} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\nexport function frob(a) {\n  return(Math.sqrt(Math.pow(a[0], 2) + Math.pow(a[1], 2) + Math.pow(a[2], 2) + Math.pow(a[3], 2) + Math.pow(a[4], 2) + Math.pow(a[5], 2) + Math.pow(a[6], 2) + Math.pow(a[7], 2) + Math.pow(a[8], 2) + Math.pow(a[9], 2) + Math.pow(a[10], 2) + Math.pow(a[11], 2) + Math.pow(a[12], 2) + Math.pow(a[13], 2) + Math.pow(a[14], 2) + Math.pow(a[15], 2) ))\n}\n\n/**\n * Adds two mat4's\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the first operand\n * @param {mat4} b the second operand\n * @returns {mat4} out\n */\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  out[9] = a[9] + b[9];\n  out[10] = a[10] + b[10];\n  out[11] = a[11] + b[11];\n  out[12] = a[12] + b[12];\n  out[13] = a[13] + b[13];\n  out[14] = a[14] + b[14];\n  out[15] = a[15] + b[15];\n  return out;\n}\n\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the first operand\n * @param {mat4} b the second operand\n * @returns {mat4} out\n */\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  out[9] = a[9] - b[9];\n  out[10] = a[10] - b[10];\n  out[11] = a[11] - b[11];\n  out[12] = a[12] - b[12];\n  out[13] = a[13] - b[13];\n  out[14] = a[14] - b[14];\n  out[15] = a[15] - b[15];\n  return out;\n}\n\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat4} out\n */\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  out[9] = a[9] * b;\n  out[10] = a[10] * b;\n  out[11] = a[11] * b;\n  out[12] = a[12] * b;\n  out[13] = a[13] * b;\n  out[14] = a[14] * b;\n  out[15] = a[15] * b;\n  return out;\n}\n\n/**\n * Adds two mat4's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat4} out the receiving vector\n * @param {mat4} a the first operand\n * @param {mat4} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat4} out\n */\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + (b[0] * scale);\n  out[1] = a[1] + (b[1] * scale);\n  out[2] = a[2] + (b[2] * scale);\n  out[3] = a[3] + (b[3] * scale);\n  out[4] = a[4] + (b[4] * scale);\n  out[5] = a[5] + (b[5] * scale);\n  out[6] = a[6] + (b[6] * scale);\n  out[7] = a[7] + (b[7] * scale);\n  out[8] = a[8] + (b[8] * scale);\n  out[9] = a[9] + (b[9] * scale);\n  out[10] = a[10] + (b[10] * scale);\n  out[11] = a[11] + (b[11] * scale);\n  out[12] = a[12] + (b[12] * scale);\n  out[13] = a[13] + (b[13] * scale);\n  out[14] = a[14] + (b[14] * scale);\n  out[15] = a[15] + (b[15] * scale);\n  return out;\n}\n\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {mat4} a The first matrix.\n * @param {mat4} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] &&\n         a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] &&\n         a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] &&\n         a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];\n}\n\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {mat4} a The first matrix.\n * @param {mat4} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\nexport function equals(a, b) {\n  let a0  = a[0],  a1  = a[1],  a2  = a[2],  a3  = a[3];\n  let a4  = a[4],  a5  = a[5],  a6  = a[6],  a7  = a[7];\n  let a8  = a[8],  a9  = a[9],  a10 = a[10], a11 = a[11];\n  let a12 = a[12], a13 = a[13], a14 = a[14], a15 = a[15];\n\n  let b0  = b[0],  b1  = b[1],  b2  = b[2],  b3  = b[3];\n  let b4  = b[4],  b5  = b[5],  b6  = b[6],  b7  = b[7];\n  let b8  = b[8],  b9  = b[9],  b10 = b[10], b11 = b[11];\n  let b12 = b[12], b13 = b[13], b14 = b[14], b15 = b[15];\n\n  return (Math.abs(a0 - b0) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a0), Math.abs(b0)) &&\n          Math.abs(a1 - b1) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a1), Math.abs(b1)) &&\n          Math.abs(a2 - b2) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a2), Math.abs(b2)) &&\n          Math.abs(a3 - b3) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a3), Math.abs(b3)) &&\n          Math.abs(a4 - b4) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a4), Math.abs(b4)) &&\n          Math.abs(a5 - b5) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a5), Math.abs(b5)) &&\n          Math.abs(a6 - b6) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a6), Math.abs(b6)) &&\n          Math.abs(a7 - b7) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a7), Math.abs(b7)) &&\n          Math.abs(a8 - b8) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a8), Math.abs(b8)) &&\n          Math.abs(a9 - b9) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a9), Math.abs(b9)) &&\n          Math.abs(a10 - b10) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a10), Math.abs(b10)) &&\n          Math.abs(a11 - b11) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a11), Math.abs(b11)) &&\n          Math.abs(a12 - b12) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a12), Math.abs(b12)) &&\n          Math.abs(a13 - b13) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a13), Math.abs(b13)) &&\n          Math.abs(a14 - b14) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a14), Math.abs(b14)) &&\n          Math.abs(a15 - b15) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a15), Math.abs(b15)));\n}\n\n/**\n * Alias for {@link mat4.multiply}\n * @function\n */\nexport const mul = multiply;\n\n/**\n * Alias for {@link mat4.subtract}\n * @function\n */\nexport const sub = subtract;\n", "import * as glMatrix from \"./common.js\";\n\n/**\n * 3 Dimensional Vector\n * @module vec3\n */\n\n/**\n * Creates a new, empty vec3\n *\n * @returns {vec3} a new 3D vector\n */\nexport function create() {\n  let out = new glMatrix.ARRAY_TYPE(3);\n  if(glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n  return out;\n}\n\n/**\n * Creates a new vec3 initialized with values from an existing vector\n *\n * @param {vec3} a vector to clone\n * @returns {vec3} a new 3D vector\n */\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n\n/**\n * Calculates the length of a vec3\n *\n * @param {vec3} a vector to calculate length of\n * @returns {Number} length of a\n */\nexport function length(a) {\n  let x = a[0];\n  let y = a[1];\n  let z = a[2];\n  return Math.sqrt(x*x + y*y + z*z);\n}\n\n/**\n * Creates a new vec3 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} a new 3D vector\n */\nexport function fromValues(x, y, z) {\n  let out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the source vector\n * @returns {vec3} out\n */\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n\n/**\n * Math.ceil the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to ceil\n * @returns {vec3} out\n */\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n\n/**\n * Math.floor the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to floor\n * @returns {vec3} out\n */\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n\n/**\n * Returns the minimum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n\n/**\n * Returns the maximum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n\n/**\n * Math.round the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to round\n * @returns {vec3} out\n */\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n\n/**\n * Adds two vec3's after scaling the second operand by a scalar value\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec3} out\n */\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + (b[0] * scale);\n  out[1] = a[1] + (b[1] * scale);\n  out[2] = a[2] + (b[2] * scale);\n  return out;\n}\n\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {Number} distance between a and b\n */\nexport function distance(a, b) {\n  let x = b[0] - a[0];\n  let y = b[1] - a[1];\n  let z = b[2] - a[2];\n  return Math.sqrt(x*x + y*y + z*z);\n}\n\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\nexport function squaredDistance(a, b) {\n  let x = b[0] - a[0];\n  let y = b[1] - a[1];\n  let z = b[2] - a[2];\n  return x*x + y*y + z*z;\n}\n\n/**\n * Calculates the squared length of a vec3\n *\n * @param {vec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\nexport function squaredLength(a) {\n  let x = a[0];\n  let y = a[1];\n  let z = a[2];\n  return x*x + y*y + z*z;\n}\n\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to negate\n * @returns {vec3} out\n */\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n\n/**\n * Returns the inverse of the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to invert\n * @returns {vec3} out\n */\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to normalize\n * @returns {vec3} out\n */\nexport function normalize(out, a) {\n  let x = a[0];\n  let y = a[1];\n  let z = a[2];\n  let len = x*x + y*y + z*z;\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n    out[0] = a[0] * len;\n    out[1] = a[1] * len;\n    out[2] = a[2] * len;\n  }\n  return out;\n}\n\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {Number} dot product of a and b\n */\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nexport function cross(out, a, b) {\n  let ax = a[0], ay = a[1], az = a[2];\n  let bx = b[0], by = b[1], bz = b[2];\n\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\nexport function lerp(out, a, b, t) {\n  let ax = a[0];\n  let ay = a[1];\n  let az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n\n/**\n * Performs a hermite interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @param {vec3} c the third operand\n * @param {vec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\nexport function hermite(out, a, b, c, d, t) {\n  let factorTimes2 = t * t;\n  let factor1 = factorTimes2 * (2 * t - 3) + 1;\n  let factor2 = factorTimes2 * (t - 2) + t;\n  let factor3 = factorTimes2 * (t - 1);\n  let factor4 = factorTimes2 * (3 - 2 * t);\n\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n\n  return out;\n}\n\n/**\n * Performs a bezier interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @param {vec3} c the third operand\n * @param {vec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\nexport function bezier(out, a, b, c, d, t) {\n  let inverseFactor = 1 - t;\n  let inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  let factorTimes2 = t * t;\n  let factor1 = inverseFactorTimesTwo * inverseFactor;\n  let factor2 = 3 * t * inverseFactorTimesTwo;\n  let factor3 = 3 * factorTimes2 * inverseFactor;\n  let factor4 = factorTimes2 * t;\n\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n\n  return out;\n}\n\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec3} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec3} out\n */\nexport function random(out, scale) {\n  scale = scale || 1.0;\n\n  let r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  let z = (glMatrix.RANDOM() * 2.0) - 1.0;\n  let zScale = Math.sqrt(1.0-z*z) * scale;\n\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to transform\n * @param {mat4} m matrix to transform with\n * @returns {vec3} out\n */\nexport function transformMat4(out, a, m) {\n  let x = a[0], y = a[1], z = a[2];\n  let w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to transform\n * @param {mat3} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\nexport function transformMat3(out, a, m) {\n  let x = a[0], y = a[1], z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n\n/**\n * Transforms the vec3 with a quat\n * Can also be used for dual quaternions. (Multiply it with the real part)\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to transform\n * @param {quat} q quaternion to transform with\n * @returns {vec3} out\n */\nexport function transformQuat(out, a, q) {\n    // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n    let qx = q[0], qy = q[1], qz = q[2], qw = q[3];\n    let x = a[0], y = a[1], z = a[2];\n    // var qvec = [qx, qy, qz];\n    // var uv = vec3.cross([], qvec, a);\n    let uvx = qy * z - qz * y,\n        uvy = qz * x - qx * z,\n        uvz = qx * y - qy * x;\n    // var uuv = vec3.cross([], qvec, uv);\n    let uuvx = qy * uvz - qz * uvy,\n        uuvy = qz * uvx - qx * uvz,\n        uuvz = qx * uvy - qy * uvx;\n    // vec3.scale(uv, uv, 2 * w);\n    let w2 = qw * 2;\n    uvx *= w2;\n    uvy *= w2;\n    uvz *= w2;\n    // vec3.scale(uuv, uuv, 2);\n    uuvx *= 2;\n    uuvy *= 2;\n    uuvz *= 2;\n    // return vec3.add(out, a, vec3.add(out, uv, uuv));\n    out[0] = x + uvx + uuvx;\n    out[1] = y + uvy + uuvy;\n    out[2] = z + uvz + uuvz;\n    return out;\n}\n\n/**\n * Rotate a 3D vector around the x-axis\n * @param {vec3} out The receiving vec3\n * @param {vec3} a The vec3 point to rotate\n * @param {vec3} b The origin of the rotation\n * @param {Number} c The angle of rotation\n * @returns {vec3} out\n */\nexport function rotateX(out, a, b, c){\n  let p = [], r=[];\n  //Translate point to the origin\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2];\n\n  //perform rotation\n  r[0] = p[0];\n  r[1] = p[1]*Math.cos(c) - p[2]*Math.sin(c);\n  r[2] = p[1]*Math.sin(c) + p[2]*Math.cos(c);\n\n  //translate to correct position\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n\n  return out;\n}\n\n/**\n * Rotate a 3D vector around the y-axis\n * @param {vec3} out The receiving vec3\n * @param {vec3} a The vec3 point to rotate\n * @param {vec3} b The origin of the rotation\n * @param {Number} c The angle of rotation\n * @returns {vec3} out\n */\nexport function rotateY(out, a, b, c){\n  let p = [], r=[];\n  //Translate point to the origin\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2];\n\n  //perform rotation\n  r[0] = p[2]*Math.sin(c) + p[0]*Math.cos(c);\n  r[1] = p[1];\n  r[2] = p[2]*Math.cos(c) - p[0]*Math.sin(c);\n\n  //translate to correct position\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n\n  return out;\n}\n\n/**\n * Rotate a 3D vector around the z-axis\n * @param {vec3} out The receiving vec3\n * @param {vec3} a The vec3 point to rotate\n * @param {vec3} b The origin of the rotation\n * @param {Number} c The angle of rotation\n * @returns {vec3} out\n */\nexport function rotateZ(out, a, b, c){\n  let p = [], r=[];\n  //Translate point to the origin\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2];\n\n  //perform rotation\n  r[0] = p[0]*Math.cos(c) - p[1]*Math.sin(c);\n  r[1] = p[0]*Math.sin(c) + p[1]*Math.cos(c);\n  r[2] = p[2];\n\n  //translate to correct position\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n\n  return out;\n}\n\n/**\n * Get the angle between two 3D vectors\n * @param {vec3} a The first operand\n * @param {vec3} b The second operand\n * @returns {Number} The angle in radians\n */\nexport function angle(a, b) {\n  let tempA = fromValues(a[0], a[1], a[2]);\n  let tempB = fromValues(b[0], b[1], b[2]);\n\n  normalize(tempA, tempA);\n  normalize(tempB, tempB);\n\n  let cosine = dot(tempA, tempB);\n\n  if(cosine > 1.0) {\n    return 0;\n  }\n  else if(cosine < -1.0) {\n    return Math.PI;\n  } else {\n    return Math.acos(cosine);\n  }\n}\n\n/**\n * Returns a string representation of a vector\n *\n * @param {vec3} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\nexport function str(a) {\n  return 'vec3(' + a[0] + ', ' + a[1] + ', ' + a[2] + ')';\n}\n\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {vec3} a The first vector.\n * @param {vec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {vec3} a The first vector.\n * @param {vec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\nexport function equals(a, b) {\n  let a0 = a[0], a1 = a[1], a2 = a[2];\n  let b0 = b[0], b1 = b[1], b2 = b[2];\n  return (Math.abs(a0 - b0) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a0), Math.abs(b0)) &&\n          Math.abs(a1 - b1) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a1), Math.abs(b1)) &&\n          Math.abs(a2 - b2) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a2), Math.abs(b2)));\n}\n\n/**\n * Alias for {@link vec3.subtract}\n * @function\n */\nexport const sub = subtract;\n\n/**\n * Alias for {@link vec3.multiply}\n * @function\n */\nexport const mul = multiply;\n\n/**\n * Alias for {@link vec3.divide}\n * @function\n */\nexport const div = divide;\n\n/**\n * Alias for {@link vec3.distance}\n * @function\n */\nexport const dist = distance;\n\n/**\n * Alias for {@link vec3.squaredDistance}\n * @function\n */\nexport const sqrDist = squaredDistance;\n\n/**\n * Alias for {@link vec3.length}\n * @function\n */\nexport const len = length;\n\n/**\n * Alias for {@link vec3.squaredLength}\n * @function\n */\nexport const sqrLen = squaredLength;\n\n/**\n * Perform some operation over an array of vec3s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\nexport const forEach = (function() {\n  let vec = create();\n\n  return function(a, stride, offset, count, fn, arg) {\n    let i, l;\n    if(!stride) {\n      stride = 3;\n    }\n\n    if(!offset) {\n      offset = 0;\n    }\n\n    if(count) {\n      l = Math.min((count * stride) + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for(i = offset; i < l; i += stride) {\n      vec[0] = a[i]; vec[1] = a[i+1]; vec[2] = a[i+2];\n      fn(vec, vec, arg);\n      a[i] = vec[0]; a[i+1] = vec[1]; a[i+2] = vec[2];\n    }\n\n    return a;\n  };\n})();\n", "import * as glMatrix from \"./common.js\";\n\n/**\n * 3x3 Matrix\n * @module mat3\n */\n\n/**\n * Creates a new identity mat3\n *\n * @returns {mat3} a new 3x3 matrix\n */\nexport function create() {\n  let out = new glMatrix.ARRAY_TYPE(9);\n  if(glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n\n/**\n * Copies the upper-left 3x3 values into the given mat3.\n *\n * @param {mat3} out the receiving 3x3 matrix\n * @param {mat4} a   the source 4x4 matrix\n * @returns {mat3} out\n */\nexport function fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n\n/**\n * Creates a new mat3 initialized with values from an existing matrix\n *\n * @param {mat3} a matrix to clone\n * @returns {mat3} a new 3x3 matrix\n */\nexport function clone(a) {\n  let out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n\n/**\n * Copy the values from one mat3 to another\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n\n/**\n * Create a new mat3 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} A new mat3\n */\nexport function fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  let out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n\n/**\n * Set the components of a mat3 to the given values\n *\n * @param {mat3} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} out\n */\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n\n/**\n * Set a mat3 to the identity matrix\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n\n/**\n * Transpose the values of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    let a01 = a[1], a02 = a[2], a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n\n/**\n * Inverts a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\nexport function invert(out, a) {\n  let a00 = a[0], a01 = a[1], a02 = a[2];\n  let a10 = a[3], a11 = a[4], a12 = a[5];\n  let a20 = a[6], a21 = a[7], a22 = a[8];\n\n  let b01 = a22 * a11 - a12 * a21;\n  let b11 = -a22 * a10 + a12 * a20;\n  let b21 = a21 * a10 - a11 * a20;\n\n  // Calculate the determinant\n  let det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n  det = 1.0 / det;\n\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n\n/**\n * Calculates the adjugate of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\nexport function adjoint(out, a) {\n  let a00 = a[0], a01 = a[1], a02 = a[2];\n  let a10 = a[3], a11 = a[4], a12 = a[5];\n  let a20 = a[6], a21 = a[7], a22 = a[8];\n\n  out[0] = (a11 * a22 - a12 * a21);\n  out[1] = (a02 * a21 - a01 * a22);\n  out[2] = (a01 * a12 - a02 * a11);\n  out[3] = (a12 * a20 - a10 * a22);\n  out[4] = (a00 * a22 - a02 * a20);\n  out[5] = (a02 * a10 - a00 * a12);\n  out[6] = (a10 * a21 - a11 * a20);\n  out[7] = (a01 * a20 - a00 * a21);\n  out[8] = (a00 * a11 - a01 * a10);\n  return out;\n}\n\n/**\n * Calculates the determinant of a mat3\n *\n * @param {mat3} a the source matrix\n * @returns {Number} determinant of a\n */\nexport function determinant(a) {\n  let a00 = a[0], a01 = a[1], a02 = a[2];\n  let a10 = a[3], a11 = a[4], a12 = a[5];\n  let a20 = a[6], a21 = a[7], a22 = a[8];\n\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n\n/**\n * Multiplies two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the first operand\n * @param {mat3} b the second operand\n * @returns {mat3} out\n */\nexport function multiply(out, a, b) {\n  let a00 = a[0], a01 = a[1], a02 = a[2];\n  let a10 = a[3], a11 = a[4], a12 = a[5];\n  let a20 = a[6], a21 = a[7], a22 = a[8];\n\n  let b00 = b[0], b01 = b[1], b02 = b[2];\n  let b10 = b[3], b11 = b[4], b12 = b[5];\n  let b20 = b[6], b21 = b[7], b22 = b[8];\n\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n\n/**\n * Translate a mat3 by the given vector\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to translate\n * @param {vec2} v vector to translate by\n * @returns {mat3} out\n */\nexport function translate(out, a, v) {\n  let a00 = a[0], a01 = a[1], a02 = a[2],\n    a10 = a[3], a11 = a[4], a12 = a[5],\n    a20 = a[6], a21 = a[7], a22 = a[8],\n    x = v[0], y = v[1];\n\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n\n/**\n * Rotates a mat3 by the given angle\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\nexport function rotate(out, a, rad) {\n  let a00 = a[0], a01 = a[1], a02 = a[2],\n    a10 = a[3], a11 = a[4], a12 = a[5],\n    a20 = a[6], a21 = a[7], a22 = a[8],\n\n    s = Math.sin(rad),\n    c = Math.cos(rad);\n\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n};\n\n/**\n * Scales the mat3 by the dimensions in the given vec2\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to rotate\n * @param {vec2} v the vec2 to scale the matrix by\n * @returns {mat3} out\n **/\nexport function scale(out, a, v) {\n  let x = v[0], y = v[1];\n\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.translate(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {vec2} v Translation vector\n * @returns {mat3} out\n */\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.rotate(dest, dest, rad);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\nexport function fromRotation(out, rad) {\n  let s = Math.sin(rad), c = Math.cos(rad);\n\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.scale(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {vec2} v Scaling vector\n * @returns {mat3} out\n */\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n\n/**\n * Copies the values from a mat2d into a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat2d} a the matrix to copy\n * @returns {mat3} out\n **/\nexport function fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n\n/**\n* Calculates a 3x3 matrix from the given quaternion\n*\n* @param {mat3} out mat3 receiving operation result\n* @param {quat} q Quaternion to create matrix from\n*\n* @returns {mat3} out\n*/\nexport function fromQuat(out, q) {\n  let x = q[0], y = q[1], z = q[2], w = q[3];\n  let x2 = x + x;\n  let y2 = y + y;\n  let z2 = z + z;\n\n  let xx = x * x2;\n  let yx = y * x2;\n  let yy = y * y2;\n  let zx = z * x2;\n  let zy = z * y2;\n  let zz = z * z2;\n  let wx = w * x2;\n  let wy = w * y2;\n  let wz = w * z2;\n\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n\n  return out;\n}\n\n/**\n* Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\n*\n* @param {mat3} out mat3 receiving operation result\n* @param {mat4} a Mat4 to derive the normal matrix from\n*\n* @returns {mat3} out\n*/\nexport function normalFromMat4(out, a) {\n  let a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3];\n  let a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7];\n  let a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11];\n  let a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];\n\n  let b00 = a00 * a11 - a01 * a10;\n  let b01 = a00 * a12 - a02 * a10;\n  let b02 = a00 * a13 - a03 * a10;\n  let b03 = a01 * a12 - a02 * a11;\n  let b04 = a01 * a13 - a03 * a11;\n  let b05 = a02 * a13 - a03 * a12;\n  let b06 = a20 * a31 - a21 * a30;\n  let b07 = a20 * a32 - a22 * a30;\n  let b08 = a20 * a33 - a23 * a30;\n  let b09 = a21 * a32 - a22 * a31;\n  let b10 = a21 * a33 - a23 * a31;\n  let b11 = a22 * a33 - a23 * a32;\n\n  // Calculate the determinant\n  let det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n  det = 1.0 / det;\n\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n\n  return out;\n}\n\n/**\n * Generates a 2D projection matrix with the given bounds\n *\n * @param {mat3} out mat3 frustum matrix will be written into\n * @param {number} width Width of your gl context\n * @param {number} height Height of gl context\n * @returns {mat3} out\n */\nexport function projection(out, width, height) {\n    out[0] = 2 / width;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = -2 / height;\n    out[5] = 0;\n    out[6] = -1;\n    out[7] = 1;\n    out[8] = 1;\n    return out;\n}\n\n/**\n * Returns a string representation of a mat3\n *\n * @param {mat3} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\nexport function str(a) {\n  return 'mat3(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' +\n          a[3] + ', ' + a[4] + ', ' + a[5] + ', ' +\n          a[6] + ', ' + a[7] + ', ' + a[8] + ')';\n}\n\n/**\n * Returns Frobenius norm of a mat3\n *\n * @param {mat3} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\nexport function frob(a) {\n  return(Math.sqrt(Math.pow(a[0], 2) + Math.pow(a[1], 2) + Math.pow(a[2], 2) + Math.pow(a[3], 2) + Math.pow(a[4], 2) + Math.pow(a[5], 2) + Math.pow(a[6], 2) + Math.pow(a[7], 2) + Math.pow(a[8], 2)))\n}\n\n/**\n * Adds two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the first operand\n * @param {mat3} b the second operand\n * @returns {mat3} out\n */\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the first operand\n * @param {mat3} b the second operand\n * @returns {mat3} out\n */\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n\n\n\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat3} out\n */\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n\n/**\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat3} out the receiving vector\n * @param {mat3} a the first operand\n * @param {mat3} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat3} out\n */\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + (b[0] * scale);\n  out[1] = a[1] + (b[1] * scale);\n  out[2] = a[2] + (b[2] * scale);\n  out[3] = a[3] + (b[3] * scale);\n  out[4] = a[4] + (b[4] * scale);\n  out[5] = a[5] + (b[5] * scale);\n  out[6] = a[6] + (b[6] * scale);\n  out[7] = a[7] + (b[7] * scale);\n  out[8] = a[8] + (b[8] * scale);\n  return out;\n}\n\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {mat3} a The first matrix.\n * @param {mat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] &&\n         a[3] === b[3] && a[4] === b[4] && a[5] === b[5] &&\n         a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {mat3} a The first matrix.\n * @param {mat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\nexport function equals(a, b) {\n  let a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3], a4 = a[4], a5 = a[5], a6 = a[6], a7 = a[7], a8 = a[8];\n  let b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3], b4 = b[4], b5 = b[5], b6 = b[6], b7 = b[7], b8 = b[8];\n  return (Math.abs(a0 - b0) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a0), Math.abs(b0)) &&\n          Math.abs(a1 - b1) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a1), Math.abs(b1)) &&\n          Math.abs(a2 - b2) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a2), Math.abs(b2)) &&\n          Math.abs(a3 - b3) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a3), Math.abs(b3)) &&\n          Math.abs(a4 - b4) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a4), Math.abs(b4)) &&\n          Math.abs(a5 - b5) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a5), Math.abs(b5)) &&\n          Math.abs(a6 - b6) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a6), Math.abs(b6)) &&\n          Math.abs(a7 - b7) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a7), Math.abs(b7)) &&\n          Math.abs(a8 - b8) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a8), Math.abs(b8)));\n}\n\n/**\n * Alias for {@link mat3.multiply}\n * @function\n */\nexport const mul = multiply;\n\n/**\n * Alias for {@link mat3.subtract}\n * @function\n */\nexport const sub = subtract;\n", "import * as glMatrix from \"./common.js\";\n\n/**\n * 4 Dimensional Vector\n * @module vec4\n */\n\n/**\n * Creates a new, empty vec4\n *\n * @returns {vec4} a new 4D vector\n */\nexport function create() {\n  let out = new glMatrix.ARRAY_TYPE(4);\n  if(glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n  }\n  return out;\n}\n\n/**\n * Creates a new vec4 initialized with values from an existing vector\n *\n * @param {vec4} a vector to clone\n * @returns {vec4} a new 4D vector\n */\nexport function clone(a) {\n  let out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n\n/**\n * Creates a new vec4 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} a new 4D vector\n */\nexport function fromValues(x, y, z, w) {\n  let out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n\n/**\n * Copy the values from one vec4 to another\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the source vector\n * @returns {vec4} out\n */\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n\n/**\n * Set the components of a vec4 to the given values\n *\n * @param {vec4} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} out\n */\nexport function set(out, x, y, z, w) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n\n/**\n * Adds two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {vec4} out\n */\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {vec4} out\n */\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n\n/**\n * Multiplies two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {vec4} out\n */\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  out[3] = a[3] * b[3];\n  return out;\n}\n\n/**\n * Divides two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {vec4} out\n */\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  out[3] = a[3] / b[3];\n  return out;\n}\n\n/**\n * Math.ceil the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a vector to ceil\n * @returns {vec4} out\n */\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  out[3] = Math.ceil(a[3]);\n  return out;\n}\n\n/**\n * Math.floor the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a vector to floor\n * @returns {vec4} out\n */\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  out[3] = Math.floor(a[3]);\n  return out;\n}\n\n/**\n * Returns the minimum of two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {vec4} out\n */\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  out[3] = Math.min(a[3], b[3]);\n  return out;\n}\n\n/**\n * Returns the maximum of two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {vec4} out\n */\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  out[3] = Math.max(a[3], b[3]);\n  return out;\n}\n\n/**\n * Math.round the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a vector to round\n * @returns {vec4} out\n */\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  out[3] = Math.round(a[3]);\n  return out;\n}\n\n/**\n * Scales a vec4 by a scalar number\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec4} out\n */\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n\n/**\n * Adds two vec4's after scaling the second operand by a scalar value\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec4} out\n */\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + (b[0] * scale);\n  out[1] = a[1] + (b[1] * scale);\n  out[2] = a[2] + (b[2] * scale);\n  out[3] = a[3] + (b[3] * scale);\n  return out;\n}\n\n/**\n * Calculates the euclidian distance between two vec4's\n *\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {Number} distance between a and b\n */\nexport function distance(a, b) {\n  let x = b[0] - a[0];\n  let y = b[1] - a[1];\n  let z = b[2] - a[2];\n  let w = b[3] - a[3];\n  return Math.sqrt(x*x + y*y + z*z + w*w);\n}\n\n/**\n * Calculates the squared euclidian distance between two vec4's\n *\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {Number} squared distance between a and b\n */\nexport function squaredDistance(a, b) {\n  let x = b[0] - a[0];\n  let y = b[1] - a[1];\n  let z = b[2] - a[2];\n  let w = b[3] - a[3];\n  return x*x + y*y + z*z + w*w;\n}\n\n/**\n * Calculates the length of a vec4\n *\n * @param {vec4} a vector to calculate length of\n * @returns {Number} length of a\n */\nexport function length(a) {\n  let x = a[0];\n  let y = a[1];\n  let z = a[2];\n  let w = a[3];\n  return Math.sqrt(x*x + y*y + z*z + w*w);\n}\n\n/**\n * Calculates the squared length of a vec4\n *\n * @param {vec4} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\nexport function squaredLength(a) {\n  let x = a[0];\n  let y = a[1];\n  let z = a[2];\n  let w = a[3];\n  return x*x + y*y + z*z + w*w;\n}\n\n/**\n * Negates the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a vector to negate\n * @returns {vec4} out\n */\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = -a[3];\n  return out;\n}\n\n/**\n * Returns the inverse of the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a vector to invert\n * @returns {vec4} out\n */\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  out[3] = 1.0 / a[3];\n  return out;\n}\n\n/**\n * Normalize a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a vector to normalize\n * @returns {vec4} out\n */\nexport function normalize(out, a) {\n  let x = a[0];\n  let y = a[1];\n  let z = a[2];\n  let w = a[3];\n  let len = x*x + y*y + z*z + w*w;\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    out[0] = x * len;\n    out[1] = y * len;\n    out[2] = z * len;\n    out[3] = w * len;\n  }\n  return out;\n}\n\n/**\n * Calculates the dot product of two vec4's\n *\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {Number} dot product of a and b\n */\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n}\n\n/**\n * Performs a linear interpolation between two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec4} out\n */\nexport function lerp(out, a, b, t) {\n  let ax = a[0];\n  let ay = a[1];\n  let az = a[2];\n  let aw = a[3];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  out[3] = aw + t * (b[3] - aw);\n  return out;\n}\n\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec4} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec4} out\n */\nexport function random(out, scale) {\n  scale = scale || 1.0;\n\n  // Marsaglia, George. Choosing a Point from the Surface of a\n  // Sphere. Ann. Math. Statist. 43 (1972), no. 2, 645--646.\n  // http://projecteuclid.org/euclid.aoms/1177692644;\n  var v1, v2, v3, v4;\n  var s1, s2;\n  do {\n    v1 = glMatrix.RANDOM() * 2 - 1;\n    v2 = glMatrix.RANDOM() * 2 - 1;\n    s1 = v1 * v1 + v2 * v2;\n  } while (s1 >= 1);\n  do {\n    v3 = glMatrix.RANDOM() * 2 - 1;\n    v4 = glMatrix.RANDOM() * 2 - 1;\n    s2 = v3 * v3 + v4 * v4;\n  } while (s2 >= 1);\n\n  var d = Math.sqrt((1 - s1) / s2);\n  out[0] = scale * v1;\n  out[1] = scale * v2;\n  out[2] = scale * v3 * d;\n  out[3] = scale * v4 * d;\n  return out;\n}\n\n/**\n * Transforms the vec4 with a mat4.\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the vector to transform\n * @param {mat4} m matrix to transform with\n * @returns {vec4} out\n */\nexport function transformMat4(out, a, m) {\n  let x = a[0], y = a[1], z = a[2], w = a[3];\n  out[0] = m[0] * x + m[4] * y + m[8] * z + m[12] * w;\n  out[1] = m[1] * x + m[5] * y + m[9] * z + m[13] * w;\n  out[2] = m[2] * x + m[6] * y + m[10] * z + m[14] * w;\n  out[3] = m[3] * x + m[7] * y + m[11] * z + m[15] * w;\n  return out;\n}\n\n/**\n * Transforms the vec4 with a quat\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the vector to transform\n * @param {quat} q quaternion to transform with\n * @returns {vec4} out\n */\nexport function transformQuat(out, a, q) {\n  let x = a[0], y = a[1], z = a[2];\n  let qx = q[0], qy = q[1], qz = q[2], qw = q[3];\n\n  // calculate quat * vec\n  let ix = qw * x + qy * z - qz * y;\n  let iy = qw * y + qz * x - qx * z;\n  let iz = qw * z + qx * y - qy * x;\n  let iw = -qx * x - qy * y - qz * z;\n\n  // calculate result * inverse quat\n  out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n  out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n  out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n  out[3] = a[3];\n  return out;\n}\n\n/**\n * Returns a string representation of a vector\n *\n * @param {vec4} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\nexport function str(a) {\n  return 'vec4(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ')';\n}\n\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {vec4} a The first vector.\n * @param {vec4} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {vec4} a The first vector.\n * @param {vec4} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\nexport function equals(a, b) {\n  let a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3];\n  let b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3];\n  return (Math.abs(a0 - b0) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a0), Math.abs(b0)) &&\n          Math.abs(a1 - b1) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a1), Math.abs(b1)) &&\n          Math.abs(a2 - b2) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a2), Math.abs(b2)) &&\n          Math.abs(a3 - b3) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a3), Math.abs(b3)));\n}\n\n/**\n * Alias for {@link vec4.subtract}\n * @function\n */\nexport const sub = subtract;\n\n/**\n * Alias for {@link vec4.multiply}\n * @function\n */\nexport const mul = multiply;\n\n/**\n * Alias for {@link vec4.divide}\n * @function\n */\nexport const div = divide;\n\n/**\n * Alias for {@link vec4.distance}\n * @function\n */\nexport const dist = distance;\n\n/**\n * Alias for {@link vec4.squaredDistance}\n * @function\n */\nexport const sqrDist = squaredDistance;\n\n/**\n * Alias for {@link vec4.length}\n * @function\n */\nexport const len = length;\n\n/**\n * Alias for {@link vec4.squaredLength}\n * @function\n */\nexport const sqrLen = squaredLength;\n\n/**\n * Perform some operation over an array of vec4s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec4. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec4s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\nexport const forEach = (function() {\n  let vec = create();\n\n  return function(a, stride, offset, count, fn, arg) {\n    let i, l;\n    if(!stride) {\n      stride = 4;\n    }\n\n    if(!offset) {\n      offset = 0;\n    }\n\n    if(count) {\n      l = Math.min((count * stride) + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for(i = offset; i < l; i += stride) {\n      vec[0] = a[i]; vec[1] = a[i+1]; vec[2] = a[i+2]; vec[3] = a[i+3];\n      fn(vec, vec, arg);\n      a[i] = vec[0]; a[i+1] = vec[1]; a[i+2] = vec[2]; a[i+3] = vec[3];\n    }\n\n    return a;\n  };\n})();\n", "import * as glMatrix from \"./common.js\"\nimport * as mat3 from \"./mat3.js\"\nimport * as vec3 from \"./vec3.js\"\nimport * as vec4 from \"./vec4.js\"\n\n/**\n * Quaternion\n * @module quat\n */\n\n/**\n * Creates a new identity quat\n *\n * @returns {quat} a new quaternion\n */\nexport function create() {\n  let out = new glMatrix.ARRAY_TYPE(4);\n  if(glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n  out[3] = 1;\n  return out;\n}\n\n/**\n * Set a quat to the identity quaternion\n *\n * @param {quat} out the receiving quaternion\n * @returns {quat} out\n */\nexport function identity(out) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  return out;\n}\n\n/**\n * Sets a quat from the given angle and rotation axis,\n * then returns it.\n *\n * @param {quat} out the receiving quaternion\n * @param {vec3} axis the axis around which to rotate\n * @param {Number} rad the angle in radians\n * @returns {quat} out\n **/\nexport function setAxisAngle(out, axis, rad) {\n  rad = rad * 0.5;\n  let s = Math.sin(rad);\n  out[0] = s * axis[0];\n  out[1] = s * axis[1];\n  out[2] = s * axis[2];\n  out[3] = Math.cos(rad);\n  return out;\n}\n\n/**\n * Gets the rotation axis and angle for a given\n *  quaternion. If a quaternion is created with\n *  setAxisAngle, this method will return the same\n *  values as providied in the original parameter list\n *  OR functionally equivalent values.\n * Example: The quaternion formed by axis [0, 0, 1] and\n *  angle -90 is the same as the quaternion formed by\n *  [0, 0, 1] and 270. This method favors the latter.\n * @param  {vec3} out_axis  Vector receiving the axis of rotation\n * @param  {quat} q     Quaternion to be decomposed\n * @return {Number}     Angle, in radians, of the rotation\n */\nexport function getAxisAngle(out_axis, q) {\n  let rad = Math.acos(q[3]) * 2.0;\n  let s = Math.sin(rad / 2.0);\n  if (s > glMatrix.EPSILON) {\n    out_axis[0] = q[0] / s;\n    out_axis[1] = q[1] / s;\n    out_axis[2] = q[2] / s;\n  } else {\n    // If s is zero, return any axis (no rotation - axis does not matter)\n    out_axis[0] = 1;\n    out_axis[1] = 0;\n    out_axis[2] = 0;\n  }\n  return rad;\n}\n\n/**\n * Multiplies two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a the first operand\n * @param {quat} b the second operand\n * @returns {quat} out\n */\nexport function multiply(out, a, b) {\n  let ax = a[0], ay = a[1], az = a[2], aw = a[3];\n  let bx = b[0], by = b[1], bz = b[2], bw = b[3];\n\n  out[0] = ax * bw + aw * bx + ay * bz - az * by;\n  out[1] = ay * bw + aw * by + az * bx - ax * bz;\n  out[2] = az * bw + aw * bz + ax * by - ay * bx;\n  out[3] = aw * bw - ax * bx - ay * by - az * bz;\n  return out;\n}\n\n/**\n * Rotates a quaternion by the given angle about the X axis\n *\n * @param {quat} out quat receiving operation result\n * @param {quat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\nexport function rotateX(out, a, rad) {\n  rad *= 0.5;\n\n  let ax = a[0], ay = a[1], az = a[2], aw = a[3];\n  let bx = Math.sin(rad), bw = Math.cos(rad);\n\n  out[0] = ax * bw + aw * bx;\n  out[1] = ay * bw + az * bx;\n  out[2] = az * bw - ay * bx;\n  out[3] = aw * bw - ax * bx;\n  return out;\n}\n\n/**\n * Rotates a quaternion by the given angle about the Y axis\n *\n * @param {quat} out quat receiving operation result\n * @param {quat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\nexport function rotateY(out, a, rad) {\n  rad *= 0.5;\n\n  let ax = a[0], ay = a[1], az = a[2], aw = a[3];\n  let by = Math.sin(rad), bw = Math.cos(rad);\n\n  out[0] = ax * bw - az * by;\n  out[1] = ay * bw + aw * by;\n  out[2] = az * bw + ax * by;\n  out[3] = aw * bw - ay * by;\n  return out;\n}\n\n/**\n * Rotates a quaternion by the given angle about the Z axis\n *\n * @param {quat} out quat receiving operation result\n * @param {quat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\nexport function rotateZ(out, a, rad) {\n  rad *= 0.5;\n\n  let ax = a[0], ay = a[1], az = a[2], aw = a[3];\n  let bz = Math.sin(rad), bw = Math.cos(rad);\n\n  out[0] = ax * bw + ay * bz;\n  out[1] = ay * bw - ax * bz;\n  out[2] = az * bw + aw * bz;\n  out[3] = aw * bw - az * bz;\n  return out;\n}\n\n/**\n * Calculates the W component of a quat from the X, Y, and Z components.\n * Assumes that quaternion is 1 unit in length.\n * Any existing W component will be ignored.\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a quat to calculate W component of\n * @returns {quat} out\n */\nexport function calculateW(out, a) {\n  let x = a[0], y = a[1], z = a[2];\n\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = Math.sqrt(Math.abs(1.0 - x * x - y * y - z * z));\n  return out;\n}\n\n/**\n * Performs a spherical linear interpolation between two quat\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a the first operand\n * @param {quat} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat} out\n */\nexport function slerp(out, a, b, t) {\n  // benchmarks:\n  //    http://jsperf.com/quaternion-slerp-implementations\n  let ax = a[0], ay = a[1], az = a[2], aw = a[3];\n  let bx = b[0], by = b[1], bz = b[2], bw = b[3];\n\n  let omega, cosom, sinom, scale0, scale1;\n\n  // calc cosine\n  cosom = ax * bx + ay * by + az * bz + aw * bw;\n  // adjust signs (if necessary)\n  if ( cosom < 0.0 ) {\n    cosom = -cosom;\n    bx = - bx;\n    by = - by;\n    bz = - bz;\n    bw = - bw;\n  }\n  // calculate coefficients\n  if ( (1.0 - cosom) > glMatrix.EPSILON ) {\n    // standard case (slerp)\n    omega  = Math.acos(cosom);\n    sinom  = Math.sin(omega);\n    scale0 = Math.sin((1.0 - t) * omega) / sinom;\n    scale1 = Math.sin(t * omega) / sinom;\n  } else {\n    // \"from\" and \"to\" quaternions are very close\n    //  ... so we can do a linear interpolation\n    scale0 = 1.0 - t;\n    scale1 = t;\n  }\n  // calculate final values\n  out[0] = scale0 * ax + scale1 * bx;\n  out[1] = scale0 * ay + scale1 * by;\n  out[2] = scale0 * az + scale1 * bz;\n  out[3] = scale0 * aw + scale1 * bw;\n\n  return out;\n}\n\n/**\n * Generates a random quaternion\n *\n * @param {quat} out the receiving quaternion\n * @returns {quat} out\n */\nexport function random(out) {\n  // Implementation of http://planning.cs.uiuc.edu/node198.html\n  // TODO: Calling random 3 times is probably not the fastest solution\n  let u1 = glMatrix.RANDOM();\n  let u2 = glMatrix.RANDOM();\n  let u3 = glMatrix.RANDOM();\n\n  let sqrt1MinusU1 = Math.sqrt(1 - u1);\n  let sqrtU1 = Math.sqrt(u1);\n\n  out[0] = sqrt1MinusU1 * Math.sin(2.0 * Math.PI * u2);\n  out[1] = sqrt1MinusU1 * Math.cos(2.0 * Math.PI * u2);\n  out[2] = sqrtU1 * Math.sin(2.0 * Math.PI * u3);\n  out[3] = sqrtU1 * Math.cos(2.0 * Math.PI * u3);\n  return out;\n}\n\n/**\n * Calculates the inverse of a quat\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a quat to calculate inverse of\n * @returns {quat} out\n */\nexport function invert(out, a) {\n  let a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3];\n  let dot = a0*a0 + a1*a1 + a2*a2 + a3*a3;\n  let invDot = dot ? 1.0/dot : 0;\n\n  // TODO: Would be faster to return [0,0,0,0] immediately if dot == 0\n\n  out[0] = -a0*invDot;\n  out[1] = -a1*invDot;\n  out[2] = -a2*invDot;\n  out[3] = a3*invDot;\n  return out;\n}\n\n/**\n * Calculates the conjugate of a quat\n * If the quaternion is normalized, this function is faster than quat.inverse and produces the same result.\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a quat to calculate conjugate of\n * @returns {quat} out\n */\nexport function conjugate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a[3];\n  return out;\n}\n\n/**\n * Creates a quaternion from the given 3x3 rotation matrix.\n *\n * NOTE: The resultant quaternion is not normalized, so you should be sure\n * to renormalize the quaternion yourself where necessary.\n *\n * @param {quat} out the receiving quaternion\n * @param {mat3} m rotation matrix\n * @returns {quat} out\n * @function\n */\nexport function fromMat3(out, m) {\n  // Algorithm in Ken Shoemake's article in 1987 SIGGRAPH course notes\n  // article \"Quaternion Calculus and Fast Animation\".\n  let fTrace = m[0] + m[4] + m[8];\n  let fRoot;\n\n  if ( fTrace > 0.0 ) {\n    // |w| > 1/2, may as well choose w > 1/2\n    fRoot = Math.sqrt(fTrace + 1.0);  // 2w\n    out[3] = 0.5 * fRoot;\n    fRoot = 0.5/fRoot;  // 1/(4w)\n    out[0] = (m[5]-m[7])*fRoot;\n    out[1] = (m[6]-m[2])*fRoot;\n    out[2] = (m[1]-m[3])*fRoot;\n  } else {\n    // |w| <= 1/2\n    let i = 0;\n    if ( m[4] > m[0] )\n      i = 1;\n    if ( m[8] > m[i*3+i] )\n      i = 2;\n    let j = (i+1)%3;\n    let k = (i+2)%3;\n\n    fRoot = Math.sqrt(m[i*3+i]-m[j*3+j]-m[k*3+k] + 1.0);\n    out[i] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot;\n    out[3] = (m[j*3+k] - m[k*3+j]) * fRoot;\n    out[j] = (m[j*3+i] + m[i*3+j]) * fRoot;\n    out[k] = (m[k*3+i] + m[i*3+k]) * fRoot;\n  }\n\n  return out;\n}\n\n/**\n * Creates a quaternion from the given euler angle x, y, z.\n *\n * @param {quat} out the receiving quaternion\n * @param {x} Angle to rotate around X axis in degrees.\n * @param {y} Angle to rotate around Y axis in degrees.\n * @param {z} Angle to rotate around Z axis in degrees.\n * @returns {quat} out\n * @function\n */\nexport function fromEuler(out, x, y, z) {\n    let halfToRad = 0.5 * Math.PI / 180.0;\n    x *= halfToRad;\n    y *= halfToRad;\n    z *= halfToRad;\n\n    let sx = Math.sin(x);\n    let cx = Math.cos(x);\n    let sy = Math.sin(y);\n    let cy = Math.cos(y);\n    let sz = Math.sin(z);\n    let cz = Math.cos(z);\n\n    out[0] = sx * cy * cz - cx * sy * sz;\n    out[1] = cx * sy * cz + sx * cy * sz;\n    out[2] = cx * cy * sz - sx * sy * cz;\n    out[3] = cx * cy * cz + sx * sy * sz;\n\n    return out;\n}\n\n/**\n * Returns a string representation of a quatenion\n *\n * @param {quat} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\nexport function str(a) {\n  return 'quat(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ')';\n}\n\n/**\n * Creates a new quat initialized with values from an existing quaternion\n *\n * @param {quat} a quaternion to clone\n * @returns {quat} a new quaternion\n * @function\n */\nexport const clone = vec4.clone;\n\n/**\n * Creates a new quat initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {quat} a new quaternion\n * @function\n */\nexport const fromValues = vec4.fromValues;\n\n/**\n * Copy the values from one quat to another\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a the source quaternion\n * @returns {quat} out\n * @function\n */\nexport const copy = vec4.copy;\n\n/**\n * Set the components of a quat to the given values\n *\n * @param {quat} out the receiving quaternion\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {quat} out\n * @function\n */\nexport const set = vec4.set;\n\n/**\n * Adds two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a the first operand\n * @param {quat} b the second operand\n * @returns {quat} out\n * @function\n */\nexport const add = vec4.add;\n\n/**\n * Alias for {@link quat.multiply}\n * @function\n */\nexport const mul = multiply;\n\n/**\n * Scales a quat by a scalar number\n *\n * @param {quat} out the receiving vector\n * @param {quat} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {quat} out\n * @function\n */\nexport const scale = vec4.scale;\n\n/**\n * Calculates the dot product of two quat's\n *\n * @param {quat} a the first operand\n * @param {quat} b the second operand\n * @returns {Number} dot product of a and b\n * @function\n */\nexport const dot = vec4.dot;\n\n/**\n * Performs a linear interpolation between two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a the first operand\n * @param {quat} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat} out\n * @function\n */\nexport const lerp = vec4.lerp;\n\n/**\n * Calculates the length of a quat\n *\n * @param {quat} a vector to calculate length of\n * @returns {Number} length of a\n */\nexport const length = vec4.length;\n\n/**\n * Alias for {@link quat.length}\n * @function\n */\nexport const len = length;\n\n/**\n * Calculates the squared length of a quat\n *\n * @param {quat} a vector to calculate squared length of\n * @returns {Number} squared length of a\n * @function\n */\nexport const squaredLength = vec4.squaredLength;\n\n/**\n * Alias for {@link quat.squaredLength}\n * @function\n */\nexport const sqrLen = squaredLength;\n\n/**\n * Normalize a quat\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a quaternion to normalize\n * @returns {quat} out\n * @function\n */\nexport const normalize = vec4.normalize;\n\n/**\n * Returns whether or not the quaternions have exactly the same elements in the same position (when compared with ===)\n *\n * @param {quat} a The first quaternion.\n * @param {quat} b The second quaternion.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\nexport const exactEquals = vec4.exactEquals;\n\n/**\n * Returns whether or not the quaternions have approximately the same elements in the same position.\n *\n * @param {quat} a The first vector.\n * @param {quat} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\nexport const equals = vec4.equals;\n\n/**\n * Sets a quaternion to represent the shortest rotation from one\n * vector to another.\n *\n * Both vectors are assumed to be unit length.\n *\n * @param {quat} out the receiving quaternion.\n * @param {vec3} a the initial vector\n * @param {vec3} b the destination vector\n * @returns {quat} out\n */\nexport const rotationTo = (function() {\n  let tmpvec3 = vec3.create();\n  let xUnitVec3 = vec3.fromValues(1,0,0);\n  let yUnitVec3 = vec3.fromValues(0,1,0);\n\n  return function(out, a, b) {\n    let dot = vec3.dot(a, b);\n    if (dot < -0.999999) {\n      vec3.cross(tmpvec3, xUnitVec3, a);\n      if (vec3.len(tmpvec3) < 0.000001)\n        vec3.cross(tmpvec3, yUnitVec3, a);\n      vec3.normalize(tmpvec3, tmpvec3);\n      setAxisAngle(out, tmpvec3, Math.PI);\n      return out;\n    } else if (dot > 0.999999) {\n      out[0] = 0;\n      out[1] = 0;\n      out[2] = 0;\n      out[3] = 1;\n      return out;\n    } else {\n      vec3.cross(tmpvec3, a, b);\n      out[0] = tmpvec3[0];\n      out[1] = tmpvec3[1];\n      out[2] = tmpvec3[2];\n      out[3] = 1 + dot;\n      return normalize(out, out);\n    }\n  };\n})();\n\n/**\n * Performs a spherical linear interpolation with two control points\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a the first operand\n * @param {quat} b the second operand\n * @param {quat} c the third operand\n * @param {quat} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat} out\n */\nexport const sqlerp = (function () {\n  let temp1 = create();\n  let temp2 = create();\n\n  return function (out, a, b, c, d, t) {\n    slerp(temp1, a, d, t);\n    slerp(temp2, b, c, t);\n    slerp(out, temp1, temp2, 2 * t * (1 - t));\n\n    return out;\n  };\n}());\n\n/**\n * Sets the specified quaternion with values corresponding to the given\n * axes. Each axis is a vec3 and is expected to be unit length and\n * perpendicular to all other specified axes.\n *\n * @param {vec3} view  the vector representing the viewing direction\n * @param {vec3} right the vector representing the local \"right\" direction\n * @param {vec3} up    the vector representing the local \"up\" direction\n * @returns {quat} out\n */\nexport const setAxes = (function() {\n  let matr = mat3.create();\n\n  return function(out, view, right, up) {\n    matr[0] = right[0];\n    matr[3] = right[1];\n    matr[6] = right[2];\n\n    matr[1] = up[0];\n    matr[4] = up[1];\n    matr[7] = up[2];\n\n    matr[2] = -view[0];\n    matr[5] = -view[1];\n    matr[8] = -view[2];\n\n    return normalize(out, fromMat3(out, matr));\n  };\n})();\n", "/*\r\n * Copyright 2019 Google Inc. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *     http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nimport * as mat4 from 'gl-matrix/src/gl-matrix/mat4';\r\nimport * as vec3 from 'gl-matrix/src/gl-matrix/vec3';\r\nimport * as quat from 'gl-matrix/src/gl-matrix/quat';\r\n\r\nexport const PRIVATE = Symbol('@@webxr-polyfill/XRRigidTransform');\r\n\r\nexport default class XRRigidTransform {\r\n  // no arguments: identity transform\r\n  // (Float32Array): transform based on matrix\r\n  // (DOMPointReadOnly): transform based on position without any rotation\r\n  // (DOMPointReadOnly, DOMPointReadOnly): transform based on position and\r\n  // orientation quaternion\r\n  constructor() {\r\n    this[PRIVATE] = {\r\n      matrix: null,\r\n      position: null,\r\n      orientation: null,\r\n      inverse: null,\r\n    };\r\n\r\n    if (arguments.length === 0) {\r\n      this[PRIVATE].matrix = mat4.identity(new Float32Array(16));\r\n    } else if (arguments.length === 1) {\r\n      if (arguments[0] instanceof Float32Array) {\r\n        this[PRIVATE].matrix = arguments[0];\r\n      } else {\r\n        this[PRIVATE].position = this._getPoint(arguments[0]);\r\n        this[PRIVATE].orientation = DOMPointReadOnly.fromPoint({\r\n            x: 0, y: 0, z: 0, w: 1\r\n        });\r\n      }\r\n    } else if (arguments.length === 2) {\r\n      this[PRIVATE].position = this._getPoint(arguments[0]);\r\n      this[PRIVATE].orientation = this._getPoint(arguments[1]);\r\n    } else {\r\n      throw new Error(\"Too many arguments!\");\r\n    }\r\n\r\n    if (this[PRIVATE].matrix) {\r\n        // Decompose matrix into position and orientation.\r\n        let position = vec3.create();\r\n        mat4.getTranslation(position, this[PRIVATE].matrix);\r\n        this[PRIVATE].position = DOMPointReadOnly.fromPoint({\r\n            x: position[0],\r\n            y: position[1],\r\n            z: position[2]\r\n        });\r\n\r\n        let orientation = quat.create();\r\n        mat4.getRotation(orientation, this[PRIVATE].matrix);\r\n        this[PRIVATE].orientation = DOMPointReadOnly.fromPoint({\r\n          x: orientation[0],\r\n          y: orientation[1],\r\n          z: orientation[2],\r\n          w: orientation[3]\r\n        });\r\n    } else {\r\n        // Compose matrix from position and orientation.\r\n        this[PRIVATE].matrix = mat4.identity(new Float32Array(16));\r\n        mat4.fromRotationTranslation(\r\n          this[PRIVATE].matrix,\r\n          quat.fromValues(\r\n            this[PRIVATE].orientation.x,\r\n            this[PRIVATE].orientation.y,\r\n            this[PRIVATE].orientation.z,\r\n            this[PRIVATE].orientation.w),\r\n          vec3.fromValues(\r\n            this[PRIVATE].position.x,\r\n            this[PRIVATE].position.y,\r\n            this[PRIVATE].position.z)\r\n        );\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Try to convert arg to a DOMPointReadOnly if it isn't already one.\r\n   * @param {*} arg\r\n   * @return {DOMPointReadOnly}\r\n   */\r\n  _getPoint(arg) {\r\n    if (arg instanceof DOMPointReadOnly) {\r\n      return arg;\r\n    }\r\n\r\n    return DOMPointReadOnly.fromPoint(arg);\r\n  }\r\n\r\n  /**\r\n   * @return {Float32Array}\r\n   */\r\n  get matrix() { return this[PRIVATE].matrix; }\r\n\r\n  /**\r\n   * @return {DOMPointReadOnly}\r\n   */\r\n  get position() { return this[PRIVATE].position; }\r\n\r\n  /**\r\n   * @return {DOMPointReadOnly}\r\n   */\r\n  get orientation() { return this[PRIVATE].orientation; }\r\n\r\n  /**\r\n   * @return {XRRigidTransform}\r\n   */\r\n  get inverse() {\r\n    if (this[PRIVATE].inverse === null) {\r\n      let invMatrix = mat4.identity(new Float32Array(16));\r\n      mat4.invert(invMatrix, this[PRIVATE].matrix);\r\n      this[PRIVATE].inverse = new XRRigidTransform(invMatrix);\r\n      this[PRIVATE].inverse[PRIVATE].inverse = this;\r\n    }\r\n\r\n    return this[PRIVATE].inverse;\r\n  }\r\n}\r\n", "/*\r\n * Copyright 2017 Google Inc. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *     http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nimport XRRigidTransform from './XRRigidTransform';\r\nimport * as mat4 from 'gl-matrix/src/gl-matrix/mat4';\r\n\r\nexport const PRIVATE = Symbol('@@webxr-polyfill/XRSpace');\r\n\r\n// Not exposed, for reference only\r\nexport const XRSpaceSpecialTypes = [\r\n  \"grip\",\r\n  \"target-ray\"\r\n];\r\n\r\nexport default class XRSpace {\r\n  /**\r\n   * @param {string?} specialType\r\n   * @param {XRInputSource?} inputSource \r\n   */\r\n  constructor(specialType = null, inputSource = null) {\r\n    this[PRIVATE] = {\r\n      specialType,\r\n      inputSource,\r\n      // The transform for the space in the base space, along with it's inverse\r\n      baseMatrix: null,\r\n      inverseBaseMatrix: null,\r\n      lastFrameId: -1\r\n    };\r\n  }\r\n\r\n  /**\r\n   * @return {string?}\r\n   */\r\n  get _specialType() {\r\n    return this[PRIVATE].specialType;\r\n  }\r\n\r\n  /**\r\n   * @return {XRInputSource?}\r\n   */\r\n  get _inputSource() {\r\n    return this[PRIVATE].inputSource;\r\n  }\r\n\r\n  /**\r\n   * NON-STANDARD\r\n   * Trigger an update for this space's base pose if necessary\r\n   * @param {XRDevice} device\r\n   * @param {Number} frameId\r\n   */\r\n  _ensurePoseUpdated(device, frameId) {\r\n    if (frameId == this[PRIVATE].lastFrameId) return;\r\n    this[PRIVATE].lastFrameId = frameId;\r\n    this._onPoseUpdate(device);\r\n  }\r\n\r\n  /**\r\n   * NON-STANDARD\r\n   * Called when this space's base pose needs to be updated\r\n   * @param {XRDevice} device\r\n   */\r\n  _onPoseUpdate(device) {\r\n    if (this[PRIVATE].specialType == 'viewer') {\r\n      this._baseMatrix = device.getBasePoseMatrix();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * NON-STANDARD\r\n   * @param {Float32Array(16)} matrix\r\n   */\r\n  set _baseMatrix(matrix) {\r\n    this[PRIVATE].baseMatrix = matrix;\r\n    this[PRIVATE].inverseBaseMatrix = null;\r\n  }\r\n\r\n  /**\r\n   * NON-STANDARD\r\n   * @return {Float32Array(16)}\r\n   */\r\n  get _baseMatrix() {\r\n    if (!this[PRIVATE].baseMatrix) {\r\n      if (this[PRIVATE].inverseBaseMatrix) {\r\n        this[PRIVATE].baseMatrix = new Float32Array(16);\r\n        mat4.invert(this[PRIVATE].baseMatrix, this[PRIVATE].inverseBaseMatrix);\r\n      }\r\n    }\r\n    return this[PRIVATE].baseMatrix;\r\n  }\r\n\r\n  /**\r\n   * NON-STANDARD\r\n   * @param {Float32Array(16)} matrix\r\n   */\r\n  set _inverseBaseMatrix(matrix) {\r\n    this[PRIVATE].inverseBaseMatrix = matrix;\r\n    this[PRIVATE].baseMatrix = null;\r\n  }\r\n\r\n  /**\r\n   * NON-STANDARD\r\n   * @return {Float32Array(16)}\r\n   */\r\n  get _inverseBaseMatrix() {\r\n    if (!this[PRIVATE].inverseBaseMatrix) {\r\n      if (this[PRIVATE].baseMatrix) {\r\n        this[PRIVATE].inverseBaseMatrix = new Float32Array(16);\r\n        mat4.invert(this[PRIVATE].inverseBaseMatrix, this[PRIVATE].baseMatrix);\r\n      }\r\n    }\r\n    return this[PRIVATE].inverseBaseMatrix;\r\n  }\r\n\r\n  /**\r\n   * NON-STANDARD\r\n   * Gets the transform of the given space in this space\r\n   *\r\n   * @param {XRSpace} space\r\n   * @return {XRRigidTransform}\r\n   */\r\n  _getSpaceRelativeTransform(space) {\r\n    if (!this._inverseBaseMatrix || !space._baseMatrix) {\r\n      return null;\r\n    }\r\n    let out = new Float32Array(16);\r\n    mat4.multiply(out, this._inverseBaseMatrix, space._baseMatrix);\r\n    return new XRRigidTransform(out);\r\n  }\r\n}\r\n", "/*\r\n * Copyright 2017 Google Inc. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *     http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nimport XRSpace from './XRSpace';\r\nimport * as mat4 from 'gl-matrix/src/gl-matrix/mat4';\r\n\r\nconst DEFAULT_EMULATION_HEIGHT = 1.6;\r\n\r\nexport const PRIVATE = Symbol('@@webxr-polyfill/XRReferenceSpace');\r\n\r\nexport const XRReferenceSpaceTypes = [\r\n  'viewer',\r\n  'local',\r\n  'local-floor',\r\n  'bounded-floor',\r\n  'unbounded' // TODO: 'unbounded' is not supported by the polyfill.\r\n];\r\n\r\n/**\r\n * @param {string} type \r\n * @return {boolean}\r\n */\r\nfunction isFloor(type) {\r\n  return type === 'bounded-floor' || type === 'local-floor';\r\n}\r\n\r\nexport default class XRReferenceSpace extends XRSpace {\r\n  /**\r\n   * Optionally takes a `transform` from a device's requestFrameOfReferenceMatrix\r\n   * so device's can provide their own transforms for stage (or if they\r\n   * wanted to override eye-level/head-model).\r\n   *\r\n   * @param {XRReferenceSpaceType} type\r\n   * @param {Float32Array?} transform\r\n   */\r\n  constructor(type, transform = null) {\r\n    if (!XRReferenceSpaceTypes.includes(type)) {\r\n      throw new Error(`XRReferenceSpaceType must be one of ${XRReferenceSpaceTypes}`);\r\n    }\r\n\r\n    super(type);\r\n\r\n    // If stage emulation is disabled, and this is a stage frame of reference,\r\n    // and the XRDevice did not provide a transform, this is an invalid\r\n    // configuration and we shouldn't emulate here. XRSession.requestFrameOfReference\r\n    // should check this as well.\r\n    if (type === 'bounded-floor' && !transform) {\r\n      throw new Error(`XRReferenceSpace cannot use 'bounded-floor' type if the platform does not provide the floor level`);\r\n    }\r\n\r\n    // If we're using floor-level reference and no transform, we're emulating.\r\n    // Set emulated height from option or use the default\r\n    if (isFloor(type) && !transform) {\r\n      // Apply an emulated height to the `y` translation\r\n      transform = mat4.identity(new Float32Array(16));\r\n      transform[13] = DEFAULT_EMULATION_HEIGHT;\r\n    }\r\n\r\n    this._inverseBaseMatrix = transform || mat4.identity(new Float32Array(16));\r\n\r\n    this[PRIVATE] = {\r\n      type,\r\n      transform,\r\n      originOffset : mat4.identity(new Float32Array(16)),\r\n    };\r\n  }\r\n\r\n  /**\r\n   * NON-STANDARD\r\n   * Takes a base pose model matrix and transforms it by the\r\n   * frame of reference.\r\n   *\r\n   * @param {Float32Array} out\r\n   * @param {Float32Array} pose\r\n   */\r\n  _transformBasePoseMatrix(out, pose) {\r\n    mat4.multiply(out, this._inverseBaseMatrix, pose);\r\n  }\r\n\r\n  /**\r\n   * NON-STANDARD\r\n   * \r\n   * @return {Float32Array}\r\n   */\r\n  _originOffsetMatrix() {\r\n    return this[PRIVATE].originOffset;\r\n  }\r\n\r\n  /**\r\n   * transformMatrix = Inv(OriginOffsetMatrix) * transformMatrix\r\n   * @param {Float32Array} transformMatrix \r\n   */\r\n  _adjustForOriginOffset(transformMatrix) {\r\n    let inverseOriginOffsetMatrix = new Float32Array(16);\r\n    mat4.invert(inverseOriginOffsetMatrix, this[PRIVATE].originOffset);\r\n    mat4.multiply(transformMatrix, inverseOriginOffsetMatrix, transformMatrix);\r\n  }\r\n\r\n  /**\r\n   * Gets the transform of the given space in this space\r\n   *\r\n   * @param {XRSpace} space\r\n   * @return {XRRigidTransform}\r\n   */\r\n  _getSpaceRelativeTransform(space) {\r\n    let transform = super._getSpaceRelativeTransform(space);\r\n    // TODO: Optimize away double creation of XRRigidTransform\r\n    this._adjustForOriginOffset(transform.matrix)\r\n    return new XRRigidTransform(transform.matrix);\r\n  }\r\n\r\n  /**\r\n   * Doesn't update the bound geometry for bounded reference spaces.\r\n   * @param {XRRigidTransform} additionalOffset\r\n   * @return {XRReferenceSpace}\r\n  */\r\n  getOffsetReferenceSpace(additionalOffset) {\r\n    let newSpace = new XRReferenceSpace(\r\n      this[PRIVATE].type,\r\n      this[PRIVATE].transform,\r\n      this[PRIVATE].bounds);\r\n\r\n    mat4.multiply(newSpace[PRIVATE].originOffset, this[PRIVATE].originOffset, additionalOffset.matrix);\r\n    return newSpace;\r\n  }\r\n}\r\n", "/*\r\n * Copyright 2017 Google Inc. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *     http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nimport EventTarget from '../lib/EventTarget';\r\nimport { XRReferenceSpaceTypes } from './XRReferenceSpace';\r\n\r\nexport const PRIVATE = Symbol('@@webxr-polyfill/XR');\r\n\r\nexport const XRSessionModes = ['inline', 'immersive-vr', 'immersive-ar'];\r\n\r\nconst DEFAULT_SESSION_OPTIONS = {\r\n  'inline': {\r\n    requiredFeatures: ['viewer'],\r\n    optionalFeatures: [],\r\n  },\r\n  'immersive-vr': {\r\n    requiredFeatures: ['viewer', 'local'],\r\n    optionalFeatures: [],\r\n  },\r\n  'immersive-ar': {\r\n    requiredFeatures: ['viewer', 'local'],\r\n    optionalFeatures: [],\r\n  }\r\n};\r\n\r\nconst POLYFILL_REQUEST_SESSION_ERROR = \r\n`Polyfill Error: Must call navigator.xr.isSessionSupported() with any XRSessionMode\r\nor navigator.xr.requestSession('inline') prior to requesting an immersive\r\nsession. This is a limitation specific to the WebXR Polyfill and does not apply\r\nto native implementations of the API.`\r\n\r\nexport default class XRSystem extends EventTarget {\r\n  /**\r\n   * Receives a promise of an XRDevice, so that the polyfill\r\n   * can pass in some initial checks to asynchronously provide XRDevices\r\n   * if content immediately requests `requestDevice()`.\r\n   *\r\n   * @param {Promise<XRDevice>} devicePromise\r\n   */\r\n  constructor(devicePromise) {\r\n    super();\r\n    this[PRIVATE] = {\r\n      device: null,\r\n      devicePromise,\r\n      immersiveSession: null,\r\n      inlineSessions: new Set(),\r\n    };\r\n\r\n    devicePromise.then((device) => { this[PRIVATE].device = device; });\r\n  }\r\n\r\n  /**\r\n   * @param {XRSessionMode} mode\r\n   * @return {Promise<boolean>}\r\n   */\r\n  async isSessionSupported(mode) {\r\n    // Always ensure that we wait for the device promise to resolve.\r\n    if (!this[PRIVATE].device) {\r\n      await this[PRIVATE].devicePromise;\r\n    }\r\n\r\n    // 'inline' is always guaranteed to be supported.\r\n    if (mode != 'inline') {\r\n      return Promise.resolve(this[PRIVATE].device.isSessionSupported(mode));\r\n    } \r\n\r\n    return Promise.resolve(true);\r\n  }\r\n\r\n  /**\r\n   * @param {XRSessionMode} mode\r\n   * @param {XRSessionInit} options\r\n   * @return {Promise<XRSession>}\r\n   */\r\n  async requestSession(mode, options) {\r\n    // If the device hasn't resolved yet, wait for it and try again.\r\n    if (!this[PRIVATE].device) {\r\n      if (mode != 'inline') {\r\n        // Because requesting immersive modes requires a user gesture, we can't\r\n        // wait for a promise to resolve before making the real session request.\r\n        // For that reason, we'll throw a polyfill-specific error here.\r\n        throw new Error(POLYFILL_REQUEST_SESSION_ERROR);\r\n      } else {\r\n        await this[PRIVATE].devicePromise;\r\n      }\r\n    }\r\n\r\n    if (!XRSessionModes.includes(mode)) {\r\n      throw new TypeError(\r\n          `The provided value '${mode}' is not a valid enum value of type XRSessionMode`);\r\n    }\r\n\r\n    // Resolve which of the requested features are supported and reject if a\r\n    // required feature isn't available.\r\n    const defaultOptions = DEFAULT_SESSION_OPTIONS[mode];\r\n    const requiredFeatures = defaultOptions.requiredFeatures.concat(\r\n        options && options.requiredFeatures ? options.requiredFeatures : []);\r\n    const optionalFeatures = defaultOptions.optionalFeatures.concat(\r\n        options && options.optionalFeatures ? options.optionalFeatures : []);\r\n    const enabledFeatures = new Set();\r\n\r\n    let requirementsFailed = false;\r\n    for (let feature of requiredFeatures) {\r\n      if (!this[PRIVATE].device.isFeatureSupported(feature)) {\r\n        console.error(`The required feature '${feature}' is not supported`);\r\n        requirementsFailed = true;\r\n      } else {\r\n        enabledFeatures.add(feature);\r\n      }\r\n    }\r\n\r\n    if (requirementsFailed) {\r\n      throw new DOMException('Session does not support some required features', 'NotSupportedError');\r\n    }\r\n\r\n    for (let feature of optionalFeatures) {\r\n      if (!this[PRIVATE].device.isFeatureSupported(feature)) {\r\n        console.log(`The optional feature '${feature}' is not supported`);\r\n      } else {\r\n        enabledFeatures.add(feature);\r\n      }\r\n    }\r\n\r\n    // Call device's requestSession, which does some initialization (1.1 \r\n    // fallback calls `vrDisplay.requestPresent()` for example). Could throw \r\n    // due to missing user gesture.\r\n    const sessionId = await this[PRIVATE].device.requestSession(mode, enabledFeatures);\r\n    const session = new XRSession(this[PRIVATE].device, mode, sessionId);\r\n\r\n    if (mode == 'inline') {\r\n      this[PRIVATE].inlineSessions.add(session);\r\n    } else {\r\n      this[PRIVATE].immersiveSession = session;\r\n    }\r\n\r\n    const onSessionEnd = () => {\r\n      if (mode == 'inline') {\r\n        this[PRIVATE].inlineSessions.delete(session);\r\n      } else {\r\n        this[PRIVATE].immersiveSession = null;\r\n      }\r\n      session.removeEventListener('end', onSessionEnd);\r\n    };\r\n    session.addEventListener('end', onSessionEnd);\r\n\r\n    return session;\r\n  }\r\n}\r\n", "/*\r\n * Copyright 2017 Google Inc. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the 'License');\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *     http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an 'AS IS' BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\n/**\r\n * A library for including application global. Similar to\r\n * logic provided by `rollup-plugin-node-globals` without the\r\n * rest of the functionality needed.\r\n */\r\n\r\nconst _global = typeof global !== 'undefined' ? global :\r\n                typeof self !== 'undefined' ? self :\r\n                typeof window !== 'undefined' ? window : {};\r\n\r\nexport default _global;\r\n", "/*\r\n * Copyright 2017 Google Inc. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *     http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\n/**\r\n * A wrapper around `performance.now()` so that we can run unit tests\r\n * in Node.\r\n */\r\n\r\nimport GLOBAL from './global';\r\n\r\nlet now;\r\nif ('performance' in GLOBAL === false) {\r\n  let startTime = Date.now();\r\n  now = () => Date.now() - startTime;\r\n} else {\r\n  now = () => performance.now();\r\n}\r\n\r\nexport default now;\r\n", "/*\r\n * Copyright 2019 Google Inc. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *     http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nexport const PRIVATE = Symbol('@@webxr-polyfill/XRPose');\r\n\r\nexport default class XRPose {\r\n  /**\r\n   * @param {XRRigidTransform} transform \r\n   * @param {boolean} emulatedPosition \r\n   */\r\n  constructor(transform, emulatedPosition) {\r\n    this[PRIVATE] = {\r\n      transform,\r\n      emulatedPosition,\r\n    };\r\n  }\r\n\r\n  /**\r\n   * @return {XRRigidTransform}\r\n   */\r\n  get transform() { return this[PRIVATE].transform; }\r\n\r\n  /**\r\n   * @return {bool}\r\n   */\r\n  get emulatedPosition() { return this[PRIVATE].emulatedPosition; }\r\n}\r\n", "/*\r\n * Copyright 2017 Google Inc. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *     http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nimport XRPose from './XRPose';\r\n\r\nexport const PRIVATE = Symbol('@@webxr-polyfill/XRViewerPose');\r\n\r\nexport default class XRViewerPose extends XRPose {\r\n  /**\r\n   * @param {XRDevice} device\r\n   */\r\n  constructor(transform, views, emulatedPosition = false) {\r\n    super(transform, emulatedPosition);\r\n    this[PRIVATE] = {\r\n      views\r\n    };\r\n  }\r\n\r\n  /**\r\n   * @return {Array<XRView>}\r\n   */\r\n  get views() {\r\n    return this[PRIVATE].views;\r\n  }\r\n}\r\n", "/*\r\n * Copyright 2017 Google Inc. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *     http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nexport const PRIVATE = Symbol('@@webxr-polyfill/XRViewport');\r\n\r\nexport default class XRViewport {\r\n  /**\r\n   * Takes a proxy object that this viewport's XRView\r\n   * updates and we serve here to match API.\r\n   *\r\n   * @param {Object} target\r\n   */\r\n  constructor(target) {\r\n    this[PRIVATE] = { target };\r\n  }\r\n\r\n  /**\r\n   * @return {number}\r\n   */\r\n  get x() { return this[PRIVATE].target.x; }\r\n\r\n  /**\r\n   * @return {number}\r\n   */\r\n  get y() { return this[PRIVATE].target.y; }\r\n\r\n  /**\r\n   * @return {number}\r\n   */\r\n  get width() { return this[PRIVATE].target.width; }\r\n\r\n  /**\r\n   * @return {number}\r\n   */\r\n  get height() { return this[PRIVATE].target.height; }\r\n}\r\n", "/*\r\n * Copyright 2017 Google Inc. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *     http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nimport XRViewport from './XRViewport';\r\nimport XRRigidTransform from './XRRigidTransform';\r\n\r\nconst XREyes = ['left', 'right', 'none'];\r\n\r\nexport const PRIVATE = Symbol('@@webxr-polyfill/XRView');\r\n\r\nexport default class XRView {\r\n  /**\r\n   * @param {XRDevice} device\r\n   * @param {XREye} eye\r\n   * @param {number} sessionId\r\n   * @param {number} viewIndex\r\n   */\r\n  constructor(device, transform, eye, sessionId, viewIndex) {\r\n    if (!XREyes.includes(eye)) {\r\n      throw new Error(`XREye must be one of: ${XREyes}`);\r\n    }\r\n\r\n    // Create a shared object that can be updated by other code\r\n    // that can update XRViewport values to adhere to API.\r\n    // Ugly but it works.\r\n    const temp = Object.create(null);\r\n    const viewport = new XRViewport(temp);\r\n\r\n    this[PRIVATE] = {\r\n      device,\r\n      eye,\r\n      viewport,\r\n      temp,\r\n      sessionId,\r\n      transform,\r\n      viewIndex,\r\n    };\r\n  }\r\n\r\n  /**\r\n   * @return {XREye}\r\n   */\r\n  get eye() { return this[PRIVATE].eye; }\r\n\r\n  /**\r\n   * @return {Float32Array}\r\n   */\r\n  get projectionMatrix() {\r\n    return this[PRIVATE].device.getProjectionMatrix(this.eye, this[PRIVATE].viewIndex);\r\n  }\r\n\r\n  /**\r\n   * @return {XRRigidTransform}\r\n   */\r\n  get transform() { return this[PRIVATE].transform; }\r\n\r\n  /**\r\n   * NON-STANDARD\r\n   *\r\n   * `getViewport` is now exposed via XRWebGLLayer instead of XRView.\r\n   * XRWebGLLayer delegates all the actual work to this function.\r\n   *\r\n   * @param {XRWebGLLayer} layer\r\n   * @return {XRViewport?}\r\n   */\r\n  _getViewport(layer) {\r\n    if (this[PRIVATE].device.getViewport(this[PRIVATE].sessionId,\r\n                                           this.eye,\r\n                                           layer,\r\n                                           this[PRIVATE].temp,\r\n                                           this[PRIVATE].viewIndex)) {\r\n      return this[PRIVATE].viewport;\r\n    }\r\n    return undefined;\r\n  }\r\n}\r\n", "/*\r\n * Copyright 2017 Google Inc. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *     http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nimport {PRIVATE as SESSION_PRIVATE} from './XRSession';\r\nimport XRViewerPose from './XRViewerPose';\r\nimport XRView from './XRView';\r\n\r\nexport const PRIVATE = Symbol('@@webxr-polyfill/XRFrame');\r\n\r\nconst NON_ACTIVE_MSG = \"XRFrame access outside the callback that produced it is invalid.\";\r\nconst NON_ANIMFRAME_MSG = \"getViewerPose can only be called on XRFrame objects passed to XRSession.requestAnimationFrame callbacks.\";\r\n\r\nlet NEXT_FRAME_ID = 0;\r\n\r\nexport default class XRFrame {\r\n  /**\r\n   * @param {XRDevice} device\r\n   * @param {XRSession} session\r\n   * @param {number} sessionId\r\n   */\r\n  constructor(device, session, sessionId) {\r\n    this[PRIVATE] = {\r\n      id: ++NEXT_FRAME_ID,\r\n      active: false,\r\n      animationFrame: false,\r\n      device,\r\n      session,\r\n      sessionId\r\n    };\r\n  }\r\n\r\n  /**\r\n   * @return {XRSession} session\r\n   */\r\n  get session() { return this[PRIVATE].session; }\r\n\r\n  /**\r\n   * @param {XRReferenceSpace} referenceSpace\r\n   * @return {XRViewerPose?}\r\n   */\r\n  getViewerPose(referenceSpace) {\r\n    if (!this[PRIVATE].animationFrame) {\r\n      throw new DOMException(NON_ANIMFRAME_MSG, 'InvalidStateError');\r\n    }\r\n    if (!this[PRIVATE].active) {\r\n      throw new DOMException(NON_ACTIVE_MSG, 'InvalidStateError');\r\n    }\r\n\r\n    const device = this[PRIVATE].device;\r\n    const session = this[PRIVATE].session;\r\n\r\n    session[SESSION_PRIVATE].viewerSpace._ensurePoseUpdated(device, this[PRIVATE].id);\r\n    referenceSpace._ensurePoseUpdated(device, this[PRIVATE].id);\r\n\r\n    let viewerTransform = referenceSpace._getSpaceRelativeTransform(session[SESSION_PRIVATE].viewerSpace);\r\n\r\n    const views = [];\r\n    for (const viewSpace of session[SESSION_PRIVATE].viewSpaces) {\r\n      viewSpace._ensurePoseUpdated(device, this[PRIVATE].id);\r\n      let viewTransform = referenceSpace._getSpaceRelativeTransform(viewSpace);\r\n      let view = new XRView(device, viewTransform, viewSpace.eye, this[PRIVATE].sessionId, viewSpace.viewIndex);\r\n      views.push(view);\r\n    }\r\n    let viewerPose = new XRViewerPose(viewerTransform, views, false /* TODO: emulatedPosition */);\r\n\r\n    return viewerPose;\r\n  }\r\n\r\n  /**\r\n   * @param {XRSpace} space\r\n   * @param {XRSpace} baseSpace\r\n   * @return {XRPose?} pose\r\n   */\r\n  getPose(space, baseSpace) {\r\n    if (!this[PRIVATE].active) {\r\n      throw new DOMException(NON_ACTIVE_MSG, 'InvalidStateError');\r\n    }\r\n\r\n    const device = this[PRIVATE].device;\r\n    if (space._specialType === \"target-ray\" || space._specialType === \"grip\") {\r\n      // TODO: Stop special-casing input.\r\n      return device.getInputPose(\r\n        space._inputSource, baseSpace, space._specialType);\r\n    } else {\r\n      space._ensurePoseUpdated(device, this[PRIVATE].id);\r\n      baseSpace._ensurePoseUpdated(device, this[PRIVATE].id);\r\n      let transform = baseSpace._getSpaceRelativeTransform(space);\r\n      if (!transform) { return null; }\r\n      return new XRPose(transform, false /* TODO: emulatedPosition */);\r\n    }\r\n\r\n    return null;\r\n  }\r\n}\r\n", "/*\r\n * Copyright 2019 Google Inc. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *     http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nexport const PRIVATE = Symbol('@@webxr-polyfill/XRRenderState');\r\n\r\nexport const XRRenderStateInit = Object.freeze({\r\n  depthNear: 0.1,\r\n  depthFar: 1000.0,\r\n  inlineVerticalFieldOfView: null,\r\n  baseLayer: null\r\n});\r\n\r\nexport default class XRRenderState {\r\n  /**\r\n   * @param {Object?} stateInit\r\n   */\r\n  constructor(stateInit = {}) {\r\n    const config = Object.assign({}, XRRenderStateInit, stateInit);\r\n    this[PRIVATE] = { config };\r\n  }\r\n\r\n  /**\r\n   * @return {number}\r\n   */\r\n  get depthNear() { return this[PRIVATE].config.depthNear; }\r\n\r\n  /**\r\n   * @return {number}\r\n   */\r\n  get depthFar() { return this[PRIVATE].config.depthFar; }\r\n\r\n  /**\r\n   * @return {number?}\r\n   */\r\n  get inlineVerticalFieldOfView() { return this[PRIVATE].config.inlineVerticalFieldOfView; }\r\n\r\n  /**\r\n   * @return {XRWebGLLayer}\r\n   */\r\n  get baseLayer() { return this[PRIVATE].config.baseLayer; }\r\n}\r\n", "/*\r\n * Copyright 2018 Google Inc. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *     http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nexport const PRIVATE = Symbol('@@webxr-polyfill/XRInputSourceEvent');\r\n\r\nexport default class XRInputSourceEvent extends Event {\r\n  /**\r\n   * @param {string} type\r\n   * @param {Object} eventInitDict\r\n   */\r\n  constructor(type, eventInitDict) {\r\n    super(type, eventInitDict);\r\n    this[PRIVATE] = {\r\n      frame: eventInitDict.frame,\r\n      inputSource: eventInitDict.inputSource\r\n    };\r\n    // safari bug:  super() seems to return object of type Event, with Event as prototype\r\n    Object.setPrototypeOf(this, XRInputSourceEvent.prototype);\r\n  }\r\n\r\n  /**\r\n   * @return {XRFrame}\r\n   */\r\n  get frame() { return this[PRIVATE].frame; }\r\n\r\n  /**\r\n   * @return {XRInputSource}\r\n   */\r\n  get inputSource() { return this[PRIVATE].inputSource; }\r\n}", "/*\r\n * Copyright 2018 Google Inc. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *     http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nexport const PRIVATE = Symbol('@@webxr-polyfill/XRSessionEvent');\r\n\r\nexport default class XRSessionEvent extends Event {\r\n  /**\r\n   * @param {string} type\r\n   * @param {Object} eventInitDict\r\n   */\r\n  constructor(type, eventInitDict) {\r\n    super(type, eventInitDict);\r\n    this[PRIVATE] = {\r\n      session: eventInitDict.session\r\n    };\r\n    // safari bug:  super() seems to return object of type Event, with Event as prototype\r\n    Object.setPrototypeOf(this, XRSessionEvent.prototype);\r\n  }\r\n\r\n  /**\r\n   * @return {XRSession}\r\n   */\r\n  get session() { return this[PRIVATE].session; }\r\n}", "/*\r\n * Copyright 2018 Google Inc. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *     http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nexport const PRIVATE = Symbol('@@webxr-polyfill/XRInputSourcesChangeEvent');\r\n\r\nexport default class XRInputSourcesChangeEvent extends Event {\r\n  /**\r\n   * @param {string} type\r\n   * @param {Object} eventInitDict\r\n   */\r\n  constructor(type, eventInitDict) {\r\n    super(type, eventInitDict);\r\n    this[PRIVATE] = {\r\n      session: eventInitDict.session,\r\n      added: eventInitDict.added,\r\n      removed: eventInitDict.removed\r\n    };\r\n    // safari bug:  super() seems to return object of type Event, with Event as prototype\r\n    Object.setPrototypeOf(this, XRInputSourcesChangeEvent.prototype);\r\n  }\r\n\r\n  /**\r\n   * @return {XRSession}\r\n   */\r\n  get session() { return this[PRIVATE].session; }\r\n\r\n  /**\r\n   * @return {Array<XRInputSource>}\r\n   */\r\n  get added() { return this[PRIVATE].added; }\r\n\r\n  /**\r\n   * @return {Array<XRInputSource>}\r\n   */\r\n  get removed() { return this[PRIVATE].removed; }\r\n}", "/*\r\n * Copyright 2017 Google Inc. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *     http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nimport EventTarget from '../lib/EventTarget';\r\nimport now from '../lib/now';\r\nimport XRFrame, {PRIVATE as XRFRAME_PRIVATE} from './XRFrame';\r\nimport XRReferenceSpace, {\r\n  XRReferenceSpaceTypes\r\n} from './XRReferenceSpace';\r\nimport XRRenderState from './XRRenderState';\r\nimport XRInputSourceEvent from './XRInputSourceEvent';\r\nimport XRSessionEvent from './XRSessionEvent';\r\nimport XRSpace from './XRSpace';\r\nimport XRInputSourcesChangeEvent from './XRInputSourcesChangeEvent';\r\n\r\nexport const PRIVATE = Symbol('@@webxr-polyfill/XRSession');\r\n\r\n// Nonstandard helper class. Not exposed by the API anywhere.\r\nclass XRViewSpace extends XRSpace {\r\n  constructor(eye) {\r\n    super(eye);\r\n  }\r\n\r\n  get eye() {\r\n    return this._specialType;\r\n  }\r\n\r\n  /**\r\n   * Called when this space's base pose needs to be updated\r\n   * @param {XRDevice} device\r\n   */\r\n  _onPoseUpdate(device) {\r\n    this._inverseBaseMatrix = device.getBaseViewMatrix(this._specialType);\r\n  }\r\n}\r\n\r\nexport default class XRSession extends EventTarget {\r\n  /**\r\n   * @param {XRDevice} device\r\n   * @param {XRSessionMode} mode\r\n   * @param {number} id\r\n   */\r\n  constructor(device, mode, id) {\r\n    super();\r\n\r\n    let immersive = mode != 'inline';\r\n\r\n    // inlineVerticalFieldOfView must initialize to PI/2 for inline sessions.\r\n    let initialRenderState = new XRRenderState({\r\n      inlineVerticalFieldOfView: immersive ? null : Math.PI * 0.5\r\n    });\r\n\r\n    const defaultViewSpaces = immersive ?\r\n      [new XRViewSpace('left'), new XRViewSpace('right')] :\r\n      [new XRViewSpace('none')];\r\n    Object.freeze(defaultViewSpaces);\r\n\r\n    this[PRIVATE] = {\r\n      device,\r\n      mode,\r\n      immersive,\r\n      ended: false,\r\n      suspended: false,\r\n      frameCallbacks: [],\r\n      currentFrameCallbacks: null,\r\n      frameHandle: 0,\r\n      deviceFrameHandle: null,\r\n      id,\r\n      activeRenderState: initialRenderState,\r\n      pendingRenderState: null,\r\n      viewerSpace: new XRReferenceSpace(\"viewer\"),\r\n      get viewSpaces() { return device.getViewSpaces(mode) || defaultViewSpaces; },\r\n      currentInputSources: []\r\n    };\r\n\r\n    // Single handler for animation frames from the device. The spec says this must\r\n    // run on every candidate frame even if there are no callbacks queued up.\r\n    this[PRIVATE].onDeviceFrame = () => {\r\n      if (this[PRIVATE].ended || this[PRIVATE].suspended) {\r\n        return;\r\n      }\r\n\r\n      // Queue next frame\r\n      this[PRIVATE].deviceFrameHandle = null;\r\n      this[PRIVATE].startDeviceFrameLoop();\r\n\r\n      // - If session\u2019s pending render state is not null, apply the pending render state.\r\n      if (this[PRIVATE].pendingRenderState !== null) {\r\n        // Apply pending render state.\r\n        this[PRIVATE].activeRenderState = new XRRenderState(this[PRIVATE].pendingRenderState);\r\n        this[PRIVATE].pendingRenderState = null;\r\n\r\n        // Report to the device since it'll need to handle the layer for rendering.\r\n        if (this[PRIVATE].activeRenderState.baseLayer) {\r\n          this[PRIVATE].device.onBaseLayerSet(\r\n            this[PRIVATE].id,\r\n            this[PRIVATE].activeRenderState.baseLayer);\r\n        }\r\n      }\r\n\r\n      // - If session\u2019s renderState's baseLayer is null, abort these steps.\r\n      if (this[PRIVATE].activeRenderState.baseLayer === null) {\r\n        return;\r\n      }\r\n\r\n      // - If session\u2019s mode is \"inline\" and session\u2019s renderState's output canvas is null,\r\n      //   abort these steps.\r\n      // ???\r\n\r\n      const frame = new XRFrame(device, this, this[PRIVATE].id);\r\n\r\n      // - Let callbacks be a list of the entries in session\u2019s list of animation frame\r\n      //   callback, in the order in which they were added to the list.\r\n      const callbacks = this[PRIVATE].currentFrameCallbacks = this[PRIVATE].frameCallbacks;\r\n\r\n      // - Set session\u2019s list of animation frame callbacks to the empty list.\r\n      this[PRIVATE].frameCallbacks = [];\r\n\r\n      // - Set frame\u2019s active boolean to true.\r\n      frame[XRFRAME_PRIVATE].active = true;\r\n\r\n      // - Set frame\u2019s animationFrame boolean to true.\r\n      frame[XRFRAME_PRIVATE].animationFrame = true;\r\n\r\n      this[PRIVATE].device.onFrameStart(this[PRIVATE].id, this[PRIVATE].activeRenderState);\r\n      // inputSources can be populated in .onFrameStart()\r\n      // so check the change and fire inputsourceschange event if needed\r\n      this._checkInputSourcesChange();\r\n\r\n      // - For each entry in callbacks, in order:\r\n      //   - If the entry\u2019s cancelled boolean is true, continue to the next entry.\r\n      //   - Invoke the Web IDL callback function, passing now and frame as the arguments\r\n      //   - If an exception is thrown, report the exception.\r\n      const rightNow = now(); //should we get this from arguments?\r\n      for (let i = 0; i < callbacks.length; i++) {\r\n        try {\r\n          if (!callbacks[i].cancelled && typeof callbacks[i].callback === 'function') {\r\n            callbacks[i].callback(rightNow, frame);\r\n          }\r\n        } catch(err) {\r\n          console.error(err);\r\n        }\r\n      }\r\n      this[PRIVATE].currentFrameCallbacks = null;\r\n\r\n      // - Set frame\u2019s active boolean to false.\r\n      frame[XRFRAME_PRIVATE].active = false;\r\n\r\n      this[PRIVATE].device.onFrameEnd(this[PRIVATE].id);\r\n    };\r\n\r\n    this[PRIVATE].startDeviceFrameLoop = () => {\r\n      if (this[PRIVATE].deviceFrameHandle === null) {\r\n        this[PRIVATE].deviceFrameHandle = this[PRIVATE].device.requestAnimationFrame(\r\n          this[PRIVATE].onDeviceFrame\r\n        );\r\n      }\r\n    };\r\n\r\n    this[PRIVATE].stopDeviceFrameLoop = () => {\r\n      const handle = this[PRIVATE].deviceFrameHandle;\r\n      if (handle !== null) {\r\n        this[PRIVATE].device.cancelAnimationFrame(handle);\r\n        this[PRIVATE].deviceFrameHandle = null;\r\n      }\r\n    };\r\n\r\n    // Hook into the XRDisplay's `vr-present-end` event so we can\r\n    // wrap up things here if we're cut off from the underlying\r\n    // polyfilled device or explicitly ended via `session.end()` for this\r\n    // session.\r\n    this[PRIVATE].onPresentationEnd = sessionId => {\r\n      // If this session was suspended, resume it now that an immersive\r\n      // session has ended.\r\n      if (sessionId !== this[PRIVATE].id) {\r\n        this[PRIVATE].suspended = false;\r\n        this[PRIVATE].startDeviceFrameLoop();\r\n        this.dispatchEvent('focus', { session: this });\r\n        return;\r\n      }\r\n\r\n      // Otherwise, this is the immersive session that has ended.\r\n      // Set `ended` to true so we can disable all functionality\r\n      // in this XRSession\r\n      this[PRIVATE].ended = true;\r\n      this[PRIVATE].stopDeviceFrameLoop();\r\n      device.removeEventListener('@@webxr-polyfill/vr-present-end', this[PRIVATE].onPresentationEnd);\r\n      device.removeEventListener('@@webxr-polyfill/vr-present-start', this[PRIVATE].onPresentationStart);\r\n      device.removeEventListener('@@webxr-polyfill/input-select-start', this[PRIVATE].onSelectStart);\r\n      device.removeEventListener('@@webxr-polyfill/input-select-end', this[PRIVATE].onSelectEnd);\r\n      this.dispatchEvent('end', new XRSessionEvent('end', { session: this }));\r\n    };\r\n    device.addEventListener('@@webxr-polyfill/vr-present-end', this[PRIVATE].onPresentationEnd);\r\n\r\n    // Hook into the XRDisplay's `vr-present-start` event so we can\r\n    // suspend if another session has begun immersive presentation.\r\n    this[PRIVATE].onPresentationStart = sessionId => {\r\n      // Ignore if this is the session that has begun immersive presenting\r\n      if (sessionId === this[PRIVATE].id) {\r\n        return;\r\n      }\r\n\r\n      this[PRIVATE].suspended = true;\r\n      this[PRIVATE].stopDeviceFrameLoop();\r\n      this.dispatchEvent('blur', { session: this });\r\n    };\r\n    device.addEventListener('@@webxr-polyfill/vr-present-start', this[PRIVATE].onPresentationStart);\r\n\r\n    this[PRIVATE].onSelectStart = evt => {\r\n      // Ignore if this event is not for this session.\r\n      if (evt.sessionId !== this[PRIVATE].id) {\r\n        return;\r\n      }\r\n\r\n      this[PRIVATE].dispatchInputSourceEvent('selectstart',  evt.inputSource);\r\n    };\r\n    device.addEventListener('@@webxr-polyfill/input-select-start', this[PRIVATE].onSelectStart);\r\n\r\n    this[PRIVATE].onSelectEnd = evt => {\r\n      // Ignore if this event is not for this session.\r\n      if (evt.sessionId !== this[PRIVATE].id) {\r\n        return;\r\n      }\r\n\r\n      this[PRIVATE].dispatchInputSourceEvent('selectend',  evt.inputSource);\r\n\r\n      // Sadly, there's no way to make this a user gesture.\r\n      this[PRIVATE].dispatchInputSourceEvent('select',  evt.inputSource);\r\n    };\r\n    device.addEventListener('@@webxr-polyfill/input-select-end', this[PRIVATE].onSelectEnd);\r\n\r\n    this[PRIVATE].onSqueezeStart = evt => {\r\n      // Ignore if this event is not for this session.\r\n      if (evt.sessionId !== this[PRIVATE].id) {\r\n        return;\r\n      }\r\n\r\n      this[PRIVATE].dispatchInputSourceEvent('squeezestart',  evt.inputSource);\r\n    };\r\n    device.addEventListener('@@webxr-polyfill/input-squeeze-start', this[PRIVATE].onSqueezeStart);\r\n\r\n    this[PRIVATE].onSqueezeEnd = evt => {\r\n      // Ignore if this event is not for this session.\r\n      if (evt.sessionId !== this[PRIVATE].id) {\r\n        return;\r\n      }\r\n\r\n      this[PRIVATE].dispatchInputSourceEvent('squeezeend',  evt.inputSource);\r\n\r\n      // Following the same way as select event\r\n      this[PRIVATE].dispatchInputSourceEvent('squeeze',  evt.inputSource);\r\n    };\r\n    device.addEventListener('@@webxr-polyfill/input-squeeze-end', this[PRIVATE].onSqueezeEnd);\r\n\r\n    this[PRIVATE].dispatchInputSourceEvent = (type, inputSource) => {\r\n      const frame = new XRFrame(device, this, this[PRIVATE].id);\r\n      const event = new XRInputSourceEvent(type, { frame, inputSource });\r\n      frame[XRFRAME_PRIVATE].active = true;\r\n      this.dispatchEvent(type, event);\r\n      frame[XRFRAME_PRIVATE].active = false;\r\n    };\r\n\r\n    // Start the frame loop\r\n    this[PRIVATE].startDeviceFrameLoop();\r\n\r\n    this.onblur = undefined;\r\n    this.onfocus = undefined;\r\n    this.onresetpose = undefined;\r\n    this.onend = undefined;\r\n    this.onselect = undefined;\r\n    this.onselectstart = undefined;\r\n    this.onselectend = undefined;\r\n  }\r\n\r\n  /**\r\n   * @return {XRRenderState}\r\n   */\r\n  get renderState() { return this[PRIVATE].activeRenderState; }\r\n\r\n  /**\r\n   * @return {XREnvironmentBlendMode}\r\n   */\r\n  get environmentBlendMode() {\r\n    return this[PRIVATE].device.environmentBlendMode || 'opaque';\r\n  }\r\n\r\n  /**\r\n   * @param {string} type\r\n   * @return {XRReferenceSpace}\r\n   */\r\n  async requestReferenceSpace(type) {\r\n    if (this[PRIVATE].ended) {\r\n      return;\r\n    }\r\n\r\n    if (!XRReferenceSpaceTypes.includes(type)) {\r\n      throw new TypeError(`XRReferenceSpaceType must be one of ${XRReferenceSpaceTypes}`);\r\n    }\r\n\r\n    if (!this[PRIVATE].device.doesSessionSupportReferenceSpace(this[PRIVATE].id, type)) {\r\n      throw new DOMException(`The ${type} reference space is not supported by this session.`, 'NotSupportedError');\r\n    }\r\n\r\n    if (type === 'viewer') {\r\n      return this[PRIVATE].viewerSpace;\r\n    }\r\n\r\n    // Request a transform from the device given the values. If returning a\r\n    // transform (probably \"local-floor\" or \"bounded-floor\"), use it, and if\r\n    // undefined, XRReferenceSpace will use a default transform. This call can\r\n    // throw, rejecting the promise, indicating the device does not support that\r\n    // frame of reference.\r\n    let transform = await this[PRIVATE].device.requestFrameOfReferenceTransform(type);\r\n\r\n    // TODO: 'bounded-floor' is only blocked because we currently don't report\r\n    // the bounds geometry correctly.\r\n    if (type === 'bounded-floor') {\r\n      if (!transform) {\r\n        // 'bounded-floor' spaces must have a transform supplied by the device.\r\n        throw new DOMException(`${type} XRReferenceSpace not supported by this device.`, 'NotSupportedError');\r\n      }\r\n      \r\n      let bounds = this[PRIVATE].device.requestStageBounds();\r\n      if (!bounds) {\r\n        // 'bounded-floor' spaces must have bounds geometry.\r\n        throw new DOMException(`${type} XRReferenceSpace not supported by this device.`, 'NotSupportedError');\r\n        \r\n      }\r\n      // TODO: Create an XRBoundedReferenceSpace with the correct boundaries.\r\n      throw new DOMException(`The WebXR polyfill does not support the ${type} reference space yet.`, 'NotSupportedError');\r\n    }\r\n\r\n    return new XRReferenceSpace(type, transform);\r\n  }\r\n\r\n  /**\r\n   * @param {Function} callback\r\n   * @return {number}\r\n   */\r\n  requestAnimationFrame(callback) {\r\n    if (this[PRIVATE].ended) {\r\n      return;\r\n    }\r\n\r\n    // Add callback to the queue and return its handle\r\n    const handle = ++this[PRIVATE].frameHandle;\r\n    this[PRIVATE].frameCallbacks.push({\r\n      handle,\r\n      callback,\r\n      cancelled: false\r\n    });\r\n    return handle;\r\n  }\r\n\r\n  /**\r\n   * @param {number} handle\r\n   */\r\n  cancelAnimationFrame(handle) {\r\n    // Remove the callback with that handle from the queue\r\n    let callbacks = this[PRIVATE].frameCallbacks;\r\n    let index = callbacks.findIndex(d => d && d.handle === handle);\r\n    if (index > -1) {\r\n      callbacks[index].cancelled = true;\r\n      callbacks.splice(index, 1);\r\n    }\r\n    // If cancelAnimationFrame is called from within a frame callback, also check\r\n    // the remaining callbacks for the current frame:\r\n    callbacks = this[PRIVATE].currentFrameCallbacks;\r\n    if (callbacks) {\r\n      index = callbacks.findIndex(d => d && d.handle === handle);\r\n      if (index > -1) {\r\n        callbacks[index].cancelled = true;\r\n        // Rely on cancelled flag only; don't mutate this array while it's being iterated\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @return {Array<XRInputSource>} input sources\r\n   */\r\n  get inputSources() {\r\n    return this[PRIVATE].device.getInputSources();\r\n  }\r\n\r\n  /**\r\n   * @return {Promise<void>}\r\n   */\r\n  async end() {\r\n    if (this[PRIVATE].ended) {\r\n      return;\r\n    }\r\n\r\n    // If this is an immersive session, trigger the platform to end, which\r\n    // will call the `onPresentationEnd` handler, wrapping this up.\r\n    if (this[PRIVATE].immersive) {\r\n      this[PRIVATE].ended = true;\r\n      this[PRIVATE].device.removeEventListener('@@webxr-polyfill/vr-present-start',\r\n                                                 this[PRIVATE].onPresentationStart);\r\n      this[PRIVATE].device.removeEventListener('@@webxr-polyfill/vr-present-end',\r\n                                                 this[PRIVATE].onPresentationEnd);\r\n      this[PRIVATE].device.removeEventListener('@@webxr-polyfill/input-select-start',\r\n                                                 this[PRIVATE].onSelectStart);\r\n      this[PRIVATE].device.removeEventListener('@@webxr-polyfill/input-select-end',\r\n                                                 this[PRIVATE].onSelectEnd);\r\n\r\n      this.dispatchEvent('end', new XRSessionEvent('end', { session: this }));\r\n    }\r\n\r\n    this[PRIVATE].stopDeviceFrameLoop();\r\n    return this[PRIVATE].device.endSession(this[PRIVATE].id);\r\n  }\r\n\r\n  /**\r\n   * Queues an update to the active render state to be applied on the next\r\n   * frame. Unset fields of newState will not be changed.\r\n   * \r\n   * @param {XRRenderStateInit?} newState \r\n   */\r\n  updateRenderState(newState) {\r\n    if (this[PRIVATE].ended) {\r\n      const message = \"Can't call updateRenderState on an XRSession \" +\r\n                      \"that has already ended.\";\r\n      throw new Error(message);\r\n    }\r\n\r\n    if (newState.baseLayer && (newState.baseLayer._session !== this)) {\r\n      const message = \"Called updateRenderState with a base layer that was \" +\r\n                      \"created by a different session.\";\r\n      throw new Error(message);\r\n    }\r\n\r\n    const fovSet = (newState.inlineVerticalFieldOfView !== null) &&\r\n                   (newState.inlineVerticalFieldOfView !== undefined);\r\n\r\n    if (fovSet) {\r\n      if (this[PRIVATE].immersive) {\r\n        const message = \"inlineVerticalFieldOfView must not be set for an \" +\r\n                        \"XRRenderState passed to updateRenderState for an \" +\r\n                        \"immersive session.\";\r\n        throw new Error(message);\r\n      } else {\r\n        // Clamp the inline FoV to a sane range.\r\n        newState.inlineVerticalFieldOfView = Math.min(\r\n          3.13, Math.max(0.01, newState.inlineVerticalFieldOfView));\r\n      }\r\n    }\r\n\r\n    if (this[PRIVATE].pendingRenderState === null) {\r\n      const activeRenderState = this[PRIVATE].activeRenderState;\r\n      this[PRIVATE].pendingRenderState = {\r\n        depthNear: activeRenderState.depthNear,\r\n        depthFar: activeRenderState.depthFar,\r\n        inlineVerticalFieldOfView: activeRenderState.inlineVerticalFieldOfView,\r\n        baseLayer: activeRenderState.baseLayer\r\n      };\r\n    }\r\n    Object.assign(this[PRIVATE].pendingRenderState, newState);\r\n  }\r\n\r\n  /**\r\n   * Compares the inputSources with the ones in the previous frame.\r\n   * Fires imputsourceschange event if any added or removed\r\n   * inputSource is found.\r\n   */\r\n  _checkInputSourcesChange() {\r\n    const added = [];\r\n    const removed = [];\r\n    const newInputSources = this.inputSources;\r\n    const oldInputSources = this[PRIVATE].currentInputSources;\r\n\r\n    for (const newInputSource of newInputSources) {\r\n      if (!oldInputSources.includes(newInputSource)) {\r\n        added.push(newInputSource);\r\n      }\r\n    }\r\n\r\n    for (const oldInputSource of oldInputSources) {\r\n      if (!newInputSources.includes(oldInputSource)) {\r\n        removed.push(oldInputSource);\r\n      }\r\n    }\r\n\r\n    if (added.length > 0 || removed.length > 0) {\r\n      this.dispatchEvent('inputsourceschange', new XRInputSourcesChangeEvent('inputsourceschange', {\r\n        session: this,\r\n        added: added,\r\n        removed: removed\r\n      }));\r\n    }\r\n\r\n    this[PRIVATE].currentInputSources.length = 0;\r\n    for (const newInputSource of newInputSources) {\r\n      this[PRIVATE].currentInputSources.push(newInputSource);\r\n    }\r\n  }\r\n}\r\n", "/*\r\n * Copyright 2018 Google Inc. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *     http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nimport XRSpace from './XRSpace';\r\n\r\nexport const PRIVATE = Symbol('@@webxr-polyfill/XRInputSource');\r\n\r\nexport default class XRInputSource {\r\n  /**\r\n   * @param {GamepadXRInputSource} impl \r\n   */\r\n  constructor(impl) {\r\n    this[PRIVATE] = {\r\n      impl,\r\n      gripSpace: new XRSpace(\"grip\", this),\r\n      targetRaySpace: new XRSpace(\"target-ray\", this)\r\n    };\r\n  }\r\n\r\n  /**\r\n   * @return {XRHandedness}\r\n   */\r\n  get handedness() { return this[PRIVATE].impl.handedness; }\r\n\r\n  /**\r\n   * @return {XRTargetRayMode}\r\n   */\r\n  get targetRayMode() { return this[PRIVATE].impl.targetRayMode; }\r\n\r\n  /**\r\n   * @return {XRSpace}\r\n   */\r\n  get gripSpace() {\r\n    let mode = this[PRIVATE].impl.targetRayMode;\r\n    if (mode === \"gaze\" || mode === \"screen\") {\r\n      // grip space must be null for non-trackable input sources\r\n      return null;\r\n    }\r\n    return this[PRIVATE].gripSpace;\r\n  }\r\n\r\n  /**\r\n   * @return {XRSpace}\r\n   */\r\n  get targetRaySpace() { return this[PRIVATE].targetRaySpace; }\r\n\r\n  /**\r\n   * @return {Array<String>}\r\n   */\r\n  get profiles() { return this[PRIVATE].impl.profiles; }\r\n\r\n  /**\r\n   * @return {Gamepad}\r\n   */\r\n  get gamepad() { return this[PRIVATE].impl.gamepad; }\r\n}\r\n", "/*\r\n * Copyright 2017 Google Inc. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *     http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\n/**\r\n * Token for storing whether or not a WebGLRenderingContext has\r\n * a polyfill for `xrCompatible`/`makeXRCompatible()`\r\n */\r\nexport const POLYFILLED_XR_COMPATIBLE = Symbol('@@webxr-polyfill/polyfilled-xr-compatible');\r\n\r\n/**\r\n * Token for storing the XR compatible boolean set on a WebGLRenderingContext\r\n * via `gl.makeXRCompatible()` or via creation\r\n * parameters like `canvas.getContext('webgl', { xrCompatible })`\r\n */\r\nexport const XR_COMPATIBLE = Symbol('@@webxr-polyfill/xr-compatible');\r\n", "/*\r\n * Copyright 2017 Google Inc. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *     http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nimport XRSession, { PRIVATE as SESSION_PRIVATE } from './XRSession';\r\nimport {\r\n  POLYFILLED_XR_COMPATIBLE,\r\n  XR_COMPATIBLE,\r\n} from '../constants';\r\n\r\nexport const PRIVATE = Symbol('@@webxr-polyfill/XRWebGLLayer');\r\n\r\nexport const XRWebGLLayerInit = Object.freeze({\r\n  antialias: true,\r\n  depth: true,\r\n  stencil: false,\r\n  alpha: true,\r\n  multiview: false,\r\n  ignoreDepthValues: false,\r\n  framebufferScaleFactor: 1.0,\r\n});\r\n\r\nexport default class XRWebGLLayer {\r\n  /**\r\n   * @param {XRSession} session \r\n   * @param {XRWebGLRenderingContext} context \r\n   * @param {Object?} layerInit \r\n   */\r\n  constructor(session, context, layerInit={}) {\r\n    const config = Object.assign({}, XRWebGLLayerInit, layerInit);\r\n\r\n    if (!(session instanceof XRSession)) {\r\n      throw new Error('session must be a XRSession');\r\n    }\r\n\r\n    if (session.ended) {\r\n      throw new Error(`InvalidStateError`);\r\n    }\r\n\r\n    // Since we're polyfilling, we're probably polyfilling\r\n    // the compatible XR device bit as well. It'd be\r\n    // unusual for this bit to not be polyfilled.\r\n    if (context[POLYFILLED_XR_COMPATIBLE]) {\r\n      if (context[XR_COMPATIBLE] !== true) {\r\n        throw new Error(`InvalidStateError`);\r\n      }\r\n    }\r\n\r\n    this[PRIVATE] = {\r\n      context,\r\n      config,\r\n      session,\r\n    };\r\n  }\r\n\r\n  /**\r\n   * @return {WebGLRenderingContext}\r\n   */\r\n  get context() { return this[PRIVATE].context; }\r\n\r\n  /**\r\n   * @return {boolean}\r\n   */\r\n  get antialias() { return this[PRIVATE].config.antialias; }\r\n\r\n  /**\r\n   * The polyfill will always ignore depth values.\r\n   *\r\n   * @return {boolean}\r\n   */\r\n  get ignoreDepthValues() { return true; }\r\n\r\n  /**\r\n   * @return {WebGLFramebuffer}\r\n   */\r\n  get framebuffer() {\r\n    // Use the default framebuffer\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * @return {number}\r\n   */\r\n  get framebufferWidth() { return this[PRIVATE].context.drawingBufferWidth; }\r\n\r\n  /**\r\n   * @return {number}\r\n   */\r\n  get framebufferHeight() { return this[PRIVATE].context.drawingBufferHeight; }\r\n\r\n  /**\r\n   * @return {XRSession}\r\n   */\r\n  get _session() { return this[PRIVATE].session; }\r\n\r\n  /**\r\n   * @TODO No mention in spec on not reusing the XRViewport on every frame.\r\n   * \r\n   * @TODO In the future maybe all this logic should be handled here instead of\r\n   * delegated to the XRView?\r\n   *\r\n   * @param {XRView} view\r\n   * @return {XRViewport?}\r\n   */\r\n  getViewport(view) {\r\n    return view._getViewport(this);\r\n  }\r\n\r\n  /**\r\n   * Gets the scale factor to be requested if you want to match the device\r\n   * resolution at the center of the user's vision. The polyfill will always\r\n   * report 1.0.\r\n   * \r\n   * @param {XRSession} session \r\n   * @return {number}\r\n   */\r\n  static getNativeFramebufferScaleFactor(session) {\r\n    if (!session) {\r\n      throw new TypeError('getNativeFramebufferScaleFactor must be passed a session.')\r\n    }\r\n\r\n    if (session[SESSION_PRIVATE].ended) { return 0.0; }\r\n\r\n    return 1.0;\r\n  }\r\n}\r\n", "/*\r\n * Copyright 2018 Google Inc. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *     http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nexport const PRIVATE = Symbol('@@webxr-polyfill/XRReferenceSpaceEvent');\r\n\r\nexport default class XRReferenceSpaceEvent extends Event {\r\n  /**\r\n   * @param {string} type\r\n   * @param {Object} eventInitDict\r\n   */\r\n  constructor(type, eventInitDict) {\r\n    super(type, eventInitDict);\r\n    this[PRIVATE] = {\r\n      referenceSpace: eventInitDict.referenceSpace,\r\n      transform: eventInitDict.transform || null\r\n    };\r\n    // safari bug:  super() seems to return object of type Event, with Event as prototype\r\n    Object.setPrototypeOf(this, XRReferenceSpaceEvent.prototype);\r\n  }\r\n\r\n  /**\r\n   * @return {XRFrame}\r\n   */\r\n  get referenceSpace() { return this[PRIVATE].referenceSpace; }\r\n\r\n  /**\r\n   * @return {XRInputSource}\r\n   */\r\n  get transform() { return this[PRIVATE].transform; }\r\n}", "/*\r\n * Copyright 2017 Google Inc. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *     http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nimport XRSystem from './XRSystem';\r\nimport XRSession from './XRSession';\r\nimport XRSessionEvent from './XRSessionEvent';\r\nimport XRFrame from './XRFrame';\r\nimport XRView from './XRView';\r\nimport XRViewport from './XRViewport';\r\nimport XRViewerPose from './XRViewerPose';\r\nimport XRInputSource from './XRInputSource';\r\nimport XRInputSourceEvent from './XRInputSourceEvent';\r\nimport XRInputSourcesChangeEvent from './XRInputSourcesChangeEvent';\r\nimport XRWebGLLayer from './XRWebGLLayer';\r\nimport XRSpace from './XRSpace';\r\nimport XRReferenceSpace from './XRReferenceSpace';\r\nimport XRReferenceSpaceEvent from './XRReferenceSpaceEvent';\r\nimport XRRenderState from './XRRenderState';\r\nimport XRRigidTransform from './XRRigidTransform';\r\nimport XRPose from './XRPose';\r\n\r\n/**\r\n * Everything exposed here will also be attached to the window\r\n */\r\nexport default {\r\n  XRSystem,\r\n  XRSession,\r\n  XRSessionEvent,\r\n  XRFrame,\r\n  XRView,\r\n  XRViewport,\r\n  XRViewerPose,\r\n  XRWebGLLayer,\r\n  XRSpace,\r\n  XRReferenceSpace,\r\n  XRReferenceSpaceEvent,\r\n  XRInputSource,\r\n  XRInputSourceEvent,\r\n  XRInputSourcesChangeEvent,\r\n  XRRenderState,\r\n  XRRigidTransform,\r\n  XRPose,\r\n};\r\n", "/*\r\n * Copyright 2017 Google Inc. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *     http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nimport {\r\n  POLYFILLED_XR_COMPATIBLE,\r\n  XR_COMPATIBLE,\r\n} from './constants';\r\n\r\nconst contextTypes = ['webgl', 'experimental-webgl'];\r\n\r\n/**\r\n * Takes the WebGLRenderingContext constructor\r\n * and creates a `makeXRCompatible` function if it does not exist.\r\n * Returns a boolean indicating whether or not the function\r\n * was polyfilled.\r\n *\r\n * @param {WebGLRenderingContext}\r\n * @return {boolean}\r\n */\r\nexport const polyfillMakeXRCompatible = Context => {\r\n  if (typeof Context.prototype.makeXRCompatible === 'function') {\r\n    // return false;\r\n  }\r\n\r\n  // Create `makeXRCompatible` and if successful, store\r\n  // the XRDevice as a private attribute for error checking\r\n  Context.prototype.makeXRCompatible = function () {\r\n    this[XR_COMPATIBLE] = true;\r\n    // This is all fake, so just resolve immediately.\r\n    return Promise.resolve();\r\n  };\r\n\r\n  return true;\r\n};\r\n\r\n\r\n/**\r\n * Takes the HTMLCanvasElement or OffscreenCanvas constructor\r\n * and wraps its `getContext` function to patch the context with a\r\n * POLYFILLED_XR_COMPATIBLE bit so the API knows it's also working with a\r\n * polyfilled `xrCompatible` bit. Can do extra checking for validity.\r\n *\r\n * @param {HTMLCanvasElement} Canvas\r\n */\r\nexport const polyfillGetContext = (Canvas) => {\r\n  const getContext = Canvas.prototype.getContext;\r\n  Canvas.prototype.getContext = function (contextType, glAttribs) {\r\n    const ctx = getContext.call(this, contextType, glAttribs);\r\n\r\n    if (ctx) {\r\n      // Set this bit so the API knows the WebGLRenderingContext is\r\n      // also polyfilled a bit\r\n      ctx[POLYFILLED_XR_COMPATIBLE] = true;\r\n\r\n      // If we've polyfilled WebGLRenderingContext's xrCompatible\r\n      // bit, store the boolean in the private token if created via\r\n      // creation parameters\r\n      if (glAttribs && ('xrCompatible' in glAttribs)) {\r\n        ctx[XR_COMPATIBLE] = glAttribs.xrCompatible;\r\n      }\r\n    }\r\n\r\n    return ctx;\r\n  }\r\n}\r\n", "/*\r\n * Copyright 2017 Google Inc. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *     http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\n/**\r\n * Whether or an ImageBitMapRenderingContext should be used to polyfill\r\n * an XRPresentationContext.\r\n *\r\n * @return {Boolean}\r\n */\r\nexport const isImageBitmapSupported = global =>\r\n  !!(global.ImageBitmapRenderingContext &&\r\n     global.createImageBitmap);\r\n\r\n/**\r\n * Determines whether or not this global's user agent is\r\n * considered a mobile device. Taken from webvr-polyfill.\r\n *\r\n * @param {Object} global\r\n */\r\nexport const isMobile = global => {\r\n  var check = false;\r\n  (function(a){if(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0,4)))check = true})(global.navigator.userAgent||global.navigator.vendor||global.opera);\r\n  return check;\r\n};\r\n\r\nexport const applyCanvasStylesForMinimalRendering = canvas => {\r\n  canvas.style.display = 'block';\r\n  canvas.style.position = 'absolute';\r\n  canvas.style.width = canvas.style.height = '1px';\r\n  canvas.style.top = canvas.style.left = '0px';\r\n};\r\n", "/**\n * @license\n * cardboard-vr-display\n * Copyright (c) 2015-2017 Google\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @license\n * gl-preserve-state\n * Copyright (c) 2016, Brandon Jones.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/**\n * @license\n * webvr-polyfill-dpdb\n * Copyright (c) 2015-2017 Google\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @license\n * nosleep.js\n * Copyright (c) 2017, Rich Tibbett\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.CardboardVRDisplay = factory());\n}(this, (function () { 'use strict';\n\nvar asyncGenerator = function () {\n  function AwaitValue(value) {\n    this.value = value;\n  }\n\n  function AsyncGenerator(gen) {\n    var front, back;\n\n    function send(key, arg) {\n      return new Promise(function (resolve, reject) {\n        var request = {\n          key: key,\n          arg: arg,\n          resolve: resolve,\n          reject: reject,\n          next: null\n        };\n\n        if (back) {\n          back = back.next = request;\n        } else {\n          front = back = request;\n          resume(key, arg);\n        }\n      });\n    }\n\n    function resume(key, arg) {\n      try {\n        var result = gen[key](arg);\n        var value = result.value;\n\n        if (value instanceof AwaitValue) {\n          Promise.resolve(value.value).then(function (arg) {\n            resume(\"next\", arg);\n          }, function (arg) {\n            resume(\"throw\", arg);\n          });\n        } else {\n          settle(result.done ? \"return\" : \"normal\", result.value);\n        }\n      } catch (err) {\n        settle(\"throw\", err);\n      }\n    }\n\n    function settle(type, value) {\n      switch (type) {\n        case \"return\":\n          front.resolve({\n            value: value,\n            done: true\n          });\n          break;\n\n        case \"throw\":\n          front.reject(value);\n          break;\n\n        default:\n          front.resolve({\n            value: value,\n            done: false\n          });\n          break;\n      }\n\n      front = front.next;\n\n      if (front) {\n        resume(front.key, front.arg);\n      } else {\n        back = null;\n      }\n    }\n\n    this._invoke = send;\n\n    if (typeof gen.return !== \"function\") {\n      this.return = undefined;\n    }\n  }\n\n  if (typeof Symbol === \"function\" && Symbol.asyncIterator) {\n    AsyncGenerator.prototype[Symbol.asyncIterator] = function () {\n      return this;\n    };\n  }\n\n  AsyncGenerator.prototype.next = function (arg) {\n    return this._invoke(\"next\", arg);\n  };\n\n  AsyncGenerator.prototype.throw = function (arg) {\n    return this._invoke(\"throw\", arg);\n  };\n\n  AsyncGenerator.prototype.return = function (arg) {\n    return this._invoke(\"return\", arg);\n  };\n\n  return {\n    wrap: function (fn) {\n      return function () {\n        return new AsyncGenerator(fn.apply(this, arguments));\n      };\n    },\n    await: function (value) {\n      return new AwaitValue(value);\n    }\n  };\n}();\n\n\n\n\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\nvar MIN_TIMESTEP = 0.001;\nvar MAX_TIMESTEP = 1;\nvar dataUri = function dataUri(mimeType, svg) {\n  return 'data:' + mimeType + ',' + encodeURIComponent(svg);\n};\n\nvar lerp = function lerp(a, b, t) {\n  return a + (b - a) * t;\n};\nvar isIOS = function () {\n  var isIOS = /iPad|iPhone|iPod/.test(navigator.platform);\n  return function () {\n    return isIOS;\n  };\n}();\nvar isWebViewAndroid = function () {\n  var isWebViewAndroid = navigator.userAgent.indexOf('Version') !== -1 && navigator.userAgent.indexOf('Android') !== -1 && navigator.userAgent.indexOf('Chrome') !== -1;\n  return function () {\n    return isWebViewAndroid;\n  };\n}();\nvar isSafari = function () {\n  var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n  return function () {\n    return isSafari;\n  };\n}();\nvar isFirefoxAndroid = function () {\n  var isFirefoxAndroid = navigator.userAgent.indexOf('Firefox') !== -1 && navigator.userAgent.indexOf('Android') !== -1;\n  return function () {\n    return isFirefoxAndroid;\n  };\n}();\nvar getChromeVersion = function () {\n  var match = navigator.userAgent.match(/.*Chrome\\/([0-9]+)/);\n  var value = match ? parseInt(match[1], 10) : null;\n  return function () {\n    return value;\n  };\n}();\nvar isSafariWithoutDeviceMotion = function () {\n  var value = false;\n  value = isIOS() && isSafari() && navigator.userAgent.indexOf('13_4') !== -1;\n  return function () {\n    return value;\n  };\n}();\nvar isChromeWithoutDeviceMotion = function () {\n  var value = false;\n  if (getChromeVersion() === 65) {\n    var match = navigator.userAgent.match(/.*Chrome\\/([0-9\\.]*)/);\n    if (match) {\n      var _match$1$split = match[1].split('.'),\n          _match$1$split2 = slicedToArray(_match$1$split, 4),\n          major = _match$1$split2[0],\n          minor = _match$1$split2[1],\n          branch = _match$1$split2[2],\n          build = _match$1$split2[3];\n      value = parseInt(branch, 10) === 3325 && parseInt(build, 10) < 148;\n    }\n  }\n  return function () {\n    return value;\n  };\n}();\nvar isR7 = function () {\n  var isR7 = navigator.userAgent.indexOf('R7 Build') !== -1;\n  return function () {\n    return isR7;\n  };\n}();\nvar isLandscapeMode = function isLandscapeMode() {\n  var rtn = window.orientation == 90 || window.orientation == -90;\n  return isR7() ? !rtn : rtn;\n};\nvar isTimestampDeltaValid = function isTimestampDeltaValid(timestampDeltaS) {\n  if (isNaN(timestampDeltaS)) {\n    return false;\n  }\n  if (timestampDeltaS <= MIN_TIMESTEP) {\n    return false;\n  }\n  if (timestampDeltaS > MAX_TIMESTEP) {\n    return false;\n  }\n  return true;\n};\nvar getScreenWidth = function getScreenWidth() {\n  return Math.max(window.screen.width, window.screen.height) * window.devicePixelRatio;\n};\nvar getScreenHeight = function getScreenHeight() {\n  return Math.min(window.screen.width, window.screen.height) * window.devicePixelRatio;\n};\nvar requestFullscreen = function requestFullscreen(element) {\n  if (isWebViewAndroid()) {\n    return false;\n  }\n  if (element.requestFullscreen) {\n    element.requestFullscreen();\n  } else if (element.webkitRequestFullscreen) {\n    element.webkitRequestFullscreen();\n  } else if (element.mozRequestFullScreen) {\n    element.mozRequestFullScreen();\n  } else if (element.msRequestFullscreen) {\n    element.msRequestFullscreen();\n  } else {\n    return false;\n  }\n  return true;\n};\nvar exitFullscreen = function exitFullscreen() {\n  if (document.exitFullscreen) {\n    document.exitFullscreen();\n  } else if (document.webkitExitFullscreen) {\n    document.webkitExitFullscreen();\n  } else if (document.mozCancelFullScreen) {\n    document.mozCancelFullScreen();\n  } else if (document.msExitFullscreen) {\n    document.msExitFullscreen();\n  } else {\n    return false;\n  }\n  return true;\n};\nvar getFullscreenElement = function getFullscreenElement() {\n  return document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement;\n};\nvar linkProgram = function linkProgram(gl, vertexSource, fragmentSource, attribLocationMap) {\n  var vertexShader = gl.createShader(gl.VERTEX_SHADER);\n  gl.shaderSource(vertexShader, vertexSource);\n  gl.compileShader(vertexShader);\n  var fragmentShader = gl.createShader(gl.FRAGMENT_SHADER);\n  gl.shaderSource(fragmentShader, fragmentSource);\n  gl.compileShader(fragmentShader);\n  var program = gl.createProgram();\n  gl.attachShader(program, vertexShader);\n  gl.attachShader(program, fragmentShader);\n  for (var attribName in attribLocationMap) {\n    gl.bindAttribLocation(program, attribLocationMap[attribName], attribName);\n  }gl.linkProgram(program);\n  gl.deleteShader(vertexShader);\n  gl.deleteShader(fragmentShader);\n  return program;\n};\nvar getProgramUniforms = function getProgramUniforms(gl, program) {\n  var uniforms = {};\n  var uniformCount = gl.getProgramParameter(program, gl.ACTIVE_UNIFORMS);\n  var uniformName = '';\n  for (var i = 0; i < uniformCount; i++) {\n    var uniformInfo = gl.getActiveUniform(program, i);\n    uniformName = uniformInfo.name.replace('[0]', '');\n    uniforms[uniformName] = gl.getUniformLocation(program, uniformName);\n  }\n  return uniforms;\n};\nvar orthoMatrix = function orthoMatrix(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right),\n      bt = 1 / (bottom - top),\n      nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 2 * nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = (far + near) * nf;\n  out[15] = 1;\n  return out;\n};\n\nvar isMobile = function isMobile() {\n  var check = false;\n  (function (a) {\n    if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0, 4))) check = true;\n  })(navigator.userAgent || navigator.vendor || window.opera);\n  return check;\n};\nvar extend = function extend(dest, src) {\n  for (var key in src) {\n    if (src.hasOwnProperty(key)) {\n      dest[key] = src[key];\n    }\n  }\n  return dest;\n};\nvar safariCssSizeWorkaround = function safariCssSizeWorkaround(canvas) {\n  if (isIOS()) {\n    var width = canvas.style.width;\n    var height = canvas.style.height;\n    canvas.style.width = parseInt(width) + 1 + 'px';\n    canvas.style.height = parseInt(height) + 'px';\n    setTimeout(function () {\n      canvas.style.width = width;\n      canvas.style.height = height;\n    }, 100);\n  }\n  window.canvas = canvas;\n};\nvar frameDataFromPose = function () {\n  var piOver180 = Math.PI / 180.0;\n  var rad45 = Math.PI * 0.25;\n  function mat4_perspectiveFromFieldOfView(out, fov, near, far) {\n    var upTan = Math.tan(fov ? fov.upDegrees * piOver180 : rad45),\n        downTan = Math.tan(fov ? fov.downDegrees * piOver180 : rad45),\n        leftTan = Math.tan(fov ? fov.leftDegrees * piOver180 : rad45),\n        rightTan = Math.tan(fov ? fov.rightDegrees * piOver180 : rad45),\n        xScale = 2.0 / (leftTan + rightTan),\n        yScale = 2.0 / (upTan + downTan);\n    out[0] = xScale;\n    out[1] = 0.0;\n    out[2] = 0.0;\n    out[3] = 0.0;\n    out[4] = 0.0;\n    out[5] = yScale;\n    out[6] = 0.0;\n    out[7] = 0.0;\n    out[8] = -((leftTan - rightTan) * xScale * 0.5);\n    out[9] = (upTan - downTan) * yScale * 0.5;\n    out[10] = far / (near - far);\n    out[11] = -1.0;\n    out[12] = 0.0;\n    out[13] = 0.0;\n    out[14] = far * near / (near - far);\n    out[15] = 0.0;\n    return out;\n  }\n  function mat4_fromRotationTranslation(out, q, v) {\n    var x = q[0],\n        y = q[1],\n        z = q[2],\n        w = q[3],\n        x2 = x + x,\n        y2 = y + y,\n        z2 = z + z,\n        xx = x * x2,\n        xy = x * y2,\n        xz = x * z2,\n        yy = y * y2,\n        yz = y * z2,\n        zz = z * z2,\n        wx = w * x2,\n        wy = w * y2,\n        wz = w * z2;\n    out[0] = 1 - (yy + zz);\n    out[1] = xy + wz;\n    out[2] = xz - wy;\n    out[3] = 0;\n    out[4] = xy - wz;\n    out[5] = 1 - (xx + zz);\n    out[6] = yz + wx;\n    out[7] = 0;\n    out[8] = xz + wy;\n    out[9] = yz - wx;\n    out[10] = 1 - (xx + yy);\n    out[11] = 0;\n    out[12] = v[0];\n    out[13] = v[1];\n    out[14] = v[2];\n    out[15] = 1;\n    return out;\n  }\n  function mat4_translate(out, a, v) {\n    var x = v[0],\n        y = v[1],\n        z = v[2],\n        a00,\n        a01,\n        a02,\n        a03,\n        a10,\n        a11,\n        a12,\n        a13,\n        a20,\n        a21,\n        a22,\n        a23;\n    if (a === out) {\n      out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n      out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n      out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n      out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n    } else {\n      a00 = a[0];a01 = a[1];a02 = a[2];a03 = a[3];\n      a10 = a[4];a11 = a[5];a12 = a[6];a13 = a[7];\n      a20 = a[8];a21 = a[9];a22 = a[10];a23 = a[11];\n      out[0] = a00;out[1] = a01;out[2] = a02;out[3] = a03;\n      out[4] = a10;out[5] = a11;out[6] = a12;out[7] = a13;\n      out[8] = a20;out[9] = a21;out[10] = a22;out[11] = a23;\n      out[12] = a00 * x + a10 * y + a20 * z + a[12];\n      out[13] = a01 * x + a11 * y + a21 * z + a[13];\n      out[14] = a02 * x + a12 * y + a22 * z + a[14];\n      out[15] = a03 * x + a13 * y + a23 * z + a[15];\n    }\n    return out;\n  }\n  function mat4_invert(out, a) {\n    var a00 = a[0],\n        a01 = a[1],\n        a02 = a[2],\n        a03 = a[3],\n        a10 = a[4],\n        a11 = a[5],\n        a12 = a[6],\n        a13 = a[7],\n        a20 = a[8],\n        a21 = a[9],\n        a22 = a[10],\n        a23 = a[11],\n        a30 = a[12],\n        a31 = a[13],\n        a32 = a[14],\n        a33 = a[15],\n        b00 = a00 * a11 - a01 * a10,\n        b01 = a00 * a12 - a02 * a10,\n        b02 = a00 * a13 - a03 * a10,\n        b03 = a01 * a12 - a02 * a11,\n        b04 = a01 * a13 - a03 * a11,\n        b05 = a02 * a13 - a03 * a12,\n        b06 = a20 * a31 - a21 * a30,\n        b07 = a20 * a32 - a22 * a30,\n        b08 = a20 * a33 - a23 * a30,\n        b09 = a21 * a32 - a22 * a31,\n        b10 = a21 * a33 - a23 * a31,\n        b11 = a22 * a33 - a23 * a32,\n    det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n    if (!det) {\n      return null;\n    }\n    det = 1.0 / det;\n    out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n    out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n    out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n    out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n    out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n    out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n    out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n    out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n    out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n    out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n    out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n    out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n    out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n    out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n    out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n    out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n    return out;\n  }\n  var defaultOrientation = new Float32Array([0, 0, 0, 1]);\n  var defaultPosition = new Float32Array([0, 0, 0]);\n  function updateEyeMatrices(projection, view, pose, fov, offset, vrDisplay) {\n    mat4_perspectiveFromFieldOfView(projection, fov || null, vrDisplay.depthNear, vrDisplay.depthFar);\n    var orientation = pose.orientation || defaultOrientation;\n    var position = pose.position || defaultPosition;\n    mat4_fromRotationTranslation(view, orientation, position);\n    if (offset) mat4_translate(view, view, offset);\n    mat4_invert(view, view);\n  }\n  return function (frameData, pose, vrDisplay) {\n    if (!frameData || !pose) return false;\n    frameData.pose = pose;\n    frameData.timestamp = pose.timestamp;\n    updateEyeMatrices(frameData.leftProjectionMatrix, frameData.leftViewMatrix, pose, vrDisplay._getFieldOfView(\"left\"), vrDisplay._getEyeOffset(\"left\"), vrDisplay);\n    updateEyeMatrices(frameData.rightProjectionMatrix, frameData.rightViewMatrix, pose, vrDisplay._getFieldOfView(\"right\"), vrDisplay._getEyeOffset(\"right\"), vrDisplay);\n    return true;\n  };\n}();\nvar isInsideCrossOriginIFrame = function isInsideCrossOriginIFrame() {\n  var isFramed = window.self !== window.top;\n  var refOrigin = getOriginFromUrl(document.referrer);\n  var thisOrigin = getOriginFromUrl(window.location.href);\n  return isFramed && refOrigin !== thisOrigin;\n};\nvar getOriginFromUrl = function getOriginFromUrl(url) {\n  var domainIdx;\n  var protoSepIdx = url.indexOf(\"://\");\n  if (protoSepIdx !== -1) {\n    domainIdx = protoSepIdx + 3;\n  } else {\n    domainIdx = 0;\n  }\n  var domainEndIdx = url.indexOf('/', domainIdx);\n  if (domainEndIdx === -1) {\n    domainEndIdx = url.length;\n  }\n  return url.substring(0, domainEndIdx);\n};\nvar getQuaternionAngle = function getQuaternionAngle(quat) {\n  if (quat.w > 1) {\n    console.warn('getQuaternionAngle: w > 1');\n    return 0;\n  }\n  var angle = 2 * Math.acos(quat.w);\n  return angle;\n};\nvar warnOnce = function () {\n  var observedWarnings = {};\n  return function (key, message) {\n    if (observedWarnings[key] === undefined) {\n      console.warn('webvr-polyfill: ' + message);\n      observedWarnings[key] = true;\n    }\n  };\n}();\nvar deprecateWarning = function deprecateWarning(deprecated, suggested) {\n  var alternative = suggested ? 'Please use ' + suggested + ' instead.' : '';\n  warnOnce(deprecated, deprecated + ' has been deprecated. ' + 'This may not work on native WebVR displays. ' + alternative);\n};\n\nfunction WGLUPreserveGLState(gl, bindings, callback) {\n  if (!bindings) {\n    callback(gl);\n    return;\n  }\n  var boundValues = [];\n  var activeTexture = null;\n  for (var i = 0; i < bindings.length; ++i) {\n    var binding = bindings[i];\n    switch (binding) {\n      case gl.TEXTURE_BINDING_2D:\n      case gl.TEXTURE_BINDING_CUBE_MAP:\n        var textureUnit = bindings[++i];\n        if (textureUnit < gl.TEXTURE0 || textureUnit > gl.TEXTURE31) {\n          console.error(\"TEXTURE_BINDING_2D or TEXTURE_BINDING_CUBE_MAP must be followed by a valid texture unit\");\n          boundValues.push(null, null);\n          break;\n        }\n        if (!activeTexture) {\n          activeTexture = gl.getParameter(gl.ACTIVE_TEXTURE);\n        }\n        gl.activeTexture(textureUnit);\n        boundValues.push(gl.getParameter(binding), null);\n        break;\n      case gl.ACTIVE_TEXTURE:\n        activeTexture = gl.getParameter(gl.ACTIVE_TEXTURE);\n        boundValues.push(null);\n        break;\n      default:\n        boundValues.push(gl.getParameter(binding));\n        break;\n    }\n  }\n  callback(gl);\n  for (var i = 0; i < bindings.length; ++i) {\n    var binding = bindings[i];\n    var boundValue = boundValues[i];\n    switch (binding) {\n      case gl.ACTIVE_TEXTURE:\n        break;\n      case gl.ARRAY_BUFFER_BINDING:\n        gl.bindBuffer(gl.ARRAY_BUFFER, boundValue);\n        break;\n      case gl.COLOR_CLEAR_VALUE:\n        gl.clearColor(boundValue[0], boundValue[1], boundValue[2], boundValue[3]);\n        break;\n      case gl.COLOR_WRITEMASK:\n        gl.colorMask(boundValue[0], boundValue[1], boundValue[2], boundValue[3]);\n        break;\n      case gl.CURRENT_PROGRAM:\n        gl.useProgram(boundValue);\n        break;\n      case gl.ELEMENT_ARRAY_BUFFER_BINDING:\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, boundValue);\n        break;\n      case gl.FRAMEBUFFER_BINDING:\n        gl.bindFramebuffer(gl.FRAMEBUFFER, boundValue);\n        break;\n      case gl.RENDERBUFFER_BINDING:\n        gl.bindRenderbuffer(gl.RENDERBUFFER, boundValue);\n        break;\n      case gl.TEXTURE_BINDING_2D:\n        var textureUnit = bindings[++i];\n        if (textureUnit < gl.TEXTURE0 || textureUnit > gl.TEXTURE31)\n          break;\n        gl.activeTexture(textureUnit);\n        gl.bindTexture(gl.TEXTURE_2D, boundValue);\n        break;\n      case gl.TEXTURE_BINDING_CUBE_MAP:\n        var textureUnit = bindings[++i];\n        if (textureUnit < gl.TEXTURE0 || textureUnit > gl.TEXTURE31)\n          break;\n        gl.activeTexture(textureUnit);\n        gl.bindTexture(gl.TEXTURE_CUBE_MAP, boundValue);\n        break;\n      case gl.VIEWPORT:\n        gl.viewport(boundValue[0], boundValue[1], boundValue[2], boundValue[3]);\n        break;\n      case gl.BLEND:\n      case gl.CULL_FACE:\n      case gl.DEPTH_TEST:\n      case gl.SCISSOR_TEST:\n      case gl.STENCIL_TEST:\n        if (boundValue) {\n          gl.enable(binding);\n        } else {\n          gl.disable(binding);\n        }\n        break;\n      default:\n        console.log(\"No GL restore behavior for 0x\" + binding.toString(16));\n        break;\n    }\n    if (activeTexture) {\n      gl.activeTexture(activeTexture);\n    }\n  }\n}\nvar glPreserveState = WGLUPreserveGLState;\n\nvar distortionVS = ['attribute vec2 position;', 'attribute vec3 texCoord;', 'varying vec2 vTexCoord;', 'uniform vec4 viewportOffsetScale[2];', 'void main() {', '  vec4 viewport = viewportOffsetScale[int(texCoord.z)];', '  vTexCoord = (texCoord.xy * viewport.zw) + viewport.xy;', '  gl_Position = vec4( position, 1.0, 1.0 );', '}'].join('\\n');\nvar distortionFS = ['precision mediump float;', 'uniform sampler2D diffuse;', 'varying vec2 vTexCoord;', 'void main() {', '  gl_FragColor = texture2D(diffuse, vTexCoord);', '}'].join('\\n');\nfunction CardboardDistorter(gl, cardboardUI, bufferScale, dirtySubmitFrameBindings) {\n  this.gl = gl;\n  this.cardboardUI = cardboardUI;\n  this.bufferScale = bufferScale;\n  this.dirtySubmitFrameBindings = dirtySubmitFrameBindings;\n  this.ctxAttribs = gl.getContextAttributes();\n  this.instanceExt = gl.getExtension('ANGLE_instanced_arrays');\n  this.meshWidth = 20;\n  this.meshHeight = 20;\n  this.bufferWidth = gl.drawingBufferWidth;\n  this.bufferHeight = gl.drawingBufferHeight;\n  this.realBindFramebuffer = gl.bindFramebuffer;\n  this.realEnable = gl.enable;\n  this.realDisable = gl.disable;\n  this.realColorMask = gl.colorMask;\n  this.realClearColor = gl.clearColor;\n  this.realViewport = gl.viewport;\n  if (!isIOS()) {\n    this.realCanvasWidth = Object.getOwnPropertyDescriptor(gl.canvas.__proto__, 'width');\n    this.realCanvasHeight = Object.getOwnPropertyDescriptor(gl.canvas.__proto__, 'height');\n  }\n  this.isPatched = false;\n  this.lastBoundFramebuffer = null;\n  this.cullFace = false;\n  this.depthTest = false;\n  this.blend = false;\n  this.scissorTest = false;\n  this.stencilTest = false;\n  this.viewport = [0, 0, 0, 0];\n  this.colorMask = [true, true, true, true];\n  this.clearColor = [0, 0, 0, 0];\n  this.attribs = {\n    position: 0,\n    texCoord: 1\n  };\n  this.program = linkProgram(gl, distortionVS, distortionFS, this.attribs);\n  this.uniforms = getProgramUniforms(gl, this.program);\n  this.viewportOffsetScale = new Float32Array(8);\n  this.setTextureBounds();\n  this.vertexBuffer = gl.createBuffer();\n  this.indexBuffer = gl.createBuffer();\n  this.indexCount = 0;\n  this.renderTarget = gl.createTexture();\n  this.framebuffer = gl.createFramebuffer();\n  this.depthStencilBuffer = null;\n  this.depthBuffer = null;\n  this.stencilBuffer = null;\n  if (this.ctxAttribs.depth && this.ctxAttribs.stencil) {\n    this.depthStencilBuffer = gl.createRenderbuffer();\n  } else if (this.ctxAttribs.depth) {\n    this.depthBuffer = gl.createRenderbuffer();\n  } else if (this.ctxAttribs.stencil) {\n    this.stencilBuffer = gl.createRenderbuffer();\n  }\n  this.patch();\n  this.onResize();\n}\nCardboardDistorter.prototype.destroy = function () {\n  var gl = this.gl;\n  this.unpatch();\n  gl.deleteProgram(this.program);\n  gl.deleteBuffer(this.vertexBuffer);\n  gl.deleteBuffer(this.indexBuffer);\n  gl.deleteTexture(this.renderTarget);\n  gl.deleteFramebuffer(this.framebuffer);\n  if (this.depthStencilBuffer) {\n    gl.deleteRenderbuffer(this.depthStencilBuffer);\n  }\n  if (this.depthBuffer) {\n    gl.deleteRenderbuffer(this.depthBuffer);\n  }\n  if (this.stencilBuffer) {\n    gl.deleteRenderbuffer(this.stencilBuffer);\n  }\n  if (this.cardboardUI) {\n    this.cardboardUI.destroy();\n  }\n};\nCardboardDistorter.prototype.onResize = function () {\n  var gl = this.gl;\n  var self = this;\n  var glState = [gl.RENDERBUFFER_BINDING, gl.TEXTURE_BINDING_2D, gl.TEXTURE0];\n  glPreserveState(gl, glState, function (gl) {\n    self.realBindFramebuffer.call(gl, gl.FRAMEBUFFER, null);\n    if (self.scissorTest) {\n      self.realDisable.call(gl, gl.SCISSOR_TEST);\n    }\n    self.realColorMask.call(gl, true, true, true, true);\n    self.realViewport.call(gl, 0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight);\n    self.realClearColor.call(gl, 0, 0, 0, 1);\n    gl.clear(gl.COLOR_BUFFER_BIT);\n    self.realBindFramebuffer.call(gl, gl.FRAMEBUFFER, self.framebuffer);\n    gl.bindTexture(gl.TEXTURE_2D, self.renderTarget);\n    gl.texImage2D(gl.TEXTURE_2D, 0, self.ctxAttribs.alpha ? gl.RGBA : gl.RGB, self.bufferWidth, self.bufferHeight, 0, self.ctxAttribs.alpha ? gl.RGBA : gl.RGB, gl.UNSIGNED_BYTE, null);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, self.renderTarget, 0);\n    if (self.ctxAttribs.depth && self.ctxAttribs.stencil) {\n      gl.bindRenderbuffer(gl.RENDERBUFFER, self.depthStencilBuffer);\n      gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_STENCIL, self.bufferWidth, self.bufferHeight);\n      gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.DEPTH_STENCIL_ATTACHMENT, gl.RENDERBUFFER, self.depthStencilBuffer);\n    } else if (self.ctxAttribs.depth) {\n      gl.bindRenderbuffer(gl.RENDERBUFFER, self.depthBuffer);\n      gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_COMPONENT16, self.bufferWidth, self.bufferHeight);\n      gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.DEPTH_ATTACHMENT, gl.RENDERBUFFER, self.depthBuffer);\n    } else if (self.ctxAttribs.stencil) {\n      gl.bindRenderbuffer(gl.RENDERBUFFER, self.stencilBuffer);\n      gl.renderbufferStorage(gl.RENDERBUFFER, gl.STENCIL_INDEX8, self.bufferWidth, self.bufferHeight);\n      gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.STENCIL_ATTACHMENT, gl.RENDERBUFFER, self.stencilBuffer);\n    }\n    if (!gl.checkFramebufferStatus(gl.FRAMEBUFFER) === gl.FRAMEBUFFER_COMPLETE) {\n      console.error('Framebuffer incomplete!');\n    }\n    self.realBindFramebuffer.call(gl, gl.FRAMEBUFFER, self.lastBoundFramebuffer);\n    if (self.scissorTest) {\n      self.realEnable.call(gl, gl.SCISSOR_TEST);\n    }\n    self.realColorMask.apply(gl, self.colorMask);\n    self.realViewport.apply(gl, self.viewport);\n    self.realClearColor.apply(gl, self.clearColor);\n  });\n  if (this.cardboardUI) {\n    this.cardboardUI.onResize();\n  }\n};\nCardboardDistorter.prototype.patch = function () {\n  if (this.isPatched) {\n    return;\n  }\n  var self = this;\n  var canvas = this.gl.canvas;\n  var gl = this.gl;\n  if (!isIOS()) {\n    canvas.width = getScreenWidth() * this.bufferScale;\n    canvas.height = getScreenHeight() * this.bufferScale;\n    Object.defineProperty(canvas, 'width', {\n      configurable: true,\n      enumerable: true,\n      get: function get() {\n        return self.bufferWidth;\n      },\n      set: function set(value) {\n        self.bufferWidth = value;\n        self.realCanvasWidth.set.call(canvas, value);\n        self.onResize();\n      }\n    });\n    Object.defineProperty(canvas, 'height', {\n      configurable: true,\n      enumerable: true,\n      get: function get() {\n        return self.bufferHeight;\n      },\n      set: function set(value) {\n        self.bufferHeight = value;\n        self.realCanvasHeight.set.call(canvas, value);\n        self.onResize();\n      }\n    });\n  }\n  this.lastBoundFramebuffer = gl.getParameter(gl.FRAMEBUFFER_BINDING);\n  if (this.lastBoundFramebuffer == null) {\n    this.lastBoundFramebuffer = this.framebuffer;\n    this.gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer);\n  }\n  this.gl.bindFramebuffer = function (target, framebuffer) {\n    self.lastBoundFramebuffer = framebuffer ? framebuffer : self.framebuffer;\n    self.realBindFramebuffer.call(gl, target, self.lastBoundFramebuffer);\n  };\n  this.cullFace = gl.getParameter(gl.CULL_FACE);\n  this.depthTest = gl.getParameter(gl.DEPTH_TEST);\n  this.blend = gl.getParameter(gl.BLEND);\n  this.scissorTest = gl.getParameter(gl.SCISSOR_TEST);\n  this.stencilTest = gl.getParameter(gl.STENCIL_TEST);\n  gl.enable = function (pname) {\n    switch (pname) {\n      case gl.CULL_FACE:\n        self.cullFace = true;break;\n      case gl.DEPTH_TEST:\n        self.depthTest = true;break;\n      case gl.BLEND:\n        self.blend = true;break;\n      case gl.SCISSOR_TEST:\n        self.scissorTest = true;break;\n      case gl.STENCIL_TEST:\n        self.stencilTest = true;break;\n    }\n    self.realEnable.call(gl, pname);\n  };\n  gl.disable = function (pname) {\n    switch (pname) {\n      case gl.CULL_FACE:\n        self.cullFace = false;break;\n      case gl.DEPTH_TEST:\n        self.depthTest = false;break;\n      case gl.BLEND:\n        self.blend = false;break;\n      case gl.SCISSOR_TEST:\n        self.scissorTest = false;break;\n      case gl.STENCIL_TEST:\n        self.stencilTest = false;break;\n    }\n    self.realDisable.call(gl, pname);\n  };\n  this.colorMask = gl.getParameter(gl.COLOR_WRITEMASK);\n  gl.colorMask = function (r, g, b, a) {\n    self.colorMask[0] = r;\n    self.colorMask[1] = g;\n    self.colorMask[2] = b;\n    self.colorMask[3] = a;\n    self.realColorMask.call(gl, r, g, b, a);\n  };\n  this.clearColor = gl.getParameter(gl.COLOR_CLEAR_VALUE);\n  gl.clearColor = function (r, g, b, a) {\n    self.clearColor[0] = r;\n    self.clearColor[1] = g;\n    self.clearColor[2] = b;\n    self.clearColor[3] = a;\n    self.realClearColor.call(gl, r, g, b, a);\n  };\n  this.viewport = gl.getParameter(gl.VIEWPORT);\n  gl.viewport = function (x, y, w, h) {\n    self.viewport[0] = x;\n    self.viewport[1] = y;\n    self.viewport[2] = w;\n    self.viewport[3] = h;\n    self.realViewport.call(gl, x, y, w, h);\n  };\n  this.isPatched = true;\n  safariCssSizeWorkaround(canvas);\n};\nCardboardDistorter.prototype.unpatch = function () {\n  if (!this.isPatched) {\n    return;\n  }\n  var gl = this.gl;\n  var canvas = this.gl.canvas;\n  if (!isIOS()) {\n    Object.defineProperty(canvas, 'width', this.realCanvasWidth);\n    Object.defineProperty(canvas, 'height', this.realCanvasHeight);\n  }\n  canvas.width = this.bufferWidth;\n  canvas.height = this.bufferHeight;\n  gl.bindFramebuffer = this.realBindFramebuffer;\n  gl.enable = this.realEnable;\n  gl.disable = this.realDisable;\n  gl.colorMask = this.realColorMask;\n  gl.clearColor = this.realClearColor;\n  gl.viewport = this.realViewport;\n  if (this.lastBoundFramebuffer == this.framebuffer) {\n    gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n  }\n  this.isPatched = false;\n  setTimeout(function () {\n    safariCssSizeWorkaround(canvas);\n  }, 1);\n};\nCardboardDistorter.prototype.setTextureBounds = function (leftBounds, rightBounds) {\n  if (!leftBounds) {\n    leftBounds = [0, 0, 0.5, 1];\n  }\n  if (!rightBounds) {\n    rightBounds = [0.5, 0, 0.5, 1];\n  }\n  this.viewportOffsetScale[0] = leftBounds[0];\n  this.viewportOffsetScale[1] = leftBounds[1];\n  this.viewportOffsetScale[2] = leftBounds[2];\n  this.viewportOffsetScale[3] = leftBounds[3];\n  this.viewportOffsetScale[4] = rightBounds[0];\n  this.viewportOffsetScale[5] = rightBounds[1];\n  this.viewportOffsetScale[6] = rightBounds[2];\n  this.viewportOffsetScale[7] = rightBounds[3];\n};\nCardboardDistorter.prototype.submitFrame = function () {\n  var gl = this.gl;\n  var self = this;\n  var glState = [];\n  if (!this.dirtySubmitFrameBindings) {\n    glState.push(gl.CURRENT_PROGRAM, gl.ARRAY_BUFFER_BINDING, gl.ELEMENT_ARRAY_BUFFER_BINDING, gl.TEXTURE_BINDING_2D, gl.TEXTURE0);\n  }\n  glPreserveState(gl, glState, function (gl) {\n    self.realBindFramebuffer.call(gl, gl.FRAMEBUFFER, null);\n    var positionDivisor = 0;\n    var texCoordDivisor = 0;\n    if (self.instanceExt) {\n      positionDivisor = gl.getVertexAttrib(self.attribs.position, self.instanceExt.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE);\n      texCoordDivisor = gl.getVertexAttrib(self.attribs.texCoord, self.instanceExt.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE);\n    }\n    if (self.cullFace) {\n      self.realDisable.call(gl, gl.CULL_FACE);\n    }\n    if (self.depthTest) {\n      self.realDisable.call(gl, gl.DEPTH_TEST);\n    }\n    if (self.blend) {\n      self.realDisable.call(gl, gl.BLEND);\n    }\n    if (self.scissorTest) {\n      self.realDisable.call(gl, gl.SCISSOR_TEST);\n    }\n    if (self.stencilTest) {\n      self.realDisable.call(gl, gl.STENCIL_TEST);\n    }\n    self.realColorMask.call(gl, true, true, true, true);\n    self.realViewport.call(gl, 0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight);\n    if (self.ctxAttribs.alpha || isIOS()) {\n      self.realClearColor.call(gl, 0, 0, 0, 1);\n      gl.clear(gl.COLOR_BUFFER_BIT);\n    }\n    gl.useProgram(self.program);\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, self.indexBuffer);\n    gl.bindBuffer(gl.ARRAY_BUFFER, self.vertexBuffer);\n    gl.enableVertexAttribArray(self.attribs.position);\n    gl.enableVertexAttribArray(self.attribs.texCoord);\n    gl.vertexAttribPointer(self.attribs.position, 2, gl.FLOAT, false, 20, 0);\n    gl.vertexAttribPointer(self.attribs.texCoord, 3, gl.FLOAT, false, 20, 8);\n    if (self.instanceExt) {\n      if (positionDivisor != 0) {\n        self.instanceExt.vertexAttribDivisorANGLE(self.attribs.position, 0);\n      }\n      if (texCoordDivisor != 0) {\n        self.instanceExt.vertexAttribDivisorANGLE(self.attribs.texCoord, 0);\n      }\n    }\n    gl.activeTexture(gl.TEXTURE0);\n    gl.uniform1i(self.uniforms.diffuse, 0);\n    gl.bindTexture(gl.TEXTURE_2D, self.renderTarget);\n    gl.uniform4fv(self.uniforms.viewportOffsetScale, self.viewportOffsetScale);\n    gl.drawElements(gl.TRIANGLES, self.indexCount, gl.UNSIGNED_SHORT, 0);\n    if (self.cardboardUI) {\n      self.cardboardUI.renderNoState();\n    }\n    self.realBindFramebuffer.call(self.gl, gl.FRAMEBUFFER, self.framebuffer);\n    if (!self.ctxAttribs.preserveDrawingBuffer) {\n      self.realClearColor.call(gl, 0, 0, 0, 0);\n      gl.clear(gl.COLOR_BUFFER_BIT);\n    }\n    if (!self.dirtySubmitFrameBindings) {\n      self.realBindFramebuffer.call(gl, gl.FRAMEBUFFER, self.lastBoundFramebuffer);\n    }\n    if (self.cullFace) {\n      self.realEnable.call(gl, gl.CULL_FACE);\n    }\n    if (self.depthTest) {\n      self.realEnable.call(gl, gl.DEPTH_TEST);\n    }\n    if (self.blend) {\n      self.realEnable.call(gl, gl.BLEND);\n    }\n    if (self.scissorTest) {\n      self.realEnable.call(gl, gl.SCISSOR_TEST);\n    }\n    if (self.stencilTest) {\n      self.realEnable.call(gl, gl.STENCIL_TEST);\n    }\n    self.realColorMask.apply(gl, self.colorMask);\n    self.realViewport.apply(gl, self.viewport);\n    if (self.ctxAttribs.alpha || !self.ctxAttribs.preserveDrawingBuffer) {\n      self.realClearColor.apply(gl, self.clearColor);\n    }\n    if (self.instanceExt) {\n      if (positionDivisor != 0) {\n        self.instanceExt.vertexAttribDivisorANGLE(self.attribs.position, positionDivisor);\n      }\n      if (texCoordDivisor != 0) {\n        self.instanceExt.vertexAttribDivisorANGLE(self.attribs.texCoord, texCoordDivisor);\n      }\n    }\n  });\n  if (isIOS()) {\n    var canvas = gl.canvas;\n    if (canvas.width != self.bufferWidth || canvas.height != self.bufferHeight) {\n      self.bufferWidth = canvas.width;\n      self.bufferHeight = canvas.height;\n      self.onResize();\n    }\n  }\n};\nCardboardDistorter.prototype.updateDeviceInfo = function (deviceInfo) {\n  var gl = this.gl;\n  var self = this;\n  var glState = [gl.ARRAY_BUFFER_BINDING, gl.ELEMENT_ARRAY_BUFFER_BINDING];\n  glPreserveState(gl, glState, function (gl) {\n    var vertices = self.computeMeshVertices_(self.meshWidth, self.meshHeight, deviceInfo);\n    gl.bindBuffer(gl.ARRAY_BUFFER, self.vertexBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW);\n    if (!self.indexCount) {\n      var indices = self.computeMeshIndices_(self.meshWidth, self.meshHeight);\n      gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, self.indexBuffer);\n      gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, indices, gl.STATIC_DRAW);\n      self.indexCount = indices.length;\n    }\n  });\n};\nCardboardDistorter.prototype.computeMeshVertices_ = function (width, height, deviceInfo) {\n  var vertices = new Float32Array(2 * width * height * 5);\n  var lensFrustum = deviceInfo.getLeftEyeVisibleTanAngles();\n  var noLensFrustum = deviceInfo.getLeftEyeNoLensTanAngles();\n  var viewport = deviceInfo.getLeftEyeVisibleScreenRect(noLensFrustum);\n  var vidx = 0;\n  for (var e = 0; e < 2; e++) {\n    for (var j = 0; j < height; j++) {\n      for (var i = 0; i < width; i++, vidx++) {\n        var u = i / (width - 1);\n        var v = j / (height - 1);\n        var s = u;\n        var t = v;\n        var x = lerp(lensFrustum[0], lensFrustum[2], u);\n        var y = lerp(lensFrustum[3], lensFrustum[1], v);\n        var d = Math.sqrt(x * x + y * y);\n        var r = deviceInfo.distortion.distortInverse(d);\n        var p = x * r / d;\n        var q = y * r / d;\n        u = (p - noLensFrustum[0]) / (noLensFrustum[2] - noLensFrustum[0]);\n        v = (q - noLensFrustum[3]) / (noLensFrustum[1] - noLensFrustum[3]);\n        u = (viewport.x + u * viewport.width - 0.5) * 2.0;\n        v = (viewport.y + v * viewport.height - 0.5) * 2.0;\n        vertices[vidx * 5 + 0] = u;\n        vertices[vidx * 5 + 1] = v;\n        vertices[vidx * 5 + 2] = s;\n        vertices[vidx * 5 + 3] = t;\n        vertices[vidx * 5 + 4] = e;\n      }\n    }\n    var w = lensFrustum[2] - lensFrustum[0];\n    lensFrustum[0] = -(w + lensFrustum[0]);\n    lensFrustum[2] = w - lensFrustum[2];\n    w = noLensFrustum[2] - noLensFrustum[0];\n    noLensFrustum[0] = -(w + noLensFrustum[0]);\n    noLensFrustum[2] = w - noLensFrustum[2];\n    viewport.x = 1 - (viewport.x + viewport.width);\n  }\n  return vertices;\n};\nCardboardDistorter.prototype.computeMeshIndices_ = function (width, height) {\n  var indices = new Uint16Array(2 * (width - 1) * (height - 1) * 6);\n  var halfwidth = width / 2;\n  var halfheight = height / 2;\n  var vidx = 0;\n  var iidx = 0;\n  for (var e = 0; e < 2; e++) {\n    for (var j = 0; j < height; j++) {\n      for (var i = 0; i < width; i++, vidx++) {\n        if (i == 0 || j == 0) continue;\n        if (i <= halfwidth == j <= halfheight) {\n          indices[iidx++] = vidx;\n          indices[iidx++] = vidx - width - 1;\n          indices[iidx++] = vidx - width;\n          indices[iidx++] = vidx - width - 1;\n          indices[iidx++] = vidx;\n          indices[iidx++] = vidx - 1;\n        } else {\n          indices[iidx++] = vidx - 1;\n          indices[iidx++] = vidx - width;\n          indices[iidx++] = vidx;\n          indices[iidx++] = vidx - width;\n          indices[iidx++] = vidx - 1;\n          indices[iidx++] = vidx - width - 1;\n        }\n      }\n    }\n  }\n  return indices;\n};\nCardboardDistorter.prototype.getOwnPropertyDescriptor_ = function (proto, attrName) {\n  var descriptor = Object.getOwnPropertyDescriptor(proto, attrName);\n  if (descriptor.get === undefined || descriptor.set === undefined) {\n    descriptor.configurable = true;\n    descriptor.enumerable = true;\n    descriptor.get = function () {\n      return this.getAttribute(attrName);\n    };\n    descriptor.set = function (val) {\n      this.setAttribute(attrName, val);\n    };\n  }\n  return descriptor;\n};\n\nvar uiVS = ['attribute vec2 position;', 'uniform mat4 projectionMat;', 'void main() {', '  gl_Position = projectionMat * vec4( position, -1.0, 1.0 );', '}'].join('\\n');\nvar uiFS = ['precision mediump float;', 'uniform vec4 color;', 'void main() {', '  gl_FragColor = color;', '}'].join('\\n');\nvar DEG2RAD = Math.PI / 180.0;\nvar kAnglePerGearSection = 60;\nvar kOuterRimEndAngle = 12;\nvar kInnerRimBeginAngle = 20;\nvar kOuterRadius = 1;\nvar kMiddleRadius = 0.75;\nvar kInnerRadius = 0.3125;\nvar kCenterLineThicknessDp = 4;\nvar kButtonWidthDp = 28;\nvar kTouchSlopFactor = 1.5;\nfunction CardboardUI(gl) {\n  this.gl = gl;\n  this.attribs = {\n    position: 0\n  };\n  this.program = linkProgram(gl, uiVS, uiFS, this.attribs);\n  this.uniforms = getProgramUniforms(gl, this.program);\n  this.vertexBuffer = gl.createBuffer();\n  this.gearOffset = 0;\n  this.gearVertexCount = 0;\n  this.arrowOffset = 0;\n  this.arrowVertexCount = 0;\n  this.projMat = new Float32Array(16);\n  this.listener = null;\n  this.onResize();\n}\nCardboardUI.prototype.destroy = function () {\n  var gl = this.gl;\n  if (this.listener) {\n    gl.canvas.removeEventListener('click', this.listener, false);\n  }\n  gl.deleteProgram(this.program);\n  gl.deleteBuffer(this.vertexBuffer);\n};\nCardboardUI.prototype.listen = function (optionsCallback, backCallback) {\n  var canvas = this.gl.canvas;\n  this.listener = function (event) {\n    var midline = canvas.clientWidth / 2;\n    var buttonSize = kButtonWidthDp * kTouchSlopFactor;\n    if (event.clientX > midline - buttonSize && event.clientX < midline + buttonSize && event.clientY > canvas.clientHeight - buttonSize) {\n      optionsCallback(event);\n    }\n    else if (event.clientX < buttonSize && event.clientY < buttonSize) {\n        backCallback(event);\n      }\n  };\n  canvas.addEventListener('click', this.listener, false);\n};\nCardboardUI.prototype.onResize = function () {\n  var gl = this.gl;\n  var self = this;\n  var glState = [gl.ARRAY_BUFFER_BINDING];\n  glPreserveState(gl, glState, function (gl) {\n    var vertices = [];\n    var midline = gl.drawingBufferWidth / 2;\n    var physicalPixels = Math.max(screen.width, screen.height) * window.devicePixelRatio;\n    var scalingRatio = gl.drawingBufferWidth / physicalPixels;\n    var dps = scalingRatio * window.devicePixelRatio;\n    var lineWidth = kCenterLineThicknessDp * dps / 2;\n    var buttonSize = kButtonWidthDp * kTouchSlopFactor * dps;\n    var buttonScale = kButtonWidthDp * dps / 2;\n    var buttonBorder = (kButtonWidthDp * kTouchSlopFactor - kButtonWidthDp) * dps;\n    vertices.push(midline - lineWidth, buttonSize);\n    vertices.push(midline - lineWidth, gl.drawingBufferHeight);\n    vertices.push(midline + lineWidth, buttonSize);\n    vertices.push(midline + lineWidth, gl.drawingBufferHeight);\n    self.gearOffset = vertices.length / 2;\n    function addGearSegment(theta, r) {\n      var angle = (90 - theta) * DEG2RAD;\n      var x = Math.cos(angle);\n      var y = Math.sin(angle);\n      vertices.push(kInnerRadius * x * buttonScale + midline, kInnerRadius * y * buttonScale + buttonScale);\n      vertices.push(r * x * buttonScale + midline, r * y * buttonScale + buttonScale);\n    }\n    for (var i = 0; i <= 6; i++) {\n      var segmentTheta = i * kAnglePerGearSection;\n      addGearSegment(segmentTheta, kOuterRadius);\n      addGearSegment(segmentTheta + kOuterRimEndAngle, kOuterRadius);\n      addGearSegment(segmentTheta + kInnerRimBeginAngle, kMiddleRadius);\n      addGearSegment(segmentTheta + (kAnglePerGearSection - kInnerRimBeginAngle), kMiddleRadius);\n      addGearSegment(segmentTheta + (kAnglePerGearSection - kOuterRimEndAngle), kOuterRadius);\n    }\n    self.gearVertexCount = vertices.length / 2 - self.gearOffset;\n    self.arrowOffset = vertices.length / 2;\n    function addArrowVertex(x, y) {\n      vertices.push(buttonBorder + x, gl.drawingBufferHeight - buttonBorder - y);\n    }\n    var angledLineWidth = lineWidth / Math.sin(45 * DEG2RAD);\n    addArrowVertex(0, buttonScale);\n    addArrowVertex(buttonScale, 0);\n    addArrowVertex(buttonScale + angledLineWidth, angledLineWidth);\n    addArrowVertex(angledLineWidth, buttonScale + angledLineWidth);\n    addArrowVertex(angledLineWidth, buttonScale - angledLineWidth);\n    addArrowVertex(0, buttonScale);\n    addArrowVertex(buttonScale, buttonScale * 2);\n    addArrowVertex(buttonScale + angledLineWidth, buttonScale * 2 - angledLineWidth);\n    addArrowVertex(angledLineWidth, buttonScale - angledLineWidth);\n    addArrowVertex(0, buttonScale);\n    addArrowVertex(angledLineWidth, buttonScale - lineWidth);\n    addArrowVertex(kButtonWidthDp * dps, buttonScale - lineWidth);\n    addArrowVertex(angledLineWidth, buttonScale + lineWidth);\n    addArrowVertex(kButtonWidthDp * dps, buttonScale + lineWidth);\n    self.arrowVertexCount = vertices.length / 2 - self.arrowOffset;\n    gl.bindBuffer(gl.ARRAY_BUFFER, self.vertexBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(vertices), gl.STATIC_DRAW);\n  });\n};\nCardboardUI.prototype.render = function () {\n  var gl = this.gl;\n  var self = this;\n  var glState = [gl.CULL_FACE, gl.DEPTH_TEST, gl.BLEND, gl.SCISSOR_TEST, gl.STENCIL_TEST, gl.COLOR_WRITEMASK, gl.VIEWPORT, gl.CURRENT_PROGRAM, gl.ARRAY_BUFFER_BINDING];\n  glPreserveState(gl, glState, function (gl) {\n    gl.disable(gl.CULL_FACE);\n    gl.disable(gl.DEPTH_TEST);\n    gl.disable(gl.BLEND);\n    gl.disable(gl.SCISSOR_TEST);\n    gl.disable(gl.STENCIL_TEST);\n    gl.colorMask(true, true, true, true);\n    gl.viewport(0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight);\n    self.renderNoState();\n  });\n};\nCardboardUI.prototype.renderNoState = function () {\n  var gl = this.gl;\n  gl.useProgram(this.program);\n  gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer);\n  gl.enableVertexAttribArray(this.attribs.position);\n  gl.vertexAttribPointer(this.attribs.position, 2, gl.FLOAT, false, 8, 0);\n  gl.uniform4f(this.uniforms.color, 1.0, 1.0, 1.0, 1.0);\n  orthoMatrix(this.projMat, 0, gl.drawingBufferWidth, 0, gl.drawingBufferHeight, 0.1, 1024.0);\n  gl.uniformMatrix4fv(this.uniforms.projectionMat, false, this.projMat);\n  gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n  gl.drawArrays(gl.TRIANGLE_STRIP, this.gearOffset, this.gearVertexCount);\n  gl.drawArrays(gl.TRIANGLE_STRIP, this.arrowOffset, this.arrowVertexCount);\n};\n\nfunction Distortion(coefficients) {\n  this.coefficients = coefficients;\n}\nDistortion.prototype.distortInverse = function (radius) {\n  var r0 = 0;\n  var r1 = 1;\n  var dr0 = radius - this.distort(r0);\n  while (Math.abs(r1 - r0) > 0.0001             ) {\n    var dr1 = radius - this.distort(r1);\n    var r2 = r1 - dr1 * ((r1 - r0) / (dr1 - dr0));\n    r0 = r1;\n    r1 = r2;\n    dr0 = dr1;\n  }\n  return r1;\n};\nDistortion.prototype.distort = function (radius) {\n  var r2 = radius * radius;\n  var ret = 0;\n  for (var i = 0; i < this.coefficients.length; i++) {\n    ret = r2 * (ret + this.coefficients[i]);\n  }\n  return (ret + 1) * radius;\n};\n\nvar degToRad = Math.PI / 180;\nvar radToDeg = 180 / Math.PI;\n\nvar Vector3 = function Vector3(x, y, z) {\n  this.x = x || 0;\n  this.y = y || 0;\n  this.z = z || 0;\n};\nVector3.prototype = {\n  constructor: Vector3,\n  set: function set(x, y, z) {\n    this.x = x;\n    this.y = y;\n    this.z = z;\n    return this;\n  },\n  copy: function copy(v) {\n    this.x = v.x;\n    this.y = v.y;\n    this.z = v.z;\n    return this;\n  },\n  length: function length() {\n    return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);\n  },\n  normalize: function normalize() {\n    var scalar = this.length();\n    if (scalar !== 0) {\n      var invScalar = 1 / scalar;\n      this.multiplyScalar(invScalar);\n    } else {\n      this.x = 0;\n      this.y = 0;\n      this.z = 0;\n    }\n    return this;\n  },\n  multiplyScalar: function multiplyScalar(scalar) {\n    this.x *= scalar;\n    this.y *= scalar;\n    this.z *= scalar;\n  },\n  applyQuaternion: function applyQuaternion(q) {\n    var x = this.x;\n    var y = this.y;\n    var z = this.z;\n    var qx = q.x;\n    var qy = q.y;\n    var qz = q.z;\n    var qw = q.w;\n    var ix = qw * x + qy * z - qz * y;\n    var iy = qw * y + qz * x - qx * z;\n    var iz = qw * z + qx * y - qy * x;\n    var iw = -qx * x - qy * y - qz * z;\n    this.x = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n    this.y = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n    this.z = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n    return this;\n  },\n  dot: function dot(v) {\n    return this.x * v.x + this.y * v.y + this.z * v.z;\n  },\n  crossVectors: function crossVectors(a, b) {\n    var ax = a.x,\n        ay = a.y,\n        az = a.z;\n    var bx = b.x,\n        by = b.y,\n        bz = b.z;\n    this.x = ay * bz - az * by;\n    this.y = az * bx - ax * bz;\n    this.z = ax * by - ay * bx;\n    return this;\n  }\n};\nvar Quaternion = function Quaternion(x, y, z, w) {\n  this.x = x || 0;\n  this.y = y || 0;\n  this.z = z || 0;\n  this.w = w !== undefined ? w : 1;\n};\nQuaternion.prototype = {\n  constructor: Quaternion,\n  set: function set(x, y, z, w) {\n    this.x = x;\n    this.y = y;\n    this.z = z;\n    this.w = w;\n    return this;\n  },\n  copy: function copy(quaternion) {\n    this.x = quaternion.x;\n    this.y = quaternion.y;\n    this.z = quaternion.z;\n    this.w = quaternion.w;\n    return this;\n  },\n  setFromEulerXYZ: function setFromEulerXYZ(x, y, z) {\n    var c1 = Math.cos(x / 2);\n    var c2 = Math.cos(y / 2);\n    var c3 = Math.cos(z / 2);\n    var s1 = Math.sin(x / 2);\n    var s2 = Math.sin(y / 2);\n    var s3 = Math.sin(z / 2);\n    this.x = s1 * c2 * c3 + c1 * s2 * s3;\n    this.y = c1 * s2 * c3 - s1 * c2 * s3;\n    this.z = c1 * c2 * s3 + s1 * s2 * c3;\n    this.w = c1 * c2 * c3 - s1 * s2 * s3;\n    return this;\n  },\n  setFromEulerYXZ: function setFromEulerYXZ(x, y, z) {\n    var c1 = Math.cos(x / 2);\n    var c2 = Math.cos(y / 2);\n    var c3 = Math.cos(z / 2);\n    var s1 = Math.sin(x / 2);\n    var s2 = Math.sin(y / 2);\n    var s3 = Math.sin(z / 2);\n    this.x = s1 * c2 * c3 + c1 * s2 * s3;\n    this.y = c1 * s2 * c3 - s1 * c2 * s3;\n    this.z = c1 * c2 * s3 - s1 * s2 * c3;\n    this.w = c1 * c2 * c3 + s1 * s2 * s3;\n    return this;\n  },\n  setFromAxisAngle: function setFromAxisAngle(axis, angle) {\n    var halfAngle = angle / 2,\n        s = Math.sin(halfAngle);\n    this.x = axis.x * s;\n    this.y = axis.y * s;\n    this.z = axis.z * s;\n    this.w = Math.cos(halfAngle);\n    return this;\n  },\n  multiply: function multiply(q) {\n    return this.multiplyQuaternions(this, q);\n  },\n  multiplyQuaternions: function multiplyQuaternions(a, b) {\n    var qax = a.x,\n        qay = a.y,\n        qaz = a.z,\n        qaw = a.w;\n    var qbx = b.x,\n        qby = b.y,\n        qbz = b.z,\n        qbw = b.w;\n    this.x = qax * qbw + qaw * qbx + qay * qbz - qaz * qby;\n    this.y = qay * qbw + qaw * qby + qaz * qbx - qax * qbz;\n    this.z = qaz * qbw + qaw * qbz + qax * qby - qay * qbx;\n    this.w = qaw * qbw - qax * qbx - qay * qby - qaz * qbz;\n    return this;\n  },\n  inverse: function inverse() {\n    this.x *= -1;\n    this.y *= -1;\n    this.z *= -1;\n    this.normalize();\n    return this;\n  },\n  normalize: function normalize() {\n    var l = Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w);\n    if (l === 0) {\n      this.x = 0;\n      this.y = 0;\n      this.z = 0;\n      this.w = 1;\n    } else {\n      l = 1 / l;\n      this.x = this.x * l;\n      this.y = this.y * l;\n      this.z = this.z * l;\n      this.w = this.w * l;\n    }\n    return this;\n  },\n  slerp: function slerp(qb, t) {\n    if (t === 0) return this;\n    if (t === 1) return this.copy(qb);\n    var x = this.x,\n        y = this.y,\n        z = this.z,\n        w = this.w;\n    var cosHalfTheta = w * qb.w + x * qb.x + y * qb.y + z * qb.z;\n    if (cosHalfTheta < 0) {\n      this.w = -qb.w;\n      this.x = -qb.x;\n      this.y = -qb.y;\n      this.z = -qb.z;\n      cosHalfTheta = -cosHalfTheta;\n    } else {\n      this.copy(qb);\n    }\n    if (cosHalfTheta >= 1.0) {\n      this.w = w;\n      this.x = x;\n      this.y = y;\n      this.z = z;\n      return this;\n    }\n    var halfTheta = Math.acos(cosHalfTheta);\n    var sinHalfTheta = Math.sqrt(1.0 - cosHalfTheta * cosHalfTheta);\n    if (Math.abs(sinHalfTheta) < 0.001) {\n      this.w = 0.5 * (w + this.w);\n      this.x = 0.5 * (x + this.x);\n      this.y = 0.5 * (y + this.y);\n      this.z = 0.5 * (z + this.z);\n      return this;\n    }\n    var ratioA = Math.sin((1 - t) * halfTheta) / sinHalfTheta,\n        ratioB = Math.sin(t * halfTheta) / sinHalfTheta;\n    this.w = w * ratioA + this.w * ratioB;\n    this.x = x * ratioA + this.x * ratioB;\n    this.y = y * ratioA + this.y * ratioB;\n    this.z = z * ratioA + this.z * ratioB;\n    return this;\n  },\n  setFromUnitVectors: function () {\n    var v1, r;\n    var EPS = 0.000001;\n    return function (vFrom, vTo) {\n      if (v1 === undefined) v1 = new Vector3();\n      r = vFrom.dot(vTo) + 1;\n      if (r < EPS) {\n        r = 0;\n        if (Math.abs(vFrom.x) > Math.abs(vFrom.z)) {\n          v1.set(-vFrom.y, vFrom.x, 0);\n        } else {\n          v1.set(0, -vFrom.z, vFrom.y);\n        }\n      } else {\n        v1.crossVectors(vFrom, vTo);\n      }\n      this.x = v1.x;\n      this.y = v1.y;\n      this.z = v1.z;\n      this.w = r;\n      this.normalize();\n      return this;\n    };\n  }()\n};\n\nfunction Device(params) {\n  this.width = params.width || getScreenWidth();\n  this.height = params.height || getScreenHeight();\n  this.widthMeters = params.widthMeters;\n  this.heightMeters = params.heightMeters;\n  this.bevelMeters = params.bevelMeters;\n}\nvar DEFAULT_ANDROID = new Device({\n  widthMeters: 0.110,\n  heightMeters: 0.062,\n  bevelMeters: 0.004\n});\nvar DEFAULT_IOS = new Device({\n  widthMeters: 0.1038,\n  heightMeters: 0.0584,\n  bevelMeters: 0.004\n});\nvar Viewers = {\n  CardboardV1: new CardboardViewer({\n    id: 'CardboardV1',\n    label: 'Cardboard I/O 2014',\n    fov: 40,\n    interLensDistance: 0.060,\n    baselineLensDistance: 0.035,\n    screenLensDistance: 0.042,\n    distortionCoefficients: [0.441, 0.156],\n    inverseCoefficients: [-0.4410035, 0.42756155, -0.4804439, 0.5460139, -0.58821183, 0.5733938, -0.48303202, 0.33299083, -0.17573841, 0.0651772, -0.01488963, 0.001559834]\n  }),\n  CardboardV2: new CardboardViewer({\n    id: 'CardboardV2',\n    label: 'Cardboard I/O 2015',\n    fov: 60,\n    interLensDistance: 0.064,\n    baselineLensDistance: 0.035,\n    screenLensDistance: 0.039,\n    distortionCoefficients: [0.34, 0.55],\n    inverseCoefficients: [-0.33836704, -0.18162185, 0.862655, -1.2462051, 1.0560602, -0.58208317, 0.21609078, -0.05444823, 0.009177956, -9.904169E-4, 6.183535E-5, -1.6981803E-6]\n  })\n};\nfunction DeviceInfo(deviceParams, additionalViewers) {\n  this.viewer = Viewers.CardboardV2;\n  this.updateDeviceParams(deviceParams);\n  this.distortion = new Distortion(this.viewer.distortionCoefficients);\n  for (var i = 0; i < additionalViewers.length; i++) {\n    var viewer = additionalViewers[i];\n    Viewers[viewer.id] = new CardboardViewer(viewer);\n  }\n}\nDeviceInfo.prototype.updateDeviceParams = function (deviceParams) {\n  this.device = this.determineDevice_(deviceParams) || this.device;\n};\nDeviceInfo.prototype.getDevice = function () {\n  return this.device;\n};\nDeviceInfo.prototype.setViewer = function (viewer) {\n  this.viewer = viewer;\n  this.distortion = new Distortion(this.viewer.distortionCoefficients);\n};\nDeviceInfo.prototype.determineDevice_ = function (deviceParams) {\n  if (!deviceParams) {\n    if (isIOS()) {\n      console.warn('Using fallback iOS device measurements.');\n      return DEFAULT_IOS;\n    } else {\n      console.warn('Using fallback Android device measurements.');\n      return DEFAULT_ANDROID;\n    }\n  }\n  var METERS_PER_INCH = 0.0254;\n  var metersPerPixelX = METERS_PER_INCH / deviceParams.xdpi;\n  var metersPerPixelY = METERS_PER_INCH / deviceParams.ydpi;\n  var width = getScreenWidth();\n  var height = getScreenHeight();\n  return new Device({\n    widthMeters: metersPerPixelX * width,\n    heightMeters: metersPerPixelY * height,\n    bevelMeters: deviceParams.bevelMm * 0.001\n  });\n};\nDeviceInfo.prototype.getDistortedFieldOfViewLeftEye = function () {\n  var viewer = this.viewer;\n  var device = this.device;\n  var distortion = this.distortion;\n  var eyeToScreenDistance = viewer.screenLensDistance;\n  var outerDist = (device.widthMeters - viewer.interLensDistance) / 2;\n  var innerDist = viewer.interLensDistance / 2;\n  var bottomDist = viewer.baselineLensDistance - device.bevelMeters;\n  var topDist = device.heightMeters - bottomDist;\n  var outerAngle = radToDeg * Math.atan(distortion.distort(outerDist / eyeToScreenDistance));\n  var innerAngle = radToDeg * Math.atan(distortion.distort(innerDist / eyeToScreenDistance));\n  var bottomAngle = radToDeg * Math.atan(distortion.distort(bottomDist / eyeToScreenDistance));\n  var topAngle = radToDeg * Math.atan(distortion.distort(topDist / eyeToScreenDistance));\n  return {\n    leftDegrees: Math.min(outerAngle, viewer.fov),\n    rightDegrees: Math.min(innerAngle, viewer.fov),\n    downDegrees: Math.min(bottomAngle, viewer.fov),\n    upDegrees: Math.min(topAngle, viewer.fov)\n  };\n};\nDeviceInfo.prototype.getLeftEyeVisibleTanAngles = function () {\n  var viewer = this.viewer;\n  var device = this.device;\n  var distortion = this.distortion;\n  var fovLeft = Math.tan(-degToRad * viewer.fov);\n  var fovTop = Math.tan(degToRad * viewer.fov);\n  var fovRight = Math.tan(degToRad * viewer.fov);\n  var fovBottom = Math.tan(-degToRad * viewer.fov);\n  var halfWidth = device.widthMeters / 4;\n  var halfHeight = device.heightMeters / 2;\n  var verticalLensOffset = viewer.baselineLensDistance - device.bevelMeters - halfHeight;\n  var centerX = viewer.interLensDistance / 2 - halfWidth;\n  var centerY = -verticalLensOffset;\n  var centerZ = viewer.screenLensDistance;\n  var screenLeft = distortion.distort((centerX - halfWidth) / centerZ);\n  var screenTop = distortion.distort((centerY + halfHeight) / centerZ);\n  var screenRight = distortion.distort((centerX + halfWidth) / centerZ);\n  var screenBottom = distortion.distort((centerY - halfHeight) / centerZ);\n  var result = new Float32Array(4);\n  result[0] = Math.max(fovLeft, screenLeft);\n  result[1] = Math.min(fovTop, screenTop);\n  result[2] = Math.min(fovRight, screenRight);\n  result[3] = Math.max(fovBottom, screenBottom);\n  return result;\n};\nDeviceInfo.prototype.getLeftEyeNoLensTanAngles = function () {\n  var viewer = this.viewer;\n  var device = this.device;\n  var distortion = this.distortion;\n  var result = new Float32Array(4);\n  var fovLeft = distortion.distortInverse(Math.tan(-degToRad * viewer.fov));\n  var fovTop = distortion.distortInverse(Math.tan(degToRad * viewer.fov));\n  var fovRight = distortion.distortInverse(Math.tan(degToRad * viewer.fov));\n  var fovBottom = distortion.distortInverse(Math.tan(-degToRad * viewer.fov));\n  var halfWidth = device.widthMeters / 4;\n  var halfHeight = device.heightMeters / 2;\n  var verticalLensOffset = viewer.baselineLensDistance - device.bevelMeters - halfHeight;\n  var centerX = viewer.interLensDistance / 2 - halfWidth;\n  var centerY = -verticalLensOffset;\n  var centerZ = viewer.screenLensDistance;\n  var screenLeft = (centerX - halfWidth) / centerZ;\n  var screenTop = (centerY + halfHeight) / centerZ;\n  var screenRight = (centerX + halfWidth) / centerZ;\n  var screenBottom = (centerY - halfHeight) / centerZ;\n  result[0] = Math.max(fovLeft, screenLeft);\n  result[1] = Math.min(fovTop, screenTop);\n  result[2] = Math.min(fovRight, screenRight);\n  result[3] = Math.max(fovBottom, screenBottom);\n  return result;\n};\nDeviceInfo.prototype.getLeftEyeVisibleScreenRect = function (undistortedFrustum) {\n  var viewer = this.viewer;\n  var device = this.device;\n  var dist = viewer.screenLensDistance;\n  var eyeX = (device.widthMeters - viewer.interLensDistance) / 2;\n  var eyeY = viewer.baselineLensDistance - device.bevelMeters;\n  var left = (undistortedFrustum[0] * dist + eyeX) / device.widthMeters;\n  var top = (undistortedFrustum[1] * dist + eyeY) / device.heightMeters;\n  var right = (undistortedFrustum[2] * dist + eyeX) / device.widthMeters;\n  var bottom = (undistortedFrustum[3] * dist + eyeY) / device.heightMeters;\n  return {\n    x: left,\n    y: bottom,\n    width: right - left,\n    height: top - bottom\n  };\n};\nDeviceInfo.prototype.getFieldOfViewLeftEye = function (opt_isUndistorted) {\n  return opt_isUndistorted ? this.getUndistortedFieldOfViewLeftEye() : this.getDistortedFieldOfViewLeftEye();\n};\nDeviceInfo.prototype.getFieldOfViewRightEye = function (opt_isUndistorted) {\n  var fov = this.getFieldOfViewLeftEye(opt_isUndistorted);\n  return {\n    leftDegrees: fov.rightDegrees,\n    rightDegrees: fov.leftDegrees,\n    upDegrees: fov.upDegrees,\n    downDegrees: fov.downDegrees\n  };\n};\nDeviceInfo.prototype.getUndistortedFieldOfViewLeftEye = function () {\n  var p = this.getUndistortedParams_();\n  return {\n    leftDegrees: radToDeg * Math.atan(p.outerDist),\n    rightDegrees: radToDeg * Math.atan(p.innerDist),\n    downDegrees: radToDeg * Math.atan(p.bottomDist),\n    upDegrees: radToDeg * Math.atan(p.topDist)\n  };\n};\nDeviceInfo.prototype.getUndistortedViewportLeftEye = function () {\n  var p = this.getUndistortedParams_();\n  var viewer = this.viewer;\n  var device = this.device;\n  var eyeToScreenDistance = viewer.screenLensDistance;\n  var screenWidth = device.widthMeters / eyeToScreenDistance;\n  var screenHeight = device.heightMeters / eyeToScreenDistance;\n  var xPxPerTanAngle = device.width / screenWidth;\n  var yPxPerTanAngle = device.height / screenHeight;\n  var x = Math.round((p.eyePosX - p.outerDist) * xPxPerTanAngle);\n  var y = Math.round((p.eyePosY - p.bottomDist) * yPxPerTanAngle);\n  return {\n    x: x,\n    y: y,\n    width: Math.round((p.eyePosX + p.innerDist) * xPxPerTanAngle) - x,\n    height: Math.round((p.eyePosY + p.topDist) * yPxPerTanAngle) - y\n  };\n};\nDeviceInfo.prototype.getUndistortedParams_ = function () {\n  var viewer = this.viewer;\n  var device = this.device;\n  var distortion = this.distortion;\n  var eyeToScreenDistance = viewer.screenLensDistance;\n  var halfLensDistance = viewer.interLensDistance / 2 / eyeToScreenDistance;\n  var screenWidth = device.widthMeters / eyeToScreenDistance;\n  var screenHeight = device.heightMeters / eyeToScreenDistance;\n  var eyePosX = screenWidth / 2 - halfLensDistance;\n  var eyePosY = (viewer.baselineLensDistance - device.bevelMeters) / eyeToScreenDistance;\n  var maxFov = viewer.fov;\n  var viewerMax = distortion.distortInverse(Math.tan(degToRad * maxFov));\n  var outerDist = Math.min(eyePosX, viewerMax);\n  var innerDist = Math.min(halfLensDistance, viewerMax);\n  var bottomDist = Math.min(eyePosY, viewerMax);\n  var topDist = Math.min(screenHeight - eyePosY, viewerMax);\n  return {\n    outerDist: outerDist,\n    innerDist: innerDist,\n    topDist: topDist,\n    bottomDist: bottomDist,\n    eyePosX: eyePosX,\n    eyePosY: eyePosY\n  };\n};\nfunction CardboardViewer(params) {\n  this.id = params.id;\n  this.label = params.label;\n  this.fov = params.fov;\n  this.interLensDistance = params.interLensDistance;\n  this.baselineLensDistance = params.baselineLensDistance;\n  this.screenLensDistance = params.screenLensDistance;\n  this.distortionCoefficients = params.distortionCoefficients;\n  this.inverseCoefficients = params.inverseCoefficients;\n}\nDeviceInfo.Viewers = Viewers;\n\nvar format = 1;\nvar last_updated = \"2019-11-09T17:36:14Z\";\nvar devices = [{\"type\":\"android\",\"rules\":[{\"mdmh\":\"asus/*/Nexus 7/*\"},{\"ua\":\"Nexus 7\"}],\"dpi\":[320.8,323],\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"asus/*/ASUS_X00PD/*\"},{\"ua\":\"ASUS_X00PD\"}],\"dpi\":245,\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"asus/*/ASUS_X008D/*\"},{\"ua\":\"ASUS_X008D\"}],\"dpi\":282,\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"asus/*/ASUS_Z00AD/*\"},{\"ua\":\"ASUS_Z00AD\"}],\"dpi\":[403,404.6],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"Google/*/Pixel 2 XL/*\"},{\"ua\":\"Pixel 2 XL\"}],\"dpi\":537.9,\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"Google/*/Pixel 3 XL/*\"},{\"ua\":\"Pixel 3 XL\"}],\"dpi\":[558.5,553.8],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"Google/*/Pixel XL/*\"},{\"ua\":\"Pixel XL\"}],\"dpi\":[537.9,533],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"Google/*/Pixel 3/*\"},{\"ua\":\"Pixel 3\"}],\"dpi\":442.4,\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"Google/*/Pixel 2/*\"},{\"ua\":\"Pixel 2\"}],\"dpi\":441,\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"Google/*/Pixel/*\"},{\"ua\":\"Pixel\"}],\"dpi\":[432.6,436.7],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"HTC/*/HTC6435LVW/*\"},{\"ua\":\"HTC6435LVW\"}],\"dpi\":[449.7,443.3],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"HTC/*/HTC One XL/*\"},{\"ua\":\"HTC One XL\"}],\"dpi\":[315.3,314.6],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"htc/*/Nexus 9/*\"},{\"ua\":\"Nexus 9\"}],\"dpi\":289,\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"HTC/*/HTC One M9/*\"},{\"ua\":\"HTC One M9\"}],\"dpi\":[442.5,443.3],\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"HTC/*/HTC One_M8/*\"},{\"ua\":\"HTC One_M8\"}],\"dpi\":[449.7,447.4],\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"HTC/*/HTC One/*\"},{\"ua\":\"HTC One\"}],\"dpi\":472.8,\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"Huawei/*/Nexus 6P/*\"},{\"ua\":\"Nexus 6P\"}],\"dpi\":[515.1,518],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"Huawei/*/BLN-L24/*\"},{\"ua\":\"HONORBLN-L24\"}],\"dpi\":480,\"bw\":4,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"Huawei/*/BKL-L09/*\"},{\"ua\":\"BKL-L09\"}],\"dpi\":403,\"bw\":3.47,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"LENOVO/*/Lenovo PB2-690Y/*\"},{\"ua\":\"Lenovo PB2-690Y\"}],\"dpi\":[457.2,454.713],\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"LGE/*/Nexus 5X/*\"},{\"ua\":\"Nexus 5X\"}],\"dpi\":[422,419.9],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"LGE/*/LGMS345/*\"},{\"ua\":\"LGMS345\"}],\"dpi\":[221.7,219.1],\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"LGE/*/LG-D800/*\"},{\"ua\":\"LG-D800\"}],\"dpi\":[422,424.1],\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"LGE/*/LG-D850/*\"},{\"ua\":\"LG-D850\"}],\"dpi\":[537.9,541.9],\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"LGE/*/VS985 4G/*\"},{\"ua\":\"VS985 4G\"}],\"dpi\":[537.9,535.6],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"LGE/*/Nexus 5/*\"},{\"ua\":\"Nexus 5 B\"}],\"dpi\":[442.4,444.8],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"LGE/*/Nexus 4/*\"},{\"ua\":\"Nexus 4\"}],\"dpi\":[319.8,318.4],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"LGE/*/LG-P769/*\"},{\"ua\":\"LG-P769\"}],\"dpi\":[240.6,247.5],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"LGE/*/LGMS323/*\"},{\"ua\":\"LGMS323\"}],\"dpi\":[206.6,204.6],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"LGE/*/LGLS996/*\"},{\"ua\":\"LGLS996\"}],\"dpi\":[403.4,401.5],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"Micromax/*/4560MMX/*\"},{\"ua\":\"4560MMX\"}],\"dpi\":[240,219.4],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"Micromax/*/A250/*\"},{\"ua\":\"Micromax A250\"}],\"dpi\":[480,446.4],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"Micromax/*/Micromax AQ4501/*\"},{\"ua\":\"Micromax AQ4501\"}],\"dpi\":240,\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"motorola/*/G5/*\"},{\"ua\":\"Moto G (5) Plus\"}],\"dpi\":[403.4,403],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"motorola/*/DROID RAZR/*\"},{\"ua\":\"DROID RAZR\"}],\"dpi\":[368.1,256.7],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"motorola/*/XT830C/*\"},{\"ua\":\"XT830C\"}],\"dpi\":[254,255.9],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"motorola/*/XT1021/*\"},{\"ua\":\"XT1021\"}],\"dpi\":[254,256.7],\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"motorola/*/XT1023/*\"},{\"ua\":\"XT1023\"}],\"dpi\":[254,256.7],\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"motorola/*/XT1028/*\"},{\"ua\":\"XT1028\"}],\"dpi\":[326.6,327.6],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"motorola/*/XT1034/*\"},{\"ua\":\"XT1034\"}],\"dpi\":[326.6,328.4],\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"motorola/*/XT1053/*\"},{\"ua\":\"XT1053\"}],\"dpi\":[315.3,316.1],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"motorola/*/XT1562/*\"},{\"ua\":\"XT1562\"}],\"dpi\":[403.4,402.7],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"motorola/*/Nexus 6/*\"},{\"ua\":\"Nexus 6 B\"}],\"dpi\":[494.3,489.7],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"motorola/*/XT1063/*\"},{\"ua\":\"XT1063\"}],\"dpi\":[295,296.6],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"motorola/*/XT1064/*\"},{\"ua\":\"XT1064\"}],\"dpi\":[295,295.6],\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"motorola/*/XT1092/*\"},{\"ua\":\"XT1092\"}],\"dpi\":[422,424.1],\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"motorola/*/XT1095/*\"},{\"ua\":\"XT1095\"}],\"dpi\":[422,423.4],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"motorola/*/G4/*\"},{\"ua\":\"Moto G (4)\"}],\"dpi\":401,\"bw\":4,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"OnePlus/*/A0001/*\"},{\"ua\":\"A0001\"}],\"dpi\":[403.4,401],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"OnePlus/*/ONE E1001/*\"},{\"ua\":\"ONE E1001\"}],\"dpi\":[442.4,441.4],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"OnePlus/*/ONE E1003/*\"},{\"ua\":\"ONE E1003\"}],\"dpi\":[442.4,441.4],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"OnePlus/*/ONE E1005/*\"},{\"ua\":\"ONE E1005\"}],\"dpi\":[442.4,441.4],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"OnePlus/*/ONE A2001/*\"},{\"ua\":\"ONE A2001\"}],\"dpi\":[391.9,405.4],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"OnePlus/*/ONE A2003/*\"},{\"ua\":\"ONE A2003\"}],\"dpi\":[391.9,405.4],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"OnePlus/*/ONE A2005/*\"},{\"ua\":\"ONE A2005\"}],\"dpi\":[391.9,405.4],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"OnePlus/*/ONEPLUS A3000/*\"},{\"ua\":\"ONEPLUS A3000\"}],\"dpi\":401,\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"OnePlus/*/ONEPLUS A3003/*\"},{\"ua\":\"ONEPLUS A3003\"}],\"dpi\":401,\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"OnePlus/*/ONEPLUS A3010/*\"},{\"ua\":\"ONEPLUS A3010\"}],\"dpi\":401,\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"OnePlus/*/ONEPLUS A5000/*\"},{\"ua\":\"ONEPLUS A5000 \"}],\"dpi\":[403.411,399.737],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"OnePlus/*/ONE A5010/*\"},{\"ua\":\"ONEPLUS A5010\"}],\"dpi\":[403,400],\"bw\":2,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"OnePlus/*/ONEPLUS A6000/*\"},{\"ua\":\"ONEPLUS A6000\"}],\"dpi\":401,\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"OnePlus/*/ONEPLUS A6003/*\"},{\"ua\":\"ONEPLUS A6003\"}],\"dpi\":401,\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"OnePlus/*/ONEPLUS A6010/*\"},{\"ua\":\"ONEPLUS A6010\"}],\"dpi\":401,\"bw\":2,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"OnePlus/*/ONEPLUS A6013/*\"},{\"ua\":\"ONEPLUS A6013\"}],\"dpi\":401,\"bw\":2,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"OPPO/*/X909/*\"},{\"ua\":\"X909\"}],\"dpi\":[442.4,444.1],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/GT-I9082/*\"},{\"ua\":\"GT-I9082\"}],\"dpi\":[184.7,185.4],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-G360P/*\"},{\"ua\":\"SM-G360P\"}],\"dpi\":[196.7,205.4],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/Nexus S/*\"},{\"ua\":\"Nexus S\"}],\"dpi\":[234.5,229.8],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/GT-I9300/*\"},{\"ua\":\"GT-I9300\"}],\"dpi\":[304.8,303.9],\"bw\":5,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-T230NU/*\"},{\"ua\":\"SM-T230NU\"}],\"dpi\":216,\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SGH-T399/*\"},{\"ua\":\"SGH-T399\"}],\"dpi\":[217.7,231.4],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SGH-M919/*\"},{\"ua\":\"SGH-M919\"}],\"dpi\":[440.8,437.7],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-N9005/*\"},{\"ua\":\"SM-N9005\"}],\"dpi\":[386.4,387],\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SAMSUNG-SM-N900A/*\"},{\"ua\":\"SAMSUNG-SM-N900A\"}],\"dpi\":[386.4,387.7],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/GT-I9500/*\"},{\"ua\":\"GT-I9500\"}],\"dpi\":[442.5,443.3],\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/GT-I9505/*\"},{\"ua\":\"GT-I9505\"}],\"dpi\":439.4,\"bw\":4,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-G900F/*\"},{\"ua\":\"SM-G900F\"}],\"dpi\":[415.6,431.6],\"bw\":5,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-G900M/*\"},{\"ua\":\"SM-G900M\"}],\"dpi\":[415.6,431.6],\"bw\":5,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-G800F/*\"},{\"ua\":\"SM-G800F\"}],\"dpi\":326.8,\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-G906S/*\"},{\"ua\":\"SM-G906S\"}],\"dpi\":[562.7,572.4],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/GT-I9300/*\"},{\"ua\":\"GT-I9300\"}],\"dpi\":[306.7,304.8],\"bw\":5,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-T535/*\"},{\"ua\":\"SM-T535\"}],\"dpi\":[142.6,136.4],\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-N920C/*\"},{\"ua\":\"SM-N920C\"}],\"dpi\":[515.1,518.4],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-N920P/*\"},{\"ua\":\"SM-N920P\"}],\"dpi\":[386.3655,390.144],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-N920W8/*\"},{\"ua\":\"SM-N920W8\"}],\"dpi\":[515.1,518.4],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/GT-I9300I/*\"},{\"ua\":\"GT-I9300I\"}],\"dpi\":[304.8,305.8],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/GT-I9195/*\"},{\"ua\":\"GT-I9195\"}],\"dpi\":[249.4,256.7],\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SPH-L520/*\"},{\"ua\":\"SPH-L520\"}],\"dpi\":[249.4,255.9],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SAMSUNG-SGH-I717/*\"},{\"ua\":\"SAMSUNG-SGH-I717\"}],\"dpi\":285.8,\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SPH-D710/*\"},{\"ua\":\"SPH-D710\"}],\"dpi\":[217.7,204.2],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/GT-N7100/*\"},{\"ua\":\"GT-N7100\"}],\"dpi\":265.1,\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SCH-I605/*\"},{\"ua\":\"SCH-I605\"}],\"dpi\":265.1,\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/Galaxy Nexus/*\"},{\"ua\":\"Galaxy Nexus\"}],\"dpi\":[315.3,314.2],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-N910H/*\"},{\"ua\":\"SM-N910H\"}],\"dpi\":[515.1,518],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-N910C/*\"},{\"ua\":\"SM-N910C\"}],\"dpi\":[515.2,520.2],\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-G130M/*\"},{\"ua\":\"SM-G130M\"}],\"dpi\":[165.9,164.8],\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-G928I/*\"},{\"ua\":\"SM-G928I\"}],\"dpi\":[515.1,518.4],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-G920F/*\"},{\"ua\":\"SM-G920F\"}],\"dpi\":580.6,\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-G920P/*\"},{\"ua\":\"SM-G920P\"}],\"dpi\":[522.5,577],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-G925F/*\"},{\"ua\":\"SM-G925F\"}],\"dpi\":580.6,\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-G925V/*\"},{\"ua\":\"SM-G925V\"}],\"dpi\":[522.5,576.6],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-G930F/*\"},{\"ua\":\"SM-G930F\"}],\"dpi\":576.6,\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-G935F/*\"},{\"ua\":\"SM-G935F\"}],\"dpi\":533,\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-G950F/*\"},{\"ua\":\"SM-G950F\"}],\"dpi\":[562.707,565.293],\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-G955U/*\"},{\"ua\":\"SM-G955U\"}],\"dpi\":[522.514,525.762],\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-G955F/*\"},{\"ua\":\"SM-G955F\"}],\"dpi\":[522.514,525.762],\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-G960F/*\"},{\"ua\":\"SM-G960F\"}],\"dpi\":[569.575,571.5],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-G9600/*\"},{\"ua\":\"SM-G9600\"}],\"dpi\":[569.575,571.5],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-G960T/*\"},{\"ua\":\"SM-G960T\"}],\"dpi\":[569.575,571.5],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-G960N/*\"},{\"ua\":\"SM-G960N\"}],\"dpi\":[569.575,571.5],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-G960U/*\"},{\"ua\":\"SM-G960U\"}],\"dpi\":[569.575,571.5],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-G9608/*\"},{\"ua\":\"SM-G9608\"}],\"dpi\":[569.575,571.5],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-G960FD/*\"},{\"ua\":\"SM-G960FD\"}],\"dpi\":[569.575,571.5],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-G960W/*\"},{\"ua\":\"SM-G960W\"}],\"dpi\":[569.575,571.5],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-G965F/*\"},{\"ua\":\"SM-G965F\"}],\"dpi\":529,\"bw\":2,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"Sony/*/C6903/*\"},{\"ua\":\"C6903\"}],\"dpi\":[442.5,443.3],\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"Sony/*/D6653/*\"},{\"ua\":\"D6653\"}],\"dpi\":[428.6,427.6],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"Sony/*/E6653/*\"},{\"ua\":\"E6653\"}],\"dpi\":[428.6,425.7],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"Sony/*/E6853/*\"},{\"ua\":\"E6853\"}],\"dpi\":[403.4,401.9],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"Sony/*/SGP321/*\"},{\"ua\":\"SGP321\"}],\"dpi\":[224.7,224.1],\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"TCT/*/ALCATEL ONE TOUCH Fierce/*\"},{\"ua\":\"ALCATEL ONE TOUCH Fierce\"}],\"dpi\":[240,247.5],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"THL/*/thl 5000/*\"},{\"ua\":\"thl 5000\"}],\"dpi\":[480,443.3],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"Fly/*/IQ4412/*\"},{\"ua\":\"IQ4412\"}],\"dpi\":307.9,\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"ZTE/*/ZTE Blade L2/*\"},{\"ua\":\"ZTE Blade L2\"}],\"dpi\":240,\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"BENEVE/*/VR518/*\"},{\"ua\":\"VR518\"}],\"dpi\":480,\"bw\":3,\"ac\":500},{\"type\":\"ios\",\"rules\":[{\"res\":[640,960]}],\"dpi\":[325.1,328.4],\"bw\":4,\"ac\":1000},{\"type\":\"ios\",\"rules\":[{\"res\":[640,1136]}],\"dpi\":[317.1,320.2],\"bw\":3,\"ac\":1000},{\"type\":\"ios\",\"rules\":[{\"res\":[750,1334]}],\"dpi\":326.4,\"bw\":4,\"ac\":1000},{\"type\":\"ios\",\"rules\":[{\"res\":[1242,2208]}],\"dpi\":[453.6,458.4],\"bw\":4,\"ac\":1000},{\"type\":\"ios\",\"rules\":[{\"res\":[1125,2001]}],\"dpi\":[410.9,415.4],\"bw\":4,\"ac\":1000},{\"type\":\"ios\",\"rules\":[{\"res\":[1125,2436]}],\"dpi\":458,\"bw\":4,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"Huawei/*/EML-L29/*\"},{\"ua\":\"EML-L29\"}],\"dpi\":428,\"bw\":3.45,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"Nokia/*/Nokia 7.1/*\"},{\"ua\":\"Nokia 7.1\"}],\"dpi\":[432,431.9],\"bw\":3,\"ac\":500},{\"type\":\"ios\",\"rules\":[{\"res\":[1242,2688]}],\"dpi\":458,\"bw\":4,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-G570M/*\"},{\"ua\":\"SM-G570M\"}],\"dpi\":320,\"bw\":3.684,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-G970F/*\"},{\"ua\":\"SM-G970F\"}],\"dpi\":438,\"bw\":2.281,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-G973F/*\"},{\"ua\":\"SM-G973F\"}],\"dpi\":550,\"bw\":2.002,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-G975F/*\"},{\"ua\":\"SM-G975F\"}],\"dpi\":522,\"bw\":2.054,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-G977F/*\"},{\"ua\":\"SM-G977F\"}],\"dpi\":505,\"bw\":2.334,\"ac\":500},{\"type\":\"ios\",\"rules\":[{\"res\":[828,1792]}],\"dpi\":326,\"bw\":5,\"ac\":500}];\nvar DPDB_CACHE = {\n\tformat: format,\n\tlast_updated: last_updated,\n\tdevices: devices\n};\n\nfunction Dpdb(url, onDeviceParamsUpdated) {\n  this.dpdb = DPDB_CACHE;\n  this.recalculateDeviceParams_();\n  if (url) {\n    this.onDeviceParamsUpdated = onDeviceParamsUpdated;\n    var xhr = new XMLHttpRequest();\n    var obj = this;\n    xhr.open('GET', url, true);\n    xhr.addEventListener('load', function () {\n      obj.loading = false;\n      if (xhr.status >= 200 && xhr.status <= 299) {\n        obj.dpdb = JSON.parse(xhr.response);\n        obj.recalculateDeviceParams_();\n      } else {\n        console.error('Error loading online DPDB!');\n      }\n    });\n    xhr.send();\n  }\n}\nDpdb.prototype.getDeviceParams = function () {\n  return this.deviceParams;\n};\nDpdb.prototype.recalculateDeviceParams_ = function () {\n  var newDeviceParams = this.calcDeviceParams_();\n  if (newDeviceParams) {\n    this.deviceParams = newDeviceParams;\n    if (this.onDeviceParamsUpdated) {\n      this.onDeviceParamsUpdated(this.deviceParams);\n    }\n  } else {\n    console.error('Failed to recalculate device parameters.');\n  }\n};\nDpdb.prototype.calcDeviceParams_ = function () {\n  var db = this.dpdb;\n  if (!db) {\n    console.error('DPDB not available.');\n    return null;\n  }\n  if (db.format != 1) {\n    console.error('DPDB has unexpected format version.');\n    return null;\n  }\n  if (!db.devices || !db.devices.length) {\n    console.error('DPDB does not have a devices section.');\n    return null;\n  }\n  var userAgent = navigator.userAgent || navigator.vendor || window.opera;\n  var width = getScreenWidth();\n  var height = getScreenHeight();\n  if (!db.devices) {\n    console.error('DPDB has no devices section.');\n    return null;\n  }\n  for (var i = 0; i < db.devices.length; i++) {\n    var device = db.devices[i];\n    if (!device.rules) {\n      console.warn('Device[' + i + '] has no rules section.');\n      continue;\n    }\n    if (device.type != 'ios' && device.type != 'android') {\n      console.warn('Device[' + i + '] has invalid type.');\n      continue;\n    }\n    if (isIOS() != (device.type == 'ios')) continue;\n    var matched = false;\n    for (var j = 0; j < device.rules.length; j++) {\n      var rule = device.rules[j];\n      if (this.ruleMatches_(rule, userAgent, width, height)) {\n        matched = true;\n        break;\n      }\n    }\n    if (!matched) continue;\n    var xdpi = device.dpi[0] || device.dpi;\n    var ydpi = device.dpi[1] || device.dpi;\n    return new DeviceParams({ xdpi: xdpi, ydpi: ydpi, bevelMm: device.bw });\n  }\n  console.warn('No DPDB device match.');\n  return null;\n};\nDpdb.prototype.ruleMatches_ = function (rule, ua, screenWidth, screenHeight) {\n  if (!rule.ua && !rule.res) return false;\n  if (rule.ua && rule.ua.substring(0, 2) === 'SM') rule.ua = rule.ua.substring(0, 7);\n  if (rule.ua && ua.indexOf(rule.ua) < 0) return false;\n  if (rule.res) {\n    if (!rule.res[0] || !rule.res[1]) return false;\n    var resX = rule.res[0];\n    var resY = rule.res[1];\n    if (Math.min(screenWidth, screenHeight) != Math.min(resX, resY) || Math.max(screenWidth, screenHeight) != Math.max(resX, resY)) {\n      return false;\n    }\n  }\n  return true;\n};\nfunction DeviceParams(params) {\n  this.xdpi = params.xdpi;\n  this.ydpi = params.ydpi;\n  this.bevelMm = params.bevelMm;\n}\n\nfunction SensorSample(sample, timestampS) {\n  this.set(sample, timestampS);\n}\nSensorSample.prototype.set = function (sample, timestampS) {\n  this.sample = sample;\n  this.timestampS = timestampS;\n};\nSensorSample.prototype.copy = function (sensorSample) {\n  this.set(sensorSample.sample, sensorSample.timestampS);\n};\n\nfunction ComplementaryFilter(kFilter, isDebug) {\n  this.kFilter = kFilter;\n  this.isDebug = isDebug;\n  this.currentAccelMeasurement = new SensorSample();\n  this.currentGyroMeasurement = new SensorSample();\n  this.previousGyroMeasurement = new SensorSample();\n  if (isIOS()) {\n    this.filterQ = new Quaternion(-1, 0, 0, 1);\n  } else {\n    this.filterQ = new Quaternion(1, 0, 0, 1);\n  }\n  this.previousFilterQ = new Quaternion();\n  this.previousFilterQ.copy(this.filterQ);\n  this.accelQ = new Quaternion();\n  this.isOrientationInitialized = false;\n  this.estimatedGravity = new Vector3();\n  this.measuredGravity = new Vector3();\n  this.gyroIntegralQ = new Quaternion();\n}\nComplementaryFilter.prototype.addAccelMeasurement = function (vector, timestampS) {\n  this.currentAccelMeasurement.set(vector, timestampS);\n};\nComplementaryFilter.prototype.addGyroMeasurement = function (vector, timestampS) {\n  this.currentGyroMeasurement.set(vector, timestampS);\n  var deltaT = timestampS - this.previousGyroMeasurement.timestampS;\n  if (isTimestampDeltaValid(deltaT)) {\n    this.run_();\n  }\n  this.previousGyroMeasurement.copy(this.currentGyroMeasurement);\n};\nComplementaryFilter.prototype.run_ = function () {\n  if (!this.isOrientationInitialized) {\n    this.accelQ = this.accelToQuaternion_(this.currentAccelMeasurement.sample);\n    this.previousFilterQ.copy(this.accelQ);\n    this.isOrientationInitialized = true;\n    return;\n  }\n  var deltaT = this.currentGyroMeasurement.timestampS - this.previousGyroMeasurement.timestampS;\n  var gyroDeltaQ = this.gyroToQuaternionDelta_(this.currentGyroMeasurement.sample, deltaT);\n  this.gyroIntegralQ.multiply(gyroDeltaQ);\n  this.filterQ.copy(this.previousFilterQ);\n  this.filterQ.multiply(gyroDeltaQ);\n  var invFilterQ = new Quaternion();\n  invFilterQ.copy(this.filterQ);\n  invFilterQ.inverse();\n  this.estimatedGravity.set(0, 0, -1);\n  this.estimatedGravity.applyQuaternion(invFilterQ);\n  this.estimatedGravity.normalize();\n  this.measuredGravity.copy(this.currentAccelMeasurement.sample);\n  this.measuredGravity.normalize();\n  var deltaQ = new Quaternion();\n  deltaQ.setFromUnitVectors(this.estimatedGravity, this.measuredGravity);\n  deltaQ.inverse();\n  if (this.isDebug) {\n    console.log('Delta: %d deg, G_est: (%s, %s, %s), G_meas: (%s, %s, %s)', radToDeg * getQuaternionAngle(deltaQ), this.estimatedGravity.x.toFixed(1), this.estimatedGravity.y.toFixed(1), this.estimatedGravity.z.toFixed(1), this.measuredGravity.x.toFixed(1), this.measuredGravity.y.toFixed(1), this.measuredGravity.z.toFixed(1));\n  }\n  var targetQ = new Quaternion();\n  targetQ.copy(this.filterQ);\n  targetQ.multiply(deltaQ);\n  this.filterQ.slerp(targetQ, 1 - this.kFilter);\n  this.previousFilterQ.copy(this.filterQ);\n};\nComplementaryFilter.prototype.getOrientation = function () {\n  return this.filterQ;\n};\nComplementaryFilter.prototype.accelToQuaternion_ = function (accel) {\n  var normAccel = new Vector3();\n  normAccel.copy(accel);\n  normAccel.normalize();\n  var quat = new Quaternion();\n  quat.setFromUnitVectors(new Vector3(0, 0, -1), normAccel);\n  quat.inverse();\n  return quat;\n};\nComplementaryFilter.prototype.gyroToQuaternionDelta_ = function (gyro, dt) {\n  var quat = new Quaternion();\n  var axis = new Vector3();\n  axis.copy(gyro);\n  axis.normalize();\n  quat.setFromAxisAngle(axis, gyro.length() * dt);\n  return quat;\n};\n\nfunction PosePredictor(predictionTimeS, isDebug) {\n  this.predictionTimeS = predictionTimeS;\n  this.isDebug = isDebug;\n  this.previousQ = new Quaternion();\n  this.previousTimestampS = null;\n  this.deltaQ = new Quaternion();\n  this.outQ = new Quaternion();\n}\nPosePredictor.prototype.getPrediction = function (currentQ, gyro, timestampS) {\n  if (!this.previousTimestampS) {\n    this.previousQ.copy(currentQ);\n    this.previousTimestampS = timestampS;\n    return currentQ;\n  }\n  var axis = new Vector3();\n  axis.copy(gyro);\n  axis.normalize();\n  var angularSpeed = gyro.length();\n  if (angularSpeed < degToRad * 20) {\n    if (this.isDebug) {\n      console.log('Moving slowly, at %s deg/s: no prediction', (radToDeg * angularSpeed).toFixed(1));\n    }\n    this.outQ.copy(currentQ);\n    this.previousQ.copy(currentQ);\n    return this.outQ;\n  }\n  var predictAngle = angularSpeed * this.predictionTimeS;\n  this.deltaQ.setFromAxisAngle(axis, predictAngle);\n  this.outQ.copy(this.previousQ);\n  this.outQ.multiply(this.deltaQ);\n  this.previousQ.copy(currentQ);\n  this.previousTimestampS = timestampS;\n  return this.outQ;\n};\n\nfunction FusionPoseSensor(kFilter, predictionTime, yawOnly, isDebug) {\n  this.yawOnly = yawOnly;\n  this.accelerometer = new Vector3();\n  this.gyroscope = new Vector3();\n  this.filter = new ComplementaryFilter(kFilter, isDebug);\n  this.posePredictor = new PosePredictor(predictionTime, isDebug);\n  this.isFirefoxAndroid = isFirefoxAndroid();\n  this.isIOS = isIOS();\n  var chromeVersion = getChromeVersion();\n  this.isDeviceMotionInRadians = !this.isIOS && chromeVersion && chromeVersion < 66;\n  this.isWithoutDeviceMotion = isChromeWithoutDeviceMotion() || isSafariWithoutDeviceMotion();\n  this.filterToWorldQ = new Quaternion();\n  if (isIOS()) {\n    this.filterToWorldQ.setFromAxisAngle(new Vector3(1, 0, 0), Math.PI / 2);\n  } else {\n    this.filterToWorldQ.setFromAxisAngle(new Vector3(1, 0, 0), -Math.PI / 2);\n  }\n  this.inverseWorldToScreenQ = new Quaternion();\n  this.worldToScreenQ = new Quaternion();\n  this.originalPoseAdjustQ = new Quaternion();\n  this.originalPoseAdjustQ.setFromAxisAngle(new Vector3(0, 0, 1), -window.orientation * Math.PI / 180);\n  this.setScreenTransform_();\n  if (isLandscapeMode()) {\n    this.filterToWorldQ.multiply(this.inverseWorldToScreenQ);\n  }\n  this.resetQ = new Quaternion();\n  this.orientationOut_ = new Float32Array(4);\n  this.start();\n}\nFusionPoseSensor.prototype.getPosition = function () {\n  return null;\n};\nFusionPoseSensor.prototype.getOrientation = function () {\n  var orientation = void 0;\n  if (this.isWithoutDeviceMotion && this._deviceOrientationQ) {\n    this.deviceOrientationFixQ = this.deviceOrientationFixQ || function () {\n      var z = new Quaternion().setFromAxisAngle(new Vector3(0, 0, -1), 0);\n      var y = new Quaternion();\n      if (window.orientation === -90) {\n        y.setFromAxisAngle(new Vector3(0, 1, 0), Math.PI / -2);\n      } else {\n        y.setFromAxisAngle(new Vector3(0, 1, 0), Math.PI / 2);\n      }\n      return z.multiply(y);\n    }();\n    this.deviceOrientationFilterToWorldQ = this.deviceOrientationFilterToWorldQ || function () {\n      var q = new Quaternion();\n      q.setFromAxisAngle(new Vector3(1, 0, 0), -Math.PI / 2);\n      return q;\n    }();\n    orientation = this._deviceOrientationQ;\n    var out = new Quaternion();\n    out.copy(orientation);\n    out.multiply(this.deviceOrientationFilterToWorldQ);\n    out.multiply(this.resetQ);\n    out.multiply(this.worldToScreenQ);\n    out.multiplyQuaternions(this.deviceOrientationFixQ, out);\n    if (this.yawOnly) {\n      out.x = 0;\n      out.z = 0;\n      out.normalize();\n    }\n    this.orientationOut_[0] = out.x;\n    this.orientationOut_[1] = out.y;\n    this.orientationOut_[2] = out.z;\n    this.orientationOut_[3] = out.w;\n    return this.orientationOut_;\n  } else {\n    var filterOrientation = this.filter.getOrientation();\n    orientation = this.posePredictor.getPrediction(filterOrientation, this.gyroscope, this.previousTimestampS);\n  }\n  var out = new Quaternion();\n  out.copy(this.filterToWorldQ);\n  out.multiply(this.resetQ);\n  out.multiply(orientation);\n  out.multiply(this.worldToScreenQ);\n  if (this.yawOnly) {\n    out.x = 0;\n    out.z = 0;\n    out.normalize();\n  }\n  this.orientationOut_[0] = out.x;\n  this.orientationOut_[1] = out.y;\n  this.orientationOut_[2] = out.z;\n  this.orientationOut_[3] = out.w;\n  return this.orientationOut_;\n};\nFusionPoseSensor.prototype.resetPose = function () {\n  this.resetQ.copy(this.filter.getOrientation());\n  this.resetQ.x = 0;\n  this.resetQ.y = 0;\n  this.resetQ.z *= -1;\n  this.resetQ.normalize();\n  if (isLandscapeMode()) {\n    this.resetQ.multiply(this.inverseWorldToScreenQ);\n  }\n  this.resetQ.multiply(this.originalPoseAdjustQ);\n};\nFusionPoseSensor.prototype.onDeviceOrientation_ = function (e) {\n  this._deviceOrientationQ = this._deviceOrientationQ || new Quaternion();\n  var alpha = e.alpha,\n      beta = e.beta,\n      gamma = e.gamma;\n  alpha = (alpha || 0) * Math.PI / 180;\n  beta = (beta || 0) * Math.PI / 180;\n  gamma = (gamma || 0) * Math.PI / 180;\n  this._deviceOrientationQ.setFromEulerYXZ(beta, alpha, -gamma);\n};\nFusionPoseSensor.prototype.onDeviceMotion_ = function (deviceMotion) {\n  this.updateDeviceMotion_(deviceMotion);\n};\nFusionPoseSensor.prototype.updateDeviceMotion_ = function (deviceMotion) {\n  var accGravity = deviceMotion.accelerationIncludingGravity;\n  var rotRate = deviceMotion.rotationRate;\n  var timestampS = deviceMotion.timeStamp / 1000;\n  var deltaS = timestampS - this.previousTimestampS;\n  if (deltaS < 0) {\n    warnOnce('fusion-pose-sensor:invalid:non-monotonic', 'Invalid timestamps detected: non-monotonic timestamp from devicemotion');\n    this.previousTimestampS = timestampS;\n    return;\n  } else if (deltaS <= MIN_TIMESTEP || deltaS > MAX_TIMESTEP) {\n    warnOnce('fusion-pose-sensor:invalid:outside-threshold', 'Invalid timestamps detected: Timestamp from devicemotion outside expected range.');\n    this.previousTimestampS = timestampS;\n    return;\n  }\n  this.accelerometer.set(-accGravity.x, -accGravity.y, -accGravity.z);\n  if (rotRate) {\n    if (isR7()) {\n      this.gyroscope.set(-rotRate.beta, rotRate.alpha, rotRate.gamma);\n    } else {\n      this.gyroscope.set(rotRate.alpha, rotRate.beta, rotRate.gamma);\n    }\n    if (!this.isDeviceMotionInRadians) {\n      this.gyroscope.multiplyScalar(Math.PI / 180);\n    }\n    this.filter.addGyroMeasurement(this.gyroscope, timestampS);\n  }\n  this.filter.addAccelMeasurement(this.accelerometer, timestampS);\n  this.previousTimestampS = timestampS;\n};\nFusionPoseSensor.prototype.onOrientationChange_ = function (screenOrientation) {\n  this.setScreenTransform_();\n};\nFusionPoseSensor.prototype.onMessage_ = function (event) {\n  var message = event.data;\n  if (!message || !message.type) {\n    return;\n  }\n  var type = message.type.toLowerCase();\n  if (type !== 'devicemotion') {\n    return;\n  }\n  this.updateDeviceMotion_(message.deviceMotionEvent);\n};\nFusionPoseSensor.prototype.setScreenTransform_ = function () {\n  this.worldToScreenQ.set(0, 0, 0, 1);\n  switch (window.orientation) {\n    case 0:\n      break;\n    case 90:\n      this.worldToScreenQ.setFromAxisAngle(new Vector3(0, 0, 1), -Math.PI / 2);\n      break;\n    case -90:\n      this.worldToScreenQ.setFromAxisAngle(new Vector3(0, 0, 1), Math.PI / 2);\n      break;\n    case 180:\n      break;\n  }\n  this.inverseWorldToScreenQ.copy(this.worldToScreenQ);\n  this.inverseWorldToScreenQ.inverse();\n};\nFusionPoseSensor.prototype.start = function () {\n  this.onDeviceMotionCallback_ = this.onDeviceMotion_.bind(this);\n  this.onOrientationChangeCallback_ = this.onOrientationChange_.bind(this);\n  this.onMessageCallback_ = this.onMessage_.bind(this);\n  this.onDeviceOrientationCallback_ = this.onDeviceOrientation_.bind(this);\n  if (isIOS() && isInsideCrossOriginIFrame()) {\n    window.addEventListener('message', this.onMessageCallback_);\n  }\n  window.addEventListener('orientationchange', this.onOrientationChangeCallback_);\n  if (this.isWithoutDeviceMotion) {\n    window.addEventListener('deviceorientation', this.onDeviceOrientationCallback_);\n  } else {\n    window.addEventListener('devicemotion', this.onDeviceMotionCallback_);\n  }\n};\nFusionPoseSensor.prototype.stop = function () {\n  window.removeEventListener('devicemotion', this.onDeviceMotionCallback_);\n  window.removeEventListener('deviceorientation', this.onDeviceOrientationCallback_);\n  window.removeEventListener('orientationchange', this.onOrientationChangeCallback_);\n  window.removeEventListener('message', this.onMessageCallback_);\n};\n\nvar SENSOR_FREQUENCY = 60;\nvar X_AXIS = new Vector3(1, 0, 0);\nvar Z_AXIS = new Vector3(0, 0, 1);\nvar SENSOR_TO_VR = new Quaternion();\nSENSOR_TO_VR.setFromAxisAngle(X_AXIS, -Math.PI / 2);\nSENSOR_TO_VR.multiply(new Quaternion().setFromAxisAngle(Z_AXIS, Math.PI / 2));\nvar PoseSensor = function () {\n  function PoseSensor(config) {\n    classCallCheck(this, PoseSensor);\n    this.config = config;\n    this.sensor = null;\n    this.fusionSensor = null;\n    this._out = new Float32Array(4);\n    this.api = null;\n    this.errors = [];\n    this._sensorQ = new Quaternion();\n    this._outQ = new Quaternion();\n    this._onSensorRead = this._onSensorRead.bind(this);\n    this._onSensorError = this._onSensorError.bind(this);\n    this.init();\n  }\n  createClass(PoseSensor, [{\n    key: 'init',\n    value: function init() {\n      var sensor = null;\n      try {\n        sensor = new RelativeOrientationSensor({\n          frequency: SENSOR_FREQUENCY,\n          referenceFrame: 'screen'\n        });\n        sensor.addEventListener('error', this._onSensorError);\n      } catch (error) {\n        this.errors.push(error);\n        if (error.name === 'SecurityError') {\n          console.error('Cannot construct sensors due to the Feature Policy');\n          console.warn('Attempting to fall back using \"devicemotion\"; however this will ' + 'fail in the future without correct permissions.');\n          this.useDeviceMotion();\n        } else if (error.name === 'ReferenceError') {\n          this.useDeviceMotion();\n        } else {\n          console.error(error);\n        }\n      }\n      if (sensor) {\n        this.api = 'sensor';\n        this.sensor = sensor;\n        this.sensor.addEventListener('reading', this._onSensorRead);\n        this.sensor.start();\n      }\n    }\n  }, {\n    key: 'useDeviceMotion',\n    value: function useDeviceMotion() {\n      this.api = 'devicemotion';\n      this.fusionSensor = new FusionPoseSensor(this.config.K_FILTER, this.config.PREDICTION_TIME_S, this.config.YAW_ONLY, this.config.DEBUG);\n      if (this.sensor) {\n        this.sensor.removeEventListener('reading', this._onSensorRead);\n        this.sensor.removeEventListener('error', this._onSensorError);\n        this.sensor = null;\n      }\n    }\n  }, {\n    key: 'getOrientation',\n    value: function getOrientation() {\n      if (this.fusionSensor) {\n        return this.fusionSensor.getOrientation();\n      }\n      if (!this.sensor || !this.sensor.quaternion) {\n        this._out[0] = this._out[1] = this._out[2] = 0;\n        this._out[3] = 1;\n        return this._out;\n      }\n      var q = this.sensor.quaternion;\n      this._sensorQ.set(q[0], q[1], q[2], q[3]);\n      var out = this._outQ;\n      out.copy(SENSOR_TO_VR);\n      out.multiply(this._sensorQ);\n      if (this.config.YAW_ONLY) {\n        out.x = out.z = 0;\n        out.normalize();\n      }\n      this._out[0] = out.x;\n      this._out[1] = out.y;\n      this._out[2] = out.z;\n      this._out[3] = out.w;\n      return this._out;\n    }\n  }, {\n    key: '_onSensorError',\n    value: function _onSensorError(event) {\n      this.errors.push(event.error);\n      if (event.error.name === 'NotAllowedError') {\n        console.error('Permission to access sensor was denied');\n      } else if (event.error.name === 'NotReadableError') {\n        console.error('Sensor could not be read');\n      } else {\n        console.error(event.error);\n      }\n      this.useDeviceMotion();\n    }\n  }, {\n    key: '_onSensorRead',\n    value: function _onSensorRead() {}\n  }]);\n  return PoseSensor;\n}();\n\nvar rotateInstructionsAsset = \"<svg width='198' height='240' viewBox='0 0 198 240' xmlns='http://www.w3.org/2000/svg'><g fill='none' fill-rule='evenodd'><path d='M149.625 109.527l6.737 3.891v.886c0 .177.013.36.038.549.01.081.02.162.027.242.14 1.415.974 2.998 2.105 3.999l5.72 5.062.081-.09s4.382-2.53 5.235-3.024l25.97 14.993v54.001c0 .771-.386 1.217-.948 1.217-.233 0-.495-.076-.772-.236l-23.967-13.838-.014.024-27.322 15.775-.85-1.323c-4.731-1.529-9.748-2.74-14.951-3.61a.27.27 0 0 0-.007.024l-5.067 16.961-7.891 4.556-.037-.063v27.59c0 .772-.386 1.217-.948 1.217-.232 0-.495-.076-.772-.236l-42.473-24.522c-.95-.549-1.72-1.877-1.72-2.967v-1.035l-.021.047a5.111 5.111 0 0 0-1.816-.399 5.682 5.682 0 0 0-.546.001 13.724 13.724 0 0 1-1.918-.041c-1.655-.153-3.2-.6-4.404-1.296l-46.576-26.89.005.012-10.278-18.75c-1.001-1.827-.241-4.216 1.698-5.336l56.011-32.345a4.194 4.194 0 0 1 2.099-.572c1.326 0 2.572.659 3.227 1.853l.005-.003.227.413-.006.004a9.63 9.63 0 0 0 1.477 2.018l.277.27c1.914 1.85 4.468 2.801 7.113 2.801 1.949 0 3.948-.517 5.775-1.572.013 0 7.319-4.219 7.319-4.219a4.194 4.194 0 0 1 2.099-.572c1.326 0 2.572.658 3.226 1.853l3.25 5.928.022-.018 6.785 3.917-.105-.182 46.881-26.965m0-1.635c-.282 0-.563.073-.815.218l-46.169 26.556-5.41-3.124-3.005-5.481c-.913-1.667-2.699-2.702-4.66-2.703-1.011 0-2.02.274-2.917.792a3825 3825 0 0 1-7.275 4.195l-.044.024a9.937 9.937 0 0 1-4.957 1.353c-2.292 0-4.414-.832-5.976-2.342l-.252-.245a7.992 7.992 0 0 1-1.139-1.534 1.379 1.379 0 0 0-.06-.122l-.227-.414a1.718 1.718 0 0 0-.095-.154c-.938-1.574-2.673-2.545-4.571-2.545-1.011 0-2.02.274-2.917.792L3.125 155.502c-2.699 1.559-3.738 4.94-2.314 7.538l10.278 18.75c.177.323.448.563.761.704l46.426 26.804c1.403.81 3.157 1.332 5.072 1.508a15.661 15.661 0 0 0 2.146.046 4.766 4.766 0 0 1 .396 0c.096.004.19.011.283.022.109 1.593 1.159 3.323 2.529 4.114l42.472 24.522c.524.302 1.058.455 1.59.455 1.497 0 2.583-1.2 2.583-2.852v-26.562l7.111-4.105a1.64 1.64 0 0 0 .749-.948l4.658-15.593c4.414.797 8.692 1.848 12.742 3.128l.533.829a1.634 1.634 0 0 0 2.193.531l26.532-15.317L193 192.433c.523.302 1.058.455 1.59.455 1.497 0 2.583-1.199 2.583-2.852v-54.001c0-.584-.312-1.124-.818-1.416l-25.97-14.993a1.633 1.633 0 0 0-1.636.001c-.606.351-2.993 1.73-4.325 2.498l-4.809-4.255c-.819-.725-1.461-1.933-1.561-2.936a7.776 7.776 0 0 0-.033-.294 2.487 2.487 0 0 1-.023-.336v-.886c0-.584-.312-1.123-.817-1.416l-6.739-3.891a1.633 1.633 0 0 0-.817-.219' fill='#455A64'/><path d='M96.027 132.636l46.576 26.891c1.204.695 1.979 1.587 2.242 2.541l-.01.007-81.374 46.982h-.001c-1.654-.152-3.199-.6-4.403-1.295l-46.576-26.891 83.546-48.235' fill='#FAFAFA'/><path d='M63.461 209.174c-.008 0-.015 0-.022-.002-1.693-.156-3.228-.609-4.441-1.309l-46.576-26.89a.118.118 0 0 1 0-.203l83.546-48.235a.117.117 0 0 1 .117 0l46.576 26.891c1.227.708 2.021 1.612 2.296 2.611a.116.116 0 0 1-.042.124l-.021.016-81.375 46.981a.11.11 0 0 1-.058.016zm-50.747-28.303l46.401 26.79c1.178.68 2.671 1.121 4.32 1.276l81.272-46.922c-.279-.907-1.025-1.73-2.163-2.387l-46.517-26.857-83.313 48.1z' fill='#607D8B'/><path d='M148.327 165.471a5.85 5.85 0 0 1-.546.001c-1.894-.083-3.302-1.038-3.145-2.132a2.693 2.693 0 0 0-.072-1.105l-81.103 46.822c.628.058 1.272.073 1.918.042.182-.009.364-.009.546-.001 1.894.083 3.302 1.038 3.145 2.132l79.257-45.759' fill='#FFF'/><path d='M69.07 211.347a.118.118 0 0 1-.115-.134c.045-.317-.057-.637-.297-.925-.505-.61-1.555-1.022-2.738-1.074a5.966 5.966 0 0 0-.535.001 14.03 14.03 0 0 1-1.935-.041.117.117 0 0 1-.103-.092.116.116 0 0 1 .055-.126l81.104-46.822a.117.117 0 0 1 .171.07c.104.381.129.768.074 1.153-.045.316.057.637.296.925.506.61 1.555 1.021 2.739 1.073.178.008.357.008.535-.001a.117.117 0 0 1 .064.218l-79.256 45.759a.114.114 0 0 1-.059.016zm-3.405-2.372c.089 0 .177.002.265.006 1.266.056 2.353.488 2.908 1.158.227.274.35.575.36.882l78.685-45.429c-.036 0-.072-.001-.107-.003-1.267-.056-2.354-.489-2.909-1.158-.282-.34-.402-.724-.347-1.107a2.604 2.604 0 0 0-.032-.91L63.846 208.97a13.91 13.91 0 0 0 1.528.012c.097-.005.194-.007.291-.007z' fill='#607D8B'/><path d='M2.208 162.134c-1.001-1.827-.241-4.217 1.698-5.337l56.011-32.344c1.939-1.12 4.324-.546 5.326 1.281l.232.41a9.344 9.344 0 0 0 1.47 2.021l.278.27c3.325 3.214 8.583 3.716 12.888 1.23l7.319-4.22c1.94-1.119 4.324-.546 5.325 1.282l3.25 5.928-83.519 48.229-10.278-18.75z' fill='#FAFAFA'/><path d='M12.486 181.001a.112.112 0 0 1-.031-.005.114.114 0 0 1-.071-.056L2.106 162.19c-1.031-1.88-.249-4.345 1.742-5.494l56.01-32.344a4.328 4.328 0 0 1 2.158-.588c1.415 0 2.65.702 3.311 1.882.01.008.018.017.024.028l.227.414a.122.122 0 0 1 .013.038 9.508 9.508 0 0 0 1.439 1.959l.275.266c1.846 1.786 4.344 2.769 7.031 2.769 1.977 0 3.954-.538 5.717-1.557a.148.148 0 0 1 .035-.013l7.284-4.206a4.321 4.321 0 0 1 2.157-.588c1.427 0 2.672.716 3.329 1.914l3.249 5.929a.116.116 0 0 1-.044.157l-83.518 48.229a.116.116 0 0 1-.059.016zm49.53-57.004c-.704 0-1.41.193-2.041.557l-56.01 32.345c-1.882 1.086-2.624 3.409-1.655 5.179l10.221 18.645 83.317-48.112-3.195-5.829c-.615-1.122-1.783-1.792-3.124-1.792a4.08 4.08 0 0 0-2.04.557l-7.317 4.225a.148.148 0 0 1-.035.013 11.7 11.7 0 0 1-5.801 1.569c-2.748 0-5.303-1.007-7.194-2.835l-.278-.27a9.716 9.716 0 0 1-1.497-2.046.096.096 0 0 1-.013-.037l-.191-.347a.11.11 0 0 1-.023-.029c-.615-1.123-1.783-1.793-3.124-1.793z' fill='#607D8B'/><path d='M42.434 155.808c-2.51-.001-4.697-1.258-5.852-3.365-1.811-3.304-.438-7.634 3.059-9.654l12.291-7.098a7.599 7.599 0 0 1 3.789-1.033c2.51 0 4.697 1.258 5.852 3.365 1.811 3.304.439 7.634-3.059 9.654l-12.291 7.098a7.606 7.606 0 0 1-3.789 1.033zm13.287-20.683a7.128 7.128 0 0 0-3.555.971l-12.291 7.098c-3.279 1.893-4.573 5.942-2.883 9.024 1.071 1.955 3.106 3.122 5.442 3.122a7.13 7.13 0 0 0 3.556-.97l12.291-7.098c3.279-1.893 4.572-5.942 2.883-9.024-1.072-1.955-3.106-3.123-5.443-3.123z' fill='#607D8B'/><path d='M149.588 109.407l6.737 3.89v.887c0 .176.013.36.037.549.011.081.02.161.028.242.14 1.415.973 2.998 2.105 3.999l7.396 6.545c.177.156.358.295.541.415 1.579 1.04 2.95.466 3.062-1.282.049-.784.057-1.595.023-2.429l-.003-.16v-1.151l25.987 15.003v54c0 1.09-.77 1.53-1.72.982l-42.473-24.523c-.95-.548-1.72-1.877-1.72-2.966v-34.033' fill='#FAFAFA'/><path d='M194.553 191.25c-.257 0-.54-.085-.831-.253l-42.472-24.521c-.981-.567-1.779-1.943-1.779-3.068v-34.033h.234v34.033c0 1.051.745 2.336 1.661 2.866l42.473 24.521c.424.245.816.288 1.103.122.285-.164.442-.52.442-1.002v-53.933l-25.753-14.868.003 1.106c.034.832.026 1.654-.024 2.439-.054.844-.396 1.464-.963 1.746-.619.309-1.45.173-2.28-.373a5.023 5.023 0 0 1-.553-.426l-7.397-6.544c-1.158-1.026-1.999-2.625-2.143-4.076a9.624 9.624 0 0 0-.027-.238 4.241 4.241 0 0 1-.038-.564v-.82l-6.68-3.856.117-.202 6.738 3.89.058.034v.954c0 .171.012.351.036.533.011.083.021.165.029.246.138 1.395.948 2.935 2.065 3.923l7.397 6.545c.173.153.35.289.527.406.758.499 1.504.63 2.047.359.49-.243.786-.795.834-1.551.05-.778.057-1.591.024-2.417l-.004-.163v-1.355l.175.1 25.987 15.004.059.033v54.068c0 .569-.198.996-.559 1.204a1.002 1.002 0 0 1-.506.131' fill='#607D8B'/><path d='M145.685 163.161l24.115 13.922-25.978 14.998-1.462-.307c-6.534-2.17-13.628-3.728-21.019-4.616-4.365-.524-8.663 1.096-9.598 3.62a2.746 2.746 0 0 0-.011 1.928c1.538 4.267 4.236 8.363 7.995 12.135l.532.845-25.977 14.997-24.115-13.922 75.518-43.6' fill='#FFF'/><path d='M94.282 220.818l-.059-.033-24.29-14.024.175-.101 75.577-43.634.058.033 24.29 14.024-26.191 15.122-.045-.01-1.461-.307c-6.549-2.174-13.613-3.725-21.009-4.614a13.744 13.744 0 0 0-1.638-.097c-3.758 0-7.054 1.531-7.837 3.642a2.62 2.62 0 0 0-.01 1.848c1.535 4.258 4.216 8.326 7.968 12.091l.016.021.526.835.006.01.064.102-.105.061-25.977 14.998-.058.033zm-23.881-14.057l23.881 13.788 24.802-14.32c.546-.315.846-.489 1.017-.575l-.466-.74c-3.771-3.787-6.467-7.881-8.013-12.168a2.851 2.851 0 0 1 .011-2.008c.815-2.199 4.203-3.795 8.056-3.795.557 0 1.117.033 1.666.099 7.412.891 14.491 2.445 21.041 4.621.836.175 1.215.254 1.39.304l25.78-14.884-23.881-13.788-75.284 43.466z' fill='#607D8B'/><path d='M167.23 125.979v50.871l-27.321 15.773-6.461-14.167c-.91-1.996-3.428-1.738-5.624.574a10.238 10.238 0 0 0-2.33 4.018l-6.46 21.628-27.322 15.774v-50.871l75.518-43.6' fill='#FFF'/><path d='M91.712 220.567a.127.127 0 0 1-.059-.016.118.118 0 0 1-.058-.101v-50.871c0-.042.023-.08.058-.101l75.519-43.6a.117.117 0 0 1 .175.101v50.871c0 .041-.023.08-.059.1l-27.321 15.775a.118.118 0 0 1-.094.01.12.12 0 0 1-.071-.063l-6.46-14.168c-.375-.822-1.062-1.275-1.934-1.275-1.089 0-2.364.686-3.5 1.881a10.206 10.206 0 0 0-2.302 3.972l-6.46 21.627a.118.118 0 0 1-.054.068L91.77 220.551a.12.12 0 0 1-.058.016zm.117-50.92v50.601l27.106-15.65 6.447-21.583a10.286 10.286 0 0 1 2.357-4.065c1.18-1.242 2.517-1.954 3.669-1.954.969 0 1.731.501 2.146 1.411l6.407 14.051 27.152-15.676v-50.601l-75.284 43.466z' fill='#607D8B'/><path d='M168.543 126.213v50.87l-27.322 15.774-6.46-14.168c-.91-1.995-3.428-1.738-5.624.574a10.248 10.248 0 0 0-2.33 4.019l-6.461 21.627-27.321 15.774v-50.87l75.518-43.6' fill='#FFF'/><path d='M93.025 220.8a.123.123 0 0 1-.059-.015.12.12 0 0 1-.058-.101v-50.871c0-.042.023-.08.058-.101l75.518-43.6a.112.112 0 0 1 .117 0c.036.02.059.059.059.1v50.871a.116.116 0 0 1-.059.101l-27.321 15.774a.111.111 0 0 1-.094.01.115.115 0 0 1-.071-.062l-6.46-14.168c-.375-.823-1.062-1.275-1.935-1.275-1.088 0-2.363.685-3.499 1.881a10.19 10.19 0 0 0-2.302 3.971l-6.461 21.628a.108.108 0 0 1-.053.067l-27.322 15.775a.12.12 0 0 1-.058.015zm.117-50.919v50.6l27.106-15.649 6.447-21.584a10.293 10.293 0 0 1 2.357-4.065c1.179-1.241 2.516-1.954 3.668-1.954.969 0 1.732.502 2.147 1.412l6.407 14.051 27.152-15.676v-50.601l-75.284 43.466z' fill='#607D8B'/><path d='M169.8 177.083l-27.322 15.774-6.46-14.168c-.91-1.995-3.428-1.738-5.625.574a10.246 10.246 0 0 0-2.329 4.019l-6.461 21.627-27.321 15.774v-50.87l75.518-43.6v50.87z' fill='#FAFAFA'/><path d='M94.282 220.917a.234.234 0 0 1-.234-.233v-50.871c0-.083.045-.161.117-.202l75.518-43.601a.234.234 0 1 1 .35.202v50.871a.233.233 0 0 1-.116.202l-27.322 15.775a.232.232 0 0 1-.329-.106l-6.461-14.168c-.36-.789-.992-1.206-1.828-1.206-1.056 0-2.301.672-3.415 1.844a10.099 10.099 0 0 0-2.275 3.924l-6.46 21.628a.235.235 0 0 1-.107.136l-27.322 15.774a.23.23 0 0 1-.116.031zm.233-50.969v50.331l26.891-15.525 6.434-21.539a10.41 10.41 0 0 1 2.384-4.112c1.201-1.265 2.569-1.991 3.753-1.991 1.018 0 1.818.526 2.253 1.48l6.354 13.934 26.982-15.578v-50.331l-75.051 43.331z' fill='#607D8B'/><path d='M109.894 199.943c-1.774 0-3.241-.725-4.244-2.12a.224.224 0 0 1 .023-.294.233.233 0 0 1 .301-.023c.78.547 1.705.827 2.75.827 1.323 0 2.754-.439 4.256-1.306 5.311-3.067 9.631-10.518 9.631-16.611 0-1.927-.442-3.56-1.278-4.724a.232.232 0 0 1 .323-.327c1.671 1.172 2.591 3.381 2.591 6.219 0 6.242-4.426 13.863-9.865 17.003-1.574.908-3.084 1.356-4.488 1.356zm-2.969-1.542c.813.651 1.82.877 2.968.877h.001c1.321 0 2.753-.327 4.254-1.194 5.311-3.067 9.632-10.463 9.632-16.556 0-1.979-.463-3.599-1.326-4.761.411 1.035.625 2.275.625 3.635 0 6.243-4.426 13.883-9.865 17.023-1.574.909-3.084 1.317-4.49 1.317-.641 0-1.243-.149-1.799-.341z' fill='#607D8B'/><path d='M113.097 197.23c5.384-3.108 9.748-10.636 9.748-16.814 0-2.051-.483-3.692-1.323-4.86-1.784-1.252-4.374-1.194-7.257.47-5.384 3.108-9.748 10.636-9.748 16.814 0 2.051.483 3.692 1.323 4.86 1.784 1.252 4.374 1.194 7.257-.47' fill='#FAFAFA'/><path d='M108.724 198.614c-1.142 0-2.158-.213-3.019-.817-.021-.014-.04.014-.055-.007-.894-1.244-1.367-2.948-1.367-4.973 0-6.242 4.426-13.864 9.865-17.005 1.574-.908 3.084-1.363 4.49-1.363 1.142 0 2.158.309 3.018.913a.23.23 0 0 1 .056.056c.894 1.244 1.367 2.972 1.367 4.997 0 6.243-4.426 13.783-9.865 16.923-1.574.909-3.084 1.276-4.49 1.276zm-2.718-1.109c.774.532 1.688.776 2.718.776 1.323 0 2.754-.413 4.256-1.28 5.311-3.066 9.631-10.505 9.631-16.598 0-1.909-.434-3.523-1.255-4.685-.774-.533-1.688-.799-2.718-.799-1.323 0-2.755.441-4.256 1.308-5.311 3.066-9.631 10.506-9.631 16.599 0 1.909.434 3.517 1.255 4.679z' fill='#607D8B'/><path d='M149.318 114.262l-9.984 8.878 15.893 11.031 5.589-6.112-11.498-13.797' fill='#FAFAFA'/><path d='M169.676 120.84l-9.748 5.627c-3.642 2.103-9.528 2.113-13.147.024-3.62-2.089-3.601-5.488.041-7.591l9.495-5.608-6.729-3.885-81.836 47.071 45.923 26.514 3.081-1.779c.631-.365.869-.898.618-1.39-2.357-4.632-2.593-9.546-.683-14.262 5.638-13.92 24.509-24.815 48.618-28.07 8.169-1.103 16.68-.967 24.704.394.852.145 1.776.008 2.407-.357l3.081-1.778-25.825-14.91' fill='#FAFAFA'/><path d='M113.675 183.459a.47.47 0 0 1-.233-.062l-45.924-26.515a.468.468 0 0 1 .001-.809l81.836-47.071a.467.467 0 0 1 .466 0l6.729 3.885a.467.467 0 0 1-.467.809l-6.496-3.75-80.9 46.533 44.988 25.973 2.848-1.644c.192-.111.62-.409.435-.773-2.416-4.748-2.658-9.814-.7-14.65 2.806-6.927 8.885-13.242 17.582-18.263 8.657-4.998 19.518-8.489 31.407-10.094 8.198-1.107 16.79-.97 24.844.397.739.125 1.561.007 2.095-.301l2.381-1.374-25.125-14.506a.467.467 0 0 1 .467-.809l25.825 14.91a.467.467 0 0 1 0 .809l-3.081 1.779c-.721.417-1.763.575-2.718.413-7.963-1.351-16.457-1.486-24.563-.392-11.77 1.589-22.512 5.039-31.065 9.977-8.514 4.916-14.456 11.073-17.183 17.805-1.854 4.578-1.623 9.376.666 13.875.37.725.055 1.513-.8 2.006l-3.081 1.78a.476.476 0 0 1-.234.062' fill='#455A64'/><path d='M153.316 128.279c-2.413 0-4.821-.528-6.652-1.586-1.818-1.049-2.82-2.461-2.82-3.975 0-1.527 1.016-2.955 2.861-4.02l9.493-5.607a.233.233 0 1 1 .238.402l-9.496 5.609c-1.696.979-2.628 2.263-2.628 3.616 0 1.34.918 2.608 2.585 3.571 3.549 2.049 9.343 2.038 12.914-.024l9.748-5.628a.234.234 0 0 1 .234.405l-9.748 5.628c-1.858 1.072-4.296 1.609-6.729 1.609' fill='#607D8B'/><path d='M113.675 182.992l-45.913-26.508M113.675 183.342a.346.346 0 0 1-.175-.047l-45.913-26.508a.35.35 0 1 1 .35-.607l45.913 26.508a.35.35 0 0 1-.175.654' fill='#455A64'/><path d='M67.762 156.484v54.001c0 1.09.77 2.418 1.72 2.967l42.473 24.521c.95.549 1.72.11 1.72-.98v-54.001' fill='#FAFAFA'/><path d='M112.727 238.561c-.297 0-.62-.095-.947-.285l-42.473-24.521c-1.063-.613-1.895-2.05-1.895-3.27v-54.001a.35.35 0 1 1 .701 0v54.001c0 .96.707 2.18 1.544 2.663l42.473 24.522c.344.198.661.243.87.122.206-.119.325-.411.325-.799v-54.001a.35.35 0 1 1 .7 0v54.001c0 .655-.239 1.154-.675 1.406a1.235 1.235 0 0 1-.623.162' fill='#455A64'/><path d='M112.86 147.512h-.001c-2.318 0-4.499-.522-6.142-1.471-1.705-.984-2.643-2.315-2.643-3.749 0-1.445.952-2.791 2.68-3.788l12.041-6.953c1.668-.962 3.874-1.493 6.212-1.493 2.318 0 4.499.523 6.143 1.472 1.704.984 2.643 2.315 2.643 3.748 0 1.446-.952 2.791-2.68 3.789l-12.042 6.952c-1.668.963-3.874 1.493-6.211 1.493zm12.147-16.753c-2.217 0-4.298.497-5.861 1.399l-12.042 6.952c-1.502.868-2.33 1.998-2.33 3.182 0 1.173.815 2.289 2.293 3.142 1.538.889 3.596 1.378 5.792 1.378h.001c2.216 0 4.298-.497 5.861-1.399l12.041-6.953c1.502-.867 2.33-1.997 2.33-3.182 0-1.172-.814-2.288-2.292-3.142-1.539-.888-3.596-1.377-5.793-1.377z' fill='#607D8B'/><path d='M165.63 123.219l-5.734 3.311c-3.167 1.828-8.286 1.837-11.433.02-3.147-1.817-3.131-4.772.036-6.601l5.734-3.31 11.397 6.58' fill='#FAFAFA'/><path d='M154.233 117.448l9.995 5.771-4.682 2.704c-1.434.827-3.352 1.283-5.399 1.283-2.029 0-3.923-.449-5.333-1.263-1.29-.744-2-1.694-2-2.674 0-.991.723-1.955 2.036-2.713l5.383-3.108m0-.809l-5.734 3.31c-3.167 1.829-3.183 4.784-.036 6.601 1.568.905 3.623 1.357 5.684 1.357 2.077 0 4.159-.46 5.749-1.377l5.734-3.311-11.397-6.58M145.445 179.667c-1.773 0-3.241-.85-4.243-2.245-.067-.092-.057-.275.023-.356.08-.081.207-.12.3-.055.781.548 1.706.812 2.751.811 1.322 0 2.754-.446 4.256-1.313 5.31-3.066 9.631-10.522 9.631-16.615 0-1.927-.442-3.562-1.279-4.726a.235.235 0 0 1 .024-.301.232.232 0 0 1 .3-.027c1.67 1.172 2.59 3.38 2.59 6.219 0 6.242-4.425 13.987-9.865 17.127-1.573.908-3.083 1.481-4.488 1.481zM142.476 178c.814.651 1.82 1.002 2.969 1.002 1.322 0 2.753-.452 4.255-1.32 5.31-3.065 9.631-10.523 9.631-16.617 0-1.98-.463-3.63-1.325-4.793.411 1.035.624 2.26.624 3.62 0 6.242-4.425 13.875-9.865 17.015-1.573.909-3.084 1.376-4.489 1.376a5.49 5.49 0 0 1-1.8-.283z' fill='#607D8B'/><path d='M148.648 176.704c5.384-3.108 9.748-10.636 9.748-16.813 0-2.052-.483-3.693-1.322-4.861-1.785-1.252-4.375-1.194-7.258.471-5.383 3.108-9.748 10.636-9.748 16.813 0 2.051.484 3.692 1.323 4.86 1.785 1.253 4.374 1.195 7.257-.47' fill='#FAFAFA'/><path d='M144.276 178.276c-1.143 0-2.158-.307-3.019-.911a.217.217 0 0 1-.055-.054c-.895-1.244-1.367-2.972-1.367-4.997 0-6.241 4.425-13.875 9.865-17.016 1.573-.908 3.084-1.369 4.489-1.369 1.143 0 2.158.307 3.019.91a.24.24 0 0 1 .055.055c.894 1.244 1.367 2.971 1.367 4.997 0 6.241-4.425 13.875-9.865 17.016-1.573.908-3.084 1.369-4.489 1.369zm-2.718-1.172c.773.533 1.687.901 2.718.901 1.322 0 2.754-.538 4.256-1.405 5.31-3.066 9.631-10.567 9.631-16.661 0-1.908-.434-3.554-1.256-4.716-.774-.532-1.688-.814-2.718-.814-1.322 0-2.754.433-4.256 1.3-5.31 3.066-9.631 10.564-9.631 16.657 0 1.91.434 3.576 1.256 4.738z' fill='#607D8B'/><path d='M150.72 172.361l-.363-.295a24.105 24.105 0 0 0 2.148-3.128 24.05 24.05 0 0 0 1.977-4.375l.443.149a24.54 24.54 0 0 1-2.015 4.46 24.61 24.61 0 0 1-2.19 3.189M115.917 191.514l-.363-.294a24.174 24.174 0 0 0 2.148-3.128 24.038 24.038 0 0 0 1.976-4.375l.443.148a24.48 24.48 0 0 1-2.015 4.461 24.662 24.662 0 0 1-2.189 3.188M114 237.476V182.584 237.476' fill='#607D8B'/><g><path d='M81.822 37.474c.017-.135-.075-.28-.267-.392-.327-.188-.826-.21-1.109-.045l-6.012 3.471c-.131.076-.194.178-.191.285.002.132.002.461.002.578v.043l-.007.128-6.591 3.779c-.001 0-2.077 1.046-2.787 5.192 0 0-.912 6.961-.898 19.745.015 12.57.606 17.07 1.167 21.351.22 1.684 3.001 2.125 3.001 2.125.331.04.698-.027 1.08-.248l75.273-43.551c1.808-1.069 2.667-3.719 3.056-6.284 1.213-7.99 1.675-32.978-.275-39.878-.196-.693-.51-1.083-.868-1.282l-2.086-.79c-.727.028-1.416.467-1.534.535L82.032 37.072l-.21.402' fill='#FFF'/><path d='M144.311 1.701l2.085.79c.358.199.672.589.868 1.282 1.949 6.9 1.487 31.887.275 39.878-.39 2.565-1.249 5.215-3.056 6.284L69.21 93.486a1.78 1.78 0 0 1-.896.258l-.183-.011c0 .001-2.782-.44-3.003-2.124-.56-4.282-1.151-8.781-1.165-21.351-.015-12.784.897-19.745.897-19.745.71-4.146 2.787-5.192 2.787-5.192l6.591-3.779.007-.128v-.043c0-.117 0-.446-.002-.578-.003-.107.059-.21.191-.285l6.012-3.472a.98.98 0 0 1 .481-.11c.218 0 .449.053.627.156.193.112.285.258.268.392l.211-.402 60.744-34.836c.117-.068.806-.507 1.534-.535m0-.997l-.039.001c-.618.023-1.283.244-1.974.656l-.021.012-60.519 34.706a2.358 2.358 0 0 0-.831-.15c-.365 0-.704.084-.98.244l-6.012 3.471c-.442.255-.699.69-.689 1.166l.001.15-6.08 3.487c-.373.199-2.542 1.531-3.29 5.898l-.006.039c-.009.07-.92 7.173-.906 19.875.014 12.62.603 17.116 1.172 21.465l.002.015c.308 2.355 3.475 2.923 3.836 2.98l.034.004c.101.013.204.019.305.019a2.77 2.77 0 0 0 1.396-.392l75.273-43.552c1.811-1.071 2.999-3.423 3.542-6.997 1.186-7.814 1.734-33.096-.301-40.299-.253-.893-.704-1.527-1.343-1.882l-.132-.062-2.085-.789a.973.973 0 0 0-.353-.065' fill='#455A64'/><path d='M128.267 11.565l1.495.434-56.339 32.326' fill='#FFF'/><path d='M74.202 90.545a.5.5 0 0 1-.25-.931l18.437-10.645a.499.499 0 1 1 .499.864L74.451 90.478l-.249.067M75.764 42.654l-.108-.062.046-.171 5.135-2.964.17.045-.045.171-5.135 2.964-.063.017M70.52 90.375V46.421l.063-.036L137.84 7.554v43.954l-.062.036L70.52 90.375zm.25-43.811v43.38l66.821-38.579V7.985L70.77 46.564z' fill='#607D8B'/><path d='M86.986 83.182c-.23.149-.612.384-.849.523l-11.505 6.701c-.237.139-.206.252.068.252h.565c.275 0 .693-.113.93-.252L87.7 83.705c.237-.139.428-.253.425-.256a11.29 11.29 0 0 1-.006-.503c0-.274-.188-.377-.418-.227l-.715.463' fill='#607D8B'/><path d='M75.266 90.782H74.7c-.2 0-.316-.056-.346-.166-.03-.11.043-.217.215-.317l11.505-6.702c.236-.138.615-.371.844-.519l.715-.464a.488.488 0 0 1 .266-.089c.172 0 .345.13.345.421 0 .214.001.363.003.437l.006.004-.004.069c-.003.075-.003.075-.486.356l-11.505 6.702a2.282 2.282 0 0 1-.992.268zm-.6-.25l.034.001h.566c.252 0 .649-.108.866-.234l11.505-6.702c.168-.098.294-.173.361-.214-.004-.084-.004-.218-.004-.437l-.095-.171-.131.049-.714.463c-.232.15-.616.386-.854.525l-11.505 6.702-.029.018z' fill='#607D8B'/><path d='M75.266 89.871H74.7c-.2 0-.316-.056-.346-.166-.03-.11.043-.217.215-.317l11.505-6.702c.258-.151.694-.268.993-.268h.565c.2 0 .316.056.346.166.03.11-.043.217-.215.317l-11.505 6.702a2.282 2.282 0 0 1-.992.268zm-.6-.25l.034.001h.566c.252 0 .649-.107.866-.234l11.505-6.702.03-.018-.035-.001h-.565c-.252 0-.649.108-.867.234l-11.505 6.702-.029.018zM74.37 90.801v-1.247 1.247' fill='#607D8B'/><path d='M68.13 93.901c-.751-.093-1.314-.737-1.439-1.376-.831-4.238-1.151-8.782-1.165-21.352-.015-12.784.897-19.745.897-19.745.711-4.146 2.787-5.192 2.787-5.192l74.859-43.219c.223-.129 2.487-1.584 3.195.923 1.95 6.9 1.488 31.887.275 39.878-.389 2.565-1.248 5.215-3.056 6.283L69.21 93.653c-.382.221-.749.288-1.08.248 0 0-2.781-.441-3.001-2.125-.561-4.281-1.152-8.781-1.167-21.351-.014-12.784.898-19.745.898-19.745.71-4.146 2.787-5.191 2.787-5.191l6.598-3.81.871-.119 6.599-3.83.046-.461L68.13 93.901' fill='#FAFAFA'/><path d='M68.317 94.161l-.215-.013h-.001l-.244-.047c-.719-.156-2.772-.736-2.976-2.292-.568-4.34-1.154-8.813-1.168-21.384-.014-12.654.891-19.707.9-19.777.725-4.231 2.832-5.338 2.922-5.382l6.628-3.827.87-.119 6.446-3.742.034-.334a.248.248 0 0 1 .273-.223.248.248 0 0 1 .223.272l-.059.589-6.752 3.919-.87.118-6.556 3.785c-.031.016-1.99 1.068-2.666 5.018-.007.06-.908 7.086-.894 19.702.014 12.539.597 16.996 1.161 21.305.091.691.689 1.154 1.309 1.452a1.95 1.95 0 0 1-.236-.609c-.781-3.984-1.155-8.202-1.17-21.399-.014-12.653.891-19.707.9-19.777.725-4.231 2.832-5.337 2.922-5.382-.004.001 74.444-42.98 74.846-43.212l.028-.017c.904-.538 1.72-.688 2.36-.433.555.221.949.733 1.172 1.52 2.014 7.128 1.46 32.219.281 39.983-.507 3.341-1.575 5.515-3.175 6.462L69.335 93.869a2.023 2.023 0 0 1-1.018.292zm-.147-.507c.293.036.604-.037.915-.217l75.273-43.551c1.823-1.078 2.602-3.915 2.934-6.106 1.174-7.731 1.731-32.695-.268-39.772-.178-.631-.473-1.032-.876-1.192-.484-.193-1.166-.052-1.921.397l-.034.021-74.858 43.218c-.031.017-1.989 1.069-2.666 5.019-.007.059-.908 7.085-.894 19.702.015 13.155.386 17.351 1.161 21.303.09.461.476.983 1.037 1.139.114.025.185.037.196.039h.001z' fill='#455A64'/><path d='M69.317 68.982c.489-.281.885-.056.885.505 0 .56-.396 1.243-.885 1.525-.488.282-.884.057-.884-.504 0-.56.396-1.243.884-1.526' fill='#FFF'/><path d='M68.92 71.133c-.289 0-.487-.228-.487-.625 0-.56.396-1.243.884-1.526a.812.812 0 0 1 .397-.121c.289 0 .488.229.488.626 0 .56-.396 1.243-.885 1.525a.812.812 0 0 1-.397.121m.794-2.459a.976.976 0 0 0-.49.147c-.548.317-.978 1.058-.978 1.687 0 .486.271.812.674.812a.985.985 0 0 0 .491-.146c.548-.317.978-1.057.978-1.687 0-.486-.272-.813-.675-.813' fill='#8097A2'/><path d='M68.92 70.947c-.271 0-.299-.307-.299-.439 0-.491.361-1.116.79-1.363a.632.632 0 0 1 .303-.096c.272 0 .301.306.301.438 0 .491-.363 1.116-.791 1.364a.629.629 0 0 1-.304.096m.794-2.086a.812.812 0 0 0-.397.121c-.488.283-.884.966-.884 1.526 0 .397.198.625.487.625a.812.812 0 0 0 .397-.121c.489-.282.885-.965.885-1.525 0-.397-.199-.626-.488-.626' fill='#8097A2'/><path d='M69.444 85.35c.264-.152.477-.031.477.272 0 .303-.213.67-.477.822-.263.153-.477.031-.477-.271 0-.302.214-.671.477-.823' fill='#FFF'/><path d='M69.23 86.51c-.156 0-.263-.123-.263-.337 0-.302.214-.671.477-.823a.431.431 0 0 1 .214-.066c.156 0 .263.124.263.338 0 .303-.213.67-.477.822a.431.431 0 0 1-.214.066m.428-1.412c-.1 0-.203.029-.307.09-.32.185-.57.618-.57.985 0 .309.185.524.449.524a.63.63 0 0 0 .308-.09c.32-.185.57-.618.57-.985 0-.309-.185-.524-.45-.524' fill='#8097A2'/><path d='M69.23 86.322l-.076-.149c0-.235.179-.544.384-.661l.12-.041.076.151c0 .234-.179.542-.383.66l-.121.04m.428-1.038a.431.431 0 0 0-.214.066c-.263.152-.477.521-.477.823 0 .214.107.337.263.337a.431.431 0 0 0 .214-.066c.264-.152.477-.519.477-.822 0-.214-.107-.338-.263-.338' fill='#8097A2'/><path d='M139.278 7.769v43.667L72.208 90.16V46.493l67.07-38.724' fill='#455A64'/><path d='M72.083 90.375V46.421l.063-.036 67.257-38.831v43.954l-.062.036-67.258 38.831zm.25-43.811v43.38l66.821-38.579V7.985L72.333 46.564z' fill='#607D8B'/></g><path d='M125.737 88.647l-7.639 3.334V84l-11.459 4.713v8.269L99 100.315l13.369 3.646 13.368-15.314' fill='#455A64'/></g></svg>\";\n\nfunction RotateInstructions() {\n  this.loadIcon_();\n  var overlay = document.createElement('div');\n  var s = overlay.style;\n  s.position = 'fixed';\n  s.top = 0;\n  s.right = 0;\n  s.bottom = 0;\n  s.left = 0;\n  s.backgroundColor = 'gray';\n  s.fontFamily = 'sans-serif';\n  s.zIndex = 1000000;\n  var img = document.createElement('img');\n  img.src = this.icon;\n  var s = img.style;\n  s.marginLeft = '25%';\n  s.marginTop = '25%';\n  s.width = '50%';\n  overlay.appendChild(img);\n  var text = document.createElement('div');\n  var s = text.style;\n  s.textAlign = 'center';\n  s.fontSize = '16px';\n  s.lineHeight = '24px';\n  s.margin = '24px 25%';\n  s.width = '50%';\n  text.innerHTML = 'Place your phone into your Cardboard viewer.';\n  overlay.appendChild(text);\n  var snackbar = document.createElement('div');\n  var s = snackbar.style;\n  s.backgroundColor = '#CFD8DC';\n  s.position = 'fixed';\n  s.bottom = 0;\n  s.width = '100%';\n  s.height = '48px';\n  s.padding = '14px 24px';\n  s.boxSizing = 'border-box';\n  s.color = '#656A6B';\n  overlay.appendChild(snackbar);\n  var snackbarText = document.createElement('div');\n  snackbarText.style.float = 'left';\n  snackbarText.innerHTML = 'No Cardboard viewer?';\n  var snackbarButton = document.createElement('a');\n  snackbarButton.href = 'https://www.google.com/get/cardboard/get-cardboard/';\n  snackbarButton.innerHTML = 'get one';\n  snackbarButton.target = '_blank';\n  var s = snackbarButton.style;\n  s.float = 'right';\n  s.fontWeight = 600;\n  s.textTransform = 'uppercase';\n  s.borderLeft = '1px solid gray';\n  s.paddingLeft = '24px';\n  s.textDecoration = 'none';\n  s.color = '#656A6B';\n  snackbar.appendChild(snackbarText);\n  snackbar.appendChild(snackbarButton);\n  this.overlay = overlay;\n  this.text = text;\n  this.hide();\n}\nRotateInstructions.prototype.show = function (parent) {\n  if (!parent && !this.overlay.parentElement) {\n    document.body.appendChild(this.overlay);\n  } else if (parent) {\n    if (this.overlay.parentElement && this.overlay.parentElement != parent) this.overlay.parentElement.removeChild(this.overlay);\n    parent.appendChild(this.overlay);\n  }\n  this.overlay.style.display = 'block';\n  var img = this.overlay.querySelector('img');\n  var s = img.style;\n  if (isLandscapeMode()) {\n    s.width = '20%';\n    s.marginLeft = '40%';\n    s.marginTop = '3%';\n  } else {\n    s.width = '50%';\n    s.marginLeft = '25%';\n    s.marginTop = '25%';\n  }\n};\nRotateInstructions.prototype.hide = function () {\n  this.overlay.style.display = 'none';\n};\nRotateInstructions.prototype.showTemporarily = function (ms, parent) {\n  this.show(parent);\n  this.timer = setTimeout(this.hide.bind(this), ms);\n};\nRotateInstructions.prototype.disableShowTemporarily = function () {\n  clearTimeout(this.timer);\n};\nRotateInstructions.prototype.update = function () {\n  this.disableShowTemporarily();\n  if (!isLandscapeMode() && isMobile()) {\n    this.show();\n  } else {\n    this.hide();\n  }\n};\nRotateInstructions.prototype.loadIcon_ = function () {\n  this.icon = dataUri('image/svg+xml', rotateInstructionsAsset);\n};\n\nvar DEFAULT_VIEWER = 'CardboardV1';\nvar VIEWER_KEY = 'WEBVR_CARDBOARD_VIEWER';\nvar CLASS_NAME = 'webvr-polyfill-viewer-selector';\nfunction ViewerSelector(defaultViewer) {\n  try {\n    this.selectedKey = localStorage.getItem(VIEWER_KEY);\n  } catch (error) {\n    console.error('Failed to load viewer profile: %s', error);\n  }\n  if (!this.selectedKey) {\n    this.selectedKey = defaultViewer || DEFAULT_VIEWER;\n  }\n  this.dialog = this.createDialog_(DeviceInfo.Viewers);\n  this.root = null;\n  this.onChangeCallbacks_ = [];\n}\nViewerSelector.prototype.show = function (root) {\n  this.root = root;\n  root.appendChild(this.dialog);\n  var selected = this.dialog.querySelector('#' + this.selectedKey);\n  selected.checked = true;\n  this.dialog.style.display = 'block';\n};\nViewerSelector.prototype.hide = function () {\n  if (this.root && this.root.contains(this.dialog)) {\n    this.root.removeChild(this.dialog);\n  }\n  this.dialog.style.display = 'none';\n};\nViewerSelector.prototype.getCurrentViewer = function () {\n  return DeviceInfo.Viewers[this.selectedKey];\n};\nViewerSelector.prototype.getSelectedKey_ = function () {\n  var input = this.dialog.querySelector('input[name=field]:checked');\n  if (input) {\n    return input.id;\n  }\n  return null;\n};\nViewerSelector.prototype.onChange = function (cb) {\n  this.onChangeCallbacks_.push(cb);\n};\nViewerSelector.prototype.fireOnChange_ = function (viewer) {\n  for (var i = 0; i < this.onChangeCallbacks_.length; i++) {\n    this.onChangeCallbacks_[i](viewer);\n  }\n};\nViewerSelector.prototype.onSave_ = function () {\n  this.selectedKey = this.getSelectedKey_();\n  if (!this.selectedKey || !DeviceInfo.Viewers[this.selectedKey]) {\n    console.error('ViewerSelector.onSave_: this should never happen!');\n    return;\n  }\n  this.fireOnChange_(DeviceInfo.Viewers[this.selectedKey]);\n  try {\n    localStorage.setItem(VIEWER_KEY, this.selectedKey);\n  } catch (error) {\n    console.error('Failed to save viewer profile: %s', error);\n  }\n  this.hide();\n};\nViewerSelector.prototype.createDialog_ = function (options) {\n  var container = document.createElement('div');\n  container.classList.add(CLASS_NAME);\n  container.style.display = 'none';\n  var overlay = document.createElement('div');\n  var s = overlay.style;\n  s.position = 'fixed';\n  s.left = 0;\n  s.top = 0;\n  s.width = '100%';\n  s.height = '100%';\n  s.background = 'rgba(0, 0, 0, 0.3)';\n  overlay.addEventListener('click', this.hide.bind(this));\n  var width = 280;\n  var dialog = document.createElement('div');\n  var s = dialog.style;\n  s.boxSizing = 'border-box';\n  s.position = 'fixed';\n  s.top = '24px';\n  s.left = '50%';\n  s.marginLeft = -width / 2 + 'px';\n  s.width = width + 'px';\n  s.padding = '24px';\n  s.overflow = 'hidden';\n  s.background = '#fafafa';\n  s.fontFamily = \"'Roboto', sans-serif\";\n  s.boxShadow = '0px 5px 20px #666';\n  dialog.appendChild(this.createH1_('Select your viewer'));\n  for (var id in options) {\n    dialog.appendChild(this.createChoice_(id, options[id].label));\n  }\n  dialog.appendChild(this.createButton_('Save', this.onSave_.bind(this)));\n  container.appendChild(overlay);\n  container.appendChild(dialog);\n  return container;\n};\nViewerSelector.prototype.createH1_ = function (name) {\n  var h1 = document.createElement('h1');\n  var s = h1.style;\n  s.color = 'black';\n  s.fontSize = '20px';\n  s.fontWeight = 'bold';\n  s.marginTop = 0;\n  s.marginBottom = '24px';\n  h1.innerHTML = name;\n  return h1;\n};\nViewerSelector.prototype.createChoice_ = function (id, name) {\n  var div = document.createElement('div');\n  div.style.marginTop = '8px';\n  div.style.color = 'black';\n  var input = document.createElement('input');\n  input.style.fontSize = '30px';\n  input.setAttribute('id', id);\n  input.setAttribute('type', 'radio');\n  input.setAttribute('value', id);\n  input.setAttribute('name', 'field');\n  var label = document.createElement('label');\n  label.style.marginLeft = '4px';\n  label.setAttribute('for', id);\n  label.innerHTML = name;\n  div.appendChild(input);\n  div.appendChild(label);\n  return div;\n};\nViewerSelector.prototype.createButton_ = function (label, onclick) {\n  var button = document.createElement('button');\n  button.innerHTML = label;\n  var s = button.style;\n  s.float = 'right';\n  s.textTransform = 'uppercase';\n  s.color = '#1094f7';\n  s.fontSize = '14px';\n  s.letterSpacing = 0;\n  s.border = 0;\n  s.background = 'none';\n  s.marginTop = '16px';\n  button.addEventListener('click', onclick);\n  return button;\n};\n\nvar commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\n\n\nfunction unwrapExports (x) {\n\treturn x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n}\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar NoSleep = createCommonjsModule(function (module, exports) {\n(function webpackUniversalModuleDefinition(root, factory) {\n\tmodule.exports = factory();\n})(commonjsGlobal, function() {\nreturn          (function(modules) {\n         \tvar installedModules = {};\n         \tfunction __webpack_require__(moduleId) {\n         \t\tif(installedModules[moduleId]) {\n         \t\t\treturn installedModules[moduleId].exports;\n         \t\t}\n         \t\tvar module = installedModules[moduleId] = {\n         \t\t\ti: moduleId,\n         \t\t\tl: false,\n         \t\t\texports: {}\n         \t\t};\n         \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n         \t\tmodule.l = true;\n         \t\treturn module.exports;\n         \t}\n         \t__webpack_require__.m = modules;\n         \t__webpack_require__.c = installedModules;\n         \t__webpack_require__.d = function(exports, name, getter) {\n         \t\tif(!__webpack_require__.o(exports, name)) {\n         \t\t\tObject.defineProperty(exports, name, {\n         \t\t\t\tconfigurable: false,\n         \t\t\t\tenumerable: true,\n         \t\t\t\tget: getter\n         \t\t\t});\n         \t\t}\n         \t};\n         \t__webpack_require__.n = function(module) {\n         \t\tvar getter = module && module.__esModule ?\n         \t\t\tfunction getDefault() { return module['default']; } :\n         \t\t\tfunction getModuleExports() { return module; };\n         \t\t__webpack_require__.d(getter, 'a', getter);\n         \t\treturn getter;\n         \t};\n         \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n         \t__webpack_require__.p = \"\";\n         \treturn __webpack_require__(__webpack_require__.s = 0);\n         })\n         ([\n      (function(module, exports, __webpack_require__) {\n\"use strict\";\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nvar mediaFile = __webpack_require__(1);\nvar oldIOS = typeof navigator !== 'undefined' && parseFloat(('' + (/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent) || [0, ''])[1]).replace('undefined', '3_2').replace('_', '.').replace('_', '')) < 10 && !window.MSStream;\nvar NoSleep = function () {\n  function NoSleep() {\n    _classCallCheck(this, NoSleep);\n    if (oldIOS) {\n      this.noSleepTimer = null;\n    } else {\n      this.noSleepVideo = document.createElement('video');\n      this.noSleepVideo.setAttribute('playsinline', '');\n      this.noSleepVideo.setAttribute('src', mediaFile);\n      this.noSleepVideo.addEventListener('timeupdate', function (e) {\n        if (this.noSleepVideo.currentTime > 0.5) {\n          this.noSleepVideo.currentTime = Math.random();\n        }\n      }.bind(this));\n    }\n  }\n  _createClass(NoSleep, [{\n    key: 'enable',\n    value: function enable() {\n      if (oldIOS) {\n        this.disable();\n        this.noSleepTimer = window.setInterval(function () {\n          window.location.href = '/';\n          window.setTimeout(window.stop, 0);\n        }, 15000);\n      } else {\n        this.noSleepVideo.play();\n      }\n    }\n  }, {\n    key: 'disable',\n    value: function disable() {\n      if (oldIOS) {\n        if (this.noSleepTimer) {\n          window.clearInterval(this.noSleepTimer);\n          this.noSleepTimer = null;\n        }\n      } else {\n        this.noSleepVideo.pause();\n      }\n    }\n  }]);\n  return NoSleep;\n}();\n\nmodule.exports = NoSleep;\n      }),\n      (function(module, exports, __webpack_require__) {\n\"use strict\";\nmodule.exports = 'data:video/mp4;base64,AAAAIGZ0eXBtcDQyAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAACKBtZGF0AAAC8wYF///v3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0MiByMjQ3OSBkZDc5YTYxIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNCAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTEgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MToweDExMSBtZT1oZXggc3VibWU9MiBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0wIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MCA4eDhkY3Q9MCBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0wIHRocmVhZHM9NiBsb29rYWhlYWRfdGhyZWFkcz0xIHNsaWNlZF90aHJlYWRzPTAgbnI9MCBkZWNpbWF0ZT0xIGludGVybGFjZWQ9MCBibHVyYXlfY29tcGF0PTAgY29uc3RyYWluZWRfaW50cmE9MCBiZnJhbWVzPTMgYl9weXJhbWlkPTIgYl9hZGFwdD0xIGJfYmlhcz0wIGRpcmVjdD0xIHdlaWdodGI9MSBvcGVuX2dvcD0wIHdlaWdodHA9MSBrZXlpbnQ9MzAwIGtleWludF9taW49MzAgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD0xMCByYz1jcmYgbWJ0cmVlPTEgY3JmPTIwLjAgcWNvbXA9MC42MCBxcG1pbj0wIHFwbWF4PTY5IHFwc3RlcD00IHZidl9tYXhyYXRlPTIwMDAwIHZidl9idWZzaXplPTI1MDAwIGNyZl9tYXg9MC4wIG5hbF9ocmQ9bm9uZSBmaWxsZXI9MCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAOWWIhAA3//p+C7v8tDDSTjf97w55i3SbRPO4ZY+hkjD5hbkAkL3zpJ6h/LR1CAABzgB1kqqzUorlhQAAAAxBmiQYhn/+qZYADLgAAAAJQZ5CQhX/AAj5IQAD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';\n      })\n         ]);\n});\n});\nvar NoSleep$1 = unwrapExports(NoSleep);\n\nvar nextDisplayId = 1000;\nvar defaultLeftBounds = [0, 0, 0.5, 1];\nvar defaultRightBounds = [0.5, 0, 0.5, 1];\nvar raf = window.requestAnimationFrame;\nvar caf = window.cancelAnimationFrame;\nfunction VRFrameData() {\n  this.leftProjectionMatrix = new Float32Array(16);\n  this.leftViewMatrix = new Float32Array(16);\n  this.rightProjectionMatrix = new Float32Array(16);\n  this.rightViewMatrix = new Float32Array(16);\n  this.pose = null;\n}\nfunction VRDisplayCapabilities(config) {\n  Object.defineProperties(this, {\n    hasPosition: {\n      writable: false, enumerable: true, value: config.hasPosition\n    },\n    hasExternalDisplay: {\n      writable: false, enumerable: true, value: config.hasExternalDisplay\n    },\n    canPresent: {\n      writable: false, enumerable: true, value: config.canPresent\n    },\n    maxLayers: {\n      writable: false, enumerable: true, value: config.maxLayers\n    },\n    hasOrientation: {\n      enumerable: true, get: function get() {\n        deprecateWarning('VRDisplayCapabilities.prototype.hasOrientation', 'VRDisplay.prototype.getFrameData');\n        return config.hasOrientation;\n      }\n    }\n  });\n}\nfunction VRDisplay(config) {\n  config = config || {};\n  var USE_WAKELOCK = 'wakelock' in config ? config.wakelock : true;\n  this.isPolyfilled = true;\n  this.displayId = nextDisplayId++;\n  this.displayName = '';\n  this.depthNear = 0.01;\n  this.depthFar = 10000.0;\n  this.isPresenting = false;\n  Object.defineProperty(this, 'isConnected', {\n    get: function get() {\n      deprecateWarning('VRDisplay.prototype.isConnected', 'VRDisplayCapabilities.prototype.hasExternalDisplay');\n      return false;\n    }\n  });\n  this.capabilities = new VRDisplayCapabilities({\n    hasPosition: false,\n    hasOrientation: false,\n    hasExternalDisplay: false,\n    canPresent: false,\n    maxLayers: 1\n  });\n  this.stageParameters = null;\n  this.waitingForPresent_ = false;\n  this.layer_ = null;\n  this.originalParent_ = null;\n  this.fullscreenElement_ = null;\n  this.fullscreenWrapper_ = null;\n  this.fullscreenElementCachedStyle_ = null;\n  this.fullscreenEventTarget_ = null;\n  this.fullscreenChangeHandler_ = null;\n  this.fullscreenErrorHandler_ = null;\n  if (USE_WAKELOCK && isMobile()) {\n    this.wakelock_ = new NoSleep$1();\n  }\n}\nVRDisplay.prototype.getFrameData = function (frameData) {\n  return frameDataFromPose(frameData, this._getPose(), this);\n};\nVRDisplay.prototype.getPose = function () {\n  deprecateWarning('VRDisplay.prototype.getPose', 'VRDisplay.prototype.getFrameData');\n  return this._getPose();\n};\nVRDisplay.prototype.resetPose = function () {\n  deprecateWarning('VRDisplay.prototype.resetPose');\n  return this._resetPose();\n};\nVRDisplay.prototype.getImmediatePose = function () {\n  deprecateWarning('VRDisplay.prototype.getImmediatePose', 'VRDisplay.prototype.getFrameData');\n  return this._getPose();\n};\nVRDisplay.prototype.requestAnimationFrame = function (callback) {\n  return raf(callback);\n};\nVRDisplay.prototype.cancelAnimationFrame = function (id) {\n  return caf(id);\n};\nVRDisplay.prototype.wrapForFullscreen = function (element) {\n  if (isIOS()) {\n    return element;\n  }\n  if (!this.fullscreenWrapper_) {\n    this.fullscreenWrapper_ = document.createElement('div');\n    var cssProperties = ['height: ' + Math.min(screen.height, screen.width) + 'px !important', 'top: 0 !important', 'left: 0 !important', 'right: 0 !important', 'border: 0', 'margin: 0', 'padding: 0', 'z-index: 999999 !important', 'position: fixed'];\n    this.fullscreenWrapper_.setAttribute('style', cssProperties.join('; ') + ';');\n    this.fullscreenWrapper_.classList.add('webvr-polyfill-fullscreen-wrapper');\n  }\n  if (this.fullscreenElement_ == element) {\n    return this.fullscreenWrapper_;\n  }\n  if (this.fullscreenElement_) {\n    if (this.originalParent_) {\n      this.originalParent_.appendChild(this.fullscreenElement_);\n    } else {\n      this.fullscreenElement_.parentElement.removeChild(this.fullscreenElement_);\n    }\n  }\n  this.fullscreenElement_ = element;\n  this.originalParent_ = element.parentElement;\n  if (!this.originalParent_) {\n    document.body.appendChild(element);\n  }\n  if (!this.fullscreenWrapper_.parentElement) {\n    var parent = this.fullscreenElement_.parentElement;\n    parent.insertBefore(this.fullscreenWrapper_, this.fullscreenElement_);\n    parent.removeChild(this.fullscreenElement_);\n  }\n  this.fullscreenWrapper_.insertBefore(this.fullscreenElement_, this.fullscreenWrapper_.firstChild);\n  this.fullscreenElementCachedStyle_ = this.fullscreenElement_.getAttribute('style');\n  var self = this;\n  function applyFullscreenElementStyle() {\n    if (!self.fullscreenElement_) {\n      return;\n    }\n    var cssProperties = ['position: absolute', 'top: 0', 'left: 0', 'width: ' + Math.max(screen.width, screen.height) + 'px', 'height: ' + Math.min(screen.height, screen.width) + 'px', 'border: 0', 'margin: 0', 'padding: 0'];\n    self.fullscreenElement_.setAttribute('style', cssProperties.join('; ') + ';');\n  }\n  applyFullscreenElementStyle();\n  return this.fullscreenWrapper_;\n};\nVRDisplay.prototype.removeFullscreenWrapper = function () {\n  if (!this.fullscreenElement_) {\n    return;\n  }\n  var element = this.fullscreenElement_;\n  if (this.fullscreenElementCachedStyle_) {\n    element.setAttribute('style', this.fullscreenElementCachedStyle_);\n  } else {\n    element.removeAttribute('style');\n  }\n  this.fullscreenElement_ = null;\n  this.fullscreenElementCachedStyle_ = null;\n  var parent = this.fullscreenWrapper_.parentElement;\n  this.fullscreenWrapper_.removeChild(element);\n  if (this.originalParent_ === parent) {\n    parent.insertBefore(element, this.fullscreenWrapper_);\n  }\n  else if (this.originalParent_) {\n      this.originalParent_.appendChild(element);\n    }\n  parent.removeChild(this.fullscreenWrapper_);\n  return element;\n};\nVRDisplay.prototype.requestPresent = function (layers) {\n  var wasPresenting = this.isPresenting;\n  var self = this;\n  if (!(layers instanceof Array)) {\n    deprecateWarning('VRDisplay.prototype.requestPresent with non-array argument', 'an array of VRLayers as the first argument');\n    layers = [layers];\n  }\n  return new Promise(function (resolve, reject) {\n    if (!self.capabilities.canPresent) {\n      reject(new Error('VRDisplay is not capable of presenting.'));\n      return;\n    }\n    if (layers.length == 0 || layers.length > self.capabilities.maxLayers) {\n      reject(new Error('Invalid number of layers.'));\n      return;\n    }\n    var incomingLayer = layers[0];\n    if (!incomingLayer.source) {\n      resolve();\n      return;\n    }\n    var leftBounds = incomingLayer.leftBounds || defaultLeftBounds;\n    var rightBounds = incomingLayer.rightBounds || defaultRightBounds;\n    if (wasPresenting) {\n      var layer = self.layer_;\n      if (layer.source !== incomingLayer.source) {\n        layer.source = incomingLayer.source;\n      }\n      for (var i = 0; i < 4; i++) {\n        layer.leftBounds[i] = leftBounds[i];\n        layer.rightBounds[i] = rightBounds[i];\n      }\n      self.wrapForFullscreen(self.layer_.source);\n      self.updatePresent_();\n      resolve();\n      return;\n    }\n    self.layer_ = {\n      predistorted: incomingLayer.predistorted,\n      source: incomingLayer.source,\n      leftBounds: leftBounds.slice(0),\n      rightBounds: rightBounds.slice(0)\n    };\n    self.waitingForPresent_ = false;\n    if (self.layer_ && self.layer_.source) {\n      var fullscreenElement = self.wrapForFullscreen(self.layer_.source);\n      var onFullscreenChange = function onFullscreenChange() {\n        var actualFullscreenElement = getFullscreenElement();\n        self.isPresenting = fullscreenElement === actualFullscreenElement;\n        if (self.isPresenting) {\n          if (screen.orientation && screen.orientation.lock) {\n            screen.orientation.lock('landscape-primary').catch(function (error) {\n              console.error('screen.orientation.lock() failed due to', error.message);\n            });\n          }\n          self.waitingForPresent_ = false;\n          self.beginPresent_();\n          resolve();\n        } else {\n          if (screen.orientation && screen.orientation.unlock) {\n            screen.orientation.unlock();\n          }\n          self.removeFullscreenWrapper();\n          self.disableWakeLock();\n          self.endPresent_();\n          self.removeFullscreenListeners_();\n        }\n        self.fireVRDisplayPresentChange_();\n      };\n      var onFullscreenError = function onFullscreenError() {\n        if (!self.waitingForPresent_) {\n          return;\n        }\n        self.removeFullscreenWrapper();\n        self.removeFullscreenListeners_();\n        self.disableWakeLock();\n        self.waitingForPresent_ = false;\n        self.isPresenting = false;\n        reject(new Error('Unable to present.'));\n      };\n      self.addFullscreenListeners_(fullscreenElement, onFullscreenChange, onFullscreenError);\n      if (requestFullscreen(fullscreenElement)) {\n        self.enableWakeLock();\n        self.waitingForPresent_ = true;\n      } else if (isIOS() || isWebViewAndroid()) {\n        self.enableWakeLock();\n        self.isPresenting = true;\n        self.beginPresent_();\n        self.fireVRDisplayPresentChange_();\n        resolve();\n      }\n    }\n    if (!self.waitingForPresent_ && !isIOS()) {\n      exitFullscreen();\n      reject(new Error('Unable to present.'));\n    }\n  });\n};\nVRDisplay.prototype.exitPresent = function () {\n  var wasPresenting = this.isPresenting;\n  var self = this;\n  this.isPresenting = false;\n  this.layer_ = null;\n  this.disableWakeLock();\n  return new Promise(function (resolve, reject) {\n    if (wasPresenting) {\n      if (!exitFullscreen() && isIOS()) {\n        self.endPresent_();\n        self.fireVRDisplayPresentChange_();\n      }\n      if (isWebViewAndroid()) {\n        self.removeFullscreenWrapper();\n        self.removeFullscreenListeners_();\n        self.endPresent_();\n        self.fireVRDisplayPresentChange_();\n      }\n      resolve();\n    } else {\n      reject(new Error('Was not presenting to VRDisplay.'));\n    }\n  });\n};\nVRDisplay.prototype.getLayers = function () {\n  if (this.layer_) {\n    return [this.layer_];\n  }\n  return [];\n};\nVRDisplay.prototype.fireVRDisplayPresentChange_ = function () {\n  var event = new CustomEvent('vrdisplaypresentchange', { detail: { display: this } });\n  window.dispatchEvent(event);\n};\nVRDisplay.prototype.fireVRDisplayConnect_ = function () {\n  var event = new CustomEvent('vrdisplayconnect', { detail: { display: this } });\n  window.dispatchEvent(event);\n};\nVRDisplay.prototype.addFullscreenListeners_ = function (element, changeHandler, errorHandler) {\n  this.removeFullscreenListeners_();\n  this.fullscreenEventTarget_ = element;\n  this.fullscreenChangeHandler_ = changeHandler;\n  this.fullscreenErrorHandler_ = errorHandler;\n  if (changeHandler) {\n    if (document.fullscreenEnabled) {\n      element.addEventListener('fullscreenchange', changeHandler, false);\n    } else if (document.webkitFullscreenEnabled) {\n      element.addEventListener('webkitfullscreenchange', changeHandler, false);\n    } else if (document.mozFullScreenEnabled) {\n      document.addEventListener('mozfullscreenchange', changeHandler, false);\n    } else if (document.msFullscreenEnabled) {\n      element.addEventListener('msfullscreenchange', changeHandler, false);\n    }\n  }\n  if (errorHandler) {\n    if (document.fullscreenEnabled) {\n      element.addEventListener('fullscreenerror', errorHandler, false);\n    } else if (document.webkitFullscreenEnabled) {\n      element.addEventListener('webkitfullscreenerror', errorHandler, false);\n    } else if (document.mozFullScreenEnabled) {\n      document.addEventListener('mozfullscreenerror', errorHandler, false);\n    } else if (document.msFullscreenEnabled) {\n      element.addEventListener('msfullscreenerror', errorHandler, false);\n    }\n  }\n};\nVRDisplay.prototype.removeFullscreenListeners_ = function () {\n  if (!this.fullscreenEventTarget_) return;\n  var element = this.fullscreenEventTarget_;\n  if (this.fullscreenChangeHandler_) {\n    var changeHandler = this.fullscreenChangeHandler_;\n    element.removeEventListener('fullscreenchange', changeHandler, false);\n    element.removeEventListener('webkitfullscreenchange', changeHandler, false);\n    document.removeEventListener('mozfullscreenchange', changeHandler, false);\n    element.removeEventListener('msfullscreenchange', changeHandler, false);\n  }\n  if (this.fullscreenErrorHandler_) {\n    var errorHandler = this.fullscreenErrorHandler_;\n    element.removeEventListener('fullscreenerror', errorHandler, false);\n    element.removeEventListener('webkitfullscreenerror', errorHandler, false);\n    document.removeEventListener('mozfullscreenerror', errorHandler, false);\n    element.removeEventListener('msfullscreenerror', errorHandler, false);\n  }\n  this.fullscreenEventTarget_ = null;\n  this.fullscreenChangeHandler_ = null;\n  this.fullscreenErrorHandler_ = null;\n};\nVRDisplay.prototype.enableWakeLock = function () {\n  if (this.wakelock_) {\n    this.wakelock_.enable();\n  }\n};\nVRDisplay.prototype.disableWakeLock = function () {\n  if (this.wakelock_) {\n    this.wakelock_.disable();\n  }\n};\nVRDisplay.prototype.beginPresent_ = function () {\n};\nVRDisplay.prototype.endPresent_ = function () {\n};\nVRDisplay.prototype.submitFrame = function (pose) {\n};\nVRDisplay.prototype.getEyeParameters = function (whichEye) {\n  return null;\n};\n\nvar config = {\n  ADDITIONAL_VIEWERS: [],\n  DEFAULT_VIEWER: '',\n  MOBILE_WAKE_LOCK: true,\n  DEBUG: false,\n  DPDB_URL: 'https://dpdb.webvr.rocks/dpdb.json',\n  K_FILTER: 0.98,\n  PREDICTION_TIME_S: 0.040,\n  CARDBOARD_UI_DISABLED: false,\n  ROTATE_INSTRUCTIONS_DISABLED: false,\n  YAW_ONLY: false,\n  BUFFER_SCALE: 0.5,\n  DIRTY_SUBMIT_FRAME_BINDINGS: false\n};\n\nvar Eye = {\n  LEFT: 'left',\n  RIGHT: 'right'\n};\nfunction CardboardVRDisplay(config$$1) {\n  var defaults = extend({}, config);\n  config$$1 = extend(defaults, config$$1 || {});\n  VRDisplay.call(this, {\n    wakelock: config$$1.MOBILE_WAKE_LOCK\n  });\n  this.config = config$$1;\n  this.displayName = 'Cardboard VRDisplay';\n  this.capabilities = new VRDisplayCapabilities({\n    hasPosition: false,\n    hasOrientation: true,\n    hasExternalDisplay: false,\n    canPresent: true,\n    maxLayers: 1\n  });\n  this.stageParameters = null;\n  this.bufferScale_ = this.config.BUFFER_SCALE;\n  this.poseSensor_ = new PoseSensor(this.config);\n  this.distorter_ = null;\n  this.cardboardUI_ = null;\n  this.dpdb_ = new Dpdb(this.config.DPDB_URL, this.onDeviceParamsUpdated_.bind(this));\n  this.deviceInfo_ = new DeviceInfo(this.dpdb_.getDeviceParams(), config$$1.ADDITIONAL_VIEWERS);\n  this.viewerSelector_ = new ViewerSelector(config$$1.DEFAULT_VIEWER);\n  this.viewerSelector_.onChange(this.onViewerChanged_.bind(this));\n  this.deviceInfo_.setViewer(this.viewerSelector_.getCurrentViewer());\n  if (!this.config.ROTATE_INSTRUCTIONS_DISABLED) {\n    this.rotateInstructions_ = new RotateInstructions();\n  }\n  if (isIOS()) {\n    window.addEventListener('resize', this.onResize_.bind(this));\n  }\n}\nCardboardVRDisplay.prototype = Object.create(VRDisplay.prototype);\nCardboardVRDisplay.prototype._getPose = function () {\n  return {\n    position: null,\n    orientation: this.poseSensor_.getOrientation(),\n    linearVelocity: null,\n    linearAcceleration: null,\n    angularVelocity: null,\n    angularAcceleration: null\n  };\n};\nCardboardVRDisplay.prototype._resetPose = function () {\n  if (this.poseSensor_.resetPose) {\n    this.poseSensor_.resetPose();\n  }\n};\nCardboardVRDisplay.prototype._getFieldOfView = function (whichEye) {\n  var fieldOfView;\n  if (whichEye == Eye.LEFT) {\n    fieldOfView = this.deviceInfo_.getFieldOfViewLeftEye();\n  } else if (whichEye == Eye.RIGHT) {\n    fieldOfView = this.deviceInfo_.getFieldOfViewRightEye();\n  } else {\n    console.error('Invalid eye provided: %s', whichEye);\n    return null;\n  }\n  return fieldOfView;\n};\nCardboardVRDisplay.prototype._getEyeOffset = function (whichEye) {\n  var offset;\n  if (whichEye == Eye.LEFT) {\n    offset = [-this.deviceInfo_.viewer.interLensDistance * 0.5, 0.0, 0.0];\n  } else if (whichEye == Eye.RIGHT) {\n    offset = [this.deviceInfo_.viewer.interLensDistance * 0.5, 0.0, 0.0];\n  } else {\n    console.error('Invalid eye provided: %s', whichEye);\n    return null;\n  }\n  return offset;\n};\nCardboardVRDisplay.prototype.getEyeParameters = function (whichEye) {\n  var offset = this._getEyeOffset(whichEye);\n  var fieldOfView = this._getFieldOfView(whichEye);\n  var eyeParams = {\n    offset: offset,\n    renderWidth: this.deviceInfo_.device.width * 0.5 * this.bufferScale_,\n    renderHeight: this.deviceInfo_.device.height * this.bufferScale_\n  };\n  Object.defineProperty(eyeParams, 'fieldOfView', {\n    enumerable: true,\n    get: function get() {\n      deprecateWarning('VRFieldOfView', 'VRFrameData\\'s projection matrices');\n      return fieldOfView;\n    }\n  });\n  return eyeParams;\n};\nCardboardVRDisplay.prototype.onDeviceParamsUpdated_ = function (newParams) {\n  if (this.config.DEBUG) {\n    console.log('DPDB reported that device params were updated.');\n  }\n  this.deviceInfo_.updateDeviceParams(newParams);\n  if (this.distorter_) {\n    this.distorter_.updateDeviceInfo(this.deviceInfo_);\n  }\n};\nCardboardVRDisplay.prototype.updateBounds_ = function () {\n  if (this.layer_ && this.distorter_ && (this.layer_.leftBounds || this.layer_.rightBounds)) {\n    this.distorter_.setTextureBounds(this.layer_.leftBounds, this.layer_.rightBounds);\n  }\n};\nCardboardVRDisplay.prototype.beginPresent_ = function () {\n  var gl = this.layer_.source.getContext('webgl');\n  if (!gl) gl = this.layer_.source.getContext('experimental-webgl');\n  if (!gl) gl = this.layer_.source.getContext('webgl2');\n  if (!gl) return;\n  if (this.layer_.predistorted) {\n    if (!this.config.CARDBOARD_UI_DISABLED) {\n      gl.canvas.width = getScreenWidth() * this.bufferScale_;\n      gl.canvas.height = getScreenHeight() * this.bufferScale_;\n      this.cardboardUI_ = new CardboardUI(gl);\n    }\n  } else {\n    if (!this.config.CARDBOARD_UI_DISABLED) {\n      this.cardboardUI_ = new CardboardUI(gl);\n    }\n    this.distorter_ = new CardboardDistorter(gl, this.cardboardUI_, this.config.BUFFER_SCALE, this.config.DIRTY_SUBMIT_FRAME_BINDINGS);\n    this.distorter_.updateDeviceInfo(this.deviceInfo_);\n  }\n  if (this.cardboardUI_) {\n    this.cardboardUI_.listen(function (e) {\n      this.viewerSelector_.show(this.layer_.source.parentElement);\n      e.stopPropagation();\n      e.preventDefault();\n    }.bind(this), function (e) {\n      this.exitPresent();\n      e.stopPropagation();\n      e.preventDefault();\n    }.bind(this));\n  }\n  if (this.rotateInstructions_) {\n    if (isLandscapeMode() && isMobile()) {\n      this.rotateInstructions_.showTemporarily(3000, this.layer_.source.parentElement);\n    } else {\n      this.rotateInstructions_.update();\n    }\n  }\n  this.orientationHandler = this.onOrientationChange_.bind(this);\n  window.addEventListener('orientationchange', this.orientationHandler);\n  this.vrdisplaypresentchangeHandler = this.updateBounds_.bind(this);\n  window.addEventListener('vrdisplaypresentchange', this.vrdisplaypresentchangeHandler);\n  this.fireVRDisplayDeviceParamsChange_();\n};\nCardboardVRDisplay.prototype.endPresent_ = function () {\n  if (this.distorter_) {\n    this.distorter_.destroy();\n    this.distorter_ = null;\n  }\n  if (this.cardboardUI_) {\n    this.cardboardUI_.destroy();\n    this.cardboardUI_ = null;\n  }\n  if (this.rotateInstructions_) {\n    this.rotateInstructions_.hide();\n  }\n  this.viewerSelector_.hide();\n  window.removeEventListener('orientationchange', this.orientationHandler);\n  window.removeEventListener('vrdisplaypresentchange', this.vrdisplaypresentchangeHandler);\n};\nCardboardVRDisplay.prototype.updatePresent_ = function () {\n  this.endPresent_();\n  this.beginPresent_();\n};\nCardboardVRDisplay.prototype.submitFrame = function (pose) {\n  if (this.distorter_) {\n    this.updateBounds_();\n    this.distorter_.submitFrame();\n  } else if (this.cardboardUI_ && this.layer_) {\n    var gl = this.layer_.source.getContext('webgl');\n    if (!gl) gl = this.layer_.source.getContext('experimental-webgl');\n    if (!gl) gl = this.layer_.source.getContext('webgl2');\n    var canvas = gl.canvas;\n    if (canvas.width != this.lastWidth || canvas.height != this.lastHeight) {\n      this.cardboardUI_.onResize();\n    }\n    this.lastWidth = canvas.width;\n    this.lastHeight = canvas.height;\n    this.cardboardUI_.render();\n  }\n};\nCardboardVRDisplay.prototype.onOrientationChange_ = function (e) {\n  this.viewerSelector_.hide();\n  if (this.rotateInstructions_) {\n    this.rotateInstructions_.update();\n  }\n  this.onResize_();\n};\nCardboardVRDisplay.prototype.onResize_ = function (e) {\n  if (this.layer_) {\n    var gl = this.layer_.source.getContext('webgl');\n    if (!gl) gl = this.layer_.source.getContext('experimental-webgl');\n    if (!gl) gl = this.layer_.source.getContext('webgl2');\n    var cssProperties = ['position: absolute', 'top: 0', 'left: 0',\n    'width: 100vw', 'height: 100vh', 'border: 0', 'margin: 0',\n    'padding: 0px', 'box-sizing: content-box'];\n    gl.canvas.setAttribute('style', cssProperties.join('; ') + ';');\n    safariCssSizeWorkaround(gl.canvas);\n  }\n};\nCardboardVRDisplay.prototype.onViewerChanged_ = function (viewer) {\n  this.deviceInfo_.setViewer(viewer);\n  if (this.distorter_) {\n    this.distorter_.updateDeviceInfo(this.deviceInfo_);\n  }\n  this.fireVRDisplayDeviceParamsChange_();\n};\nCardboardVRDisplay.prototype.fireVRDisplayDeviceParamsChange_ = function () {\n  var event = new CustomEvent('vrdisplaydeviceparamschange', {\n    detail: {\n      vrdisplay: this,\n      deviceInfo: this.deviceInfo_\n    }\n  });\n  window.dispatchEvent(event);\n};\nCardboardVRDisplay.VRFrameData = VRFrameData;\nCardboardVRDisplay.VRDisplay = VRDisplay;\n\nreturn CardboardVRDisplay;\n\n})));\n", "/*\r\n * Copyright 2017 Google Inc. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *     http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nimport EventTarget from '../lib/EventTarget';\r\nimport XRReferenceSpace from '../api/XRReferenceSpace';\r\n\r\nexport default class XRDevice extends EventTarget {\r\n  /**\r\n   * Takes a VRDisplay object from the WebVR 1.1 spec.\r\n   *\r\n   * @param {Object} global\r\n   */\r\n  constructor(global) {\r\n    super();\r\n\r\n    this.global = global;\r\n    this.onWindowResize = this.onWindowResize.bind(this);\r\n\r\n    this.global.window.addEventListener('resize', this.onWindowResize);\r\n\r\n    // Value is used for `XRSession.prototype.environmentBlendMode`\r\n    // and should be one of XREnvironmentBlendMode types: 'opaque', 'additive',\r\n    // or 'alpha-blend'.\r\n    this.environmentBlendMode = 'opaque';\r\n  }\r\n\r\n  /**\r\n   * Called when a XRSession has a `baseLayer` property set.\r\n   *\r\n   * @param {number} sessionId\r\n   * @param {XRWebGLLayer} layer\r\n   */\r\n  onBaseLayerSet(sessionId, layer) { throw new Error('Not implemented'); }\r\n\r\n  /**\r\n   * @param {XRSessionMode} mode\r\n   * @return {boolean}\r\n   */\r\n  isSessionSupported(mode) { throw new Error('Not implemented'); }\r\n\r\n  /**\r\n   * @param {string} featureDescriptor\r\n   * @return {boolean}\r\n   */\r\n  isFeatureSupported(featureDescriptor) { throw new Error('Not implemented'); }\r\n\r\n  /**\r\n   * Returns a promise if creating a session is successful.\r\n   * Usually used to set up presentation in the device.\r\n   *\r\n   * @param {XRSessionMode} mode\r\n   * @param {Set<string>} enabledFeatures\r\n   * @return {Promise<number>}\r\n   */\r\n  async requestSession(mode, enabledFeatures) { throw new Error('Not implemented'); }\r\n\r\n  /**\r\n   * @return {Function}\r\n   */\r\n  requestAnimationFrame(callback) { throw new Error('Not implemented'); }\r\n\r\n  /**\r\n   * @param {number} sessionId\r\n   */\r\n  onFrameStart(sessionId) { throw new Error('Not implemented'); }\r\n\r\n  /**\r\n   * @param {number} sessionId\r\n   */\r\n  onFrameEnd(sessionId) { throw new Error('Not implemented'); }\r\n\r\n  /**\r\n   * @param {number} sessionId\r\n   * @param {XRReferenceSpaceType} type\r\n   * @return {boolean}\r\n   */\r\n  doesSessionSupportReferenceSpace(sessionId, type) { throw new Error('Not implemented'); }\r\n\r\n  /**\r\n   * @return {Object?}\r\n   */\r\n  requestStageBounds() { throw new Error('Not implemented'); }\r\n\r\n  /**\r\n   * Returns a promise resolving to a transform if XRDevice\r\n   * can support frame of reference and provides its own values.\r\n   * Can resolve to `undefined` if the polyfilled API can provide\r\n   * a default. Rejects if this XRDevice cannot\r\n   * support the frame of reference.\r\n   *\r\n   * @param {XRFrameOfReferenceType} type\r\n   * @param {XRFrameOfReferenceOptions} options\r\n   * @return {Promise<XRFrameOfReference>}\r\n   */\r\n  async requestFrameOfReferenceTransform(type, options) {\r\n    return undefined;\r\n  }\r\n\r\n  /**\r\n   * @param {number} handle\r\n   */\r\n  cancelAnimationFrame(handle) { throw new Error('Not implemented'); }\r\n\r\n  /**\r\n   * @param {number} sessionId\r\n   */\r\n  endSession(sessionId) { throw new Error('Not implemented'); }\r\n\r\n  /**\r\n   * Allows the XRDevice to override the XRSession's view spaces.\r\n   *\r\n   * @param {XRSessionMode} mode\r\n   * @return {Array<XRSpace> | undefined}\r\n   */\r\n  getViewSpaces(mode) { return undefined; }\r\n\r\n  /**\r\n   * Takes a XREye and a target to apply properties of\r\n   * `x`, `y`, `width` and `height` on. Returns a boolean\r\n   * indicating if it successfully was able to populate\r\n   * target's values.\r\n   *\r\n   * @param {number} sessionId\r\n   * @param {XREye} eye\r\n   * @param {XRWebGLLayer} layer\r\n   * @param {Object?} target\r\n   * @param {number} viewIndex\r\n   * @return {boolean}\r\n   */\r\n  getViewport(sessionId, eye, layer, target, viewIndex) { throw new Error('Not implemented'); }\r\n\r\n  /**\r\n   * @param {XREye} eye\r\n   * @param {number} viewIndex\r\n   * @return {Float32Array}\r\n   */\r\n  getProjectionMatrix(eye, viewIndex) { throw new Error('Not implemented'); }\r\n\r\n  /**\r\n   * Get model matrix unaffected by frame of reference.\r\n   *\r\n   * @return {Float32Array}\r\n   */\r\n  getBasePoseMatrix() { throw new Error('Not implemented'); }\r\n\r\n  /**\r\n   * Get view matrix unaffected by frame of reference.\r\n   *\r\n   * @param {XREye} eye\r\n   * @return {Float32Array}\r\n   */\r\n  getBaseViewMatrix(eye) { throw new Error('Not implemented'); }\r\n\r\n  /**\r\n   * Get a list of input sources.\r\n   *\r\n   * @return {Array<XRInputSource>}\r\n   */\r\n  getInputSources() { throw new Error('Not implemented'); }\r\n\r\n  /**\r\n   * Get the current pose of an input source.\r\n   *\r\n   * @param {XRInputSource} inputSource\r\n   * @param {XRCoordinateSystem} coordinateSystem\r\n   * @param {String} poseType\r\n   * @return {XRPose}\r\n   */\r\n  getInputPose(inputSource, coordinateSystem, poseType) { throw new Error('Not implemented'); }\r\n\r\n  /**\r\n   * Called on window resize.\r\n   */\r\n  onWindowResize() {\r\n    // Bound by XRDevice and called on resize, but\r\n    // this will call child class onWindowResize (or, if not defined,\r\n    // call an infinite loop I guess)\r\n    this.onWindowResize();\r\n  }\r\n}\r\n", "/*\r\n * Copyright 2019 Immersive Web Community Group. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *     http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\n/*\r\nExample Gamepad mapping. Any of the values may be omitted for the original\r\ngamepad values to pass through unchanged.\r\n\r\n\"Gamepad ID String\": { // The Gamepad.id that this entry maps to.\r\n  mapping: 'xr-standard', // Overrides the Gamepad.mapping that is reported\r\n  profiles: ['gamepad-id-string'], // The profiles array that should be reported\r\n  displayProfiles: {\r\n    // Alternative profiles arrays to report if the VRDevice.displayName matches\r\n    \"WebVR Display Name\": ['gamepad-id-string']\r\n  },\r\n  axes: { // Remaps the reported axes\r\n    length: 2, // Overrides the length of the reported axes array\r\n    invert: [0] // List of mapped axes who's value should be inverted\r\n    0: 2, // Remaps axes[0] to report axis[2] from the original gamepad object\r\n    1: null, // Remaps axes[1] to a placeholder axis (always reports 0)\r\n  },\r\n  buttons: { // Remaps the reported buttons\r\n    length: 2, // Overrides the length of the reported buttons array\r\n    0: 2, // Remaps buttons[0] to report buttons[2] from the original gamepad object\r\n    1: null // Remaps buttons[1] to a placeholder button (always reports 0/false)\r\n  },\r\n  gripTransform: { // An additional transform to apply to the gripSpace's pose\r\n    position: [0, 0, 0.5], // Additional translation vector to apply\r\n    orientation: [0, 0, 0, 1] // Additional rotation quaternion to apply\r\n  },\r\n  targetRayTransform: { // An additional transform to apply to the targetRaySpace's pose\r\n    position: [0, 0, 0.5], // Additional translation vector to apply\r\n    orientation: [0, 0, 0, 1] // Additional rotation quaternion to apply\r\n  }\r\n}\r\n*/\r\n\r\nlet daydream = {\r\n  mapping: '',\r\n  profiles: ['google-daydream', 'generic-trigger-touchpad'],\r\n  buttons: {\r\n    length: 3,\r\n    0: null,\r\n    1: null,\r\n    2: 0\r\n  },\r\n};\r\n\r\nlet viveFocus = {\r\n  mapping: 'xr-standard',\r\n  profiles: ['htc-vive-focus', 'generic-trigger-touchpad'],\r\n  buttons: {\r\n    length: 3,\r\n    0: 1,\r\n    1: null,\r\n    2: 0\r\n  },\r\n};\r\n\r\nlet oculusGo = {\r\n  mapping: 'xr-standard',\r\n  profiles: ['oculus-go', 'generic-trigger-touchpad'],\r\n  buttons: {\r\n    length: 3,\r\n    0: 1,\r\n    1: null,\r\n    2: 0\r\n  },\r\n  // Grip adjustments determined experimentally.\r\n  gripTransform: {\r\n    orientation: [Math.PI * 0.11, 0, 0, 1]\r\n  }\r\n};\r\n\r\n// Applies to both left and right Oculus Touch controllers.\r\nlet oculusTouch = {\r\n  mapping: 'xr-standard',\r\n  displayProfiles: {\r\n    'Oculus Quest': ['oculus-touch-v2', 'oculus-touch', 'generic-trigger-squeeze-thumbstick']\r\n  },\r\n  profiles: ['oculus-touch', 'generic-trigger-squeeze-thumbstick'],\r\n  axes: {\r\n    length: 4,\r\n    0: null,\r\n    1: null,\r\n    2: 0,\r\n    3: 1\r\n  },\r\n  buttons: {\r\n    length: 7,\r\n    0: 1,\r\n    1: 2,\r\n    2: null,\r\n    3: 0,\r\n    4: 3,\r\n    5: 4,\r\n    6: null\r\n  },\r\n  // Grip adjustments determined experimentally.\r\n  gripTransform: {\r\n    position: [0, -0.02, 0.04, 1],\r\n    orientation: [Math.PI * 0.11, 0, 0, 1]\r\n  }\r\n};\r\n\r\nlet openVr = {\r\n  mapping: 'xr-standard',\r\n  profiles: ['htc-vive', 'generic-trigger-squeeze-touchpad'],\r\n  displayProfiles: {\r\n    'HTC Vive': ['htc-vive', 'generic-trigger-squeeze-touchpad'],\r\n    'HTC Vive DVT': ['htc-vive', 'generic-trigger-squeeze-touchpad'],\r\n    'Valve Index': ['valve-index', 'generic-trigger-squeeze-touchpad-thumbstick']\r\n  },\r\n  buttons: {\r\n    length: 3,\r\n    0: 1,\r\n    1: 2,\r\n    2: 0\r\n  },\r\n  // Transform adjustments determined experimentally.\r\n  gripTransform: {\r\n    position: [0, 0, 0.05, 1],\r\n  },\r\n  targetRayTransform: {\r\n    orientation: [Math.PI * -0.08, 0, 0, 1]\r\n  },\r\n  userAgentOverrides: {\r\n    \"Firefox\": {\r\n      axes: {\r\n        invert: [1, 3]\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nlet samsungGearVR = {\r\n  mapping: 'xr-standard',\r\n  profiles: ['samsung-gearvr', 'generic-trigger-touchpad'],\r\n  buttons: {\r\n    length: 3,\r\n    0: 1,\r\n    1: null,\r\n    2: 0\r\n  },\r\n  gripTransform: {\r\n    orientation: [Math.PI * 0.11, 0, 0, 1]\r\n  }\r\n};\r\n\r\nlet samsungOdyssey = {\r\n  mapping: 'xr-standard',\r\n  profiles: ['samsung-odyssey', 'microsoft-mixed-reality', 'generic-trigger-squeeze-touchpad-thumbstick'],\r\n  buttons: {\r\n    length: 4,\r\n    0: 1, // index finger trigger\r\n    1: 0, // pressable joystick\r\n    2: 2, // grip trigger\r\n    3: 4, // pressable touchpad\r\n  },\r\n  // Grip adjustments determined experimentally.\r\n  gripTransform: {\r\n    position: [0, -0.02, 0.04, 1],\r\n    orientation: [Math.PI * 0.11, 0, 0, 1]\r\n  }\r\n};\r\n\r\nlet windowsMixedReality = {\r\n  mapping: 'xr-standard',\r\n  profiles: ['microsoft-mixed-reality', 'generic-trigger-squeeze-touchpad-thumbstick'],\r\n  buttons: {\r\n    length: 4,\r\n    0: 1, // index finger trigger\r\n    1: 0, // pressable joystick\r\n    2: 2, // grip trigger\r\n    3: 4, // pressable touchpad\r\n  },\r\n  // Grip adjustments determined experimentally.\r\n  gripTransform: {\r\n    position: [0, -0.02, 0.04, 1],\r\n    orientation: [Math.PI * 0.11, 0, 0, 1]\r\n  }\r\n};\r\n\r\nlet GamepadMappings = {\r\n  'Daydream Controller': daydream,\r\n  'Gear VR Controller': samsungGearVR,\r\n  'HTC Vive Focus Controller': viveFocus,\r\n  'Oculus Go Controller': oculusGo,\r\n  'Oculus Touch (Right)': oculusTouch,\r\n  'Oculus Touch (Left)': oculusTouch,\r\n  'OpenVR Gamepad': openVr,\r\n  'Spatial Controller (Spatial Interaction Source) 045E-065A': windowsMixedReality,\r\n  'Spatial Controller (Spatial Interaction Source) 045E-065D': samsungOdyssey,\r\n  'Windows Mixed Reality (Right)': windowsMixedReality,\r\n  'Windows Mixed Reality (Left)': windowsMixedReality,\r\n};\r\n\r\nexport default GamepadMappings;\r\n", "/*\r\n * Copyright 2016 Google Inc. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *     http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nimport now from './now';\r\nimport * as mat4 from 'gl-matrix/src/gl-matrix/mat4';\r\nimport * as vec3 from 'gl-matrix/src/gl-matrix/vec3';\r\nimport * as quat from 'gl-matrix/src/gl-matrix/quat';\r\n\r\nconst HEAD_ELBOW_OFFSET_RIGHTHANDED = vec3.fromValues(0.155, -0.465, -0.15);\r\nconst HEAD_ELBOW_OFFSET_LEFTHANDED = vec3.fromValues(-0.155, -0.465, -0.15);\r\nconst ELBOW_WRIST_OFFSET = vec3.fromValues(0, 0, -0.25);\r\nconst WRIST_CONTROLLER_OFFSET = vec3.fromValues(0, 0, 0.05);\r\nconst ARM_EXTENSION_OFFSET = vec3.fromValues(-0.08, 0.14, 0.08);\r\n\r\nconst ELBOW_BEND_RATIO = 0.4; // 40% elbow, 60% wrist.\r\nconst EXTENSION_RATIO_WEIGHT = 0.4;\r\n\r\nconst MIN_ANGULAR_SPEED = 0.61; // 35 degrees per second (in radians).\r\nconst MIN_ANGLE_DELTA = 0.175; // 10 degrees (in radians).\r\n\r\nconst MIN_EXTENSION_COS = 0.12; // cos of 83 degrees.\r\nconst MAX_EXTENSION_COS = 0.87; // cos of 30 degrees.\r\n\r\nconst RAD_TO_DEG = 180 / Math.PI;\r\n\r\nfunction eulerFromQuaternion(out, q, order) {\r\n  function clamp(value, min, max) {\r\n    return (value < min ? min : (value > max ? max : value));\r\n  }\r\n  // Borrowed from Three.JS :)\r\n  // q is assumed to be normalized\r\n  // http://www.mathworks.com/matlabcentral/fileexchange/20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/content/SpinCalc.m\r\n  var sqx = q[0] * q[0];\r\n  var sqy = q[1] * q[1];\r\n  var sqz = q[2] * q[2];\r\n  var sqw = q[3] * q[3];\r\n\r\n  if ( order === 'XYZ' ) {\r\n    out[0] = Math.atan2( 2 * ( q[0] * q[3] - q[1] * q[2] ), ( sqw - sqx - sqy + sqz ) );\r\n    out[1] = Math.asin(  clamp( 2 * ( q[0] * q[2] + q[1] * q[3] ), -1, 1 ) );\r\n    out[2] = Math.atan2( 2 * ( q[2] * q[3] - q[0] * q[1] ), ( sqw + sqx - sqy - sqz ) );\r\n  } else if ( order ===  'YXZ' ) {\r\n    out[0] = Math.asin(  clamp( 2 * ( q[0] * q[3] - q[1] * q[2] ), -1, 1 ) );\r\n    out[1] = Math.atan2( 2 * ( q[0] * q[2] + q[1] * q[3] ), ( sqw - sqx - sqy + sqz ) );\r\n    out[2] = Math.atan2( 2 * ( q[0] * q[1] + q[2] * q[3] ), ( sqw - sqx + sqy - sqz ) );\r\n  } else if ( order === 'ZXY' ) {\r\n    out[0] = Math.asin(  clamp( 2 * ( q[0] * q[3] + q[1] * q[2] ), -1, 1 ) );\r\n    out[1] = Math.atan2( 2 * ( q[1] * q[3] - q[2] * q[0] ), ( sqw - sqx - sqy + sqz ) );\r\n    out[2] = Math.atan2( 2 * ( q[2] * q[3] - q[0] * q[1] ), ( sqw - sqx + sqy - sqz ) );\r\n  } else if ( order === 'ZYX' ) {\r\n    out[0] = Math.atan2( 2 * ( q[0] * q[3] + q[2] * q[1] ), ( sqw - sqx - sqy + sqz ) );\r\n    out[1] = Math.asin(  clamp( 2 * ( q[1] * q[3] - q[0] * q[2] ), -1, 1 ) );\r\n    out[2] = Math.atan2( 2 * ( q[0] * q[1] + q[2] * q[3] ), ( sqw + sqx - sqy - sqz ) );\r\n  } else if ( order === 'YZX' ) {\r\n    out[0] = Math.atan2( 2 * ( q[0] * q[3] - q[2] * q[1] ), ( sqw - sqx + sqy - sqz ) );\r\n    out[1] = Math.atan2( 2 * ( q[1] * q[3] - q[0] * q[2] ), ( sqw + sqx - sqy - sqz ) );\r\n    out[2] = Math.asin(  clamp( 2 * ( q[0] * q[1] + q[2] * q[3] ), -1, 1 ) );\r\n  } else if ( order === 'XZY' ) {\r\n    out[0] = Math.atan2( 2 * ( q[0] * q[3] + q[1] * q[2] ), ( sqw - sqx + sqy - sqz ) );\r\n    out[1] = Math.atan2( 2 * ( q[0] * q[2] + q[1] * q[3] ), ( sqw + sqx - sqy - sqz ) );\r\n    out[2] = Math.asin(  clamp( 2 * ( q[2] * q[3] - q[0] * q[1] ), -1, 1 ) );\r\n  } else {\r\n    console.log('No order given for quaternion to euler conversion.');\r\n    return;\r\n  }\r\n}\r\n\r\n/**\r\n * Represents the arm model for the Daydream controller. Feed it a camera and\r\n * the controller. Update it on a RAF.\r\n *\r\n * Get the model's pose using getPose().\r\n */\r\nexport default class OrientationArmModel {\r\n  constructor() {\r\n    this.hand = 'right';\r\n    this.headElbowOffset = HEAD_ELBOW_OFFSET_RIGHTHANDED;\r\n\r\n    // Current and previous controller orientations.\r\n    this.controllerQ = quat.create();\r\n    this.lastControllerQ = quat.create();\r\n\r\n    // Current and previous head orientations.\r\n    this.headQ = quat.create();\r\n\r\n    // Current head position.\r\n    this.headPos = vec3.create();\r\n\r\n    // Positions of other joints (mostly for debugging).\r\n    this.elbowPos = vec3.create();\r\n    this.wristPos = vec3.create();\r\n\r\n    // Current and previous times the model was updated.\r\n    this.time = null;\r\n    this.lastTime = null;\r\n\r\n    // Root rotation.\r\n    this.rootQ = quat.create();\r\n\r\n    // Current position that this arm model calculates.\r\n    this.position = vec3.create();\r\n  }\r\n\r\n  setHandedness(hand) {\r\n    if (this.hand != hand) {\r\n      this.hand = hand;\r\n      if (this.hand == 'left') {\r\n        this.headElbowOffset = HEAD_ELBOW_OFFSET_LEFTHANDED;\r\n      } else {\r\n        this.headElbowOffset = HEAD_ELBOW_OFFSET_RIGHTHANDED;\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Called on a RAF.\r\n   */\r\n  update(controllerOrientation, headPoseMatrix) {\r\n    this.time = now();\r\n\r\n    // Update the internal copies of the controller and head pose.\r\n    if (controllerOrientation) {\r\n      quat.copy(this.lastControllerQ, this.controllerQ);\r\n      quat.copy(this.controllerQ, controllerOrientation);\r\n    }\r\n\r\n    if (headPoseMatrix) {\r\n      mat4.getTranslation(this.headPos, headPoseMatrix);\r\n      mat4.getRotation(this.headQ, headPoseMatrix);\r\n    }\r\n\r\n    // If the controller's angular velocity is above a certain amount, we can\r\n    // assume torso rotation and move the elbow joint relative to the\r\n    // camera orientation.\r\n    let headYawQ = this.getHeadYawOrientation_();\r\n    let angleDelta = this.quatAngle_(this.lastControllerQ, this.controllerQ);\r\n    let timeDelta = (this.time - this.lastTime) / 1000;\r\n    let controllerAngularSpeed = angleDelta / timeDelta;\r\n    if (controllerAngularSpeed > MIN_ANGULAR_SPEED) {\r\n      // Attenuate the Root rotation slightly.\r\n      quat.slerp(this.rootQ, this.rootQ, headYawQ,\r\n                 Math.min(angleDelta / MIN_ANGLE_DELTA, 1.0));\r\n    } else {\r\n      quat.copy(this.rootQ, headYawQ);\r\n    }\r\n\r\n    // We want to move the elbow up and to the center as the user points the\r\n    // controller upwards, so that they can easily see the controller and its\r\n    // tool tips.\r\n    let controllerForward = vec3.fromValues(0, 0, -1.0);\r\n    vec3.transformQuat(controllerForward, controllerForward, this.controllerQ);\r\n    let controllerDotY = vec3.dot(controllerForward, [0, 1, 0]);\r\n    let extensionRatio = this.clamp_(\r\n        (controllerDotY - MIN_EXTENSION_COS) / MAX_EXTENSION_COS, 0.0, 1.0);\r\n\r\n    // Controller orientation in camera space.\r\n    let controllerCameraQ = quat.clone(this.rootQ);\r\n    quat.invert(controllerCameraQ, controllerCameraQ);\r\n    quat.multiply(controllerCameraQ, controllerCameraQ, this.controllerQ);\r\n\r\n\r\n    // Calculate elbow position.\r\n    let elbowPos = this.elbowPos;\r\n    vec3.copy(elbowPos, this.headPos);\r\n    vec3.add(elbowPos, elbowPos, this.headElbowOffset);\r\n    let elbowOffset = vec3.clone(ARM_EXTENSION_OFFSET);\r\n    vec3.scale(elbowOffset, elbowOffset, extensionRatio);\r\n    vec3.add(elbowPos, elbowPos, elbowOffset);\r\n\r\n    // Calculate joint angles. Generally 40% of rotation applied to elbow, 60%\r\n    // to wrist, but if controller is raised higher, more rotation comes from\r\n    // the wrist.\r\n    let totalAngle = this.quatAngle_(controllerCameraQ, quat.create());\r\n    let totalAngleDeg = totalAngle * RAD_TO_DEG;\r\n    let lerpSuppression = 1 - Math.pow(totalAngleDeg / 180, 4);sssss\r\n\r\n    let elbowRatio = ELBOW_BEND_RATIO;\r\n    let wristRatio = 1 - ELBOW_BEND_RATIO;\r\n    let lerpValue = lerpSuppression *\r\n        (elbowRatio + wristRatio * extensionRatio * EXTENSION_RATIO_WEIGHT);\r\n\r\n    let wristQ = quat.create();\r\n    quat.slerp(wristQ, wristQ, controllerCameraQ, lerpValue);\r\n    let invWristQ = quat.invert(quat.create(), wristQ);\r\n    let elbowQ = quat.clone(controllerCameraQ);\r\n    quat.multiply(elbowQ, elbowQ, invWristQ);\r\n\r\n    // Calculate our final controller position based on all our joint rotations\r\n    // and lengths.\r\n    /*\r\n    position_ =\r\n      root_rot_ * (\r\n        controller_root_offset_ +\r\n2:      (arm_extension_ * amt_extension) +\r\n1:      elbow_rot * (kControllerForearm + (wrist_rot * kControllerPosition))\r\n      );\r\n    */\r\n    let wristPos = this.wristPos;\r\n    vec3.copy(wristPos, WRIST_CONTROLLER_OFFSET);\r\n    vec3.transformQuat(wristPos, wristPos, wristQ);\r\n    vec3.add(wristPos, wristPos, ELBOW_WRIST_OFFSET);\r\n    vec3.transformQuat(wristPos, wristPos, elbowQ);\r\n    vec3.add(wristPos, wristPos, elbowPos);\r\n\r\n    let offset = vec3.clone(ARM_EXTENSION_OFFSET);\r\n    vec3.scale(offset, offset, extensionRatio);\r\n\r\n    // Set the resulting pose orientation and position.\r\n    vec3.add(this.position, this.wristPos, offset);\r\n    vec3.transformQuat(this.position, this.position, this.rootQ);\r\n\r\n    this.lastTime = this.time;\r\n  }\r\n\r\n  /**\r\n   * Returns the position calculated by the model.\r\n   */\r\n  getPosition() {\r\n    return this.position;\r\n  }\r\n\r\n  getHeadYawOrientation_() {\r\n    let headEuler = vec3.create();\r\n    eulerFromQuaternion(headEuler, this.headQ, 'YXZ');\r\n    let destinationQ = quat.fromEuler(quat.create(), 0, headEuler[1] * RAD_TO_DEG, 0);\r\n    return destinationQ;\r\n  }\r\n\r\n  clamp_(value, min, max) {\r\n    return Math.min(Math.max(value, min), max);\r\n  }\r\n\r\n  quatAngle_(q1, q2) {\r\n    let vec1 = [0, 0, -1];\r\n    let vec2 = [0, 0, -1];\r\n    vec3.transformQuat(vec1, vec1, q1);\r\n    vec3.transformQuat(vec2, vec2, q2);\r\n    return vec3.angle(vec1, vec2);\r\n  }\r\n}", "/*\r\n * Copyright 2018 Google Inc. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *     http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nimport GamepadMappings from './GamepadMappings';\r\nimport XRInputSource from '../api/XRInputSource';\r\nimport OrientationArmModel from '../lib/OrientationArmModel';\r\nimport * as mat4 from 'gl-matrix/src/gl-matrix/mat4';\r\nimport * as vec3 from 'gl-matrix/src/gl-matrix/vec3';\r\nimport * as quat from 'gl-matrix/src/gl-matrix/quat';\r\n\r\nexport const PRIVATE = Symbol('@@webxr-polyfill/XRRemappedGamepad');\r\n\r\nconst PLACEHOLDER_BUTTON = { pressed: false, touched: false, value: 0.0 };\r\nObject.freeze(PLACEHOLDER_BUTTON);\r\n\r\nclass XRRemappedGamepad {\r\n  constructor(gamepad, display, map) {\r\n    if (!map) {\r\n      map = {};\r\n    }\r\n\r\n    // Apply user-agent-specific overrides to the mapping when applicable.\r\n    if (map.userAgentOverrides) {\r\n      for (let agent in map.userAgentOverrides) {\r\n        if (navigator.userAgent.includes(agent)) {\r\n          let override = map.userAgentOverrides[agent];\r\n\r\n          for (let key in override) {\r\n            if (key in map) {\r\n              // If the key already exists, merge the override values into the\r\n              // existing dictionary.\r\n              Object.assign(map[key], override[key]);\r\n            } else {\r\n              // If the base mapping doesn't have this key, insert the override\r\n              // values wholesale.\r\n              map[key] = override[key];\r\n            }\r\n          }\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    let axes = new Array(map.axes && map.axes.length ? map.axes.length : gamepad.axes.length);\r\n    let buttons = new Array(map.buttons && map.buttons.length ? map.buttons.length : gamepad.buttons.length);\r\n\r\n    let gripTransform = null;\r\n    if (map.gripTransform) {\r\n      let orientation = map.gripTransform.orientation || [0, 0, 0, 1];\r\n      gripTransform = mat4.create();\r\n      mat4.fromRotationTranslation(\r\n        gripTransform,\r\n        quat.normalize(orientation, orientation),\r\n        map.gripTransform.position || [0, 0, 0]\r\n      );\r\n    }\r\n\r\n    let targetRayTransform = null;\r\n    if (map.targetRayTransform) {\r\n      let orientation =  map.targetRayTransform.orientation || [0, 0, 0, 1];\r\n      targetRayTransform = mat4.create();\r\n      mat4.fromRotationTranslation(\r\n        targetRayTransform,\r\n        quat.normalize(orientation, orientation),\r\n        map.targetRayTransform.position || [0, 0, 0]\r\n      );\r\n    }\r\n\r\n    let profiles = map.profiles;\r\n    if (map.displayProfiles) {\r\n      if (display.displayName in map.displayProfiles) {\r\n        profiles = map.displayProfiles[display.displayName];\r\n      }\r\n    }\r\n\r\n    this[PRIVATE] = {\r\n      gamepad,\r\n      map,\r\n      profiles: profiles || [gamepad.id],\r\n      mapping: map.mapping || gamepad.mapping,\r\n      axes,\r\n      buttons,\r\n      gripTransform,\r\n      targetRayTransform,\r\n    };\r\n\r\n    this._update();\r\n  }\r\n\r\n  _update() {\r\n    let gamepad = this[PRIVATE].gamepad;\r\n    let map = this[PRIVATE].map;\r\n\r\n    let axes = this[PRIVATE].axes;\r\n    for (let i = 0; i < axes.length; ++i) {\r\n      if (map.axes && i in map.axes) {\r\n        if (map.axes[i] === null) {\r\n          axes[i] = 0;\r\n        } else {\r\n          axes[i] = gamepad.axes[map.axes[i]];\r\n        }\r\n      } else {\r\n        axes[i] = gamepad.axes[i];\r\n      }\r\n    }\r\n\r\n    if (map.axes && map.axes.invert) {\r\n      for (let axis of map.axes.invert) {\r\n        if (axis < axes.length) {\r\n          axes[axis] *= -1;\r\n        }\r\n      }\r\n    }\r\n\r\n    let buttons = this[PRIVATE].buttons;\r\n    for (let i = 0; i < buttons.length; ++i) {\r\n      if (map.buttons && i in map.buttons) {\r\n        if (map.buttons[i] === null) {\r\n          buttons[i] = PLACEHOLDER_BUTTON;\r\n        } else {\r\n          buttons[i] = gamepad.buttons[map.buttons[i]];\r\n        }\r\n      } else {\r\n        buttons[i] = gamepad.buttons[i];\r\n      }\r\n    }\r\n  }\r\n\r\n  get id() {\r\n    return '';\r\n  }\r\n\r\n  get _profiles() {\r\n    return this[PRIVATE].profiles;\r\n  }\r\n\r\n  get index() {\r\n    return -1; \r\n  }\r\n\r\n  get connected() {\r\n    return this[PRIVATE].gamepad.connected;\r\n  }\r\n\r\n  get timestamp() {\r\n    return this[PRIVATE].gamepad.timestamp;\r\n  }\r\n\r\n  get mapping() {\r\n    return this[PRIVATE].mapping;\r\n  }\r\n\r\n  get axes() {\r\n    return this[PRIVATE].axes;\r\n  }\r\n\r\n  get buttons() {\r\n    return this[PRIVATE].buttons;\r\n  }\r\n\r\n  // Non-standard extension\r\n  get hapticActuators() {\r\n    return this[PRIVATE].gamepad.hapticActuators;\r\n  }\r\n}\r\n\r\nexport default class GamepadXRInputSource {\r\n  constructor(polyfill, display, primaryButtonIndex = 0, primarySqueezeButtonIndex = -1) {\r\n    this.polyfill = polyfill;\r\n    this.display = display;\r\n    this.nativeGamepad = null;\r\n    this.gamepad = null;\r\n    this.inputSource = new XRInputSource(this);\r\n    this.lastPosition = vec3.create();\r\n    this.emulatedPosition = false;\r\n    this.basePoseMatrix = mat4.create();\r\n    this.outputMatrix = mat4.create();\r\n    this.primaryButtonIndex = primaryButtonIndex;\r\n    this.primaryActionPressed = false;\r\n    this.primarySqueezeButtonIndex = primarySqueezeButtonIndex;\r\n    this.primarySqueezeActionPressed = false;\r\n    this.handedness = '';\r\n    this.targetRayMode = 'gaze';\r\n    this.armModel = null;\r\n  }\r\n\r\n  get profiles() {\r\n    return this.gamepad ? this.gamepad._profiles : [];\r\n  }\r\n\r\n  updateFromGamepad(gamepad) {\r\n    if (this.nativeGamepad !== gamepad) {\r\n      this.nativeGamepad = gamepad;\r\n      if (gamepad) {\r\n        this.gamepad = new XRRemappedGamepad(gamepad, this.display, GamepadMappings[gamepad.id]);\r\n      } else {\r\n        this.gamepad = null;\r\n      }\r\n    }\r\n    this.handedness = gamepad.hand === '' ? 'none' : gamepad.hand\r\n\r\n    if (this.gamepad) {\r\n      this.gamepad._update();\r\n    }\r\n\r\n    if (gamepad.pose) {\r\n      this.targetRayMode = 'tracked-pointer';\r\n      this.emulatedPosition = !gamepad.pose.hasPosition;\r\n    } else if (gamepad.hand === '') {\r\n      this.targetRayMode = 'gaze';\r\n      this.emulatedPosition = false;\r\n    }\r\n  }\r\n\r\n  updateBasePoseMatrix() {\r\n    if (this.nativeGamepad && this.nativeGamepad.pose) {\r\n      let pose = this.nativeGamepad.pose;\r\n      let position = pose.position;\r\n      let orientation = pose.orientation;\r\n      // On initialization, we might not have any values\r\n      if (!position && !orientation) {\r\n        return;\r\n      }\r\n      if (!position) {\r\n        if (!pose.hasPosition) {\r\n          if (!this.armModel) {\r\n            this.armModel = new OrientationArmModel();\r\n          }\r\n\r\n          this.armModel.setHandedness(this.nativeGamepad.hand);\r\n          this.armModel.update(orientation, this.polyfill.getBasePoseMatrix());\r\n          position = this.armModel.getPosition();\r\n        } else {\r\n          position = this.lastPosition;\r\n        }\r\n      } else {\r\n        // This is if we temporarily lose tracking, so the controller doesn't\r\n        // snap back to the origin.\r\n        this.lastPosition[0] = position[0];\r\n        this.lastPosition[1] = position[1];\r\n        this.lastPosition[2] = position[2];\r\n      }\r\n      mat4.fromRotationTranslation(this.basePoseMatrix, orientation, position);\r\n    } else {\r\n      mat4.copy(this.basePoseMatrix, this.polyfill.getBasePoseMatrix());\r\n    }\r\n    return this.basePoseMatrix;\r\n  }\r\n\r\n  /**\r\n   * @param {XRReferenceSpace} coordinateSystem\r\n   * @param {string} poseType\r\n   * @return {XRPose?}\r\n   */\r\n  getXRPose(coordinateSystem, poseType) {\r\n    this.updateBasePoseMatrix();\r\n\r\n    switch(poseType) {\r\n      case \"target-ray\":\r\n        coordinateSystem._transformBasePoseMatrix(this.outputMatrix, this.basePoseMatrix);\r\n        if (this.gamepad && this.gamepad[PRIVATE].targetRayTransform) {\r\n          mat4.multiply(this.outputMatrix, this.outputMatrix, this.gamepad[PRIVATE].targetRayTransform);\r\n        }\r\n        break;\r\n      case \"grip\":\r\n        if (!this.nativeGamepad || !this.nativeGamepad.pose) {\r\n          return null;\r\n        }\r\n        // TODO: Does the grip matrix need to be tweaked?\r\n        coordinateSystem._transformBasePoseMatrix(this.outputMatrix, this.basePoseMatrix);\r\n        if (this.gamepad && this.gamepad[PRIVATE].gripTransform) {\r\n          mat4.multiply(this.outputMatrix, this.outputMatrix, this.gamepad[PRIVATE].gripTransform);\r\n        }\r\n        break;\r\n      default:\r\n        return null;\r\n    }\r\n\r\n    coordinateSystem._adjustForOriginOffset(this.outputMatrix);\r\n\r\n    return new XRPose(new XRRigidTransform(this.outputMatrix), this.emulatedPosition);\r\n  }\r\n}\r\n", "/*\r\n * Copyright 2017 Google Inc. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *     http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nimport * as mat4 from 'gl-matrix/src/gl-matrix/mat4';\r\nimport XRDevice from './XRDevice';\r\nimport GamepadXRInputSource from './GamepadXRInputSource';\r\nimport {\r\n  isImageBitmapSupported,\r\n  applyCanvasStylesForMinimalRendering\r\n} from '../utils';\r\n\r\nconst PRIVATE = Symbol('@@webxr-polyfill/WebVRDevice');\r\nconst TEST_ENV = process.env.NODE_ENV === 'test';\r\n\r\nconst EXTRA_PRESENTATION_ATTRIBUTES = {\r\n  // Non-standard attribute to enable running at the native device refresh rate\r\n  // on the Oculus Go.\r\n  highRefreshRate: true,\r\n};\r\n\r\n// If a gamepad id string includes the name of the key from the map, the button\r\n// index given will be the one used as that controller's primary action button\r\n// rather than the default of button 0.\r\nconst PRIMARY_BUTTON_MAP = {\r\n  oculus: 1,\r\n  openvr: 1,\r\n  'spatial controller (spatial interaction source)': 1\r\n};\r\n\r\n/**\r\n * A Session helper class to mirror an XRSession and correlate\r\n * between an XRSession, and tracking sessions in a XRDevice.\r\n * Mostly referenced via `session.id` due to needing to verify\r\n * session creation is possible on the XRDevice before\r\n * the XRSession can be created.\r\n */\r\nlet SESSION_ID = 0;\r\nclass Session {\r\n  constructor(mode, enabledFeatures, polyfillOptions={}) {\r\n    this.mode = mode;\r\n    this.enabledFeatures = enabledFeatures;\r\n    this.outputContext = null;\r\n    this.immersive = mode == 'immersive-vr' || mode == 'immersive-ar';\r\n    this.ended = null;\r\n    this.baseLayer = null;\r\n    this.id = ++SESSION_ID;\r\n    // A flag indicating whether or not the canvas used for\r\n    // XRWebGLLayer was injected into the DOM to work around\r\n    // Firefox Desktop bug: https://bugzil.la/1435339\r\n    this.modifiedCanvasLayer = false;\r\n\r\n    // Since XRPresentationContext is created outside of the main API\r\n    // and does not expose the real 2d/bitmaprender context, manually fetch\r\n    // it and store it.\r\n    if (this.outputContext && !TEST_ENV) {\r\n      const renderContextType = polyfillOptions.renderContextType || '2d';\r\n      this.renderContext = this.outputContext.canvas.getContext(renderContextType);\r\n    }\r\n  }\r\n};\r\n\r\nexport default class WebVRDevice extends XRDevice {\r\n  /**\r\n   * Takes a VRDisplay instance and a VRFrameData\r\n   * constructor from the WebVR 1.1 spec.\r\n   *\r\n   * @param {VRDisplay} display\r\n   * @param {VRFrameData} VRFrameData\r\n   */\r\n  constructor(global, display) {\r\n    const { canPresent } = display.capabilities;\r\n    super(global);\r\n\r\n    this.display = display;\r\n    this.frame = new global.VRFrameData();\r\n    this.sessions = new Map();\r\n    this.immersiveSession = null;\r\n    this.canPresent = canPresent;\r\n    this.baseModelMatrix = mat4.create();\r\n    this.gamepadInputSources = {};\r\n    this.tempVec3 = new Float32Array(3);\r\n\r\n    this.onVRDisplayPresentChange = this.onVRDisplayPresentChange.bind(this);\r\n\r\n    global.window.addEventListener('vrdisplaypresentchange', this.onVRDisplayPresentChange);\r\n\r\n    this.CAN_USE_GAMEPAD = global.navigator && ('getGamepads' in global.navigator);\r\n    this.HAS_BITMAP_SUPPORT = isImageBitmapSupported(global);\r\n  }\r\n\r\n  /**\r\n   * @return {number}\r\n   */\r\n  get depthNear() { return this.display.depthNear; }\r\n\r\n  /**\r\n   * @param {number}\r\n   */\r\n  set depthNear(val) { this.display.depthNear = val; }\r\n\r\n  /**\r\n   * @return {number}\r\n   */\r\n  get depthFar() { return this.display.depthFar; }\r\n\r\n  /**\r\n   * @param {number}\r\n   */\r\n  set depthFar(val) { this.display.depthFar = val; }\r\n\r\n  /**\r\n   * Called when a XRSession has a `baseLayer` property set.\r\n   *\r\n   * @param {number} sessionId\r\n   * @param {XRWebGLLayer} layer\r\n   */\r\n  onBaseLayerSet(sessionId, layer) {\r\n    const session = this.sessions.get(sessionId);\r\n    const canvas = layer.context.canvas;\r\n\r\n    // If we're in an immersive session, replace the dummy layer on\r\n    // the 1.1 device.\r\n    if (session.immersive) {\r\n      // Wait for this to resolve before setting session.baseLayer,\r\n      // but we can still safely return this function synchronously\r\n      // We have to set the underlying canvas to the size\r\n      // requested by the 1.1 device.\r\n      const left = this.display.getEyeParameters('left');\r\n      const right = this.display.getEyeParameters('right');\r\n\r\n      // Generate height/width due to optics as per 1.1 spec\r\n      canvas.width = Math.max(left.renderWidth, right.renderWidth) * 2;\r\n      canvas.height = Math.max(left.renderHeight, right.renderHeight);\r\n      this.display.requestPresent([{\r\n          source: canvas, attributes: EXTRA_PRESENTATION_ATTRIBUTES\r\n        }]).then(() => {\r\n        // If canvas is not in the DOM, we must inject it anyway,\r\n        // due to a bug in Firefox Desktop, and ensure it is visible,\r\n        // so style it to be 1x1 in the upper left corner.\r\n        // https://bugzil.la/1435339\r\n        // Our test environment doesn't have the canvas package, skip\r\n        // in tests for now.\r\n        if (!TEST_ENV && !this.global.document.body.contains(canvas)) {\r\n          session.modifiedCanvasLayer = true;\r\n          this.global.document.body.appendChild(canvas);\r\n          applyCanvasStylesForMinimalRendering(canvas);\r\n        }\r\n        session.baseLayer = layer;\r\n      });\r\n    }\r\n    // If a non-immersive session that has an outputContext\r\n    // we only have a magic window.\r\n    else {\r\n      session.baseLayer = layer;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * If a 1.1 VRDisplay cannot present, it could be a 6DOF device\r\n   * that doesn't have its own way to present, but used in magic\r\n   * window mode. So in WebXR lingo, this cannot support an\r\n   * \"immersive\" session.\r\n   *\r\n   * @param {XRSessionMode} mode\r\n   * @return {boolean}\r\n   */\r\n  isSessionSupported(mode) {\r\n    // AR is not supported by the WebVRDevice\r\n    if (mode == 'immersive-ar') {\r\n      return false;\r\n    }\r\n    if (mode == 'immersive-vr' && this.canPresent === false) {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * @param {string} featureDescriptor\r\n   * @return {boolean}\r\n   */\r\n  isFeatureSupported(featureDescriptor) {\r\n    switch(featureDescriptor) {\r\n      case 'viewer': return true;\r\n      case 'local': return true;\r\n      case 'local-floor': return true;\r\n\r\n      // TODO: We *can* support 'bounded-floor' reference spaces with what WebVR\r\n      // gives us, but it'll take some additional work and may have tricky\r\n      // timing issues.\r\n      case 'bounded': return false;\r\n\r\n      // 'unbounded' is unlikely to ever be supported by the polyfill, since\r\n      // it's pretty much impossible to do correctly without native support.\r\n      case 'unbounded': return false;\r\n      default: return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Returns a promise of a session ID if creating a session is successful.\r\n   * Usually used to set up presentation in the device.\r\n   * We can't start presenting in a 1.1 device until we have a canvas\r\n   * layer, so use a dummy layer until `onBaseLayerSet` is called.\r\n   * May reject if session is not supported, or if an error is thrown\r\n   * when calling `requestPresent`.\r\n   *\r\n   * @param {XRSessionMode} mode\r\n   * @param {Set<string>} enabledFeatures\r\n   * @return {Promise<number>}\r\n   */\r\n  async requestSession(mode, enabledFeatures) {\r\n    if (!this.isSessionSupported(mode)) {\r\n      return Promise.reject();\r\n    }\r\n\r\n    let immersive = mode == 'immersive-vr';\r\n\r\n    // If we're going to present to device, immediately call `requestPresent`\r\n    // since this needs to be inside of a user gesture for Cardboard\r\n    // (requires a user gesture for `requestFullscreen`), as well as\r\n    // WebVR 1.1 requiring to be in a user gesture. Use a dummy canvas,\r\n    // until we get the real canvas to present via `onBaseLayerSet`.\r\n    if (immersive) {\r\n      const canvas = this.global.document.createElement('canvas');\r\n\r\n      // Our test environment doesn't have the canvas package, nor this\r\n      // restriction, so skip.\r\n      if (!TEST_ENV) {\r\n        // Create and discard a context to avoid\r\n        // \"DOMException: Layer source must have a WebGLRenderingContext\"\r\n        const ctx = canvas.getContext('webgl');\r\n      }\r\n      await this.display.requestPresent([{\r\n          source: canvas, attributes: EXTRA_PRESENTATION_ATTRIBUTES }]);\r\n    }\r\n\r\n    const session = new Session(mode, enabledFeatures, {\r\n      renderContextType: this.HAS_BITMAP_SUPPORT ? 'bitmaprenderer' : '2d'\r\n    });\r\n\r\n    this.sessions.set(session.id, session);\r\n\r\n    if (immersive) {\r\n      this.immersiveSession = session;\r\n      this.dispatchEvent('@@webxr-polyfill/vr-present-start', session.id);\r\n    }\r\n\r\n    return Promise.resolve(session.id);\r\n  }\r\n\r\n  /**\r\n   * @return {Function}\r\n   */\r\n  requestAnimationFrame(callback) {\r\n    return this.display.requestAnimationFrame(callback);\r\n  }\r\n\r\n  getPrimaryButtonIndex(gamepad) {\r\n    let primaryButton = 0;\r\n    let name = gamepad.id.toLowerCase();\r\n    for (let key in PRIMARY_BUTTON_MAP) {\r\n      if (name.includes(key)) {\r\n        primaryButton = PRIMARY_BUTTON_MAP[key];\r\n        break;\r\n      }\r\n    }\r\n    // Make sure the index is actually in the button range.\r\n    return Math.min(primaryButton, gamepad.buttons.length - 1);\r\n  }\r\n\r\n  onFrameStart(sessionId, renderState) {\r\n    this.display.depthNear = renderState.depthNear;\r\n    this.display.depthFar = renderState.depthFar\r\n\r\n    this.display.getFrameData(this.frame);\r\n\r\n    const session = this.sessions.get(sessionId);\r\n\r\n    if (session.immersive && this.CAN_USE_GAMEPAD) {\r\n      // Update inputs from gamepad data\r\n      let prevInputSources = this.gamepadInputSources;\r\n      this.gamepadInputSources = {};\r\n      let gamepads = this.global.navigator.getGamepads();\r\n      for (let i = 0; i < gamepads.length; ++i) {\r\n        let gamepad = gamepads[i];\r\n        // Supposedly the gamepad's displayId should match the VRDisplay's id,\r\n        // but in practice anything with a non-zero displayId is an XR\r\n        // controller, which is almost certainly associated with any VRDisplay\r\n        // we were able to get.\r\n        if (gamepad && gamepad.displayId > 0) {\r\n          // Found a gamepad input source for this index.\r\n          let inputSourceImpl = prevInputSources[i];\r\n          if (!inputSourceImpl) {\r\n            inputSourceImpl = new GamepadXRInputSource(this, this.display, this.getPrimaryButtonIndex(gamepad));\r\n          }\r\n          inputSourceImpl.updateFromGamepad(gamepad);\r\n          this.gamepadInputSources[i] = inputSourceImpl;\r\n\r\n          // Process the primary action for the controller\r\n          if (inputSourceImpl.primaryButtonIndex != -1) {\r\n            let primaryActionPressed = gamepad.buttons[inputSourceImpl.primaryButtonIndex].pressed;\r\n            if (primaryActionPressed && !inputSourceImpl.primaryActionPressed) {\r\n              this.dispatchEvent('@@webxr-polyfill/input-select-start', { sessionId: session.id, inputSource: inputSourceImpl.inputSource });\r\n            } else if (!primaryActionPressed && inputSourceImpl.primaryActionPressed) {\r\n              // This will also fire a select event\r\n              this.dispatchEvent('@@webxr-polyfill/input-select-end', { sessionId: session.id, inputSource: inputSourceImpl.inputSource });\r\n            }\r\n            inputSourceImpl.primaryActionPressed = primaryActionPressed;\r\n          }\r\n          if (inputSourceImpl.primarySqueezeButtonIndex != -1) {\r\n            let primarySqueezeActionPressed = gamepad.buttons[inputSourceImpl.primarySqueezeButtonIndex].pressed;\r\n            if (primarySqueezeActionPressed && !inputSourceImpl.primarySqueezeActionPressed) {\r\n              this.dispatchEvent('@@webxr-polyfill/input-squeeze-start', { sessionId: session.id, inputSource: inputSourceImpl.inputSource });\r\n            } else if (!primarySqueezeActionPressed && inputSourceImpl.primarySqueezeActionPressed) {\r\n              // This will also fire a select event\r\n              this.dispatchEvent('@@webxr-polyfill/input-squeeze-end', { sessionId: session.id, inputSource: inputSourceImpl.inputSource });\r\n            }\r\n            inputSourceImpl.primarySqueezeActionPressed = primarySqueezeActionPressed;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    // @TODO Our test environment doesn't have the canvas package for now,\r\n    // but this could be something we add to the tests.\r\n    if (TEST_ENV) {\r\n      return;\r\n    }\r\n\r\n    // If the session is inline make sure the projection matrix matches the \r\n    // aspect ratio of the underlying WebGL canvas.\r\n    if (!session.immersive && session.baseLayer) {\r\n      const canvas = session.baseLayer.context.canvas;\r\n      // Update the projection matrix.\r\n      mat4.perspective(this.frame.leftProjectionMatrix, renderState.inlineVerticalFieldOfView,\r\n          canvas.width/canvas.height, renderState.depthNear, renderState.depthFar);\r\n    }\r\n  }\r\n\r\n  onFrameEnd(sessionId) {\r\n    const session = this.sessions.get(sessionId);\r\n\r\n    // Discard if this session is already ended, or if it does\r\n    // not yet have a baseLayer.\r\n    if (session.ended || !session.baseLayer) {\r\n      return;\r\n    }\r\n\r\n    // If session is has an outputContext, whether magic window\r\n    // or mirroring (session.immersive === true), copy the baseLayer\r\n    // pixels to the XRPresentationContext\r\n    // However, abort if this a mirrored context, and our VRDisplay\r\n    // does not have an external display; this kills performance rather\r\n    // quickly on mobile for a canvas that's not seen.\r\n    if (session.outputContext &&\r\n        !(session.immersive && !this.display.capabilities.hasExternalDisplay)) {\r\n      const mirroring =\r\n        session.immersive && this.display.capabilities.hasExternalDisplay;\r\n\r\n      const iCanvas = session.baseLayer.context.canvas;\r\n      const iWidth = mirroring ? iCanvas.width / 2 : iCanvas.width;\r\n      const iHeight = iCanvas.height;\r\n\r\n      // @TODO Our test environment doesn't have the canvas package for now,\r\n      // but this could be something we add to the tests.\r\n      if (!TEST_ENV) {\r\n        const oCanvas = session.outputContext.canvas;\r\n        const oWidth = oCanvas.width;\r\n        const oHeight = oCanvas.height;\r\n\r\n        // The real underlying RenderContext that will display content\r\n        // for the polyfilled XRPresentationContext\r\n        const renderContext = session.renderContext;\r\n\r\n        // If we're using an ImageBitmapRenderingContext as our XRPresentationContext\r\n        if (this.HAS_BITMAP_SUPPORT) {\r\n          // If the developer is using an OffscreenCanvas, and ImageBitmapRenderingContext\r\n          // is supported, transfer the bitmap directly.\r\n          if (iCanvas.transferToImageBitmap) {\r\n            renderContext.transferFromImageBitmap(iCanvas.transferToImageBitmap());\r\n          }\r\n          // Otherwise we're using an HTMLCanvasElement, so we async generate\r\n          // a bitmap and then transfer the bitmap directly.\r\n          // @TODO does this technique result in always being a frame behind?\r\n          else {\r\n            this.global.createImageBitmap(iCanvas, 0, 0, iWidth, iHeight, {\r\n              resizeWidth: oWidth,\r\n              resizeHeight: oHeight,\r\n            }).then(bitmap => renderContext.transferFromImageBitmap(bitmap));\r\n          }\r\n        } else {\r\n\r\n          // We want to render only half of the layer context (left eye)\r\n          // proportional to the size of the outputContext canvas.\r\n          // ctx.drawImage(image, sx, sy, sWidth, sHeight, dx, dy, dWidth, dHeight);\r\n          renderContext.drawImage(iCanvas, 0, 0, iWidth, iHeight,\r\n                                           0, 0, oWidth, oHeight);\r\n        }\r\n      }\r\n    }\r\n\r\n    // Only submit frame if we're presenting an immersive session.\r\n    // on a session will start presenting in 1.1 but we still have\r\n    // to set up the width/height correctly and wait for `baseLayer` to\r\n    // be set.\r\n    if (session.immersive && session.baseLayer) {\r\n      this.display.submitFrame();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param {number} handle\r\n   */\r\n  cancelAnimationFrame(handle) {\r\n    this.display.cancelAnimationFrame(handle);\r\n  }\r\n\r\n  /**\r\n   * @TODO Spec\r\n   */\r\n  async endSession(sessionId) {\r\n    const session = this.sessions.get(sessionId);\r\n\r\n    if (session.ended) {\r\n      return;\r\n    }\r\n\r\n    // If this is an immersive session, end presenting;\r\n    // the vrdisplaypresentchange event will flip the `ended` bit.\r\n    if (session.immersive) {\r\n      return this.display.exitPresent();\r\n    } else {\r\n      session.ended = true;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param {number} sessionId\r\n   * @param {XRReferenceSpaceType} type\r\n   * @return {boolean}\r\n   */\r\n  doesSessionSupportReferenceSpace(sessionId, type) {\r\n    const session = this.sessions.get(sessionId);\r\n    if (session.ended) {\r\n      return false;\r\n    }\r\n\r\n    return session.enabledFeatures.has(type);\r\n  }\r\n\r\n  /**\r\n   * If the VRDisplay has stage parameters, convert them\r\n   * to an array of X, Z pairings.\r\n   *\r\n   * @return {Object?}\r\n   */\r\n  requestStageBounds() {\r\n    if (this.display.stageParameters) {\r\n      const width = this.display.stageParameters.sizeX;\r\n      const depth = this.display.stageParameters.sizeZ;\r\n      const data = [];\r\n\r\n      data.push(-width / 2); // X\r\n      data.push(-depth / 2); // Z\r\n      data.push(width / 2); // X\r\n      data.push(-depth / 2); // Z\r\n      data.push(width / 2); // X\r\n      data.push(depth / 2); // Z\r\n      data.push(-width / 2); // X\r\n      data.push(depth / 2); // Z\r\n\r\n      return data;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * Returns a promise resolving to a transform if XRDevice\r\n   * can support frame of reference and provides its own values.\r\n   * Can resolve to `undefined` if the polyfilled API can provide\r\n   * a default. Rejects if this XRDevice cannot\r\n   * support the frame of reference.\r\n   *\r\n   * @param {XRFrameOfReferenceType} type\r\n   * @param {XRFrameOfReferenceOptions} options\r\n   * @return {Promise<float32rray>}\r\n   */\r\n  async requestFrameOfReferenceTransform(type, options) {\r\n    if ((type === 'local-floor' || type === 'bounded-floor') &&\r\n        this.display.stageParameters &&\r\n        this.display.stageParameters.sittingToStandingTransform) {\r\n      return this.display.stageParameters.sittingToStandingTransform;\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * @param {XREye} eye\r\n   * @return {Float32Array}\r\n   */\r\n  getProjectionMatrix(eye) {\r\n    if (eye === 'left') {\r\n      return this.frame.leftProjectionMatrix;\r\n    } else if (eye === 'right') {\r\n      return this.frame.rightProjectionMatrix;\r\n    } else if (eye === 'none') {\r\n      return this.frame.leftProjectionMatrix;\r\n    } else {\r\n      throw new Error(`eye must be of type 'left' or 'right'`);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Takes a XREye and a target to apply properties of\r\n   * `x`, `y`, `width` and `height` on. Returns a boolean\r\n   * indicating if it successfully was able to populate\r\n   * target's values.\r\n   *\r\n   * @param {number} sessionId\r\n   * @param {XREye} eye\r\n   * @param {XRWebGLLayer} layer\r\n   * @param {Object?} target\r\n   * @return {boolean}\r\n   */\r\n  getViewport(sessionId, eye, layer, target) {\r\n    // @TODO can we have another layer passed in that\r\n    // wasn't the same one as the `baseLayer`?\r\n\r\n    const session = this.sessions.get(sessionId);\r\n    const { width, height } = layer.context.canvas;\r\n\r\n    // If this is a non-immersive session, return the\r\n    // whole canvas as the viewport\r\n    if (!session.immersive) {\r\n      target.x = target.y = 0;\r\n      target.width = width;\r\n      target.height = height;\r\n      return true;\r\n    }\r\n\r\n    // WebGL 1.1 viewports are just\r\n    if (eye === 'left' || eye === 'none') {\r\n      target.x = 0;\r\n    } else if (eye === 'right') {\r\n      target.x = width / 2;\r\n    } else {\r\n      return false;\r\n    }\r\n\r\n    target.y = 0;\r\n    target.width = width / 2;\r\n    target.height = height;\r\n\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * Get model matrix unaffected by frame of reference.\r\n   *\r\n   * @return {Float32Array}\r\n   */\r\n  getBasePoseMatrix() {\r\n    let { position, orientation } = this.frame.pose;\r\n    // On initialization, we might not have any values\r\n    if (!position && !orientation) {\r\n      return this.baseModelMatrix;\r\n    }\r\n    if (!position) {\r\n      position = this.tempVec3;\r\n      position[0] = position[1] = position[2] = 0;\r\n    }\r\n    mat4.fromRotationTranslation(this.baseModelMatrix, orientation, position);\r\n    return this.baseModelMatrix;\r\n  }\r\n\r\n  /**\r\n   * Get view matrix unaffected by frame of reference.\r\n   *\r\n   * @param {XREye} eye\r\n   * @return {Float32Array}\r\n   */\r\n  getBaseViewMatrix(eye) {\r\n    if (eye === 'left' || eye === 'none') {\r\n      return this.frame.leftViewMatrix;\r\n    } else if (eye === 'right') {\r\n      return this.frame.rightViewMatrix;\r\n    } else {\r\n      throw new Error(`eye must be of type 'left' or 'right'`);\r\n    }\r\n  }\r\n\r\n  getInputSources() {\r\n    let inputSources = [];\r\n    for (let i in this.gamepadInputSources) {\r\n      inputSources.push(this.gamepadInputSources[i].inputSource);\r\n    }\r\n    return inputSources;\r\n  }\r\n\r\n  getInputPose(inputSource, coordinateSystem, poseType) {\r\n    if (!coordinateSystem) {\r\n      return null;\r\n    }\r\n\r\n    for (let i in this.gamepadInputSources) {\r\n      let inputSourceImpl = this.gamepadInputSources[i];\r\n      if (inputSourceImpl.inputSource === inputSource) {\r\n        return inputSourceImpl.getXRPose(coordinateSystem, poseType);\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * Triggered on window resize.\r\n   *\r\n   */\r\n  onWindowResize() {\r\n  }\r\n\r\n  /**\r\n   * Listens to the Native 1.1 `window.addEventListener('vrdisplaypresentchange')`\r\n   * event.\r\n   *\r\n   * @param {Event} event\r\n   */\r\n  onVRDisplayPresentChange(e) {\r\n    if (!this.display.isPresenting) {\r\n      this.sessions.forEach(session => {\r\n        if (session.immersive && !session.ended) {\r\n          // If we injected and modified the canvas layer\r\n          // due to https://bugzil.la/1435339, then remove it from the DOM\r\n          // and remove styles.\r\n          if (session.modifiedCanvasLayer) {\r\n            const canvas = session.baseLayer.context.canvas;\r\n            document.body.removeChild(canvas);\r\n            canvas.setAttribute('style', '');\r\n          }\r\n          if (this.immersiveSession === session) {\r\n            this.immersiveSession = null;\r\n          }\r\n          this.dispatchEvent('@@webxr-polyfill/vr-present-end', session.id);\r\n        }\r\n      });\r\n    }\r\n  }\r\n}\r\n", "/*\r\n * Copyright 2017 Google Inc. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *     http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nimport CardboardVRDisplay from 'cardboard-vr-display';\r\nimport WebVRDevice from './WebVRDevice';\r\n\r\nexport default class CardboardXRDevice extends WebVRDevice {\r\n  /**\r\n   * Takes a VRDisplay instance and a VRFrameData\r\n   * constructor from the WebVR 1.1 spec.\r\n   *\r\n   * @param {VRDisplay} display\r\n   * @param {Object?} cardboardConfig\r\n   */\r\n  constructor(global, cardboardConfig) {\r\n    const display = new CardboardVRDisplay(cardboardConfig || {});\r\n    super(global, display);\r\n\r\n    this.display = display;\r\n    this.frame = {\r\n      rightViewMatrix: new Float32Array(16),\r\n      leftViewMatrix: new Float32Array(16),\r\n      rightProjectionMatrix: new Float32Array(16),\r\n      leftProjectionMatrix: new Float32Array(16),\r\n      pose: null,\r\n      timestamp: null,\r\n    };\r\n  }\r\n}\r\n", "/*\r\n * Copyright 2019 Google Inc. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *     http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nimport * as mat4 from 'gl-matrix/src/gl-matrix/mat4';\r\nimport XRDevice from './XRDevice';\r\n\r\nconst TEST_ENV = process.env.NODE_ENV === 'test';\r\n\r\n/**\r\n * A Session helper class to mirror an XRSession and correlate\r\n * between an XRSession, and tracking sessions in a XRDevice.\r\n * Mostly referenced via `session.id` due to needing to verify\r\n * session creation is possible on the XRDevice before\r\n * the XRSession can be created.\r\n */\r\nlet SESSION_ID = 0;\r\nclass Session {\r\n  constructor(mode, enabledFeatures) {\r\n    this.mode = mode;\r\n    this.enabledFeatures = enabledFeatures;\r\n    this.ended = null;\r\n    this.baseLayer = null;\r\n    this.id = ++SESSION_ID;\r\n  }\r\n};\r\n\r\n/**\r\n * An XRDevice which only supports sensorless inline sessions, used as a\r\n * fallback when no other type of XRDevice is available as a way to satisfy the\r\n * spec requirement that inline sessions are always supported.\r\n */\r\nexport default class InlineDevice extends XRDevice {\r\n  /**\r\n   * Constructs an inline-only XRDevice\r\n   */\r\n  constructor(global) {\r\n    super(global);\r\n\r\n    this.sessions = new Map();\r\n    this.projectionMatrix = mat4.create();\r\n    this.identityMatrix = mat4.create();\r\n  }\r\n\r\n  /**\r\n   * Called when a XRSession has a `baseLayer` property set.\r\n   *\r\n   * @param {number} sessionId\r\n   * @param {XRWebGLLayer} layer\r\n   */\r\n  onBaseLayerSet(sessionId, layer) {\r\n    const session = this.sessions.get(sessionId);\r\n    session.baseLayer = layer;\r\n  }\r\n\r\n  /**\r\n   * Returns true if the requested mode is inline\r\n   *\r\n   * @param {XRSessionMode} mode\r\n   * @return {boolean}\r\n   */\r\n  isSessionSupported(mode) {\r\n    return mode == 'inline';\r\n  }\r\n\r\n  /**\r\n   * @param {string} featureDescriptor\r\n   * @return {boolean}\r\n   */\r\n  isFeatureSupported(featureDescriptor) {\r\n    switch(featureDescriptor) {\r\n      // Only viewer reference spaces are supported\r\n      case 'viewer': return true;\r\n      default: return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Returns a promise of a session ID if creating a session is successful.\r\n   *\r\n   * @param {XRSessionMode} mode\r\n   * @param {Set<string>} enabledFeatures\r\n   * @return {Promise<number>}\r\n   */\r\n  async requestSession(mode, enabledFeatures) {\r\n    if (!this.isSessionSupported(mode)) {\r\n      return Promise.reject();\r\n    }\r\n\r\n    const session = new Session(mode, enabledFeatures);\r\n\r\n    this.sessions.set(session.id, session);\r\n\r\n    return Promise.resolve(session.id);\r\n  }\r\n\r\n  /**\r\n   * @return {Function}\r\n   */\r\n  requestAnimationFrame(callback) {\r\n    return window.requestAnimationFrame(callback);\r\n  }\r\n\r\n  /**\r\n   * @param {number} handle\r\n   */\r\n  cancelAnimationFrame(handle) {\r\n    window.cancelAnimationFrame(handle);\r\n  }\r\n\r\n  onFrameStart(sessionId, renderState) {\r\n    // @TODO Our test environment doesn't have the canvas package for now,\r\n    // but this could be something we add to the tests.\r\n    if (TEST_ENV) {\r\n      return;\r\n    }\r\n\r\n    const session = this.sessions.get(sessionId);\r\n\r\n    // If the session is inline make sure the projection matrix matches the \r\n    // aspect ratio of the underlying WebGL canvas.\r\n    if (session.baseLayer) {\r\n      const canvas = session.baseLayer.context.canvas;\r\n      // Update the projection matrix.\r\n      mat4.perspective(this.projectionMatrix, renderState.inlineVerticalFieldOfView,\r\n          canvas.width/canvas.height, renderState.depthNear, renderState.depthFar);\r\n    }\r\n  }\r\n\r\n  onFrameEnd(sessionId) {\r\n    // Nothing to do here because inline always renders to the canvas backbuffer\r\n    // directly.\r\n  }\r\n\r\n  /**\r\n   * @TODO Spec\r\n   */\r\n  async endSession(sessionId) {\r\n    const session = this.sessions.get(sessionId);\r\n    session.ended = true;\r\n  }\r\n\r\n  /**\r\n   * @param {number} sessionId\r\n   * @param {XRReferenceSpaceType} type\r\n   * @return {boolean}\r\n   */\r\n  doesSessionSupportReferenceSpace(sessionId, type) {\r\n    const session = this.sessions.get(sessionId);\r\n    if (session.ended) {\r\n      return false;\r\n    }\r\n\r\n    return session.enabledFeatures.has(type);\r\n  }\r\n\r\n  /**\r\n   * Inline sessions don't have stage bounds\r\n   *\r\n   * @return {Object?}\r\n   */\r\n  requestStageBounds() {\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * Inline sessions don't have multiple frames of reference\r\n   *\r\n   * @param {XRFrameOfReferenceType} type\r\n   * @param {XRFrameOfReferenceOptions} options\r\n   * @return {Promise<Float32Array>}\r\n   */\r\n  async requestFrameOfReferenceTransform(type, options) {\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * @param {XREye} eye\r\n   * @return {Float32Array}\r\n   */\r\n  getProjectionMatrix(eye) {\r\n    return this.projectionMatrix;\r\n  }\r\n\r\n  /**\r\n   * Takes a XREye and a target to apply properties of\r\n   * `x`, `y`, `width` and `height` on. Returns a boolean\r\n   * indicating if it successfully was able to populate\r\n   * target's values.\r\n   *\r\n   * @param {number} sessionId\r\n   * @param {XREye} eye\r\n   * @param {XRWebGLLayer} layer\r\n   * @param {Object?} target\r\n   * @return {boolean}\r\n   */\r\n  getViewport(sessionId, eye, layer, target) {\r\n    // @TODO can we have another layer passed in that\r\n    // wasn't the same one as the `baseLayer`?\r\n\r\n    const session = this.sessions.get(sessionId);\r\n    const { width, height } = layer.context.canvas;\r\n\r\n    // Inline sessions return the whole canvas as the viewport\r\n    target.x = target.y = 0;\r\n    target.width = width;\r\n    target.height = height;\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * Get model matrix unaffected by frame of reference.\r\n   *\r\n   * @return {Float32Array}\r\n   */\r\n  getBasePoseMatrix() {\r\n    return this.identityMatrix;\r\n  }\r\n\r\n  /**\r\n   * Get view matrix unaffected by frame of reference.\r\n   *\r\n   * @param {XREye} eye\r\n   * @return {Float32Array}\r\n   */\r\n  getBaseViewMatrix(eye) {\r\n    return this.identityMatrix;\r\n  }\r\n\r\n  /**\r\n   * No persistent input sources for the inline session\r\n   */\r\n  getInputSources() {\r\n    return [];\r\n  }\r\n\r\n  getInputPose(inputSource, coordinateSystem, poseType) {\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * Triggered on window resize.\r\n   */\r\n  onWindowResize() {\r\n  }\r\n}\r\n", "/*\r\n * Copyright 2017 Google Inc. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *     http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nimport CardboardXRDevice from './devices/CardboardXRDevice';\r\nimport InlineDevice from './devices/InlineDevice';\r\nimport WebVRDevice from './devices/WebVRDevice';\r\n\r\nimport { isMobile } from './utils';\r\n\r\n/**\r\n * Queries browser to see if any VRDisplay exists.\r\n * Resolves to a polyfilled XRDevice or null.\r\n */\r\nconst getWebVRDevice = async function (global) {\r\n  let device = null;\r\n  if ('getVRDisplays' in global.navigator) {\r\n    try {\r\n      const displays = await global.navigator.getVRDisplays();\r\n      if (displays && displays.length) {\r\n        device = new WebVRDevice(global, displays[0]);\r\n      }\r\n    } catch (e) {}\r\n  }\r\n\r\n  return device;\r\n};\r\n\r\n/**\r\n * Return an XRDevice interface based off of configuration\r\n * and platform.\r\n *\r\n * @param {Object} global\r\n * @param {Object} config\r\n * @return {Promise<XRDevice?>}\r\n */\r\nexport const requestXRDevice = async function (global, config) {\r\n  // Check for a 1.1 VRDisplay.\r\n  if (config.webvr) {\r\n    let xr = await getWebVRDevice(global);\r\n    if (xr) {\r\n      return xr;\r\n    }\r\n  }\r\n\r\n  // If no WebVR devices are present, check to see if a Cardboard device is\r\n  // allowed and if so return that.\r\n  // TODO: This probably requires more changes to allow creating an\r\n  // immersive session in a headset that gets connected later.\r\n  let mobile = isMobile(global);\r\n  if ((mobile && config.cardboard) ||\r\n      (!mobile && config.allowCardboardOnDesktop)) {\r\n    // If we're on Cardboard, make sure that VRFrameData is a global\r\n    if (!global.VRFrameData) {\r\n      global.VRFrameData = function () {\r\n        this.rightViewMatrix = new Float32Array(16);\r\n        this.leftViewMatrix = new Float32Array(16);\r\n        this.rightProjectionMatrix = new Float32Array(16);\r\n        this.leftProjectionMatrix = new Float32Array(16);\r\n        this.pose = null;\r\n      };\r\n    }\r\n\r\n    return new CardboardXRDevice(global, config.cardboardConfig);\r\n  }\r\n\r\n  // Inline sessions are always allowed, so if no other device is available\r\n  // create one that only supports sensorless inline sessions.\r\n  return new InlineDevice(global);\r\n}\r\n", "/*\r\n * Copyright 2017 Google Inc. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *     http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nimport GLOBAL from './lib/global';\r\nimport API from './api/index';\r\nimport {\r\n  polyfillMakeXRCompatible,\r\n  polyfillGetContext\r\n} from './polyfill-globals';\r\nimport { isImageBitmapSupported, isMobile } from './utils';\r\nimport { requestXRDevice } from './devices';\r\n\r\nconst CONFIG_DEFAULTS = {\r\n  // The default global to use for needed APIs.\r\n  global: GLOBAL,\r\n  // Whether support for a browser implementing WebVR 1.1 is enabled.\r\n  // If enabled, XR support is powered by native WebVR 1.1 VRDisplays,\r\n  // exposed as XRDevices.\r\n  webvr: true,\r\n  // Whether a CardboardXRDevice should be discoverable if on\r\n  // a mobile device, and no other native (1.1 VRDisplay if `webvr` on,\r\n  // or XRDevice) found.\r\n  cardboard: true,\r\n  // The configuration to be used for CardboardVRDisplay when used.\r\n  // Has no effect if `cardboard: false` or another XRDevice is used.\r\n  // Configuration can be found: https://github.com/immersive-web/cardboard-vr-display/blob/master/src/options.js\r\n  cardboardConfig: null,\r\n  // Whether a CardboardXRDevice should be created if no WebXR API found\r\n  // on desktop or not. Stereoscopic rendering with a gyro often does not make sense on desktop, and probably only useful for debugging.\r\n  allowCardboardOnDesktop: false,\r\n};\r\n\r\nconst partials = ['navigator', 'HTMLCanvasElement', 'WebGLRenderingContext'];\r\n\r\nexport default class WebXRPolyfill {\r\n  /**\r\n   * @param {object?} config\r\n   */\r\n  constructor(config={}) {\r\n    this.config = Object.freeze(Object.assign({}, CONFIG_DEFAULTS, config));\r\n    this.global = this.config.global;\r\n    this.nativeWebXR = 'xr' in this.global.navigator;\r\n    this.injected = false;\r\n\r\n    // If no native WebXR implementation found, inject one\r\n    if (true || !this.nativeWebXR) {\r\n      this._injectPolyfill(this.global);\r\n    } else {\r\n      this._injectCompatibilityShims(this.global);\r\n    }\r\n  }\r\n\r\n  _injectPolyfill(global) {\r\n    if (!partials.every(iface => !!global[iface])) {\r\n      throw new Error(`Global must have the following attributes : ${partials}`);\r\n    }\r\n\r\n    // Apply classes as globals\r\n    for (const className of Object.keys(API)) {\r\n      if (global[className] !== undefined) {\r\n        console.warn(`${className} already defined on global.`);\r\n      } else {\r\n        global[className] = API[className];\r\n      }\r\n    }\r\n\r\n    // Test environment does not have rendering contexts\r\n    if (process.env.NODE_ENV !== 'test') {\r\n      // Attempts to polyfill WebGLRenderingContext's `makeXRCompatible`\r\n      // if it does not exist.\r\n      const polyfilledCtx = polyfillMakeXRCompatible(global.WebGLRenderingContext);\r\n\r\n      // If we polyfilled `makeXRCompatible`, also polyfill the context creation\r\n      // parameter `{ xrCompatible }`.\r\n      if (polyfilledCtx) {\r\n        polyfillGetContext(global.HTMLCanvasElement);\r\n\r\n        // If OffscreenCanvas is available, patch its `getContext` method as well\r\n        // for the compatible XRDevice bit.\r\n        if (global.OffscreenCanvas) {\r\n          polyfillGetContext(global.OffscreenCanvas);\r\n        }\r\n\r\n        // If we needed to polyfill WebGLRenderingContext, do the same\r\n        // for WebGL2 contexts if it exists.\r\n        if (global.WebGL2RenderingContext){\r\n          polyfillMakeXRCompatible(global.WebGL2RenderingContext);\r\n        }\r\n\r\n        if (!window.isSecureContext) {\r\n          console.warn(`WebXR Polyfill Warning:\r\nThis page is not running in a secure context (https:// or localhost)!\r\nThis means that although the page may be able to use the WebXR Polyfill it will\r\nnot be able to use native WebXR implementations, and as such will not be able to\r\naccess dedicated VR or AR hardware, and will not be able to take advantage of\r\nany performance improvements a native WebXR implementation may offer. Please\r\nhost this content on a secure origin for the best user experience.\r\n`);\r\n        }\r\n      }\r\n    }\r\n\r\n    this.injected = true;\r\n\r\n    this._patchNavigatorXR();\r\n  }\r\n\r\n  _patchNavigatorXR() {\r\n    // Request a polyfilled XRDevice.\r\n    let devicePromise = requestXRDevice(this.global, this.config);\r\n\r\n    // Create `navigator.xr` instance populated with the XRDevice promise\r\n    // requested above. The promise resolve will be monitored by the XR object.\r\n    this.xr = new API.XRSystem(devicePromise);\r\n    Object.defineProperty(this.global.navigator, 'xr', {\r\n      value: this.xr,\r\n      configurable: true,\r\n    });\r\n  }\r\n\r\n  _injectCompatibilityShims(global) {\r\n    if (!partials.every(iface => !!global[iface])) {\r\n      throw new Error(`Global must have the following attributes : ${partials}`);\r\n    }\r\n\r\n    // Patch for Chrome 76-78: exposed supportsSession rather than\r\n    // isSessionSupported. Wraps the function to ensure the promise properly\r\n    // resolves with a boolean.\r\n    if (global.navigator.xr &&\r\n        'supportsSession' in global.navigator.xr &&\r\n        !('isSessionSupported' in global.navigator.xr)) {\r\n      let originalSupportsSession = global.navigator.xr.supportsSession;\r\n      global.navigator.xr.isSessionSupported = function(mode) {\r\n        return originalSupportsSession.call(this, mode).then(() => {\r\n          return true;\r\n        }).catch(() => {\r\n          return false;\r\n        });\r\n      }\r\n\r\n      global.navigator.xr.supportsSession = function(mode) {\r\n        console.warn(\"navigator.xr.supportsSession() is deprecated. Please \" +\r\n        \"call navigator.xr.isSessionSupported() instead and check the boolean \" +\r\n        \"value returned when the promise resolves.\");\r\n        return originalSupportsSession.call(this, mode);\r\n      }\r\n    }\r\n  }\r\n}\r\n", "'use strict';\n\nmodule.exports = function () {\n  throw new Error(\n    'ws does not work in the browser. Browser clients must use the native ' +\n      'WebSocket object'\n  );\n};\n", "(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(global = global || self, factory(global.HoloPlayCore = {}));\n}(this, (function (exports) { 'use strict';\n\n\tvar commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\n\tfunction createCommonjsModule(fn, module) {\n\t\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n\t}\n\n\tvar cbor = createCommonjsModule(function (module) {\n\t/*\r\n\t * The MIT License (MIT)\r\n\t *\r\n\t * Copyright (c) 2014 Patrick Gansterer <paroga@paroga.com>\r\n\t *\r\n\t * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n\t * of this software and associated documentation files (the \"Software\"), to deal\r\n\t * in the Software without restriction, including without limitation the rights\r\n\t * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n\t * copies of the Software, and to permit persons to whom the Software is\r\n\t * furnished to do so, subject to the following conditions:\r\n\t *\r\n\t * The above copyright notice and this permission notice shall be included in all\r\n\t * copies or substantial portions of the Software.\r\n\t *\r\n\t * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n\t * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n\t * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n\t * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n\t * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n\t * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\r\n\t * SOFTWARE.\r\n\t */\r\n\r\n\t(function(global, undefined$1) {var POW_2_24 = Math.pow(2, -24),\r\n\t    POW_2_32 = Math.pow(2, 32),\r\n\t    POW_2_53 = Math.pow(2, 53);\r\n\r\n\tfunction encode(value) {\r\n\t  var data = new ArrayBuffer(256);\r\n\t  var dataView = new DataView(data);\r\n\t  var lastLength;\r\n\t  var offset = 0;\r\n\r\n\t  function ensureSpace(length) {\r\n\t    var newByteLength = data.byteLength;\r\n\t    var requiredLength = offset + length;\r\n\t    while (newByteLength < requiredLength)\r\n\t      newByteLength *= 2;\r\n\t    if (newByteLength !== data.byteLength) {\r\n\t      var oldDataView = dataView;\r\n\t      data = new ArrayBuffer(newByteLength);\r\n\t      dataView = new DataView(data);\r\n\t      var uint32count = (offset + 3) >> 2;\r\n\t      for (var i = 0; i < uint32count; ++i)\r\n\t        dataView.setUint32(i * 4, oldDataView.getUint32(i * 4));\r\n\t    }\r\n\r\n\t    lastLength = length;\r\n\t    return dataView;\r\n\t  }\r\n\t  function write() {\r\n\t    offset += lastLength;\r\n\t  }\r\n\t  function writeFloat64(value) {\r\n\t    write(ensureSpace(8).setFloat64(offset, value));\r\n\t  }\r\n\t  function writeUint8(value) {\r\n\t    write(ensureSpace(1).setUint8(offset, value));\r\n\t  }\r\n\t  function writeUint8Array(value) {\r\n\t    var dataView = ensureSpace(value.length);\r\n\t    for (var i = 0; i < value.length; ++i)\r\n\t      dataView.setUint8(offset + i, value[i]);\r\n\t    write();\r\n\t  }\r\n\t  function writeUint16(value) {\r\n\t    write(ensureSpace(2).setUint16(offset, value));\r\n\t  }\r\n\t  function writeUint32(value) {\r\n\t    write(ensureSpace(4).setUint32(offset, value));\r\n\t  }\r\n\t  function writeUint64(value) {\r\n\t    var low = value % POW_2_32;\r\n\t    var high = (value - low) / POW_2_32;\r\n\t    var dataView = ensureSpace(8);\r\n\t    dataView.setUint32(offset, high);\r\n\t    dataView.setUint32(offset + 4, low);\r\n\t    write();\r\n\t  }\r\n\t  function writeTypeAndLength(type, length) {\r\n\t    if (length < 24) {\r\n\t      writeUint8(type << 5 | length);\r\n\t    } else if (length < 0x100) {\r\n\t      writeUint8(type << 5 | 24);\r\n\t      writeUint8(length);\r\n\t    } else if (length < 0x10000) {\r\n\t      writeUint8(type << 5 | 25);\r\n\t      writeUint16(length);\r\n\t    } else if (length < 0x100000000) {\r\n\t      writeUint8(type << 5 | 26);\r\n\t      writeUint32(length);\r\n\t    } else {\r\n\t      writeUint8(type << 5 | 27);\r\n\t      writeUint64(length);\r\n\t    }\r\n\t  }\r\n\t  \r\n\t  function encodeItem(value) {\r\n\t    var i;\r\n\r\n\t    if (value === false)\r\n\t      return writeUint8(0xf4);\r\n\t    if (value === true)\r\n\t      return writeUint8(0xf5);\r\n\t    if (value === null)\r\n\t      return writeUint8(0xf6);\r\n\t    if (value === undefined$1)\r\n\t      return writeUint8(0xf7);\r\n\t  \r\n\t    switch (typeof value) {\r\n\t      case \"number\":\r\n\t        if (Math.floor(value) === value) {\r\n\t          if (0 <= value && value <= POW_2_53)\r\n\t            return writeTypeAndLength(0, value);\r\n\t          if (-POW_2_53 <= value && value < 0)\r\n\t            return writeTypeAndLength(1, -(value + 1));\r\n\t        }\r\n\t        writeUint8(0xfb);\r\n\t        return writeFloat64(value);\r\n\r\n\t      case \"string\":\r\n\t        var utf8data = [];\r\n\t        for (i = 0; i < value.length; ++i) {\r\n\t          var charCode = value.charCodeAt(i);\r\n\t          if (charCode < 0x80) {\r\n\t            utf8data.push(charCode);\r\n\t          } else if (charCode < 0x800) {\r\n\t            utf8data.push(0xc0 | charCode >> 6);\r\n\t            utf8data.push(0x80 | charCode & 0x3f);\r\n\t          } else if (charCode < 0xd800) {\r\n\t            utf8data.push(0xe0 | charCode >> 12);\r\n\t            utf8data.push(0x80 | (charCode >> 6)  & 0x3f);\r\n\t            utf8data.push(0x80 | charCode & 0x3f);\r\n\t          } else {\r\n\t            charCode = (charCode & 0x3ff) << 10;\r\n\t            charCode |= value.charCodeAt(++i) & 0x3ff;\r\n\t            charCode += 0x10000;\r\n\r\n\t            utf8data.push(0xf0 | charCode >> 18);\r\n\t            utf8data.push(0x80 | (charCode >> 12)  & 0x3f);\r\n\t            utf8data.push(0x80 | (charCode >> 6)  & 0x3f);\r\n\t            utf8data.push(0x80 | charCode & 0x3f);\r\n\t          }\r\n\t        }\r\n\r\n\t        writeTypeAndLength(3, utf8data.length);\r\n\t        return writeUint8Array(utf8data);\r\n\r\n\t      default:\r\n\t        var length;\r\n\t        if (Array.isArray(value)) {\r\n\t          length = value.length;\r\n\t          writeTypeAndLength(4, length);\r\n\t          for (i = 0; i < length; ++i)\r\n\t            encodeItem(value[i]);\r\n\t        } else if (value instanceof Uint8Array) {\r\n\t          writeTypeAndLength(2, value.length);\r\n\t          writeUint8Array(value);\r\n\t        } else {\r\n\t          var keys = Object.keys(value);\r\n\t          length = keys.length;\r\n\t          writeTypeAndLength(5, length);\r\n\t          for (i = 0; i < length; ++i) {\r\n\t            var key = keys[i];\r\n\t            encodeItem(key);\r\n\t            encodeItem(value[key]);\r\n\t          }\r\n\t        }\r\n\t    }\r\n\t  }\r\n\t  \r\n\t  encodeItem(value);\r\n\r\n\t  if (\"slice\" in data)\r\n\t    return data.slice(0, offset);\r\n\t  \r\n\t  var ret = new ArrayBuffer(offset);\r\n\t  var retView = new DataView(ret);\r\n\t  for (var i = 0; i < offset; ++i)\r\n\t    retView.setUint8(i, dataView.getUint8(i));\r\n\t  return ret;\r\n\t}\r\n\r\n\tfunction decode(data, tagger, simpleValue) {\r\n\t  var dataView = new DataView(data);\r\n\t  var offset = 0;\r\n\t  \r\n\t  if (typeof tagger !== \"function\")\r\n\t    tagger = function(value) { return value; };\r\n\t  if (typeof simpleValue !== \"function\")\r\n\t    simpleValue = function() { return undefined$1; };\r\n\r\n\t  function read(value, length) {\r\n\t    offset += length;\r\n\t    return value;\r\n\t  }\r\n\t  function readArrayBuffer(length) {\r\n\t    return read(new Uint8Array(data, offset, length), length);\r\n\t  }\r\n\t  function readFloat16() {\r\n\t    var tempArrayBuffer = new ArrayBuffer(4);\r\n\t    var tempDataView = new DataView(tempArrayBuffer);\r\n\t    var value = readUint16();\r\n\r\n\t    var sign = value & 0x8000;\r\n\t    var exponent = value & 0x7c00;\r\n\t    var fraction = value & 0x03ff;\r\n\t    \r\n\t    if (exponent === 0x7c00)\r\n\t      exponent = 0xff << 10;\r\n\t    else if (exponent !== 0)\r\n\t      exponent += (127 - 15) << 10;\r\n\t    else if (fraction !== 0)\r\n\t      return fraction * POW_2_24;\r\n\t    \r\n\t    tempDataView.setUint32(0, sign << 16 | exponent << 13 | fraction << 13);\r\n\t    return tempDataView.getFloat32(0);\r\n\t  }\r\n\t  function readFloat32() {\r\n\t    return read(dataView.getFloat32(offset), 4);\r\n\t  }\r\n\t  function readFloat64() {\r\n\t    return read(dataView.getFloat64(offset), 8);\r\n\t  }\r\n\t  function readUint8() {\r\n\t    return read(dataView.getUint8(offset), 1);\r\n\t  }\r\n\t  function readUint16() {\r\n\t    return read(dataView.getUint16(offset), 2);\r\n\t  }\r\n\t  function readUint32() {\r\n\t    return read(dataView.getUint32(offset), 4);\r\n\t  }\r\n\t  function readUint64() {\r\n\t    return readUint32() * POW_2_32 + readUint32();\r\n\t  }\r\n\t  function readBreak() {\r\n\t    if (dataView.getUint8(offset) !== 0xff)\r\n\t      return false;\r\n\t    offset += 1;\r\n\t    return true;\r\n\t  }\r\n\t  function readLength(additionalInformation) {\r\n\t    if (additionalInformation < 24)\r\n\t      return additionalInformation;\r\n\t    if (additionalInformation === 24)\r\n\t      return readUint8();\r\n\t    if (additionalInformation === 25)\r\n\t      return readUint16();\r\n\t    if (additionalInformation === 26)\r\n\t      return readUint32();\r\n\t    if (additionalInformation === 27)\r\n\t      return readUint64();\r\n\t    if (additionalInformation === 31)\r\n\t      return -1;\r\n\t    throw \"Invalid length encoding\";\r\n\t  }\r\n\t  function readIndefiniteStringLength(majorType) {\r\n\t    var initialByte = readUint8();\r\n\t    if (initialByte === 0xff)\r\n\t      return -1;\r\n\t    var length = readLength(initialByte & 0x1f);\r\n\t    if (length < 0 || (initialByte >> 5) !== majorType)\r\n\t      throw \"Invalid indefinite length element\";\r\n\t    return length;\r\n\t  }\r\n\r\n\t  function appendUtf16data(utf16data, length) {\r\n\t    for (var i = 0; i < length; ++i) {\r\n\t      var value = readUint8();\r\n\t      if (value & 0x80) {\r\n\t        if (value < 0xe0) {\r\n\t          value = (value & 0x1f) <<  6\r\n\t                | (readUint8() & 0x3f);\r\n\t          length -= 1;\r\n\t        } else if (value < 0xf0) {\r\n\t          value = (value & 0x0f) << 12\r\n\t                | (readUint8() & 0x3f) << 6\r\n\t                | (readUint8() & 0x3f);\r\n\t          length -= 2;\r\n\t        } else {\r\n\t          value = (value & 0x0f) << 18\r\n\t                | (readUint8() & 0x3f) << 12\r\n\t                | (readUint8() & 0x3f) << 6\r\n\t                | (readUint8() & 0x3f);\r\n\t          length -= 3;\r\n\t        }\r\n\t      }\r\n\r\n\t      if (value < 0x10000) {\r\n\t        utf16data.push(value);\r\n\t      } else {\r\n\t        value -= 0x10000;\r\n\t        utf16data.push(0xd800 | (value >> 10));\r\n\t        utf16data.push(0xdc00 | (value & 0x3ff));\r\n\t      }\r\n\t    }\r\n\t  }\r\n\r\n\t  function decodeItem() {\r\n\t    var initialByte = readUint8();\r\n\t    var majorType = initialByte >> 5;\r\n\t    var additionalInformation = initialByte & 0x1f;\r\n\t    var i;\r\n\t    var length;\r\n\r\n\t    if (majorType === 7) {\r\n\t      switch (additionalInformation) {\r\n\t        case 25:\r\n\t          return readFloat16();\r\n\t        case 26:\r\n\t          return readFloat32();\r\n\t        case 27:\r\n\t          return readFloat64();\r\n\t      }\r\n\t    }\r\n\r\n\t    length = readLength(additionalInformation);\r\n\t    if (length < 0 && (majorType < 2 || 6 < majorType))\r\n\t      throw \"Invalid length\";\r\n\r\n\t    switch (majorType) {\r\n\t      case 0:\r\n\t        return length;\r\n\t      case 1:\r\n\t        return -1 - length;\r\n\t      case 2:\r\n\t        if (length < 0) {\r\n\t          var elements = [];\r\n\t          var fullArrayLength = 0;\r\n\t          while ((length = readIndefiniteStringLength(majorType)) >= 0) {\r\n\t            fullArrayLength += length;\r\n\t            elements.push(readArrayBuffer(length));\r\n\t          }\r\n\t          var fullArray = new Uint8Array(fullArrayLength);\r\n\t          var fullArrayOffset = 0;\r\n\t          for (i = 0; i < elements.length; ++i) {\r\n\t            fullArray.set(elements[i], fullArrayOffset);\r\n\t            fullArrayOffset += elements[i].length;\r\n\t          }\r\n\t          return fullArray;\r\n\t        }\r\n\t        return readArrayBuffer(length);\r\n\t      case 3:\r\n\t        var utf16data = [];\r\n\t        if (length < 0) {\r\n\t          while ((length = readIndefiniteStringLength(majorType)) >= 0)\r\n\t            appendUtf16data(utf16data, length);\r\n\t        } else\r\n\t          appendUtf16data(utf16data, length);\r\n\t        return String.fromCharCode.apply(null, utf16data);\r\n\t      case 4:\r\n\t        var retArray;\r\n\t        if (length < 0) {\r\n\t          retArray = [];\r\n\t          while (!readBreak())\r\n\t            retArray.push(decodeItem());\r\n\t        } else {\r\n\t          retArray = new Array(length);\r\n\t          for (i = 0; i < length; ++i)\r\n\t            retArray[i] = decodeItem();\r\n\t        }\r\n\t        return retArray;\r\n\t      case 5:\r\n\t        var retObject = {};\r\n\t        for (i = 0; i < length || length < 0 && !readBreak(); ++i) {\r\n\t          var key = decodeItem();\r\n\t          retObject[key] = decodeItem();\r\n\t        }\r\n\t        return retObject;\r\n\t      case 6:\r\n\t        return tagger(decodeItem(), length);\r\n\t      case 7:\r\n\t        switch (length) {\r\n\t          case 20:\r\n\t            return false;\r\n\t          case 21:\r\n\t            return true;\r\n\t          case 22:\r\n\t            return null;\r\n\t          case 23:\r\n\t            return undefined$1;\r\n\t          default:\r\n\t            return simpleValue(length);\r\n\t        }\r\n\t    }\r\n\t  }\r\n\r\n\t  var ret = decodeItem();\r\n\t  if (offset !== data.byteLength)\r\n\t    throw \"Remaining bytes\";\r\n\t  return ret;\r\n\t}\r\n\r\n\tvar obj = { encode: encode, decode: decode };\r\n\r\n\tif (typeof undefined$1 === \"function\" && undefined$1.amd)\r\n\t  undefined$1(\"cbor/cbor\", obj);\r\n\telse if ( module.exports)\r\n\t  module.exports = obj;\r\n\telse if (!global.CBOR)\r\n\t  global.CBOR = obj;\r\n\r\n\t})(commonjsGlobal);\n\t});\n\n\t/**\r\n\t * This files defines the HoloPlayClient class and Message class.\r\n\t *\r\n\t * Copyright (c) [2019] [Looking Glass Factory]\r\n\t *\r\n\t * @link    https://lookingglassfactory.com/\r\n\t * @file    This files defines the HoloPlayClient class and Message class.\r\n\t * @author  Looking Glass Factory.\r\n\t * @version 0.0.8\r\n\t * @license SEE LICENSE IN LICENSE.md\r\n\t */\r\n\r\n\t// Polyfill WebSocket for nodejs applications.\r\n\tconst WebSocket =\r\n\t    typeof window === 'undefined' ? require('ws') : window.WebSocket;\r\n\r\n\t/** Class representing a client to communicates with the HoloPlayService. */\r\n\tclass Client {\r\n\t  /**\r\n\t   * Establish a client to talk to HoloPlayService.\r\n\t   * @constructor\r\n\t   * @param {function} initCallback - optional; a function to trigger when\r\n\t   *     response is received\r\n\t   * @param {function} errCallback - optional; a function to trigger when there\r\n\t   *     is a connection error\r\n\t   * @param {function} closeCallback - optional; a function to trigger when the\r\n\t   *     socket is closed\r\n\t   * @param {boolean} debug - optional; default is false\r\n\t   * @param {string}  appId - optional\r\n\t   * @param {boolean} isGreedy - optional\r\n\t   * @param {string}  oncloseBehavior - optional, can be 'wipe', 'hide', 'none'\r\n\t   */\r\n\t  constructor(\r\n\t      initCallback, errCallback, closeCallback, debug = false, appId, isGreedy,\r\n\t      oncloseBehavior) {\r\n\t    this.reqs = [];\r\n\t    this.reps = [];\r\n\t    this.requestId = this.getRequestId();\r\n\t    this.debug = debug;\r\n\t    this.isGreedy = isGreedy;\r\n\t    this.errCallback = errCallback;\r\n\t    this.closeCallback = closeCallback;\r\n\t    this.alwaysdebug = false;\r\n\t    this.isConnected = false;\r\n\t    let initCmd = null;\r\n\t    if (appId || isGreedy || oncloseBehavior) {\r\n\t      initCmd = new InitMessage(appId, isGreedy, oncloseBehavior, this.debug);\r\n\t    } else {\r\n\t      if (debug) this.alwaysdebug = true;\r\n\t      if (typeof initCallback == 'function') initCmd = new InfoMessage();\r\n\t    }\r\n\t    this.openWebsocket(initCmd, initCallback);\r\n\t  }\r\n\t  /**\r\n\t   * Send a message over the websocket to HoloPlayService.\r\n\t   * @public\r\n\t   * @param {Message} msg - message object\r\n\t   * @param {integer} timeoutSecs - optional, default is 60 seconds\r\n\t   */\r\n\t  sendMessage(msg, timeoutSecs = 60) {\r\n\t    if (this.alwaysdebug) msg.cmd.debug = true;\r\n\t    let cborData = msg.toCbor();\r\n\t    return this.sendRequestObj(cborData, timeoutSecs);\r\n\t  }\r\n\t  /**\r\n\t   * Disconnects from the web socket.\r\n\t   * @public\r\n\t   */\r\n\t  disconnect() {\r\n\t    this.ws.close();\r\n\t  }\r\n\t  /**\r\n\t   * Open a websocket and set handlers\r\n\t   * @private\r\n\t   */\r\n\t  openWebsocket(firstCmd = null, initCallback = null) {\r\n\t    this.ws =\r\n\t        new WebSocket('ws://localhost:11222/driver', ['rep.sp.nanomsg.org']);\r\n\t    this.ws.parent = this;\r\n\t    this.ws.binaryType = 'arraybuffer';\r\n\t    this.ws.onmessage = this.messageHandler;\r\n\t    this.ws.onopen = (() => {\r\n\t      this.isConnected = true;\r\n\t      if (this.debug) {\r\n\t        console.log('socket open');\r\n\t      }\r\n\t      if (firstCmd != null) {\r\n\t        this.sendMessage(firstCmd).then(initCallback);\r\n\t      }\r\n\t    });\r\n\t    this.ws.onerror = this.onSocketError;\r\n\t    this.ws.onclose = this.onClose;\r\n\t  }\r\n\t  /**\r\n\t   * Send a request object over websocket\r\n\t   * @private\r\n\t   */\r\n\t  sendRequestObj(data, timeoutSecs) {\r\n\t    return new Promise((resolve, reject) => {\r\n\t      let reqObj = {\r\n\t        id: this.requestId++,\r\n\t        parent: this,\r\n\t        payload: data,\r\n\t        success: resolve,\r\n\t        error: reject,\r\n\t        send: function() {\r\n\t          if (this.debug)\r\n\t            console.log('attemtping to send request with ID ' + this.id);\r\n\t          this.timeout = setTimeout(reqObj.send.bind(this), timeoutSecs * 1000);\r\n\t          let tmp = new Uint8Array(data.byteLength + 4);\r\n\t          let view = new DataView(tmp.buffer);\r\n\t          view.setUint32(0, this.id);\r\n\t          tmp.set(new Uint8Array(this.payload), 4);\r\n\t          this.parent.ws.send(tmp.buffer);\r\n\t        }\r\n\t      };\r\n\t      this.reqs.push(reqObj);\r\n\t      reqObj.send();\r\n\t    });\r\n\t  }\r\n\t  /**\r\n\t   * Handles a message when received\r\n\t   * @private\r\n\t   */\r\n\t  messageHandler(event) {\r\n\t    console.log('message');\r\n\t    let data = event.data;\r\n\t    if (data.byteLength < 4) return;\r\n\t    let view = new DataView(data);\r\n\t    let replyId = view.getUint32(0);\r\n\t    if (replyId < 0x80000000) {\r\n\t      this.parent.err('bad nng header');\r\n\t      return;\r\n\t    }\r\n\t    let i = this.parent.findReqIndex(replyId);\r\n\t    if (i == -1) {\r\n\t      this.parent.err('got reply that doesn\\'t match known request!');\r\n\t      return;\r\n\t    }\r\n\t    let rep = {id: replyId, payload: cbor.decode(data.slice(4))};\r\n\t    if (rep.payload.error == 0) {\r\n\t      this.parent.reqs[i].success(rep.payload);\r\n\t    } else {\r\n\t      this.parent.reqs[i].error(rep.payload);\r\n\t    }\r\n\t    clearTimeout(this.parent.reqs[i].timeout);\r\n\t    this.parent.reqs.splice(i, 1);\r\n\t    this.parent.reps.push(rep);\r\n\t    if (this.debug) {\r\n\t      console.log(rep.payload);\r\n\t    }\r\n\t  }\r\n\t  getRequestId() {\r\n\t    return Math.floor(this.prng() * (0x7fffffff)) + 0x80000000;\r\n\t  }\r\n\t  onClose(event) {\r\n\t    this.parent.isConnected = false;\r\n\t    if (this.parent.debug) {\r\n\t      console.log('socket closed');\r\n\t    }\r\n\t    if (typeof this.parent.closeCallback == 'function')\r\n\t      this.parent.closeCallback(event);\r\n\t  }\r\n\t  onSocketError(error) {\r\n\t    if (this.parent.debug) {\r\n\t      console.log(error);\r\n\t    }\r\n\t    if (typeof this.parent.errCallback == 'function') {\r\n\t      this.parent.errCallback(error);\r\n\t    }\r\n\t  }\r\n\t  err(errorMsg) {\r\n\t    if (this.debug) {\r\n\t      console.log('[DRIVER ERROR]' + errorMsg);\r\n\t    }\r\n\t    // TODO : make this return an event obj rather than a string\r\n\t    // if (typeof this.errCallback == 'function')\r\n\t    //   this.errCallback(errorMsg);\r\n\t  }\r\n\t  findReqIndex(replyId) {\r\n\t    let i = 0;\r\n\t    for (; i < this.reqs.length; i++) {\r\n\t      if (this.reqs[i].id == replyId) {\r\n\t        return i;\r\n\t      }\r\n\t    }\r\n\t    return -1;\r\n\t  }\r\n\t  prng() {\r\n\t    if (this.rng == undefined) {\r\n\t      this.rng = generateRng();\r\n\t    }\r\n\t    return this.rng();\r\n\t  }\r\n\t}\r\n\r\n\t/** A class to represent messages being sent over to HoloPlay Service */\r\n\tclass Message {\r\n\t  /**\r\n\t   * Construct a barebone message.\r\n\t   * @constructor\r\n\t   */\r\n\t  constructor(cmd, bin) {\r\n\t    this.cmd = cmd;\r\n\t    this.bin = bin;\r\n\t  }\r\n\t  /**\r\n\t   * Convert the class instance to the CBOR format\r\n\t   * @public\r\n\t   * @returns {CBOR} - cbor object of the message\r\n\t   */\r\n\t  toCbor() {\r\n\t    return cbor.encode(this);\r\n\t  }\r\n\t}\r\n\t/** Message to init. Extends the base Message class. */\r\n\tclass InitMessage extends Message {\r\n\t  /**\r\n\t   * @constructor\r\n\t   * @param {string}  appId - a unique id for app\r\n\t   * @param {boolean} isGreedy - will it take over screen\r\n\t   * @param {string}  oncloseBehavior - can be 'wipe', 'hide', 'none'\r\n\t   */\r\n\t  constructor(appId = '', isGreedy = false, onclose = '', debug = false) {\r\n\t    let cmd = {'init': {}};\r\n\t    if (appId != '') cmd['init'].appid = appId;\r\n\t    if (onclose != '') cmd['init'].onclose = onclose;\r\n\t    if (isGreedy) cmd['init'].greedy = true;\r\n\t    if (debug) cmd['init'].debug = true;\r\n\t    super(cmd, null);\r\n\t  }\r\n\t}\r\n\t/** Delete a quilt from HoloPlayService. Extends the base Message class. */\r\n\tclass DeleteMessage extends Message {\r\n\t  /**\r\n\t   * @constructor\r\n\t   * @param {string} name - name of the quilt\r\n\t   */\r\n\t  constructor(name = '') {\r\n\t    let cmd = {'delete': {'name': name}};\r\n\t    super(cmd, null);\r\n\t  }\r\n\t}\r\n\t/** Check if a quilt exist in cache. Extends the base Message class. */\r\n\tclass CheckMessage extends Message {\r\n\t  /**\r\n\t   * @constructor\r\n\t   * @param {string} name - name of the quilt\r\n\t   */\r\n\t  constructor(name = '') {\r\n\t    let cmd = {'check': {'name': name}};\r\n\t    super(cmd, null);\r\n\t  }\r\n\t}\r\n\t/** Wipes the image in Looking Glass and displays the background image */\r\n\tclass WipeMessage extends Message {\r\n\t  /**\r\n\t   * @constructor\r\n\t   * @param {number} targetDisplay - optional, if not provided, default is 0\r\n\t   */\r\n\t  constructor(targetDisplay = null) {\r\n\t    let cmd = {'wipe': {}};\r\n\t    if (targetDisplay != null) cmd['wipe'].targetDisplay = targetDisplay;\r\n\t    super(cmd, null);\r\n\t  }\r\n\t}\r\n\t/** Get info from the HoloPlayService */\r\n\tclass InfoMessage extends Message {\r\n\t  /**\r\n\t   * @constructor\r\n\t   */\r\n\t  constructor() {\r\n\t    let cmd = {'info': {}};\r\n\t    super(cmd, null);\r\n\t  }\r\n\t}\r\n\t/** Get shader uniforms from HoloPlayService */\r\n\tclass UniformsMessage extends Message {\r\n\t  /**\r\n\t   * @constructor\r\n\t   * @param {object}\r\n\t   */\r\n\t  constructor() {\r\n\t    let cmd = {'uniforms': {}};\r\n\t    super(cmd, bindata);\r\n\t  }\r\n\t}\r\n\t/** Get GLSL shader code from HoloPlayService */\r\n\tclass ShaderMessage extends Message {\r\n\t  /**\r\n\t   * @constructor\r\n\t   * @param {object}\r\n\t   */\r\n\t  constructor() {\r\n\t    let cmd = {'shader': {}};\r\n\t    super(cmd, bindata);\r\n\t  }\r\n\t}\r\n\t/** Show a quilt in the Looking Glass with the binary data of quilt provided */\r\n\tclass ShowMessage extends Message {\r\n\t  /**\r\n\t   * @constructor\r\n\t   * @param {object}\r\n\t   */\r\n\t  constructor(\r\n\t      settings = {vx: 5, vy: 9, aspect: 1.6}, bindata = '',\r\n\t      targetDisplay = null) {\r\n\t    let cmd = {\r\n\t      'show': {\r\n\t        'source': 'bindata',\r\n\t        'quilt': {'type': 'image', 'settings': settings}\r\n\t      }\r\n\t    };\r\n\t    if (targetDisplay != null) cmd['show']['targetDisplay'] = targetDisplay;\r\n\t    super(cmd, bindata);\r\n\t  }\r\n\t}\r\n\t/** extends the base Message class */\r\n\tclass CacheMessage extends Message {\r\n\t  constructor(\r\n\t      name, settings = {vx: 5, vy: 9, aspect: 1.6}, bindata = '',\r\n\t      show = false) {\r\n\t    let cmd = {\r\n\t      'cache': {\r\n\t        'show': show,\r\n\t        'quilt': {\r\n\t          'name': name,\r\n\t          'type': 'image',\r\n\t          'settings': settings,\r\n\t        }\r\n\t      }\r\n\t    };\r\n\t    super(cmd, bindata);\r\n\t  }\r\n\t}\r\n\r\n\tclass ShowCachedMessage extends Message {\r\n\t  constructor(name, targetDisplay = null, settings = null) {\r\n\t    let cmd = {'show': {'source': 'cache', 'quilt': {'name': name}}};\r\n\t    if (targetDisplay != null) cmd['show']['targetDisplay'] = targetDisplay;\r\n\t    if (settings != null) cmd['show']['quilt'].settings = settings;\r\n\t    super(cmd, null);\r\n\t  }\r\n\t}\r\n\t/* helper function */\r\n\tfunction generateRng() {\r\n\t  function xmur3(str) {\r\n\t    for (var i = 0, h = 1779033703 ^ str.length; i < str.length; i++)\r\n\t      h = Math.imul(h ^ str.charCodeAt(i), 3432918353), h = h << 13 | h >>> 19;\r\n\t    return function() {\r\n\t      h = Math.imul(h ^ h >>> 16, 2246822507);\r\n\t      h = Math.imul(h ^ h >>> 13, 3266489909);\r\n\t      return (h ^= h >>> 16) >>> 0;\r\n\t    }\r\n\t  }\r\n\t  function xoshiro128ss(a, b, c, d) {\r\n\t    return (() => {\r\n\t      var t = b << 9, r = a * 5;\r\n\t      r = (r << 7 | r >>> 25) * 9;\r\n\t      c ^= a;\r\n\t      d ^= b;\r\n\t      b ^= c;\r\n\t      a ^= d;\r\n\t      c ^= t;\r\n\t      d = d << 11 | d >>> 21;\r\n\t      return (r >>> 0) / 4294967296;\r\n\t    })\r\n\t  }  var state = Date.now();\r\n\t  var seed = xmur3(state.toString());\r\n\t  return xoshiro128ss(seed(), seed(), seed(), seed());\r\n\t}\r\n\r\n\t//turn the shader into valid glsl\r\n\tfunction glslifyNumbers(strings, ...values) {\r\n\t  let s = strings[0];\r\n\t  for (let i = 1; i < strings.length; ++i) {\r\n\t    const v = values[i - 1];\r\n\t    s += typeof v === 'number' ? v.toPrecision(10) : v;\r\n\t    s += strings[i];\r\n\t  }\r\n\t  return s;\r\n\t}\r\n\r\n\t// export the shader for use in WebXR // cfg is defined in @lookingglass/webxr\r\n\tfunction Shader(cfg) {\r\n\t  return glslifyNumbers`\r\n  precision mediump float;\r\n  uniform int u_viewType;\r\n  uniform sampler2D u_texture;\r\n  varying vec2 v_texcoord;\r\n  const float pitch    = ${cfg.pitch};\r\n  const float tilt     = ${cfg.tilt};\r\n  const float center   = ${cfg.calibration.center.value};\r\n  const float invView  = ${cfg.calibration.invView.value};\r\n  const float flipX    = ${cfg.calibration.flipImageX.value};\r\n  const float flipY    = ${cfg.calibration.flipImageY.value};\r\n  const float subp     = ${cfg.subp};\r\n  const float numViews = ${cfg.numViews};\r\n  const float tilesX   = ${cfg.quiltWidth};\r\n  const float tilesY   = ${cfg.quiltHeight};\r\n  const vec2 quiltViewPortion = vec2(\r\n    ${cfg.quiltWidth * cfg.tileWidth / cfg.framebufferWidth},\r\n    ${cfg.quiltHeight * cfg.tileHeight / cfg.framebufferHeight});\r\n  vec2 texArr(vec3 uvz) {\r\n    float z = floor(uvz.z * numViews);\r\n    float x = (mod(z, tilesX) + uvz.x) / tilesX;\r\n    float y = (floor(z / tilesX) + uvz.y) / tilesY;\r\n    return vec2(x, y) * quiltViewPortion;\r\n  }\r\n  float remap(float value, float from1, float to1, float from2, float to2) {\r\n    return (value - from1) / (to1 - from1) * (to2 - from2) + from2;\r\n  }\r\n  void main() {\r\n    if (u_viewType == 2) { // \"quilt\" view\r\n      gl_FragColor = texture2D(u_texture, v_texcoord);\r\n      return;\r\n    }\r\n    if (u_viewType == 1) { // middle view\r\n      gl_FragColor = texture2D(u_texture, texArr(vec3(v_texcoord.x, v_texcoord.y, 0.5)));\r\n      return;\r\n    }\r\n    vec4 rgb[3];\r\n    vec3 nuv = vec3(v_texcoord.xy, 0.0);\r\n    // Flip UVs if necessary\r\n    nuv.x = (1.0 - flipX) * nuv.x + flipX * (1.0 - nuv.x);\r\n    nuv.y = (1.0 - flipY) * nuv.y + flipY * (1.0 - nuv.y);\r\n    for (int i = 0; i < 3; i++) {\r\n      nuv.z = (v_texcoord.x + float(i) * subp + v_texcoord.y * tilt) * pitch - center;\r\n      nuv.z = mod(nuv.z + ceil(abs(nuv.z)), 1.0);\r\n      nuv.z = (1.0 - invView) * nuv.z + invView * (1.0 - nuv.z);\r\n      rgb[i] = texture2D(u_texture, texArr(vec3(v_texcoord.x, v_texcoord.y, nuv.z)));\r\n    }\r\n    gl_FragColor = vec4(rgb[0].r, rgb[1].g, rgb[2].b, 1);\r\n  }\r\n`;\r\n\t  }\n\n\texports.CacheMessage = CacheMessage;\n\texports.CheckMessage = CheckMessage;\n\texports.Client = Client;\n\texports.DeleteMessage = DeleteMessage;\n\texports.InfoMessage = InfoMessage;\n\texports.InitMessage = InitMessage;\n\texports.Message = Message;\n\texports.Shader = Shader;\n\texports.ShaderMessage = ShaderMessage;\n\texports.ShowCachedMessage = ShowCachedMessage;\n\texports.ShowMessage = ShowMessage;\n\texports.UniformsMessage = UniformsMessage;\n\texports.WipeMessage = WipeMessage;\n\n\tObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n", "/*!\n@fileoverview gl-matrix - High performance matrix and vector operations\n@author Brandon Jones\n@author Colin MacKenzie IV\n@version 2.7.0\n\nCopyright (c) 2015-2018, Brandon Jones, Colin MacKenzie IV.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n\n*/\n!function(t,n){if(\"object\"==typeof exports&&\"object\"==typeof module)module.exports=n();else if(\"function\"==typeof define&&define.amd)define([],n);else{var r=n();for(var a in r)(\"object\"==typeof exports?exports:t)[a]=r[a]}}(\"undefined\"!=typeof self?self:this,function(){return function(t){var n={};function r(a){if(n[a])return n[a].exports;var e=n[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,r),e.l=!0,e.exports}return r.m=t,r.c=n,r.d=function(t,n,a){r.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:a})},r.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},r.t=function(t,n){if(1&n&&(t=r(t)),8&n)return t;if(4&n&&\"object\"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,\"default\",{enumerable:!0,value:t}),2&n&&\"string\"!=typeof t)for(var e in t)r.d(a,e,function(n){return t[n]}.bind(null,e));return a},r.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(n,\"a\",n),n},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.p=\"\",r(r.s=10)}([function(t,n,r){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0}),n.setMatrixArrayType=function(t){n.ARRAY_TYPE=t},n.toRadian=function(t){return t*e},n.equals=function(t,n){return Math.abs(t-n)<=a*Math.max(1,Math.abs(t),Math.abs(n))};var a=n.EPSILON=1e-6;n.ARRAY_TYPE=\"undefined\"!=typeof Float32Array?Float32Array:Array,n.RANDOM=Math.random;var e=Math.PI/180},function(t,n,r){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0}),n.forEach=n.sqrLen=n.len=n.sqrDist=n.dist=n.div=n.mul=n.sub=void 0,n.create=e,n.clone=function(t){var n=new a.ARRAY_TYPE(4);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n},n.fromValues=function(t,n,r,e){var u=new a.ARRAY_TYPE(4);return u[0]=t,u[1]=n,u[2]=r,u[3]=e,u},n.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t},n.set=function(t,n,r,a,e){return t[0]=n,t[1]=r,t[2]=a,t[3]=e,t},n.add=function(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t[3]=n[3]+r[3],t},n.subtract=u,n.multiply=o,n.divide=i,n.ceil=function(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t[3]=Math.ceil(n[3]),t},n.floor=function(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t[3]=Math.floor(n[3]),t},n.min=function(t,n,r){return t[0]=Math.min(n[0],r[0]),t[1]=Math.min(n[1],r[1]),t[2]=Math.min(n[2],r[2]),t[3]=Math.min(n[3],r[3]),t},n.max=function(t,n,r){return t[0]=Math.max(n[0],r[0]),t[1]=Math.max(n[1],r[1]),t[2]=Math.max(n[2],r[2]),t[3]=Math.max(n[3],r[3]),t},n.round=function(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t[3]=Math.round(n[3]),t},n.scale=function(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t},n.scaleAndAdd=function(t,n,r,a){return t[0]=n[0]+r[0]*a,t[1]=n[1]+r[1]*a,t[2]=n[2]+r[2]*a,t[3]=n[3]+r[3]*a,t},n.distance=s,n.squaredDistance=c,n.length=f,n.squaredLength=M,n.negate=function(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=-n[3],t},n.inverse=function(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t[3]=1/n[3],t},n.normalize=function(t,n){var r=n[0],a=n[1],e=n[2],u=n[3],o=r*r+a*a+e*e+u*u;o>0&&(o=1/Math.sqrt(o),t[0]=r*o,t[1]=a*o,t[2]=e*o,t[3]=u*o);return t},n.dot=function(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]+t[3]*n[3]},n.lerp=function(t,n,r,a){var e=n[0],u=n[1],o=n[2],i=n[3];return t[0]=e+a*(r[0]-e),t[1]=u+a*(r[1]-u),t[2]=o+a*(r[2]-o),t[3]=i+a*(r[3]-i),t},n.random=function(t,n){var r,e,u,o,i,s;n=n||1;do{r=2*a.RANDOM()-1,e=2*a.RANDOM()-1,i=r*r+e*e}while(i>=1);do{u=2*a.RANDOM()-1,o=2*a.RANDOM()-1,s=u*u+o*o}while(s>=1);var c=Math.sqrt((1-i)/s);return t[0]=n*r,t[1]=n*e,t[2]=n*u*c,t[3]=n*o*c,t},n.transformMat4=function(t,n,r){var a=n[0],e=n[1],u=n[2],o=n[3];return t[0]=r[0]*a+r[4]*e+r[8]*u+r[12]*o,t[1]=r[1]*a+r[5]*e+r[9]*u+r[13]*o,t[2]=r[2]*a+r[6]*e+r[10]*u+r[14]*o,t[3]=r[3]*a+r[7]*e+r[11]*u+r[15]*o,t},n.transformQuat=function(t,n,r){var a=n[0],e=n[1],u=n[2],o=r[0],i=r[1],s=r[2],c=r[3],f=c*a+i*u-s*e,M=c*e+s*a-o*u,h=c*u+o*e-i*a,l=-o*a-i*e-s*u;return t[0]=f*c+l*-o+M*-s-h*-i,t[1]=M*c+l*-i+h*-o-f*-s,t[2]=h*c+l*-s+f*-i-M*-o,t[3]=n[3],t},n.str=function(t){return\"vec4(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\", \"+t[3]+\")\"},n.exactEquals=function(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]},n.equals=function(t,n){var r=t[0],e=t[1],u=t[2],o=t[3],i=n[0],s=n[1],c=n[2],f=n[3];return Math.abs(r-i)<=a.EPSILON*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(e-s)<=a.EPSILON*Math.max(1,Math.abs(e),Math.abs(s))&&Math.abs(u-c)<=a.EPSILON*Math.max(1,Math.abs(u),Math.abs(c))&&Math.abs(o-f)<=a.EPSILON*Math.max(1,Math.abs(o),Math.abs(f))};var a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n.default=t,n}(r(0));function e(){var t=new a.ARRAY_TYPE(4);return a.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function u(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t[2]=n[2]-r[2],t[3]=n[3]-r[3],t}function o(t,n,r){return t[0]=n[0]*r[0],t[1]=n[1]*r[1],t[2]=n[2]*r[2],t[3]=n[3]*r[3],t}function i(t,n,r){return t[0]=n[0]/r[0],t[1]=n[1]/r[1],t[2]=n[2]/r[2],t[3]=n[3]/r[3],t}function s(t,n){var r=n[0]-t[0],a=n[1]-t[1],e=n[2]-t[2],u=n[3]-t[3];return Math.sqrt(r*r+a*a+e*e+u*u)}function c(t,n){var r=n[0]-t[0],a=n[1]-t[1],e=n[2]-t[2],u=n[3]-t[3];return r*r+a*a+e*e+u*u}function f(t){var n=t[0],r=t[1],a=t[2],e=t[3];return Math.sqrt(n*n+r*r+a*a+e*e)}function M(t){var n=t[0],r=t[1],a=t[2],e=t[3];return n*n+r*r+a*a+e*e}n.sub=u,n.mul=o,n.div=i,n.dist=s,n.sqrDist=c,n.len=f,n.sqrLen=M,n.forEach=function(){var t=e();return function(n,r,a,e,u,o){var i=void 0,s=void 0;for(r||(r=4),a||(a=0),s=e?Math.min(e*r+a,n.length):n.length,i=a;i<s;i+=r)t[0]=n[i],t[1]=n[i+1],t[2]=n[i+2],t[3]=n[i+3],u(t,t,o),n[i]=t[0],n[i+1]=t[1],n[i+2]=t[2],n[i+3]=t[3];return n}}()},function(t,n,r){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0}),n.forEach=n.sqrLen=n.len=n.sqrDist=n.dist=n.div=n.mul=n.sub=void 0,n.create=e,n.clone=function(t){var n=new a.ARRAY_TYPE(3);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n},n.length=u,n.fromValues=o,n.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t},n.set=function(t,n,r,a){return t[0]=n,t[1]=r,t[2]=a,t},n.add=function(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t},n.subtract=i,n.multiply=s,n.divide=c,n.ceil=function(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t},n.floor=function(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t},n.min=function(t,n,r){return t[0]=Math.min(n[0],r[0]),t[1]=Math.min(n[1],r[1]),t[2]=Math.min(n[2],r[2]),t},n.max=function(t,n,r){return t[0]=Math.max(n[0],r[0]),t[1]=Math.max(n[1],r[1]),t[2]=Math.max(n[2],r[2]),t},n.round=function(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t},n.scale=function(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t},n.scaleAndAdd=function(t,n,r,a){return t[0]=n[0]+r[0]*a,t[1]=n[1]+r[1]*a,t[2]=n[2]+r[2]*a,t},n.distance=f,n.squaredDistance=M,n.squaredLength=h,n.negate=function(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t},n.inverse=function(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t},n.normalize=l,n.dot=v,n.cross=function(t,n,r){var a=n[0],e=n[1],u=n[2],o=r[0],i=r[1],s=r[2];return t[0]=e*s-u*i,t[1]=u*o-a*s,t[2]=a*i-e*o,t},n.lerp=function(t,n,r,a){var e=n[0],u=n[1],o=n[2];return t[0]=e+a*(r[0]-e),t[1]=u+a*(r[1]-u),t[2]=o+a*(r[2]-o),t},n.hermite=function(t,n,r,a,e,u){var o=u*u,i=o*(2*u-3)+1,s=o*(u-2)+u,c=o*(u-1),f=o*(3-2*u);return t[0]=n[0]*i+r[0]*s+a[0]*c+e[0]*f,t[1]=n[1]*i+r[1]*s+a[1]*c+e[1]*f,t[2]=n[2]*i+r[2]*s+a[2]*c+e[2]*f,t},n.bezier=function(t,n,r,a,e,u){var o=1-u,i=o*o,s=u*u,c=i*o,f=3*u*i,M=3*s*o,h=s*u;return t[0]=n[0]*c+r[0]*f+a[0]*M+e[0]*h,t[1]=n[1]*c+r[1]*f+a[1]*M+e[1]*h,t[2]=n[2]*c+r[2]*f+a[2]*M+e[2]*h,t},n.random=function(t,n){n=n||1;var r=2*a.RANDOM()*Math.PI,e=2*a.RANDOM()-1,u=Math.sqrt(1-e*e)*n;return t[0]=Math.cos(r)*u,t[1]=Math.sin(r)*u,t[2]=e*n,t},n.transformMat4=function(t,n,r){var a=n[0],e=n[1],u=n[2],o=r[3]*a+r[7]*e+r[11]*u+r[15];return o=o||1,t[0]=(r[0]*a+r[4]*e+r[8]*u+r[12])/o,t[1]=(r[1]*a+r[5]*e+r[9]*u+r[13])/o,t[2]=(r[2]*a+r[6]*e+r[10]*u+r[14])/o,t},n.transformMat3=function(t,n,r){var a=n[0],e=n[1],u=n[2];return t[0]=a*r[0]+e*r[3]+u*r[6],t[1]=a*r[1]+e*r[4]+u*r[7],t[2]=a*r[2]+e*r[5]+u*r[8],t},n.transformQuat=function(t,n,r){var a=r[0],e=r[1],u=r[2],o=r[3],i=n[0],s=n[1],c=n[2],f=e*c-u*s,M=u*i-a*c,h=a*s-e*i,l=e*h-u*M,v=u*f-a*h,d=a*M-e*f,b=2*o;return f*=b,M*=b,h*=b,l*=2,v*=2,d*=2,t[0]=i+f+l,t[1]=s+M+v,t[2]=c+h+d,t},n.rotateX=function(t,n,r,a){var e=[],u=[];return e[0]=n[0]-r[0],e[1]=n[1]-r[1],e[2]=n[2]-r[2],u[0]=e[0],u[1]=e[1]*Math.cos(a)-e[2]*Math.sin(a),u[2]=e[1]*Math.sin(a)+e[2]*Math.cos(a),t[0]=u[0]+r[0],t[1]=u[1]+r[1],t[2]=u[2]+r[2],t},n.rotateY=function(t,n,r,a){var e=[],u=[];return e[0]=n[0]-r[0],e[1]=n[1]-r[1],e[2]=n[2]-r[2],u[0]=e[2]*Math.sin(a)+e[0]*Math.cos(a),u[1]=e[1],u[2]=e[2]*Math.cos(a)-e[0]*Math.sin(a),t[0]=u[0]+r[0],t[1]=u[1]+r[1],t[2]=u[2]+r[2],t},n.rotateZ=function(t,n,r,a){var e=[],u=[];return e[0]=n[0]-r[0],e[1]=n[1]-r[1],e[2]=n[2]-r[2],u[0]=e[0]*Math.cos(a)-e[1]*Math.sin(a),u[1]=e[0]*Math.sin(a)+e[1]*Math.cos(a),u[2]=e[2],t[0]=u[0]+r[0],t[1]=u[1]+r[1],t[2]=u[2]+r[2],t},n.angle=function(t,n){var r=o(t[0],t[1],t[2]),a=o(n[0],n[1],n[2]);l(r,r),l(a,a);var e=v(r,a);return e>1?0:e<-1?Math.PI:Math.acos(e)},n.str=function(t){return\"vec3(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\")\"},n.exactEquals=function(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]},n.equals=function(t,n){var r=t[0],e=t[1],u=t[2],o=n[0],i=n[1],s=n[2];return Math.abs(r-o)<=a.EPSILON*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(e-i)<=a.EPSILON*Math.max(1,Math.abs(e),Math.abs(i))&&Math.abs(u-s)<=a.EPSILON*Math.max(1,Math.abs(u),Math.abs(s))};var a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n.default=t,n}(r(0));function e(){var t=new a.ARRAY_TYPE(3);return a.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function u(t){var n=t[0],r=t[1],a=t[2];return Math.sqrt(n*n+r*r+a*a)}function o(t,n,r){var e=new a.ARRAY_TYPE(3);return e[0]=t,e[1]=n,e[2]=r,e}function i(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t[2]=n[2]-r[2],t}function s(t,n,r){return t[0]=n[0]*r[0],t[1]=n[1]*r[1],t[2]=n[2]*r[2],t}function c(t,n,r){return t[0]=n[0]/r[0],t[1]=n[1]/r[1],t[2]=n[2]/r[2],t}function f(t,n){var r=n[0]-t[0],a=n[1]-t[1],e=n[2]-t[2];return Math.sqrt(r*r+a*a+e*e)}function M(t,n){var r=n[0]-t[0],a=n[1]-t[1],e=n[2]-t[2];return r*r+a*a+e*e}function h(t){var n=t[0],r=t[1],a=t[2];return n*n+r*r+a*a}function l(t,n){var r=n[0],a=n[1],e=n[2],u=r*r+a*a+e*e;return u>0&&(u=1/Math.sqrt(u),t[0]=n[0]*u,t[1]=n[1]*u,t[2]=n[2]*u),t}function v(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}n.sub=i,n.mul=s,n.div=c,n.dist=f,n.sqrDist=M,n.len=u,n.sqrLen=h,n.forEach=function(){var t=e();return function(n,r,a,e,u,o){var i=void 0,s=void 0;for(r||(r=3),a||(a=0),s=e?Math.min(e*r+a,n.length):n.length,i=a;i<s;i+=r)t[0]=n[i],t[1]=n[i+1],t[2]=n[i+2],u(t,t,o),n[i]=t[0],n[i+1]=t[1],n[i+2]=t[2];return n}}()},function(t,n,r){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0}),n.setAxes=n.sqlerp=n.rotationTo=n.equals=n.exactEquals=n.normalize=n.sqrLen=n.squaredLength=n.len=n.length=n.lerp=n.dot=n.scale=n.mul=n.add=n.set=n.copy=n.fromValues=n.clone=void 0,n.create=s,n.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},n.setAxisAngle=c,n.getAxisAngle=function(t,n){var r=2*Math.acos(n[3]),e=Math.sin(r/2);e>a.EPSILON?(t[0]=n[0]/e,t[1]=n[1]/e,t[2]=n[2]/e):(t[0]=1,t[1]=0,t[2]=0);return r},n.multiply=f,n.rotateX=function(t,n,r){r*=.5;var a=n[0],e=n[1],u=n[2],o=n[3],i=Math.sin(r),s=Math.cos(r);return t[0]=a*s+o*i,t[1]=e*s+u*i,t[2]=u*s-e*i,t[3]=o*s-a*i,t},n.rotateY=function(t,n,r){r*=.5;var a=n[0],e=n[1],u=n[2],o=n[3],i=Math.sin(r),s=Math.cos(r);return t[0]=a*s-u*i,t[1]=e*s+o*i,t[2]=u*s+a*i,t[3]=o*s-e*i,t},n.rotateZ=function(t,n,r){r*=.5;var a=n[0],e=n[1],u=n[2],o=n[3],i=Math.sin(r),s=Math.cos(r);return t[0]=a*s+e*i,t[1]=e*s-a*i,t[2]=u*s+o*i,t[3]=o*s-u*i,t},n.calculateW=function(t,n){var r=n[0],a=n[1],e=n[2];return t[0]=r,t[1]=a,t[2]=e,t[3]=Math.sqrt(Math.abs(1-r*r-a*a-e*e)),t},n.slerp=M,n.random=function(t){var n=a.RANDOM(),r=a.RANDOM(),e=a.RANDOM(),u=Math.sqrt(1-n),o=Math.sqrt(n);return t[0]=u*Math.sin(2*Math.PI*r),t[1]=u*Math.cos(2*Math.PI*r),t[2]=o*Math.sin(2*Math.PI*e),t[3]=o*Math.cos(2*Math.PI*e),t},n.invert=function(t,n){var r=n[0],a=n[1],e=n[2],u=n[3],o=r*r+a*a+e*e+u*u,i=o?1/o:0;return t[0]=-r*i,t[1]=-a*i,t[2]=-e*i,t[3]=u*i,t},n.conjugate=function(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=n[3],t},n.fromMat3=h,n.fromEuler=function(t,n,r,a){var e=.5*Math.PI/180;n*=e,r*=e,a*=e;var u=Math.sin(n),o=Math.cos(n),i=Math.sin(r),s=Math.cos(r),c=Math.sin(a),f=Math.cos(a);return t[0]=u*s*f-o*i*c,t[1]=o*i*f+u*s*c,t[2]=o*s*c-u*i*f,t[3]=o*s*f+u*i*c,t},n.str=function(t){return\"quat(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\", \"+t[3]+\")\"};var a=i(r(0)),e=i(r(5)),u=i(r(2)),o=i(r(1));function i(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n.default=t,n}function s(){var t=new a.ARRAY_TYPE(4);return a.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function c(t,n,r){r*=.5;var a=Math.sin(r);return t[0]=a*n[0],t[1]=a*n[1],t[2]=a*n[2],t[3]=Math.cos(r),t}function f(t,n,r){var a=n[0],e=n[1],u=n[2],o=n[3],i=r[0],s=r[1],c=r[2],f=r[3];return t[0]=a*f+o*i+e*c-u*s,t[1]=e*f+o*s+u*i-a*c,t[2]=u*f+o*c+a*s-e*i,t[3]=o*f-a*i-e*s-u*c,t}function M(t,n,r,e){var u=n[0],o=n[1],i=n[2],s=n[3],c=r[0],f=r[1],M=r[2],h=r[3],l=void 0,v=void 0,d=void 0,b=void 0,m=void 0;return(v=u*c+o*f+i*M+s*h)<0&&(v=-v,c=-c,f=-f,M=-M,h=-h),1-v>a.EPSILON?(l=Math.acos(v),d=Math.sin(l),b=Math.sin((1-e)*l)/d,m=Math.sin(e*l)/d):(b=1-e,m=e),t[0]=b*u+m*c,t[1]=b*o+m*f,t[2]=b*i+m*M,t[3]=b*s+m*h,t}function h(t,n){var r=n[0]+n[4]+n[8],a=void 0;if(r>0)a=Math.sqrt(r+1),t[3]=.5*a,a=.5/a,t[0]=(n[5]-n[7])*a,t[1]=(n[6]-n[2])*a,t[2]=(n[1]-n[3])*a;else{var e=0;n[4]>n[0]&&(e=1),n[8]>n[3*e+e]&&(e=2);var u=(e+1)%3,o=(e+2)%3;a=Math.sqrt(n[3*e+e]-n[3*u+u]-n[3*o+o]+1),t[e]=.5*a,a=.5/a,t[3]=(n[3*u+o]-n[3*o+u])*a,t[u]=(n[3*u+e]+n[3*e+u])*a,t[o]=(n[3*o+e]+n[3*e+o])*a}return t}n.clone=o.clone,n.fromValues=o.fromValues,n.copy=o.copy,n.set=o.set,n.add=o.add,n.mul=f,n.scale=o.scale,n.dot=o.dot,n.lerp=o.lerp;var l=n.length=o.length,v=(n.len=l,n.squaredLength=o.squaredLength),d=(n.sqrLen=v,n.normalize=o.normalize);n.exactEquals=o.exactEquals,n.equals=o.equals,n.rotationTo=function(){var t=u.create(),n=u.fromValues(1,0,0),r=u.fromValues(0,1,0);return function(a,e,o){var i=u.dot(e,o);return i<-.999999?(u.cross(t,n,e),u.len(t)<1e-6&&u.cross(t,r,e),u.normalize(t,t),c(a,t,Math.PI),a):i>.999999?(a[0]=0,a[1]=0,a[2]=0,a[3]=1,a):(u.cross(t,e,o),a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=1+i,d(a,a))}}(),n.sqlerp=function(){var t=s(),n=s();return function(r,a,e,u,o,i){return M(t,a,o,i),M(n,e,u,i),M(r,t,n,2*i*(1-i)),r}}(),n.setAxes=function(){var t=e.create();return function(n,r,a,e){return t[0]=a[0],t[3]=a[1],t[6]=a[2],t[1]=e[0],t[4]=e[1],t[7]=e[2],t[2]=-r[0],t[5]=-r[1],t[8]=-r[2],d(n,h(n,t))}}()},function(t,n,r){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0}),n.sub=n.mul=void 0,n.create=function(){var t=new a.ARRAY_TYPE(16);a.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0);return t[0]=1,t[5]=1,t[10]=1,t[15]=1,t},n.clone=function(t){var n=new a.ARRAY_TYPE(16);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n[9]=t[9],n[10]=t[10],n[11]=t[11],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15],n},n.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t},n.fromValues=function(t,n,r,e,u,o,i,s,c,f,M,h,l,v,d,b){var m=new a.ARRAY_TYPE(16);return m[0]=t,m[1]=n,m[2]=r,m[3]=e,m[4]=u,m[5]=o,m[6]=i,m[7]=s,m[8]=c,m[9]=f,m[10]=M,m[11]=h,m[12]=l,m[13]=v,m[14]=d,m[15]=b,m},n.set=function(t,n,r,a,e,u,o,i,s,c,f,M,h,l,v,d,b){return t[0]=n,t[1]=r,t[2]=a,t[3]=e,t[4]=u,t[5]=o,t[6]=i,t[7]=s,t[8]=c,t[9]=f,t[10]=M,t[11]=h,t[12]=l,t[13]=v,t[14]=d,t[15]=b,t},n.identity=e,n.transpose=function(t,n){if(t===n){var r=n[1],a=n[2],e=n[3],u=n[6],o=n[7],i=n[11];t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=r,t[6]=n[9],t[7]=n[13],t[8]=a,t[9]=u,t[11]=n[14],t[12]=e,t[13]=o,t[14]=i}else t[0]=n[0],t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=n[1],t[5]=n[5],t[6]=n[9],t[7]=n[13],t[8]=n[2],t[9]=n[6],t[10]=n[10],t[11]=n[14],t[12]=n[3],t[13]=n[7],t[14]=n[11],t[15]=n[15];return t},n.invert=function(t,n){var r=n[0],a=n[1],e=n[2],u=n[3],o=n[4],i=n[5],s=n[6],c=n[7],f=n[8],M=n[9],h=n[10],l=n[11],v=n[12],d=n[13],b=n[14],m=n[15],p=r*i-a*o,P=r*s-e*o,A=r*c-u*o,E=a*s-e*i,O=a*c-u*i,R=e*c-u*s,y=f*d-M*v,q=f*b-h*v,x=f*m-l*v,_=M*b-h*d,Y=M*m-l*d,L=h*m-l*b,S=p*L-P*Y+A*_+E*x-O*q+R*y;if(!S)return null;return S=1/S,t[0]=(i*L-s*Y+c*_)*S,t[1]=(e*Y-a*L-u*_)*S,t[2]=(d*R-b*O+m*E)*S,t[3]=(h*O-M*R-l*E)*S,t[4]=(s*x-o*L-c*q)*S,t[5]=(r*L-e*x+u*q)*S,t[6]=(b*A-v*R-m*P)*S,t[7]=(f*R-h*A+l*P)*S,t[8]=(o*Y-i*x+c*y)*S,t[9]=(a*x-r*Y-u*y)*S,t[10]=(v*O-d*A+m*p)*S,t[11]=(M*A-f*O-l*p)*S,t[12]=(i*q-o*_-s*y)*S,t[13]=(r*_-a*q+e*y)*S,t[14]=(d*P-v*E-b*p)*S,t[15]=(f*E-M*P+h*p)*S,t},n.adjoint=function(t,n){var r=n[0],a=n[1],e=n[2],u=n[3],o=n[4],i=n[5],s=n[6],c=n[7],f=n[8],M=n[9],h=n[10],l=n[11],v=n[12],d=n[13],b=n[14],m=n[15];return t[0]=i*(h*m-l*b)-M*(s*m-c*b)+d*(s*l-c*h),t[1]=-(a*(h*m-l*b)-M*(e*m-u*b)+d*(e*l-u*h)),t[2]=a*(s*m-c*b)-i*(e*m-u*b)+d*(e*c-u*s),t[3]=-(a*(s*l-c*h)-i*(e*l-u*h)+M*(e*c-u*s)),t[4]=-(o*(h*m-l*b)-f*(s*m-c*b)+v*(s*l-c*h)),t[5]=r*(h*m-l*b)-f*(e*m-u*b)+v*(e*l-u*h),t[6]=-(r*(s*m-c*b)-o*(e*m-u*b)+v*(e*c-u*s)),t[7]=r*(s*l-c*h)-o*(e*l-u*h)+f*(e*c-u*s),t[8]=o*(M*m-l*d)-f*(i*m-c*d)+v*(i*l-c*M),t[9]=-(r*(M*m-l*d)-f*(a*m-u*d)+v*(a*l-u*M)),t[10]=r*(i*m-c*d)-o*(a*m-u*d)+v*(a*c-u*i),t[11]=-(r*(i*l-c*M)-o*(a*l-u*M)+f*(a*c-u*i)),t[12]=-(o*(M*b-h*d)-f*(i*b-s*d)+v*(i*h-s*M)),t[13]=r*(M*b-h*d)-f*(a*b-e*d)+v*(a*h-e*M),t[14]=-(r*(i*b-s*d)-o*(a*b-e*d)+v*(a*s-e*i)),t[15]=r*(i*h-s*M)-o*(a*h-e*M)+f*(a*s-e*i),t},n.determinant=function(t){var n=t[0],r=t[1],a=t[2],e=t[3],u=t[4],o=t[5],i=t[6],s=t[7],c=t[8],f=t[9],M=t[10],h=t[11],l=t[12],v=t[13],d=t[14],b=t[15];return(n*o-r*u)*(M*b-h*d)-(n*i-a*u)*(f*b-h*v)+(n*s-e*u)*(f*d-M*v)+(r*i-a*o)*(c*b-h*l)-(r*s-e*o)*(c*d-M*l)+(a*s-e*i)*(c*v-f*l)},n.multiply=u,n.translate=function(t,n,r){var a=r[0],e=r[1],u=r[2],o=void 0,i=void 0,s=void 0,c=void 0,f=void 0,M=void 0,h=void 0,l=void 0,v=void 0,d=void 0,b=void 0,m=void 0;n===t?(t[12]=n[0]*a+n[4]*e+n[8]*u+n[12],t[13]=n[1]*a+n[5]*e+n[9]*u+n[13],t[14]=n[2]*a+n[6]*e+n[10]*u+n[14],t[15]=n[3]*a+n[7]*e+n[11]*u+n[15]):(o=n[0],i=n[1],s=n[2],c=n[3],f=n[4],M=n[5],h=n[6],l=n[7],v=n[8],d=n[9],b=n[10],m=n[11],t[0]=o,t[1]=i,t[2]=s,t[3]=c,t[4]=f,t[5]=M,t[6]=h,t[7]=l,t[8]=v,t[9]=d,t[10]=b,t[11]=m,t[12]=o*a+f*e+v*u+n[12],t[13]=i*a+M*e+d*u+n[13],t[14]=s*a+h*e+b*u+n[14],t[15]=c*a+l*e+m*u+n[15]);return t},n.scale=function(t,n,r){var a=r[0],e=r[1],u=r[2];return t[0]=n[0]*a,t[1]=n[1]*a,t[2]=n[2]*a,t[3]=n[3]*a,t[4]=n[4]*e,t[5]=n[5]*e,t[6]=n[6]*e,t[7]=n[7]*e,t[8]=n[8]*u,t[9]=n[9]*u,t[10]=n[10]*u,t[11]=n[11]*u,t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t},n.rotate=function(t,n,r,e){var u=e[0],o=e[1],i=e[2],s=Math.sqrt(u*u+o*o+i*i),c=void 0,f=void 0,M=void 0,h=void 0,l=void 0,v=void 0,d=void 0,b=void 0,m=void 0,p=void 0,P=void 0,A=void 0,E=void 0,O=void 0,R=void 0,y=void 0,q=void 0,x=void 0,_=void 0,Y=void 0,L=void 0,S=void 0,w=void 0,I=void 0;if(s<a.EPSILON)return null;u*=s=1/s,o*=s,i*=s,c=Math.sin(r),f=Math.cos(r),M=1-f,h=n[0],l=n[1],v=n[2],d=n[3],b=n[4],m=n[5],p=n[6],P=n[7],A=n[8],E=n[9],O=n[10],R=n[11],y=u*u*M+f,q=o*u*M+i*c,x=i*u*M-o*c,_=u*o*M-i*c,Y=o*o*M+f,L=i*o*M+u*c,S=u*i*M+o*c,w=o*i*M-u*c,I=i*i*M+f,t[0]=h*y+b*q+A*x,t[1]=l*y+m*q+E*x,t[2]=v*y+p*q+O*x,t[3]=d*y+P*q+R*x,t[4]=h*_+b*Y+A*L,t[5]=l*_+m*Y+E*L,t[6]=v*_+p*Y+O*L,t[7]=d*_+P*Y+R*L,t[8]=h*S+b*w+A*I,t[9]=l*S+m*w+E*I,t[10]=v*S+p*w+O*I,t[11]=d*S+P*w+R*I,n!==t&&(t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]);return t},n.rotateX=function(t,n,r){var a=Math.sin(r),e=Math.cos(r),u=n[4],o=n[5],i=n[6],s=n[7],c=n[8],f=n[9],M=n[10],h=n[11];n!==t&&(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]);return t[4]=u*e+c*a,t[5]=o*e+f*a,t[6]=i*e+M*a,t[7]=s*e+h*a,t[8]=c*e-u*a,t[9]=f*e-o*a,t[10]=M*e-i*a,t[11]=h*e-s*a,t},n.rotateY=function(t,n,r){var a=Math.sin(r),e=Math.cos(r),u=n[0],o=n[1],i=n[2],s=n[3],c=n[8],f=n[9],M=n[10],h=n[11];n!==t&&(t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]);return t[0]=u*e-c*a,t[1]=o*e-f*a,t[2]=i*e-M*a,t[3]=s*e-h*a,t[8]=u*a+c*e,t[9]=o*a+f*e,t[10]=i*a+M*e,t[11]=s*a+h*e,t},n.rotateZ=function(t,n,r){var a=Math.sin(r),e=Math.cos(r),u=n[0],o=n[1],i=n[2],s=n[3],c=n[4],f=n[5],M=n[6],h=n[7];n!==t&&(t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]);return t[0]=u*e+c*a,t[1]=o*e+f*a,t[2]=i*e+M*a,t[3]=s*e+h*a,t[4]=c*e-u*a,t[5]=f*e-o*a,t[6]=M*e-i*a,t[7]=h*e-s*a,t},n.fromTranslation=function(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},n.fromScaling=function(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=n[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.fromRotation=function(t,n,r){var e=r[0],u=r[1],o=r[2],i=Math.sqrt(e*e+u*u+o*o),s=void 0,c=void 0,f=void 0;if(i<a.EPSILON)return null;return e*=i=1/i,u*=i,o*=i,s=Math.sin(n),c=Math.cos(n),f=1-c,t[0]=e*e*f+c,t[1]=u*e*f+o*s,t[2]=o*e*f-u*s,t[3]=0,t[4]=e*u*f-o*s,t[5]=u*u*f+c,t[6]=o*u*f+e*s,t[7]=0,t[8]=e*o*f+u*s,t[9]=u*o*f-e*s,t[10]=o*o*f+c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.fromXRotation=function(t,n){var r=Math.sin(n),a=Math.cos(n);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=r,t[7]=0,t[8]=0,t[9]=-r,t[10]=a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.fromYRotation=function(t,n){var r=Math.sin(n),a=Math.cos(n);return t[0]=a,t[1]=0,t[2]=-r,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=r,t[9]=0,t[10]=a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.fromZRotation=function(t,n){var r=Math.sin(n),a=Math.cos(n);return t[0]=a,t[1]=r,t[2]=0,t[3]=0,t[4]=-r,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.fromRotationTranslation=o,n.fromQuat2=function(t,n){var r=new a.ARRAY_TYPE(3),e=-n[0],u=-n[1],i=-n[2],s=n[3],c=n[4],f=n[5],M=n[6],h=n[7],l=e*e+u*u+i*i+s*s;l>0?(r[0]=2*(c*s+h*e+f*i-M*u)/l,r[1]=2*(f*s+h*u+M*e-c*i)/l,r[2]=2*(M*s+h*i+c*u-f*e)/l):(r[0]=2*(c*s+h*e+f*i-M*u),r[1]=2*(f*s+h*u+M*e-c*i),r[2]=2*(M*s+h*i+c*u-f*e));return o(t,n,r),t},n.getTranslation=function(t,n){return t[0]=n[12],t[1]=n[13],t[2]=n[14],t},n.getScaling=function(t,n){var r=n[0],a=n[1],e=n[2],u=n[4],o=n[5],i=n[6],s=n[8],c=n[9],f=n[10];return t[0]=Math.sqrt(r*r+a*a+e*e),t[1]=Math.sqrt(u*u+o*o+i*i),t[2]=Math.sqrt(s*s+c*c+f*f),t},n.getRotation=function(t,n){var r=n[0]+n[5]+n[10],a=0;r>0?(a=2*Math.sqrt(r+1),t[3]=.25*a,t[0]=(n[6]-n[9])/a,t[1]=(n[8]-n[2])/a,t[2]=(n[1]-n[4])/a):n[0]>n[5]&&n[0]>n[10]?(a=2*Math.sqrt(1+n[0]-n[5]-n[10]),t[3]=(n[6]-n[9])/a,t[0]=.25*a,t[1]=(n[1]+n[4])/a,t[2]=(n[8]+n[2])/a):n[5]>n[10]?(a=2*Math.sqrt(1+n[5]-n[0]-n[10]),t[3]=(n[8]-n[2])/a,t[0]=(n[1]+n[4])/a,t[1]=.25*a,t[2]=(n[6]+n[9])/a):(a=2*Math.sqrt(1+n[10]-n[0]-n[5]),t[3]=(n[1]-n[4])/a,t[0]=(n[8]+n[2])/a,t[1]=(n[6]+n[9])/a,t[2]=.25*a);return t},n.fromRotationTranslationScale=function(t,n,r,a){var e=n[0],u=n[1],o=n[2],i=n[3],s=e+e,c=u+u,f=o+o,M=e*s,h=e*c,l=e*f,v=u*c,d=u*f,b=o*f,m=i*s,p=i*c,P=i*f,A=a[0],E=a[1],O=a[2];return t[0]=(1-(v+b))*A,t[1]=(h+P)*A,t[2]=(l-p)*A,t[3]=0,t[4]=(h-P)*E,t[5]=(1-(M+b))*E,t[6]=(d+m)*E,t[7]=0,t[8]=(l+p)*O,t[9]=(d-m)*O,t[10]=(1-(M+v))*O,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t},n.fromRotationTranslationScaleOrigin=function(t,n,r,a,e){var u=n[0],o=n[1],i=n[2],s=n[3],c=u+u,f=o+o,M=i+i,h=u*c,l=u*f,v=u*M,d=o*f,b=o*M,m=i*M,p=s*c,P=s*f,A=s*M,E=a[0],O=a[1],R=a[2],y=e[0],q=e[1],x=e[2],_=(1-(d+m))*E,Y=(l+A)*E,L=(v-P)*E,S=(l-A)*O,w=(1-(h+m))*O,I=(b+p)*O,N=(v+P)*R,g=(b-p)*R,T=(1-(h+d))*R;return t[0]=_,t[1]=Y,t[2]=L,t[3]=0,t[4]=S,t[5]=w,t[6]=I,t[7]=0,t[8]=N,t[9]=g,t[10]=T,t[11]=0,t[12]=r[0]+y-(_*y+S*q+N*x),t[13]=r[1]+q-(Y*y+w*q+g*x),t[14]=r[2]+x-(L*y+I*q+T*x),t[15]=1,t},n.fromQuat=function(t,n){var r=n[0],a=n[1],e=n[2],u=n[3],o=r+r,i=a+a,s=e+e,c=r*o,f=a*o,M=a*i,h=e*o,l=e*i,v=e*s,d=u*o,b=u*i,m=u*s;return t[0]=1-M-v,t[1]=f+m,t[2]=h-b,t[3]=0,t[4]=f-m,t[5]=1-c-v,t[6]=l+d,t[7]=0,t[8]=h+b,t[9]=l-d,t[10]=1-c-M,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.frustum=function(t,n,r,a,e,u,o){var i=1/(r-n),s=1/(e-a),c=1/(u-o);return t[0]=2*u*i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*u*s,t[6]=0,t[7]=0,t[8]=(r+n)*i,t[9]=(e+a)*s,t[10]=(o+u)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*u*2*c,t[15]=0,t},n.perspective=function(t,n,r,a,e){var u=1/Math.tan(n/2),o=void 0;t[0]=u/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=e&&e!==1/0?(o=1/(a-e),t[10]=(e+a)*o,t[14]=2*e*a*o):(t[10]=-1,t[14]=-2*a);return t},n.perspectiveFromFieldOfView=function(t,n,r,a){var e=Math.tan(n.upDegrees*Math.PI/180),u=Math.tan(n.downDegrees*Math.PI/180),o=Math.tan(n.leftDegrees*Math.PI/180),i=Math.tan(n.rightDegrees*Math.PI/180),s=2/(o+i),c=2/(e+u);return t[0]=s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(o-i)*s*.5,t[9]=(e-u)*c*.5,t[10]=a/(r-a),t[11]=-1,t[12]=0,t[13]=0,t[14]=a*r/(r-a),t[15]=0,t},n.ortho=function(t,n,r,a,e,u,o){var i=1/(n-r),s=1/(a-e),c=1/(u-o);return t[0]=-2*i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(n+r)*i,t[13]=(e+a)*s,t[14]=(o+u)*c,t[15]=1,t},n.lookAt=function(t,n,r,u){var o=void 0,i=void 0,s=void 0,c=void 0,f=void 0,M=void 0,h=void 0,l=void 0,v=void 0,d=void 0,b=n[0],m=n[1],p=n[2],P=u[0],A=u[1],E=u[2],O=r[0],R=r[1],y=r[2];if(Math.abs(b-O)<a.EPSILON&&Math.abs(m-R)<a.EPSILON&&Math.abs(p-y)<a.EPSILON)return e(t);h=b-O,l=m-R,v=p-y,d=1/Math.sqrt(h*h+l*l+v*v),o=A*(v*=d)-E*(l*=d),i=E*(h*=d)-P*v,s=P*l-A*h,(d=Math.sqrt(o*o+i*i+s*s))?(o*=d=1/d,i*=d,s*=d):(o=0,i=0,s=0);c=l*s-v*i,f=v*o-h*s,M=h*i-l*o,(d=Math.sqrt(c*c+f*f+M*M))?(c*=d=1/d,f*=d,M*=d):(c=0,f=0,M=0);return t[0]=o,t[1]=c,t[2]=h,t[3]=0,t[4]=i,t[5]=f,t[6]=l,t[7]=0,t[8]=s,t[9]=M,t[10]=v,t[11]=0,t[12]=-(o*b+i*m+s*p),t[13]=-(c*b+f*m+M*p),t[14]=-(h*b+l*m+v*p),t[15]=1,t},n.targetTo=function(t,n,r,a){var e=n[0],u=n[1],o=n[2],i=a[0],s=a[1],c=a[2],f=e-r[0],M=u-r[1],h=o-r[2],l=f*f+M*M+h*h;l>0&&(l=1/Math.sqrt(l),f*=l,M*=l,h*=l);var v=s*h-c*M,d=c*f-i*h,b=i*M-s*f;(l=v*v+d*d+b*b)>0&&(l=1/Math.sqrt(l),v*=l,d*=l,b*=l);return t[0]=v,t[1]=d,t[2]=b,t[3]=0,t[4]=M*b-h*d,t[5]=h*v-f*b,t[6]=f*d-M*v,t[7]=0,t[8]=f,t[9]=M,t[10]=h,t[11]=0,t[12]=e,t[13]=u,t[14]=o,t[15]=1,t},n.str=function(t){return\"mat4(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\", \"+t[3]+\", \"+t[4]+\", \"+t[5]+\", \"+t[6]+\", \"+t[7]+\", \"+t[8]+\", \"+t[9]+\", \"+t[10]+\", \"+t[11]+\", \"+t[12]+\", \"+t[13]+\", \"+t[14]+\", \"+t[15]+\")\"},n.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},n.add=function(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t[3]=n[3]+r[3],t[4]=n[4]+r[4],t[5]=n[5]+r[5],t[6]=n[6]+r[6],t[7]=n[7]+r[7],t[8]=n[8]+r[8],t[9]=n[9]+r[9],t[10]=n[10]+r[10],t[11]=n[11]+r[11],t[12]=n[12]+r[12],t[13]=n[13]+r[13],t[14]=n[14]+r[14],t[15]=n[15]+r[15],t},n.subtract=i,n.multiplyScalar=function(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[7]=n[7]*r,t[8]=n[8]*r,t[9]=n[9]*r,t[10]=n[10]*r,t[11]=n[11]*r,t[12]=n[12]*r,t[13]=n[13]*r,t[14]=n[14]*r,t[15]=n[15]*r,t},n.multiplyScalarAndAdd=function(t,n,r,a){return t[0]=n[0]+r[0]*a,t[1]=n[1]+r[1]*a,t[2]=n[2]+r[2]*a,t[3]=n[3]+r[3]*a,t[4]=n[4]+r[4]*a,t[5]=n[5]+r[5]*a,t[6]=n[6]+r[6]*a,t[7]=n[7]+r[7]*a,t[8]=n[8]+r[8]*a,t[9]=n[9]+r[9]*a,t[10]=n[10]+r[10]*a,t[11]=n[11]+r[11]*a,t[12]=n[12]+r[12]*a,t[13]=n[13]+r[13]*a,t[14]=n[14]+r[14]*a,t[15]=n[15]+r[15]*a,t},n.exactEquals=function(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]&&t[8]===n[8]&&t[9]===n[9]&&t[10]===n[10]&&t[11]===n[11]&&t[12]===n[12]&&t[13]===n[13]&&t[14]===n[14]&&t[15]===n[15]},n.equals=function(t,n){var r=t[0],e=t[1],u=t[2],o=t[3],i=t[4],s=t[5],c=t[6],f=t[7],M=t[8],h=t[9],l=t[10],v=t[11],d=t[12],b=t[13],m=t[14],p=t[15],P=n[0],A=n[1],E=n[2],O=n[3],R=n[4],y=n[5],q=n[6],x=n[7],_=n[8],Y=n[9],L=n[10],S=n[11],w=n[12],I=n[13],N=n[14],g=n[15];return Math.abs(r-P)<=a.EPSILON*Math.max(1,Math.abs(r),Math.abs(P))&&Math.abs(e-A)<=a.EPSILON*Math.max(1,Math.abs(e),Math.abs(A))&&Math.abs(u-E)<=a.EPSILON*Math.max(1,Math.abs(u),Math.abs(E))&&Math.abs(o-O)<=a.EPSILON*Math.max(1,Math.abs(o),Math.abs(O))&&Math.abs(i-R)<=a.EPSILON*Math.max(1,Math.abs(i),Math.abs(R))&&Math.abs(s-y)<=a.EPSILON*Math.max(1,Math.abs(s),Math.abs(y))&&Math.abs(c-q)<=a.EPSILON*Math.max(1,Math.abs(c),Math.abs(q))&&Math.abs(f-x)<=a.EPSILON*Math.max(1,Math.abs(f),Math.abs(x))&&Math.abs(M-_)<=a.EPSILON*Math.max(1,Math.abs(M),Math.abs(_))&&Math.abs(h-Y)<=a.EPSILON*Math.max(1,Math.abs(h),Math.abs(Y))&&Math.abs(l-L)<=a.EPSILON*Math.max(1,Math.abs(l),Math.abs(L))&&Math.abs(v-S)<=a.EPSILON*Math.max(1,Math.abs(v),Math.abs(S))&&Math.abs(d-w)<=a.EPSILON*Math.max(1,Math.abs(d),Math.abs(w))&&Math.abs(b-I)<=a.EPSILON*Math.max(1,Math.abs(b),Math.abs(I))&&Math.abs(m-N)<=a.EPSILON*Math.max(1,Math.abs(m),Math.abs(N))&&Math.abs(p-g)<=a.EPSILON*Math.max(1,Math.abs(p),Math.abs(g))};var a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n.default=t,n}(r(0));function e(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function u(t,n,r){var a=n[0],e=n[1],u=n[2],o=n[3],i=n[4],s=n[5],c=n[6],f=n[7],M=n[8],h=n[9],l=n[10],v=n[11],d=n[12],b=n[13],m=n[14],p=n[15],P=r[0],A=r[1],E=r[2],O=r[3];return t[0]=P*a+A*i+E*M+O*d,t[1]=P*e+A*s+E*h+O*b,t[2]=P*u+A*c+E*l+O*m,t[3]=P*o+A*f+E*v+O*p,P=r[4],A=r[5],E=r[6],O=r[7],t[4]=P*a+A*i+E*M+O*d,t[5]=P*e+A*s+E*h+O*b,t[6]=P*u+A*c+E*l+O*m,t[7]=P*o+A*f+E*v+O*p,P=r[8],A=r[9],E=r[10],O=r[11],t[8]=P*a+A*i+E*M+O*d,t[9]=P*e+A*s+E*h+O*b,t[10]=P*u+A*c+E*l+O*m,t[11]=P*o+A*f+E*v+O*p,P=r[12],A=r[13],E=r[14],O=r[15],t[12]=P*a+A*i+E*M+O*d,t[13]=P*e+A*s+E*h+O*b,t[14]=P*u+A*c+E*l+O*m,t[15]=P*o+A*f+E*v+O*p,t}function o(t,n,r){var a=n[0],e=n[1],u=n[2],o=n[3],i=a+a,s=e+e,c=u+u,f=a*i,M=a*s,h=a*c,l=e*s,v=e*c,d=u*c,b=o*i,m=o*s,p=o*c;return t[0]=1-(l+d),t[1]=M+p,t[2]=h-m,t[3]=0,t[4]=M-p,t[5]=1-(f+d),t[6]=v+b,t[7]=0,t[8]=h+m,t[9]=v-b,t[10]=1-(f+l),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function i(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t[2]=n[2]-r[2],t[3]=n[3]-r[3],t[4]=n[4]-r[4],t[5]=n[5]-r[5],t[6]=n[6]-r[6],t[7]=n[7]-r[7],t[8]=n[8]-r[8],t[9]=n[9]-r[9],t[10]=n[10]-r[10],t[11]=n[11]-r[11],t[12]=n[12]-r[12],t[13]=n[13]-r[13],t[14]=n[14]-r[14],t[15]=n[15]-r[15],t}n.mul=u,n.sub=i},function(t,n,r){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0}),n.sub=n.mul=void 0,n.create=function(){var t=new a.ARRAY_TYPE(9);a.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0);return t[0]=1,t[4]=1,t[8]=1,t},n.fromMat4=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[4],t[4]=n[5],t[5]=n[6],t[6]=n[8],t[7]=n[9],t[8]=n[10],t},n.clone=function(t){var n=new a.ARRAY_TYPE(9);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n},n.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t},n.fromValues=function(t,n,r,e,u,o,i,s,c){var f=new a.ARRAY_TYPE(9);return f[0]=t,f[1]=n,f[2]=r,f[3]=e,f[4]=u,f[5]=o,f[6]=i,f[7]=s,f[8]=c,f},n.set=function(t,n,r,a,e,u,o,i,s,c){return t[0]=n,t[1]=r,t[2]=a,t[3]=e,t[4]=u,t[5]=o,t[6]=i,t[7]=s,t[8]=c,t},n.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},n.transpose=function(t,n){if(t===n){var r=n[1],a=n[2],e=n[5];t[1]=n[3],t[2]=n[6],t[3]=r,t[5]=n[7],t[6]=a,t[7]=e}else t[0]=n[0],t[1]=n[3],t[2]=n[6],t[3]=n[1],t[4]=n[4],t[5]=n[7],t[6]=n[2],t[7]=n[5],t[8]=n[8];return t},n.invert=function(t,n){var r=n[0],a=n[1],e=n[2],u=n[3],o=n[4],i=n[5],s=n[6],c=n[7],f=n[8],M=f*o-i*c,h=-f*u+i*s,l=c*u-o*s,v=r*M+a*h+e*l;if(!v)return null;return v=1/v,t[0]=M*v,t[1]=(-f*a+e*c)*v,t[2]=(i*a-e*o)*v,t[3]=h*v,t[4]=(f*r-e*s)*v,t[5]=(-i*r+e*u)*v,t[6]=l*v,t[7]=(-c*r+a*s)*v,t[8]=(o*r-a*u)*v,t},n.adjoint=function(t,n){var r=n[0],a=n[1],e=n[2],u=n[3],o=n[4],i=n[5],s=n[6],c=n[7],f=n[8];return t[0]=o*f-i*c,t[1]=e*c-a*f,t[2]=a*i-e*o,t[3]=i*s-u*f,t[4]=r*f-e*s,t[5]=e*u-r*i,t[6]=u*c-o*s,t[7]=a*s-r*c,t[8]=r*o-a*u,t},n.determinant=function(t){var n=t[0],r=t[1],a=t[2],e=t[3],u=t[4],o=t[5],i=t[6],s=t[7],c=t[8];return n*(c*u-o*s)+r*(-c*e+o*i)+a*(s*e-u*i)},n.multiply=e,n.translate=function(t,n,r){var a=n[0],e=n[1],u=n[2],o=n[3],i=n[4],s=n[5],c=n[6],f=n[7],M=n[8],h=r[0],l=r[1];return t[0]=a,t[1]=e,t[2]=u,t[3]=o,t[4]=i,t[5]=s,t[6]=h*a+l*o+c,t[7]=h*e+l*i+f,t[8]=h*u+l*s+M,t},n.rotate=function(t,n,r){var a=n[0],e=n[1],u=n[2],o=n[3],i=n[4],s=n[5],c=n[6],f=n[7],M=n[8],h=Math.sin(r),l=Math.cos(r);return t[0]=l*a+h*o,t[1]=l*e+h*i,t[2]=l*u+h*s,t[3]=l*o-h*a,t[4]=l*i-h*e,t[5]=l*s-h*u,t[6]=c,t[7]=f,t[8]=M,t},n.scale=function(t,n,r){var a=r[0],e=r[1];return t[0]=a*n[0],t[1]=a*n[1],t[2]=a*n[2],t[3]=e*n[3],t[4]=e*n[4],t[5]=e*n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t},n.fromTranslation=function(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=n[0],t[7]=n[1],t[8]=1,t},n.fromRotation=function(t,n){var r=Math.sin(n),a=Math.cos(n);return t[0]=a,t[1]=r,t[2]=0,t[3]=-r,t[4]=a,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},n.fromScaling=function(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=n[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},n.fromMat2d=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=0,t[3]=n[2],t[4]=n[3],t[5]=0,t[6]=n[4],t[7]=n[5],t[8]=1,t},n.fromQuat=function(t,n){var r=n[0],a=n[1],e=n[2],u=n[3],o=r+r,i=a+a,s=e+e,c=r*o,f=a*o,M=a*i,h=e*o,l=e*i,v=e*s,d=u*o,b=u*i,m=u*s;return t[0]=1-M-v,t[3]=f-m,t[6]=h+b,t[1]=f+m,t[4]=1-c-v,t[7]=l-d,t[2]=h-b,t[5]=l+d,t[8]=1-c-M,t},n.normalFromMat4=function(t,n){var r=n[0],a=n[1],e=n[2],u=n[3],o=n[4],i=n[5],s=n[6],c=n[7],f=n[8],M=n[9],h=n[10],l=n[11],v=n[12],d=n[13],b=n[14],m=n[15],p=r*i-a*o,P=r*s-e*o,A=r*c-u*o,E=a*s-e*i,O=a*c-u*i,R=e*c-u*s,y=f*d-M*v,q=f*b-h*v,x=f*m-l*v,_=M*b-h*d,Y=M*m-l*d,L=h*m-l*b,S=p*L-P*Y+A*_+E*x-O*q+R*y;if(!S)return null;return S=1/S,t[0]=(i*L-s*Y+c*_)*S,t[1]=(s*x-o*L-c*q)*S,t[2]=(o*Y-i*x+c*y)*S,t[3]=(e*Y-a*L-u*_)*S,t[4]=(r*L-e*x+u*q)*S,t[5]=(a*x-r*Y-u*y)*S,t[6]=(d*R-b*O+m*E)*S,t[7]=(b*A-v*R-m*P)*S,t[8]=(v*O-d*A+m*p)*S,t},n.projection=function(t,n,r){return t[0]=2/n,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/r,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},n.str=function(t){return\"mat3(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\", \"+t[3]+\", \"+t[4]+\", \"+t[5]+\", \"+t[6]+\", \"+t[7]+\", \"+t[8]+\")\"},n.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},n.add=function(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t[3]=n[3]+r[3],t[4]=n[4]+r[4],t[5]=n[5]+r[5],t[6]=n[6]+r[6],t[7]=n[7]+r[7],t[8]=n[8]+r[8],t},n.subtract=u,n.multiplyScalar=function(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[7]=n[7]*r,t[8]=n[8]*r,t},n.multiplyScalarAndAdd=function(t,n,r,a){return t[0]=n[0]+r[0]*a,t[1]=n[1]+r[1]*a,t[2]=n[2]+r[2]*a,t[3]=n[3]+r[3]*a,t[4]=n[4]+r[4]*a,t[5]=n[5]+r[5]*a,t[6]=n[6]+r[6]*a,t[7]=n[7]+r[7]*a,t[8]=n[8]+r[8]*a,t},n.exactEquals=function(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]&&t[8]===n[8]},n.equals=function(t,n){var r=t[0],e=t[1],u=t[2],o=t[3],i=t[4],s=t[5],c=t[6],f=t[7],M=t[8],h=n[0],l=n[1],v=n[2],d=n[3],b=n[4],m=n[5],p=n[6],P=n[7],A=n[8];return Math.abs(r-h)<=a.EPSILON*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(e-l)<=a.EPSILON*Math.max(1,Math.abs(e),Math.abs(l))&&Math.abs(u-v)<=a.EPSILON*Math.max(1,Math.abs(u),Math.abs(v))&&Math.abs(o-d)<=a.EPSILON*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(i-b)<=a.EPSILON*Math.max(1,Math.abs(i),Math.abs(b))&&Math.abs(s-m)<=a.EPSILON*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(c-p)<=a.EPSILON*Math.max(1,Math.abs(c),Math.abs(p))&&Math.abs(f-P)<=a.EPSILON*Math.max(1,Math.abs(f),Math.abs(P))&&Math.abs(M-A)<=a.EPSILON*Math.max(1,Math.abs(M),Math.abs(A))};var a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n.default=t,n}(r(0));function e(t,n,r){var a=n[0],e=n[1],u=n[2],o=n[3],i=n[4],s=n[5],c=n[6],f=n[7],M=n[8],h=r[0],l=r[1],v=r[2],d=r[3],b=r[4],m=r[5],p=r[6],P=r[7],A=r[8];return t[0]=h*a+l*o+v*c,t[1]=h*e+l*i+v*f,t[2]=h*u+l*s+v*M,t[3]=d*a+b*o+m*c,t[4]=d*e+b*i+m*f,t[5]=d*u+b*s+m*M,t[6]=p*a+P*o+A*c,t[7]=p*e+P*i+A*f,t[8]=p*u+P*s+A*M,t}function u(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t[2]=n[2]-r[2],t[3]=n[3]-r[3],t[4]=n[4]-r[4],t[5]=n[5]-r[5],t[6]=n[6]-r[6],t[7]=n[7]-r[7],t[8]=n[8]-r[8],t}n.mul=e,n.sub=u},function(t,n,r){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0}),n.forEach=n.sqrLen=n.sqrDist=n.dist=n.div=n.mul=n.sub=n.len=void 0,n.create=e,n.clone=function(t){var n=new a.ARRAY_TYPE(2);return n[0]=t[0],n[1]=t[1],n},n.fromValues=function(t,n){var r=new a.ARRAY_TYPE(2);return r[0]=t,r[1]=n,r},n.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t},n.set=function(t,n,r){return t[0]=n,t[1]=r,t},n.add=function(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t},n.subtract=u,n.multiply=o,n.divide=i,n.ceil=function(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t},n.floor=function(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t},n.min=function(t,n,r){return t[0]=Math.min(n[0],r[0]),t[1]=Math.min(n[1],r[1]),t},n.max=function(t,n,r){return t[0]=Math.max(n[0],r[0]),t[1]=Math.max(n[1],r[1]),t},n.round=function(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t},n.scale=function(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t},n.scaleAndAdd=function(t,n,r,a){return t[0]=n[0]+r[0]*a,t[1]=n[1]+r[1]*a,t},n.distance=s,n.squaredDistance=c,n.length=f,n.squaredLength=M,n.negate=function(t,n){return t[0]=-n[0],t[1]=-n[1],t},n.inverse=function(t,n){return t[0]=1/n[0],t[1]=1/n[1],t},n.normalize=function(t,n){var r=n[0],a=n[1],e=r*r+a*a;e>0&&(e=1/Math.sqrt(e),t[0]=n[0]*e,t[1]=n[1]*e);return t},n.dot=function(t,n){return t[0]*n[0]+t[1]*n[1]},n.cross=function(t,n,r){var a=n[0]*r[1]-n[1]*r[0];return t[0]=t[1]=0,t[2]=a,t},n.lerp=function(t,n,r,a){var e=n[0],u=n[1];return t[0]=e+a*(r[0]-e),t[1]=u+a*(r[1]-u),t},n.random=function(t,n){n=n||1;var r=2*a.RANDOM()*Math.PI;return t[0]=Math.cos(r)*n,t[1]=Math.sin(r)*n,t},n.transformMat2=function(t,n,r){var a=n[0],e=n[1];return t[0]=r[0]*a+r[2]*e,t[1]=r[1]*a+r[3]*e,t},n.transformMat2d=function(t,n,r){var a=n[0],e=n[1];return t[0]=r[0]*a+r[2]*e+r[4],t[1]=r[1]*a+r[3]*e+r[5],t},n.transformMat3=function(t,n,r){var a=n[0],e=n[1];return t[0]=r[0]*a+r[3]*e+r[6],t[1]=r[1]*a+r[4]*e+r[7],t},n.transformMat4=function(t,n,r){var a=n[0],e=n[1];return t[0]=r[0]*a+r[4]*e+r[12],t[1]=r[1]*a+r[5]*e+r[13],t},n.rotate=function(t,n,r,a){var e=n[0]-r[0],u=n[1]-r[1],o=Math.sin(a),i=Math.cos(a);return t[0]=e*i-u*o+r[0],t[1]=e*o+u*i+r[1],t},n.angle=function(t,n){var r=t[0],a=t[1],e=n[0],u=n[1],o=r*r+a*a;o>0&&(o=1/Math.sqrt(o));var i=e*e+u*u;i>0&&(i=1/Math.sqrt(i));var s=(r*e+a*u)*o*i;return s>1?0:s<-1?Math.PI:Math.acos(s)},n.str=function(t){return\"vec2(\"+t[0]+\", \"+t[1]+\")\"},n.exactEquals=function(t,n){return t[0]===n[0]&&t[1]===n[1]},n.equals=function(t,n){var r=t[0],e=t[1],u=n[0],o=n[1];return Math.abs(r-u)<=a.EPSILON*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(e-o)<=a.EPSILON*Math.max(1,Math.abs(e),Math.abs(o))};var a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n.default=t,n}(r(0));function e(){var t=new a.ARRAY_TYPE(2);return a.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0),t}function u(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t}function o(t,n,r){return t[0]=n[0]*r[0],t[1]=n[1]*r[1],t}function i(t,n,r){return t[0]=n[0]/r[0],t[1]=n[1]/r[1],t}function s(t,n){var r=n[0]-t[0],a=n[1]-t[1];return Math.sqrt(r*r+a*a)}function c(t,n){var r=n[0]-t[0],a=n[1]-t[1];return r*r+a*a}function f(t){var n=t[0],r=t[1];return Math.sqrt(n*n+r*r)}function M(t){var n=t[0],r=t[1];return n*n+r*r}n.len=f,n.sub=u,n.mul=o,n.div=i,n.dist=s,n.sqrDist=c,n.sqrLen=M,n.forEach=function(){var t=e();return function(n,r,a,e,u,o){var i=void 0,s=void 0;for(r||(r=2),a||(a=0),s=e?Math.min(e*r+a,n.length):n.length,i=a;i<s;i+=r)t[0]=n[i],t[1]=n[i+1],u(t,t,o),n[i]=t[0],n[i+1]=t[1];return n}}()},function(t,n,r){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0}),n.sqrLen=n.squaredLength=n.len=n.length=n.dot=n.mul=n.setReal=n.getReal=void 0,n.create=function(){var t=new a.ARRAY_TYPE(8);a.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0);return t[3]=1,t},n.clone=function(t){var n=new a.ARRAY_TYPE(8);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n},n.fromValues=function(t,n,r,e,u,o,i,s){var c=new a.ARRAY_TYPE(8);return c[0]=t,c[1]=n,c[2]=r,c[3]=e,c[4]=u,c[5]=o,c[6]=i,c[7]=s,c},n.fromRotationTranslationValues=function(t,n,r,e,u,o,i){var s=new a.ARRAY_TYPE(8);s[0]=t,s[1]=n,s[2]=r,s[3]=e;var c=.5*u,f=.5*o,M=.5*i;return s[4]=c*e+f*r-M*n,s[5]=f*e+M*t-c*r,s[6]=M*e+c*n-f*t,s[7]=-c*t-f*n-M*r,s},n.fromRotationTranslation=i,n.fromTranslation=function(t,n){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*n[0],t[5]=.5*n[1],t[6]=.5*n[2],t[7]=0,t},n.fromRotation=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t},n.fromMat4=function(t,n){var r=e.create();u.getRotation(r,n);var o=new a.ARRAY_TYPE(3);return u.getTranslation(o,n),i(t,r,o),t},n.copy=s,n.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t},n.set=function(t,n,r,a,e,u,o,i,s){return t[0]=n,t[1]=r,t[2]=a,t[3]=e,t[4]=u,t[5]=o,t[6]=i,t[7]=s,t},n.getDual=function(t,n){return t[0]=n[4],t[1]=n[5],t[2]=n[6],t[3]=n[7],t},n.setDual=function(t,n){return t[4]=n[0],t[5]=n[1],t[6]=n[2],t[7]=n[3],t},n.getTranslation=function(t,n){var r=n[4],a=n[5],e=n[6],u=n[7],o=-n[0],i=-n[1],s=-n[2],c=n[3];return t[0]=2*(r*c+u*o+a*s-e*i),t[1]=2*(a*c+u*i+e*o-r*s),t[2]=2*(e*c+u*s+r*i-a*o),t},n.translate=function(t,n,r){var a=n[0],e=n[1],u=n[2],o=n[3],i=.5*r[0],s=.5*r[1],c=.5*r[2],f=n[4],M=n[5],h=n[6],l=n[7];return t[0]=a,t[1]=e,t[2]=u,t[3]=o,t[4]=o*i+e*c-u*s+f,t[5]=o*s+u*i-a*c+M,t[6]=o*c+a*s-e*i+h,t[7]=-a*i-e*s-u*c+l,t},n.rotateX=function(t,n,r){var a=-n[0],u=-n[1],o=-n[2],i=n[3],s=n[4],c=n[5],f=n[6],M=n[7],h=s*i+M*a+c*o-f*u,l=c*i+M*u+f*a-s*o,v=f*i+M*o+s*u-c*a,d=M*i-s*a-c*u-f*o;return e.rotateX(t,n,r),a=t[0],u=t[1],o=t[2],i=t[3],t[4]=h*i+d*a+l*o-v*u,t[5]=l*i+d*u+v*a-h*o,t[6]=v*i+d*o+h*u-l*a,t[7]=d*i-h*a-l*u-v*o,t},n.rotateY=function(t,n,r){var a=-n[0],u=-n[1],o=-n[2],i=n[3],s=n[4],c=n[5],f=n[6],M=n[7],h=s*i+M*a+c*o-f*u,l=c*i+M*u+f*a-s*o,v=f*i+M*o+s*u-c*a,d=M*i-s*a-c*u-f*o;return e.rotateY(t,n,r),a=t[0],u=t[1],o=t[2],i=t[3],t[4]=h*i+d*a+l*o-v*u,t[5]=l*i+d*u+v*a-h*o,t[6]=v*i+d*o+h*u-l*a,t[7]=d*i-h*a-l*u-v*o,t},n.rotateZ=function(t,n,r){var a=-n[0],u=-n[1],o=-n[2],i=n[3],s=n[4],c=n[5],f=n[6],M=n[7],h=s*i+M*a+c*o-f*u,l=c*i+M*u+f*a-s*o,v=f*i+M*o+s*u-c*a,d=M*i-s*a-c*u-f*o;return e.rotateZ(t,n,r),a=t[0],u=t[1],o=t[2],i=t[3],t[4]=h*i+d*a+l*o-v*u,t[5]=l*i+d*u+v*a-h*o,t[6]=v*i+d*o+h*u-l*a,t[7]=d*i-h*a-l*u-v*o,t},n.rotateByQuatAppend=function(t,n,r){var a=r[0],e=r[1],u=r[2],o=r[3],i=n[0],s=n[1],c=n[2],f=n[3];return t[0]=i*o+f*a+s*u-c*e,t[1]=s*o+f*e+c*a-i*u,t[2]=c*o+f*u+i*e-s*a,t[3]=f*o-i*a-s*e-c*u,i=n[4],s=n[5],c=n[6],f=n[7],t[4]=i*o+f*a+s*u-c*e,t[5]=s*o+f*e+c*a-i*u,t[6]=c*o+f*u+i*e-s*a,t[7]=f*o-i*a-s*e-c*u,t},n.rotateByQuatPrepend=function(t,n,r){var a=n[0],e=n[1],u=n[2],o=n[3],i=r[0],s=r[1],c=r[2],f=r[3];return t[0]=a*f+o*i+e*c-u*s,t[1]=e*f+o*s+u*i-a*c,t[2]=u*f+o*c+a*s-e*i,t[3]=o*f-a*i-e*s-u*c,i=r[4],s=r[5],c=r[6],f=r[7],t[4]=a*f+o*i+e*c-u*s,t[5]=e*f+o*s+u*i-a*c,t[6]=u*f+o*c+a*s-e*i,t[7]=o*f-a*i-e*s-u*c,t},n.rotateAroundAxis=function(t,n,r,e){if(Math.abs(e)<a.EPSILON)return s(t,n);var u=Math.sqrt(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);e*=.5;var o=Math.sin(e),i=o*r[0]/u,c=o*r[1]/u,f=o*r[2]/u,M=Math.cos(e),h=n[0],l=n[1],v=n[2],d=n[3];t[0]=h*M+d*i+l*f-v*c,t[1]=l*M+d*c+v*i-h*f,t[2]=v*M+d*f+h*c-l*i,t[3]=d*M-h*i-l*c-v*f;var b=n[4],m=n[5],p=n[6],P=n[7];return t[4]=b*M+P*i+m*f-p*c,t[5]=m*M+P*c+p*i-b*f,t[6]=p*M+P*f+b*c-m*i,t[7]=P*M-b*i-m*c-p*f,t},n.add=function(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t[3]=n[3]+r[3],t[4]=n[4]+r[4],t[5]=n[5]+r[5],t[6]=n[6]+r[6],t[7]=n[7]+r[7],t},n.multiply=c,n.scale=function(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[7]=n[7]*r,t},n.lerp=function(t,n,r,a){var e=1-a;f(n,r)<0&&(a=-a);return t[0]=n[0]*e+r[0]*a,t[1]=n[1]*e+r[1]*a,t[2]=n[2]*e+r[2]*a,t[3]=n[3]*e+r[3]*a,t[4]=n[4]*e+r[4]*a,t[5]=n[5]*e+r[5]*a,t[6]=n[6]*e+r[6]*a,t[7]=n[7]*e+r[7]*a,t},n.invert=function(t,n){var r=h(n);return t[0]=-n[0]/r,t[1]=-n[1]/r,t[2]=-n[2]/r,t[3]=n[3]/r,t[4]=-n[4]/r,t[5]=-n[5]/r,t[6]=-n[6]/r,t[7]=n[7]/r,t},n.conjugate=function(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=n[3],t[4]=-n[4],t[5]=-n[5],t[6]=-n[6],t[7]=n[7],t},n.normalize=function(t,n){var r=h(n);if(r>0){r=Math.sqrt(r);var a=n[0]/r,e=n[1]/r,u=n[2]/r,o=n[3]/r,i=n[4],s=n[5],c=n[6],f=n[7],M=a*i+e*s+u*c+o*f;t[0]=a,t[1]=e,t[2]=u,t[3]=o,t[4]=(i-a*M)/r,t[5]=(s-e*M)/r,t[6]=(c-u*M)/r,t[7]=(f-o*M)/r}return t},n.str=function(t){return\"quat2(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\", \"+t[3]+\", \"+t[4]+\", \"+t[5]+\", \"+t[6]+\", \"+t[7]+\")\"},n.exactEquals=function(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]},n.equals=function(t,n){var r=t[0],e=t[1],u=t[2],o=t[3],i=t[4],s=t[5],c=t[6],f=t[7],M=n[0],h=n[1],l=n[2],v=n[3],d=n[4],b=n[5],m=n[6],p=n[7];return Math.abs(r-M)<=a.EPSILON*Math.max(1,Math.abs(r),Math.abs(M))&&Math.abs(e-h)<=a.EPSILON*Math.max(1,Math.abs(e),Math.abs(h))&&Math.abs(u-l)<=a.EPSILON*Math.max(1,Math.abs(u),Math.abs(l))&&Math.abs(o-v)<=a.EPSILON*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(i-d)<=a.EPSILON*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(s-b)<=a.EPSILON*Math.max(1,Math.abs(s),Math.abs(b))&&Math.abs(c-m)<=a.EPSILON*Math.max(1,Math.abs(c),Math.abs(m))&&Math.abs(f-p)<=a.EPSILON*Math.max(1,Math.abs(f),Math.abs(p))};var a=o(r(0)),e=o(r(3)),u=o(r(4));function o(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n.default=t,n}function i(t,n,r){var a=.5*r[0],e=.5*r[1],u=.5*r[2],o=n[0],i=n[1],s=n[2],c=n[3];return t[0]=o,t[1]=i,t[2]=s,t[3]=c,t[4]=a*c+e*s-u*i,t[5]=e*c+u*o-a*s,t[6]=u*c+a*i-e*o,t[7]=-a*o-e*i-u*s,t}function s(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t}n.getReal=e.copy;n.setReal=e.copy;function c(t,n,r){var a=n[0],e=n[1],u=n[2],o=n[3],i=r[4],s=r[5],c=r[6],f=r[7],M=n[4],h=n[5],l=n[6],v=n[7],d=r[0],b=r[1],m=r[2],p=r[3];return t[0]=a*p+o*d+e*m-u*b,t[1]=e*p+o*b+u*d-a*m,t[2]=u*p+o*m+a*b-e*d,t[3]=o*p-a*d-e*b-u*m,t[4]=a*f+o*i+e*c-u*s+M*p+v*d+h*m-l*b,t[5]=e*f+o*s+u*i-a*c+h*p+v*b+l*d-M*m,t[6]=u*f+o*c+a*s-e*i+l*p+v*m+M*b-h*d,t[7]=o*f-a*i-e*s-u*c+v*p-M*d-h*b-l*m,t}n.mul=c;var f=n.dot=e.dot;var M=n.length=e.length,h=(n.len=M,n.squaredLength=e.squaredLength);n.sqrLen=h},function(t,n,r){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0}),n.sub=n.mul=void 0,n.create=function(){var t=new a.ARRAY_TYPE(6);a.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[4]=0,t[5]=0);return t[0]=1,t[3]=1,t},n.clone=function(t){var n=new a.ARRAY_TYPE(6);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n},n.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t},n.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},n.fromValues=function(t,n,r,e,u,o){var i=new a.ARRAY_TYPE(6);return i[0]=t,i[1]=n,i[2]=r,i[3]=e,i[4]=u,i[5]=o,i},n.set=function(t,n,r,a,e,u,o){return t[0]=n,t[1]=r,t[2]=a,t[3]=e,t[4]=u,t[5]=o,t},n.invert=function(t,n){var r=n[0],a=n[1],e=n[2],u=n[3],o=n[4],i=n[5],s=r*u-a*e;if(!s)return null;return s=1/s,t[0]=u*s,t[1]=-a*s,t[2]=-e*s,t[3]=r*s,t[4]=(e*i-u*o)*s,t[5]=(a*o-r*i)*s,t},n.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},n.multiply=e,n.rotate=function(t,n,r){var a=n[0],e=n[1],u=n[2],o=n[3],i=n[4],s=n[5],c=Math.sin(r),f=Math.cos(r);return t[0]=a*f+u*c,t[1]=e*f+o*c,t[2]=a*-c+u*f,t[3]=e*-c+o*f,t[4]=i,t[5]=s,t},n.scale=function(t,n,r){var a=n[0],e=n[1],u=n[2],o=n[3],i=n[4],s=n[5],c=r[0],f=r[1];return t[0]=a*c,t[1]=e*c,t[2]=u*f,t[3]=o*f,t[4]=i,t[5]=s,t},n.translate=function(t,n,r){var a=n[0],e=n[1],u=n[2],o=n[3],i=n[4],s=n[5],c=r[0],f=r[1];return t[0]=a,t[1]=e,t[2]=u,t[3]=o,t[4]=a*c+u*f+i,t[5]=e*c+o*f+s,t},n.fromRotation=function(t,n){var r=Math.sin(n),a=Math.cos(n);return t[0]=a,t[1]=r,t[2]=-r,t[3]=a,t[4]=0,t[5]=0,t},n.fromScaling=function(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=n[1],t[4]=0,t[5]=0,t},n.fromTranslation=function(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=n[0],t[5]=n[1],t},n.str=function(t){return\"mat2d(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\", \"+t[3]+\", \"+t[4]+\", \"+t[5]+\")\"},n.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},n.add=function(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t[3]=n[3]+r[3],t[4]=n[4]+r[4],t[5]=n[5]+r[5],t},n.subtract=u,n.multiplyScalar=function(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t[4]=n[4]*r,t[5]=n[5]*r,t},n.multiplyScalarAndAdd=function(t,n,r,a){return t[0]=n[0]+r[0]*a,t[1]=n[1]+r[1]*a,t[2]=n[2]+r[2]*a,t[3]=n[3]+r[3]*a,t[4]=n[4]+r[4]*a,t[5]=n[5]+r[5]*a,t},n.exactEquals=function(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]},n.equals=function(t,n){var r=t[0],e=t[1],u=t[2],o=t[3],i=t[4],s=t[5],c=n[0],f=n[1],M=n[2],h=n[3],l=n[4],v=n[5];return Math.abs(r-c)<=a.EPSILON*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(e-f)<=a.EPSILON*Math.max(1,Math.abs(e),Math.abs(f))&&Math.abs(u-M)<=a.EPSILON*Math.max(1,Math.abs(u),Math.abs(M))&&Math.abs(o-h)<=a.EPSILON*Math.max(1,Math.abs(o),Math.abs(h))&&Math.abs(i-l)<=a.EPSILON*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(s-v)<=a.EPSILON*Math.max(1,Math.abs(s),Math.abs(v))};var a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n.default=t,n}(r(0));function e(t,n,r){var a=n[0],e=n[1],u=n[2],o=n[3],i=n[4],s=n[5],c=r[0],f=r[1],M=r[2],h=r[3],l=r[4],v=r[5];return t[0]=a*c+u*f,t[1]=e*c+o*f,t[2]=a*M+u*h,t[3]=e*M+o*h,t[4]=a*l+u*v+i,t[5]=e*l+o*v+s,t}function u(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t[2]=n[2]-r[2],t[3]=n[3]-r[3],t[4]=n[4]-r[4],t[5]=n[5]-r[5],t}n.mul=e,n.sub=u},function(t,n,r){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0}),n.sub=n.mul=void 0,n.create=function(){var t=new a.ARRAY_TYPE(4);a.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0);return t[0]=1,t[3]=1,t},n.clone=function(t){var n=new a.ARRAY_TYPE(4);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n},n.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t},n.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},n.fromValues=function(t,n,r,e){var u=new a.ARRAY_TYPE(4);return u[0]=t,u[1]=n,u[2]=r,u[3]=e,u},n.set=function(t,n,r,a,e){return t[0]=n,t[1]=r,t[2]=a,t[3]=e,t},n.transpose=function(t,n){if(t===n){var r=n[1];t[1]=n[2],t[2]=r}else t[0]=n[0],t[1]=n[2],t[2]=n[1],t[3]=n[3];return t},n.invert=function(t,n){var r=n[0],a=n[1],e=n[2],u=n[3],o=r*u-e*a;if(!o)return null;return o=1/o,t[0]=u*o,t[1]=-a*o,t[2]=-e*o,t[3]=r*o,t},n.adjoint=function(t,n){var r=n[0];return t[0]=n[3],t[1]=-n[1],t[2]=-n[2],t[3]=r,t},n.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},n.multiply=e,n.rotate=function(t,n,r){var a=n[0],e=n[1],u=n[2],o=n[3],i=Math.sin(r),s=Math.cos(r);return t[0]=a*s+u*i,t[1]=e*s+o*i,t[2]=a*-i+u*s,t[3]=e*-i+o*s,t},n.scale=function(t,n,r){var a=n[0],e=n[1],u=n[2],o=n[3],i=r[0],s=r[1];return t[0]=a*i,t[1]=e*i,t[2]=u*s,t[3]=o*s,t},n.fromRotation=function(t,n){var r=Math.sin(n),a=Math.cos(n);return t[0]=a,t[1]=r,t[2]=-r,t[3]=a,t},n.fromScaling=function(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=n[1],t},n.str=function(t){return\"mat2(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\", \"+t[3]+\")\"},n.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},n.LDU=function(t,n,r,a){return t[2]=a[2]/a[0],r[0]=a[0],r[1]=a[1],r[3]=a[3]-t[2]*r[1],[t,n,r]},n.add=function(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t[3]=n[3]+r[3],t},n.subtract=u,n.exactEquals=function(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]},n.equals=function(t,n){var r=t[0],e=t[1],u=t[2],o=t[3],i=n[0],s=n[1],c=n[2],f=n[3];return Math.abs(r-i)<=a.EPSILON*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(e-s)<=a.EPSILON*Math.max(1,Math.abs(e),Math.abs(s))&&Math.abs(u-c)<=a.EPSILON*Math.max(1,Math.abs(u),Math.abs(c))&&Math.abs(o-f)<=a.EPSILON*Math.max(1,Math.abs(o),Math.abs(f))},n.multiplyScalar=function(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t},n.multiplyScalarAndAdd=function(t,n,r,a){return t[0]=n[0]+r[0]*a,t[1]=n[1]+r[1]*a,t[2]=n[2]+r[2]*a,t[3]=n[3]+r[3]*a,t};var a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n.default=t,n}(r(0));function e(t,n,r){var a=n[0],e=n[1],u=n[2],o=n[3],i=r[0],s=r[1],c=r[2],f=r[3];return t[0]=a*i+u*s,t[1]=e*i+o*s,t[2]=a*c+u*f,t[3]=e*c+o*f,t}function u(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t[2]=n[2]-r[2],t[3]=n[3]-r[3],t}n.mul=e,n.sub=u},function(t,n,r){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0}),n.vec4=n.vec3=n.vec2=n.quat2=n.quat=n.mat4=n.mat3=n.mat2d=n.mat2=n.glMatrix=void 0;var a=l(r(0)),e=l(r(9)),u=l(r(8)),o=l(r(5)),i=l(r(4)),s=l(r(3)),c=l(r(7)),f=l(r(6)),M=l(r(2)),h=l(r(1));function l(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n.default=t,n}n.glMatrix=a,n.mat2=e,n.mat2d=u,n.mat3=o,n.mat4=i,n.quat=s,n.quat2=c,n.vec2=f,n.vec3=M,n.vec4=h}])});", "(function(v,k){typeof exports==\"object\"&&typeof module<\"u\"?k(exports,require(\"@lookingglass/webxr-polyfill/src/api/index\"),require(\"@lookingglass/webxr-polyfill/src/api/XRSystem\"),require(\"@lookingglass/webxr-polyfill/src/WebXRPolyfill\"),require(\"holoplay-core\"),require(\"@lookingglass/webxr-polyfill/src/devices/XRDevice\"),require(\"@lookingglass/webxr-polyfill/src/api/XRSpace\"),require(\"gl-matrix\"),require(\"@lookingglass/webxr-polyfill/src/api/XRWebGLLayer\")):typeof define==\"function\"&&define.amd?define([\"exports\",\"@lookingglass/webxr-polyfill/src/api/index\",\"@lookingglass/webxr-polyfill/src/api/XRSystem\",\"@lookingglass/webxr-polyfill/src/WebXRPolyfill\",\"holoplay-core\",\"@lookingglass/webxr-polyfill/src/devices/XRDevice\",\"@lookingglass/webxr-polyfill/src/api/XRSpace\",\"gl-matrix\",\"@lookingglass/webxr-polyfill/src/api/XRWebGLLayer\"],k):(v=typeof globalThis<\"u\"?globalThis:v||self,k(v[\"Looking Glass WebXR\"]={},v[\"@lookingglass/webxr-polyfill/src/api/index\"],v[\"@lookingglass/webxr-polyfill/src/api/XRSystem\"],v[\"@lookingglass/webxr-polyfill/src/WebXRPolyfill\"],v.holoPlayCore,v[\"@lookingglass/webxr-polyfill/src/devices/XRDevice\"],v[\"@lookingglass/webxr-polyfill/src/api/XRSpace\"],v.glMatrix,v[\"@lookingglass/webxr-polyfill/src/api/XRWebGLLayer\"]))})(this,function(v,k,V,te,O,ne,ie,g,$){\"use strict\";var Xe=Object.defineProperty;var Ve=(v,k,V)=>k in v?Xe(v,k,{enumerable:!0,configurable:!0,writable:!0,value:V}):v[k]=V;var x=(v,k,V)=>(Ve(v,typeof k!=\"symbol\"?k+\"\":k,V),V);const G=n=>n&&typeof n==\"object\"&&\"default\"in n?n:{default:n};function ae(n){if(n&&n.__esModule)return n;const a=Object.create(null,{[Symbol.toStringTag]:{value:\"Module\"}});if(n){for(const e in n)if(e!==\"default\"){const s=Object.getOwnPropertyDescriptor(n,e);Object.defineProperty(a,e,s.get?s:{enumerable:!0,get:()=>n[e]})}}return a.default=n,Object.freeze(a)}const Z=G(k),se=G(V),re=G(te),oe=ae(O),le=G(ne),ce=G(ie),ue=G($),q=1.6;var Y;(function(n){n[n.Swizzled=0]=\"Swizzled\",n[n.Center=1]=\"Center\",n[n.Quilt=2]=\"Quilt\"})(Y||(Y={}));class de extends EventTarget{constructor(e){super();x(this,\"_calibration\",{configVersion:\"1.0\",pitch:{value:45},slope:{value:-5},center:{value:-.5},viewCone:{value:40},invView:{value:1},verticalAngle:{value:0},DPI:{value:338},screenW:{value:250},screenH:{value:250},flipImageX:{value:0},flipImageY:{value:0},flipSubp:{value:0},serial:\"LKG-DEFAULT-#####\"});x(this,\"_viewControls\",{tileHeight:512,numViews:48,trackballX:0,trackballY:0,targetX:0,targetY:q,targetZ:-.5,targetDiam:2,fovy:13/180*Math.PI,depthiness:1.25,inlineView:Y.Center,capturing:!1,quiltResolution:3840,popup:null,XRSession:null,lkgCanvas:null,appCanvas:null});x(this,\"LookingGlassDetected\");this._viewControls={...this._viewControls,...e},this.syncCalibration()}syncCalibration(){new oe.Client(e=>{if(e.devices.length<1){console.log(\"No Looking Glass devices found\");return}e.devices.length>1&&console.log(\"More than one Looking Glass device found... using the first one\"),this.calibration=e.devices[0].calibration})}addEventListener(e,s,t){super.addEventListener(e,s,t)}onConfigChange(){this.dispatchEvent(new Event(\"on-config-changed\"))}get calibration(){return this._calibration}set calibration(e){this._calibration={...this._calibration,...e},this.onConfigChange()}updateViewControls(e){e!=null&&(this._viewControls={...this._viewControls,...e},this.onConfigChange())}get tileHeight(){return Math.round(this.framebufferHeight/this.quiltHeight)}get quiltResolution(){return this._viewControls.quiltResolution}set quiltResolution(e){this.updateViewControls({quiltResolution:e})}get numViews(){return this.quiltWidth*this.quiltHeight}get targetX(){return this._viewControls.targetX}set targetX(e){this.updateViewControls({targetX:e})}get targetY(){return this._viewControls.targetY}set targetY(e){this.updateViewControls({targetY:e})}get targetZ(){return this._viewControls.targetZ}set targetZ(e){this.updateViewControls({targetZ:e})}get trackballX(){return this._viewControls.trackballX}set trackballX(e){this.updateViewControls({trackballX:e})}get trackballY(){return this._viewControls.trackballY}set trackballY(e){this.updateViewControls({trackballY:e})}get targetDiam(){return this._viewControls.targetDiam}set targetDiam(e){this.updateViewControls({targetDiam:e})}get fovy(){return this._viewControls.fovy}set fovy(e){this.updateViewControls({fovy:e})}get depthiness(){return this._viewControls.depthiness}set depthiness(e){this.updateViewControls({depthiness:e})}get inlineView(){return this._viewControls.inlineView}set inlineView(e){this.updateViewControls({inlineView:e})}get capturing(){return this._viewControls.capturing}set capturing(e){this.updateViewControls({capturing:e})}get popup(){return this._viewControls.popup}set popup(e){this.updateViewControls({popup:e})}get XRSession(){return this._viewControls.XRSession}set XRSession(e){this.updateViewControls({XRSession:e})}get lkgCanvas(){return this._viewControls.lkgCanvas}set lkgCanvas(e){this.updateViewControls({lkgCanvas:e})}get appCanvas(){return this._viewControls.appCanvas}set appCanvas(e){this.updateViewControls({appCanvas:e})}get aspect(){return this._calibration.screenW.value/this._calibration.screenH.value}get tileWidth(){return Math.round(this.framebufferWidth/this.quiltWidth)}get framebufferWidth(){return this._calibration.screenW.value<7e3?this._viewControls.quiltResolution:7680}get quiltWidth(){return this.calibration.screenW.value==1536?8:this.calibration.screenW.value==3840||this.calibration.screenW.value>7e3?5:8}get quiltHeight(){return this.calibration.screenW.value==1536?6:this.calibration.screenW.value==3840||this.calibration.screenW.value>7e3?9:6}get framebufferHeight(){return this._calibration.screenW.value<7e3?this._viewControls.quiltResolution:4320}get viewCone(){return this._calibration.viewCone.value*this.depthiness/180*Math.PI}get tilt(){return this._calibration.screenH.value/(this._calibration.screenW.value*this._calibration.slope.value)*(this._calibration.flipImageX.value?-1:1)}set tilt(e){}get subp(){return 1/(this._calibration.screenW.value*3)}get pitch(){const e=this._calibration.screenW.value/this._calibration.DPI.value;return this._calibration.pitch.value*e*Math.cos(Math.atan(1/this._calibration.slope.value))}}let j=null;function P(){return j==null&&(j=new de),j}function Q(n){const a=P();n!=null&&a.updateViewControls(n)}async function fe(){const n=P();function a(){if(n.appCanvas!=null)try{let s=n.appCanvas.toDataURL();const t=document.createElement(\"a\");t.style.display=\"none\",t.href=s,t.download=`hologram_qs${n.quiltWidth}x${n.quiltHeight}a${n.aspect}.png`,document.body.appendChild(t),t.click(),document.body.removeChild(t),window.URL.revokeObjectURL(s)}catch(s){console.error(\"Error while capturing canvas data:\",s)}}const e=document.getElementById(\"screenshotbutton\");e&&e.addEventListener(\"click\",()=>{const s=N.getInstance();if(!s){console.warn(\"LookingGlassXRDevice not initialized\");return}s.captureScreenshot=!0,s.screenshotCallback=a})}function he(){var a;const n=P();if(console.log(n,\"for debugging purposes\"),n.lkgCanvas==null)console.warn(\"window placement called without a valid XR Session!\");else{let e=function(){let r=w.d-w.a,c=w.w-w.s;r&&c&&(r*=Math.sqrt(.5),c*=Math.sqrt(.5));const u=n.trackballX,p=n.trackballY,E=Math.cos(u)*r-Math.sin(u)*Math.cos(p)*c,A=-Math.sin(p)*c,S=-Math.sin(u)*r-Math.cos(u)*Math.cos(p)*c;n.targetX=n.targetX+E*n.targetDiam*.03,n.targetY=n.targetY+A*n.targetDiam*.03,n.targetZ=n.targetZ+S*n.targetDiam*.03,requestAnimationFrame(e)};const s=document.createElement(\"style\");document.head.appendChild(s),(a=s.sheet)==null||a.insertRule(\"#LookingGlassWebXRControls * { all: revert; font-family: sans-serif }\");const t=document.createElement(\"div\");t.id=\"LookingGlassWebXRControls\",t.style.position=\"fixed\",t.style.zIndex=\"1000\",t.style.padding=\"15px\",t.style.width=\"320px\",t.style.maxWidth=\"calc(100vw - 18px)\",t.style.maxHeight=\"calc(100vh - 18px)\",t.style.whiteSpace=\"nowrap\",t.style.background=\"rgba(0, 0, 0, 0.6)\",t.style.color=\"white\",t.style.borderRadius=\"10px\",t.style.right=\"15px\",t.style.bottom=\"15px\",t.style.flex=\"row\";const l=document.createElement(\"div\");t.appendChild(l),l.style.width=\"100%\",l.style.textAlign=\"center\",l.style.fontWeight=\"bold\",l.style.marginBottom=\"8px\",l.innerText=\"Looking Glass Controls\";const o=document.createElement(\"button\");o.style.display=\"block\",o.style.margin=\"auto\",o.style.width=\"100%\",o.style.height=\"35px\",o.style.padding=\"4px\",o.style.marginBottom=\"8px\",o.style.borderRadius=\"8px\",o.id=\"screenshotbutton\",t.appendChild(o),o.innerText=\"Save Hologram\";const d=document.createElement(\"button\");d.style.display=\"block\",d.style.margin=\"auto\",d.style.width=\"100%\",d.style.height=\"35px\",d.style.padding=\"4px\",d.style.marginBottom=\"8px\",d.style.borderRadius=\"8px\",d.id=\"copybutton\",t.appendChild(d),d.innerText=\"Copy Config\",d.addEventListener(\"click\",()=>{pe(n)});const f=document.createElement(\"div\");t.appendChild(f),f.style.width=\"290px\",f.style.whiteSpace=\"normal\",f.style.color=\"rgba(255,255,255,0.7)\",f.style.fontSize=\"14px\",f.style.margin=\"5px 0\",f.innerHTML=\"Click the popup and use WASD, mouse left/right drag, and scroll.\";const F=document.createElement(\"div\");t.appendChild(F);const C=(r,c,u)=>{const p=u.stringify,E=document.createElement(\"div\");E.style.marginBottom=\"8px\",F.appendChild(E);const A=r,S=n[r],y=document.createElement(\"label\");E.appendChild(y),y.innerText=u.label,y.setAttribute(\"for\",A),y.style.width=\"100px\",y.style.display=\"inline-block\",y.style.textDecoration=\"dotted underline 1px\",y.style.fontFamily='\"Courier New\"',y.style.fontSize=\"13px\",y.style.fontWeight=\"bold\",y.title=u.title;const m=document.createElement(\"input\");E.appendChild(m),Object.assign(m,c),m.id=A,m.title=u.title,m.value=c.value!==void 0?c.value:S;const B=b=>{n[r]=b,D(b)};m.oninput=()=>{const b=c.type===\"range\"?parseFloat(m.value):c.type===\"checkbox\"?m.checked:m.value;B(b)};const M=b=>{let I=b(n[r]);u.fixRange&&(I=u.fixRange(I),m.max=Math.max(parseFloat(m.max),I).toString(),m.min=Math.min(parseFloat(m.min),I).toString()),m.value=I,B(I)};c.type===\"range\"&&(m.style.width=\"110px\",m.style.height=\"8px\",m.onwheel=b=>{M(I=>I+Math.sign(b.deltaX-b.deltaY)*c.step)});let D=b=>{};if(p){const b=document.createElement(\"span\");b.style.fontFamily='\"Courier New\"',b.style.fontSize=\"13px\",b.style.marginLeft=\"3px\",E.appendChild(b),D=I=>{b.innerHTML=p(I)},D(S)}return M};C(\"fovy\",{type:\"range\",min:1/180*Math.PI,max:120.1/180*Math.PI,step:1/180*Math.PI},{label:\"fov\",title:\"perspective fov (degrades stereo effect)\",fixRange:r=>Math.max(1/180*Math.PI,Math.min(r,120.1/180*Math.PI)),stringify:r=>{const c=r/Math.PI*180,u=Math.atan(Math.tan(r/2)*n.aspect)*2/Math.PI*180;return`${c.toFixed()}&deg;&times;${u.toFixed()}&deg;`}}),C(\"depthiness\",{type:\"range\",min:0,max:2,step:.01},{label:\"depthiness\",title:'exaggerates depth by multiplying the width of the view cone (as reported by the firmware) - can somewhat compensate for depthiness lost using higher fov. 1.25 seems to be most physically accurate on Looking Glass 8.9\".',fixRange:r=>Math.max(0,r),stringify:r=>`${r.toFixed(2)}x`}),C(\"inlineView\",{type:\"range\",min:0,max:2,step:1},{label:\"inline view\",title:\"what to show inline on the original canvas (swizzled = no overwrite)\",fixRange:r=>Math.max(0,Math.min(r,2)),stringify:r=>r===0?\"swizzled\":r===1?\"center\":r===2?\"quilt\":\"?\"}),n.lkgCanvas.oncontextmenu=r=>{r.preventDefault()},n.lkgCanvas.addEventListener(\"wheel\",r=>{const c=n.targetDiam,u=1.1,p=Math.log(c)/Math.log(u);return n.targetDiam=Math.pow(u,p+r.deltaY*.01)}),n.lkgCanvas.addEventListener(\"mousemove\",r=>{const c=r.movementX,u=-r.movementY;if(r.buttons&2||r.buttons&1&&(r.shiftKey||r.ctrlKey)){const p=n.trackballX,E=n.trackballY,A=-Math.cos(p)*c+Math.sin(p)*Math.sin(E)*u,S=-Math.cos(E)*u,y=Math.sin(p)*c+Math.cos(p)*Math.sin(E)*u;n.targetX=n.targetX+A*n.targetDiam*.001,n.targetY=n.targetY+S*n.targetDiam*.001,n.targetZ=n.targetZ+y*n.targetDiam*.001}else r.buttons&1&&(n.trackballX=n.trackballX-c*.01,n.trackballY=n.trackballY-u*.01)});const w={w:0,a:0,s:0,d:0};return n.lkgCanvas.addEventListener(\"keydown\",r=>{switch(r.code){case\"KeyW\":w.w=1;break;case\"KeyA\":w.a=1;break;case\"KeyS\":w.s=1;break;case\"KeyD\":w.d=1;break}}),n.lkgCanvas.addEventListener(\"keyup\",r=>{switch(r.code){case\"KeyW\":w.w=0;break;case\"KeyA\":w.a=0;break;case\"KeyS\":w.s=0;break;case\"KeyD\":w.d=0;break}}),requestAnimationFrame(e),setTimeout(()=>{fe()},1e3),t}}function pe(n){let a=n.targetX,e=n.targetY,s=n.targetZ,t=`${Math.round(n.fovy/Math.PI*180)} * Math.PI / 180`,l=n.targetDiam,o=n.trackballX,d=n.trackballY,f=n.depthiness;const F={targetX:a,targetY:e,targetZ:s,fovy:t,targetDiam:l,trackballX:o,trackballY:d,depthiness:f};let C=JSON.stringify(F,null,4);navigator.clipboard.writeText(C)}let H;const me=(n,a)=>{const e=P();if(e.lkgCanvas==null){console.warn(\"window placement called without a valid XR Session!\");return}else if(n==!1)ve(e,H);else{H==null&&(H=he()),e.lkgCanvas.style.position=\"fixed\",e.lkgCanvas.style.bottom=\"0\",e.lkgCanvas.style.left=\"0\",e.lkgCanvas.width=e.calibration.screenW.value,e.lkgCanvas.height=e.calibration.screenH.value,document.body.appendChild(H);const s=\"getScreenDetails\"in window;console.log(s,\"Screen placement API exists\"),s?be(e.lkgCanvas,e,a):J(e,e.lkgCanvas,a)}};async function be(n,a,e){const s=await window.getScreenDetails();console.log(s);const t=s.screens.filter(l=>l.label.includes(\"LKG\"))[0];if(console.log(t,\"monitors\"),t===void 0){console.log(\"no Looking Glass monitor detected - manually opening popup window\"),J(a,n,e);return}else{console.log(\"monitor ID\",t.label,\"serial number\",a.calibration);const l=[`left=${t.left}`,`top=${t.top}`,`width=${t.width}`,`height=${t.height}`,\"menubar=no\",\"toolbar=no\",\"location=no\",\"status=no\",\"resizable=yes\",\"scrollbars=no\",\"fullscreenEnabled=true\"].join(\",\");a.popup=window.open(\"\",\"new\",l),a.popup&&(a.popup.document.body.style.background=\"black\",a.popup.document.body.appendChild(n),console.assert(e),a.popup.onbeforeunload=e)}}function J(n,a,e){n.popup=window.open(\"\",void 0,\"width=640,height=360\"),n.popup&&(n.popup.document.title=\"Looking Glass Window (fullscreen me on Looking Glass!)\",n.popup.document.body.style.background=\"black\",n.popup.document.body.appendChild(a),console.assert(e),n.popup.onbeforeunload=e)}function ve(n,a){var e;(e=a.parentElement)==null||e.removeChild(a),n.popup&&(n.popup.onbeforeunload=null,n.popup.close(),n.popup=null)}const X=Symbol(\"LookingGlassXRWebGLLayer\");class we extends ue.default{constructor(a,e,s){super(a,e,s);const t=P();t.appCanvas=e.canvas,t.lkgCanvas=document.createElement(\"canvas\"),t.lkgCanvas.tabIndex=0;const l=t.lkgCanvas.getContext(\"2d\",{alpha:!1});t.lkgCanvas.addEventListener(\"dblclick\",function(){this.requestFullscreen()});const o=this[$.PRIVATE].config,d=e.createTexture();let f,F;const C=e.createFramebuffer(),w=e.getExtension(\"OES_vertex_array_object\"),r=34229,c=w?w.bindVertexArrayOES.bind(w):e.bindVertexArray.bind(e);(o.depth||o.stencil)&&(o.depth&&o.stencil?F={format:e.DEPTH_STENCIL,attachment:e.DEPTH_STENCIL_ATTACHMENT}:o.depth?F={format:e.DEPTH_COMPONENT16,attachment:e.DEPTH_ATTACHMENT}:o.stencil&&(F={format:e.STENCIL_INDEX8,attachment:e.STENCIL_ATTACHMENT}),f=e.createRenderbuffer());const u=(i,_,R,h,T)=>{p(i,_,T.framebufferWidth,T.framebufferHeight),R&&E(i,R,h,T.framebufferWidth,T.framebufferHeight)},p=(i,_,R,h)=>{const T=i.getParameter(i.TEXTURE_BINDING_2D);i.bindTexture(i.TEXTURE_2D,_),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,R,h,0,i.RGBA,i.UNSIGNED_BYTE,null),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.bindTexture(i.TEXTURE_2D,T)},E=(i,_,R,h,T)=>{const L=i.getParameter(i.RENDERBUFFER_BINDING);i.bindRenderbuffer(i.RENDERBUFFER,_),i.renderbufferStorage(i.RENDERBUFFER,R.format,h,T),i.bindRenderbuffer(i.RENDERBUFFER,L)},A=(i,_,R,h,T,L)=>{const K=i.getParameter(i.FRAMEBUFFER_BINDING);i.bindFramebuffer(i.FRAMEBUFFER,_),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,R,0),(L.depth||L.stencil)&&i.framebufferRenderbuffer(i.FRAMEBUFFER,h.attachment,i.RENDERBUFFER,T),i.bindFramebuffer(i.FRAMEBUFFER,K)};u(e,d,f,F,t),t.addEventListener(\"on-config-changed\",()=>u(e,d,f,F,t)),A(e,C,d,F,f,o);const S=`\n\t\tattribute vec2 a_position;\n\t\tvarying vec2 v_texcoord;\n\t\tvoid main() {\n\t\t  gl_Position = vec4(a_position * 2.0 - 1.0, 0.0, 1.0);\n\t\t  v_texcoord = a_position;\n\t\t}\n\t  `;function y(i,_,R){const h=i.createShader(_);return i.shaderSource(h,R),i.compileShader(h),i.getShaderParameter(h,i.COMPILE_STATUS)?h:(console.warn(i.getShaderInfoLog(h)),null)}function m(i,_,R){let h=i.createProgram();const T=y(i,i.VERTEX_SHADER,_),L=y(i,i.FRAGMENT_SHADER,R);return T===null||L===null?(console.error(\"There was a problem with shader construction\"),null):(i.attachShader(h,T),i.attachShader(h,L),i.linkProgram(h),i.getProgramParameter(h,i.LINK_STATUS)?h:(console.warn(i.getProgramInfoLog(h)),null))}let B,M,D,b;const I=(i,_,R)=>{const h=R(_);if(h===M)return;M=h;const T=y(i,i.FRAGMENT_SHADER,h);if(T===null)return;B&&i.deleteShader(B),B=T;const L=m(i,S,h);if(L===null){console.warn(\"There was a problem with shader construction\");return}D=i.getAttribLocation(L,\"a_position\"),b=i.getUniformLocation(L,\"u_viewType\");const K=i.getUniformLocation(L,\"u_texture\"),Me=i.getParameter(i.CURRENT_PROGRAM);i.useProgram(L),i.uniform1i(K,0),i.useProgram(Me),U&&i.deleteProgram(U),U=L};let U=m(e,S,O.Shader(t));U===null&&console.warn(\"There was a problem with shader construction\"),t.addEventListener(\"on-config-changed\",()=>{I(e,t,O.Shader)});const ee=w?w.createVertexArrayOES():e.createVertexArray(),xe=e.createBuffer(),_e=e.getParameter(e.ARRAY_BUFFER_BINDING),Le=e.getParameter(r);c(ee),e.bindBuffer(e.ARRAY_BUFFER,xe),e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),e.STATIC_DRAW),e.enableVertexAttribArray(D),e.vertexAttribPointer(D,2,e.FLOAT,!1,0,0),c(Le),e.bindBuffer(e.ARRAY_BUFFER,_e);const ke=()=>{console.assert(this[X].LookingGlassEnabled),e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer);const i=e.getParameter(e.COLOR_CLEAR_VALUE),_=e.getParameter(e.DEPTH_CLEAR_VALUE),R=e.getParameter(e.STENCIL_CLEAR_VALUE);e.clearColor(0,0,0,0),e.clearDepth(1),e.clearStencil(0),e.clear(e.DEPTH_BUFFER_BIT|e.COLOR_BUFFER_BIT|e.STENCIL_BUFFER_BIT),e.clearColor(i[0],i[1],i[2],i[3]),e.clearDepth(_),e.clearStencil(R)};function Se(){if(!t.appCanvas||!t.lkgCanvas)return;(t.appCanvas.width!==t.framebufferWidth||t.appCanvas.height!==t.framebufferHeight)&&(t.appCanvas.width,t.appCanvas.height,t.appCanvas.width=t.framebufferWidth,t.appCanvas.height=t.framebufferHeight);const i=Fe();Ae(),Ie(),De(),Be(),Pe(i)}function Pe(i){e.activeTexture(i.activeTexture),e.bindTexture(e.TEXTURE_2D,i.textureBinding),e.useProgram(i.program),e.bindRenderbuffer(e.RENDERBUFFER,i.renderbufferBinding),e.bindFramebuffer(e.FRAMEBUFFER,i.framebufferBinding),i.scissorTest?e.enable(e.SCISSOR_TEST):e.disable(e.SCISSOR_TEST),i.stencilTest?e.enable(e.STENCIL_TEST):e.disable(e.STENCIL_TEST),i.depthTest?e.enable(e.DEPTH_TEST):e.disable(e.DEPTH_TEST),i.blend?e.enable(e.BLEND):e.disable(e.BLEND),i.cullFace?e.enable(e.CULL_FACE):e.disable(e.CULL_FACE),c(i.VAO)}function Fe(){return{VAO:e.getParameter(e.VERTEX_ARRAY_BINDING),cullFace:e.getParameter(e.CULL_FACE),blend:e.getParameter(e.BLEND),depthTest:e.getParameter(e.DEPTH_TEST),stencilTest:e.getParameter(e.STENCIL_TEST),scissorTest:e.getParameter(e.SCISSOR_TEST),viewport:e.getParameter(e.VIEWPORT),framebufferBinding:e.getParameter(e.FRAMEBUFFER_BINDING),renderbufferBinding:e.getParameter(e.RENDERBUFFER_BINDING),program:e.getParameter(e.CURRENT_PROGRAM),activeTexture:e.getParameter(e.ACTIVE_TEXTURE),textureBinding:e.getParameter(e.TEXTURE_BINDING_2D)}}function Ae(){e.bindFramebuffer(e.FRAMEBUFFER,null),e.useProgram(U),c(ee),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,d),e.disable(e.BLEND),e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.STENCIL_TEST),e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight)}function Ie(){e.uniform1i(b,0),e.drawArrays(e.TRIANGLES,0,6)}function De(){if(!t.lkgCanvas||!t.appCanvas){console.warn(\"Looking Glass Canvas is not defined\");return}l==null||l.clearRect(0,0,t.lkgCanvas.width,t.lkgCanvas.height),l==null||l.drawImage(t.appCanvas,0,0,t.framebufferWidth,t.framebufferHeight,0,0,t.calibration.screenW.value,t.calibration.screenH.value)}function Be(){if(!t.appCanvas){console.warn(\"Looking Glass Canvas is not defined\");return}t.inlineView!==0&&(t.capturing&&t.appCanvas.width!==t.framebufferWidth&&(t.appCanvas.width=t.framebufferWidth,t.appCanvas.height=t.framebufferHeight,e.viewport(0,0,t.framebufferHeight,t.framebufferWidth)),e.uniform1i(b,t.inlineView),e.drawArrays(e.TRIANGLES,0,6))}window.addEventListener(\"unload\",()=>{t.popup&&t.popup.close(),t.popup=null}),this[X]={LookingGlassEnabled:!1,framebuffer:C,clearFramebuffer:ke,blitTextureToDefaultFramebufferIfNeeded:Se,moveCanvasToWindow:me}}get framebuffer(){return this[X].LookingGlassEnabled?this[X].framebuffer:null}get framebufferWidth(){return P().framebufferWidth}get framebufferHeight(){return P().framebufferHeight}}const W=class extends le.default{constructor(a){super(a),this.sessions=new Map,this.viewSpaces=[],this.basePoseMatrix=g.mat4.create(),this.inlineProjectionMatrix=g.mat4.create(),this.inlineInverseViewMatrix=g.mat4.create(),this.LookingGlassProjectionMatrices=[],this.LookingGlassInverseViewMatrices=[],this.captureScreenshot=!1,this.screenshotCallback=null,W.instance||(W.instance=this)}static getInstance(){return W.instance}onBaseLayerSet(a,e){const s=this.sessions.get(a);s.baseLayer=e;const t=P(),l=e[X];l.LookingGlassEnabled=s.immersive,s.immersive&&(t.XRSession=this.sessions.get(a),t.popup==null?l.moveCanvasToWindow(!0,()=>{this.endSession(a)}):console.warn(\"attempted to assign baselayer twice?\"))}isSessionSupported(a){return a===\"inline\"||a===\"immersive-vr\"}isFeatureSupported(a){switch(a){case\"viewer\":return!0;case\"local\":return!0;case\"local-floor\":return!0;case\"bounded-floor\":return!1;case\"unbounded\":return!1;default:return console.warn(\"LookingGlassXRDevice.isFeatureSupported: feature not understood:\",a),!1}}async requestSession(a,e){if(!this.isSessionSupported(a))return Promise.reject();const s=a!==\"inline\",t=new ge(a,e);return this.sessions.set(t.id,t),s&&this.dispatchEvent(\"@@webxr-polyfill/vr-present-start\",t.id),Promise.resolve(t.id)}requestAnimationFrame(a){return this.global.requestAnimationFrame(a)}cancelAnimationFrame(a){this.global.cancelAnimationFrame(a)}onFrameStart(a,e){const s=this.sessions.get(a),t=P();if(s.immersive){const l=Math.tan(.5*t.fovy),o=.5*t.targetDiam/l,d=o-t.targetDiam,f=this.basePoseMatrix;g.mat4.fromTranslation(f,[t.targetX,t.targetY,t.targetZ]),g.mat4.rotate(f,f,t.trackballX,[0,1,0]),g.mat4.rotate(f,f,-t.trackballY,[1,0,0]),g.mat4.translate(f,f,[0,0,o]);for(let C=0;C<t.numViews;++C){const w=(C+.5)/t.numViews-.5,r=Math.tan(t.viewCone*w),c=o*r,u=this.LookingGlassInverseViewMatrices[C]=this.LookingGlassInverseViewMatrices[C]||g.mat4.create();g.mat4.translate(u,f,[c,0,0]),g.mat4.invert(u,u);const p=Math.max(d+e.depthNear,.01),E=d+e.depthFar,A=p*l,S=A,y=-A,m=p*-r,B=t.aspect*A,M=m+B,D=m-B,b=this.LookingGlassProjectionMatrices[C]=this.LookingGlassProjectionMatrices[C]||g.mat4.create();g.mat4.set(b,2*p/(M-D),0,0,0,0,2*p/(S-y),0,0,(M+D)/(M-D),(S+y)/(S-y),-(E+p)/(E-p),-1,0,0,-2*E*p/(E-p),0)}s.baseLayer[X].clearFramebuffer()}else{const l=s.baseLayer.context,o=l.drawingBufferWidth/l.drawingBufferHeight;g.mat4.perspective(this.inlineProjectionMatrix,e.inlineVerticalFieldOfView,o,e.depthNear,e.depthFar),g.mat4.fromTranslation(this.basePoseMatrix,[0,q,0]),g.mat4.invert(this.inlineInverseViewMatrix,this.basePoseMatrix)}}onFrameEnd(a){this.sessions.get(a).baseLayer[X].blitTextureToDefaultFramebufferIfNeeded(),this.captureScreenshot&&this.screenshotCallback&&(this.screenshotCallback(),this.captureScreenshot=!1)}async requestFrameOfReferenceTransform(a,e){const s=g.mat4.create();switch(a){case\"viewer\":case\"local\":return g.mat4.fromTranslation(s,[0,-q,0]),s;case\"local-floor\":return s;default:throw new Error(\"XRReferenceSpaceType not understood\")}}endSession(a){const e=this.sessions.get(a);e.immersive&&e.baseLayer&&(e.baseLayer[X].moveCanvasToWindow(!1),this.dispatchEvent(\"@@webxr-polyfill/vr-present-end\",a)),e.ended=!0}doesSessionSupportReferenceSpace(a,e){const s=this.sessions.get(a);return s.ended?!1:s.enabledFeatures.has(e)}getViewSpaces(a){if(a===\"immersive-vr\"){const e=P();for(let s=this.viewSpaces.length;s<e.numViews;++s)this.viewSpaces[s]=new Ee(s);return this.viewSpaces.length=e.numViews,this.viewSpaces}}getViewport(a,e,s,t,l){if(l===void 0){const d=this.sessions.get(a).baseLayer.context;t.x=0,t.y=0,t.width=d.drawingBufferWidth,t.height=d.drawingBufferHeight}else{const o=P(),d=l%o.quiltWidth,f=Math.floor(l/o.quiltWidth);t.x=o.framebufferWidth/o.quiltWidth*d,t.y=o.framebufferHeight/o.quiltHeight*f,t.width=o.framebufferWidth/o.quiltWidth,t.height=o.framebufferHeight/o.quiltHeight}return!0}getProjectionMatrix(a,e){return e===void 0?this.inlineProjectionMatrix:this.LookingGlassProjectionMatrices[e]||g.mat4.create()}getBasePoseMatrix(){return this.basePoseMatrix}getBaseViewMatrix(){return this.inlineInverseViewMatrix}_getViewMatrixByIndex(a){return this.LookingGlassInverseViewMatrices[a]=this.LookingGlassInverseViewMatrices[a]||g.mat4.create()}getInputSources(){return[]}getInputPose(a,e,s){return null}onWindowResize(){}};let N=W;x(N,\"instance\",null);let ye=0;class ge{constructor(a,e){x(this,\"mode\");x(this,\"immersive\");x(this,\"id\");x(this,\"baseLayer\");x(this,\"inlineVerticalFieldOfView\");x(this,\"ended\");x(this,\"enabledFeatures\");this.mode=a,this.immersive=a===\"immersive-vr\"||a===\"immersive-ar\",this.id=++ye,this.baseLayer=null,this.inlineVerticalFieldOfView=Math.PI*.5,this.ended=!1,this.enabledFeatures=e}}class Ee extends ce.default{constructor(e){super();x(this,\"viewIndex\");this.viewIndex=e}get eye(){return\"none\"}_onPoseUpdate(e){this._inverseBaseMatrix=e._getViewMatrixByIndex(this.viewIndex)}}class z extends re.default{constructor(e){super();x(this,\"vrButton\");x(this,\"device\");x(this,\"isPresenting\",!1);Q(e),this.loadPolyfill()}static async init(e){new z(e)}async loadPolyfill(){this.overrideDefaultVRButton(),console.warn('Looking Glass WebXR \"polyfill\" overriding native WebXR API.');for(const e in Z.default)this.global[e]=Z.default[e];this.global.XRWebGLLayer=we,this.injected=!0,this.device=new N(this.global),this.xr=new se.default(Promise.resolve(this.device)),Object.defineProperty(this.global.navigator,\"xr\",{value:this.xr,configurable:!0})}async overrideDefaultVRButton(){this.vrButton=await Ce(\"VRButton\"),this.vrButton&&this.device?(this.device.addEventListener(\"@@webxr-polyfill/vr-present-start\",()=>{this.isPresenting=!0,this.updateVRButtonUI()}),this.device.addEventListener(\"@@webxr-polyfill/vr-present-end\",()=>{this.isPresenting=!1,this.updateVRButtonUI()}),this.vrButton.addEventListener(\"click\",e=>{this.updateVRButtonUI()}),this.updateVRButtonUI()):console.warn(\"Unable to find VRButton\")}async updateVRButtonUI(){if(this.vrButton){await Re(100),this.isPresenting?this.vrButton.innerHTML=\"EXIT LOOKING GLASS\":this.vrButton.innerHTML=\"ENTER LOOKING GLASS\";const e=220;this.vrButton.style.width=`${e}px`,this.vrButton.style.left=`calc(50% - ${e/2}px)`}}update(e){Q(e)}}async function Ce(n){return new Promise(a=>{const e=new MutationObserver(function(s){s.forEach(function(t){t.addedNodes.forEach(function(l){const o=l;o.id===n&&(a(o),e.disconnect())})})});e.observe(document.body,{subtree:!1,childList:!0}),setTimeout(()=>{e.disconnect(),a(null)},5e3)})}function Re(n){return new Promise(a=>setTimeout(a,n))}const Te=P();v.LookingGlassConfig=Te,v.LookingGlassWebXRPolyfill=z,Object.defineProperties(v,{__esModule:{value:!0},[Symbol.toStringTag]:{value:\"Module\"}})});\n", "import { simd, threads } from 'wasm-feature-detect';\nimport { WonderlandEngine } from './engine.js';\nimport { WASM } from './wasm.js';\nimport { APIVersion } from './version.js';\nexport * from './utils/event.js';\nexport * from './wonderland.js';\nexport * from './engine.js';\nexport * from './property.js';\nexport * from './texture-manager.js';\nexport * from './version.js';\nexport * from './wasm.js';\nfunction loadScript(scriptURL) {\n    return new Promise((res, rej) => {\n        const s = document.createElement('script');\n        const node = document.body.appendChild(s);\n        s.onload = () => {\n            document.body.removeChild(node);\n            res();\n        };\n        s.onerror = (e) => {\n            document.body.removeChild(node);\n            rej(e);\n        };\n        s.src = scriptURL;\n    });\n}\n/**\n * Finds whether simd & threading are supported or not.\n *\n * @returns An object containing boolean for simd and thread.\n */\nasync function detectFeatures() {\n    let [simdSupported, threadsSupported] = await Promise.all([simd(), threads()]);\n    if (simdSupported) {\n        console.log('WASM SIMD is supported');\n    }\n    else {\n        console.warn('WASM SIMD is not supported');\n    }\n    if (threadsSupported) {\n        if (self.crossOriginIsolated) {\n            console.log('WASM Threads is supported');\n        }\n        else {\n            console.warn('WASM Threads is supported, but the page is not crossOriginIsolated, therefore thread support is disabled.');\n        }\n    }\n    else {\n        console.warn('WASM Threads is not supported');\n    }\n    threadsSupported = threadsSupported && self.crossOriginIsolated;\n    return {\n        simdSupported,\n        threadsSupported,\n    };\n}\n/* Global boolean to check if AR/VR is supported. */\nconst xrSupported = {\n    ar: null,\n    vr: null,\n};\n/**\n * Check whether XR is supported and store the result in the global space.\n */\nfunction checkXRSupport() {\n    if (typeof navigator === 'undefined' || !navigator.xr) {\n        xrSupported.vr = false;\n        xrSupported.ar = false;\n        return Promise.resolve(xrSupported);\n    }\n    const vrPromise = xrSupported.vr !== null\n        ? Promise.resolve()\n        : navigator.xr\n            .isSessionSupported('immersive-vr')\n            .then((supported) => (xrSupported.vr = supported));\n    const arPromise = xrSupported.ar !== null\n        ? Promise.resolve()\n        : navigator.xr\n            .isSessionSupported('immersive-ar')\n            .then((supported) => (xrSupported.ar = supported));\n    return Promise.all([vrPromise, arPromise]).then(() => xrSupported);\n}\n/**\n * Ensures that this API is compatible with the given\n * runtime version.\n *\n * We only enforce compatibility for major and minor components, i.e.,\n * the runtime and the API must both be of the form `x.y.*`.\n *\n * @throws If the major or the minor components are different.\n *\n * @param version The target version\n */\nexport function checkRuntimeCompatibility(version) {\n    const { major, minor } = version;\n    let majorDiff = major - APIVersion.major;\n    let minorDiff = minor - APIVersion.minor;\n    /* Same version, so perfectly compatible. */\n    if (!majorDiff && !minorDiff)\n        return;\n    const error = 'checkRuntimeCompatibility(): Version compatibility mismatch:\\n' +\n        '\\t\u2192 API and runtime compatibility is enforced on a patch level (versions x.y.*)\\n';\n    const isRuntimeOlder = majorDiff < 0 || (!majorDiff && minorDiff < 0);\n    if (isRuntimeOlder) {\n        /* Runtime is out of date. */\n        throw new Error(`${error}\\t\u2192 Please use a Wonderland Engine editor version >= ${APIVersion.major}.${APIVersion.minor}.*`);\n    }\n    /* API is out of date. */\n    throw new Error(`${error}\\t\u2192 Please use a new API version >= ${version.major}.${version.minor}.*`);\n}\n/**\n * Load the runtime using the WASM and JS files.\n *\n * @param runtime The runtime base string, e.g,: `WonderlandRuntime-loader-physx`.\n * @param options Options to modify the loading behaviour.\n *\n * @returns A promise that resolves when the engine is ready to be used.\n */\nexport async function loadRuntime(runtime, options = {}) {\n    const xrPromise = checkXRSupport();\n    const { simdSupported, threadsSupported } = await detectFeatures();\n    const { simd = simdSupported, threads = threadsSupported, physx = false, loader = false, xrFramebufferScaleFactor = 1.0, loadingScreen = 'WonderlandRuntime-LoadingScreen.bin', canvas = 'canvas', } = options;\n    const variant = [];\n    if (loader)\n        variant.push('loader');\n    if (physx)\n        variant.push('physx');\n    if (simd)\n        variant.push('simd');\n    if (threads)\n        variant.push('threads');\n    const variantStr = variant.join('-');\n    let filename = runtime;\n    if (variantStr)\n        filename = `${filename}-${variantStr}`;\n    const download = function (filename, errorMessage) {\n        return fetch(filename)\n            .then((r) => {\n            if (!r.ok)\n                return Promise.reject(errorMessage);\n            return r.arrayBuffer();\n        })\n            .catch((_) => Promise.reject(errorMessage));\n    };\n    const [wasmData, loadingScreenData] = await Promise.all([\n        download(`${filename}.wasm`, 'Failed to fetch runtime .wasm file'),\n        download(loadingScreen, 'Failed to fetch loading screen file').catch((_) => null),\n    ]);\n    const glCanvas = document.getElementById(canvas);\n    if (!glCanvas) {\n        throw new Error(`loadRuntime(): Failed to find canvas with id '${canvas}'`);\n    }\n    if (!(glCanvas instanceof HTMLCanvasElement)) {\n        throw new Error(`loadRuntime(): HTML element '${canvas}' must be a canvas`);\n    }\n    const wasm = new WASM(threads);\n    wasm.worker = `${filename}.worker.js`;\n    wasm.wasm = wasmData;\n    wasm.canvas = glCanvas;\n    const engine = new WonderlandEngine(wasm, loadingScreenData);\n    if (!window._WL) {\n        window._WL = { runtimes: {} };\n    }\n    const runtimes = window._WL.runtimes;\n    /* Global identifier of this runtime in `window`. */\n    const runtimeGlobalId = variantStr ? variantStr : 'default';\n    /* Only load the runtime if not previously loaded in the page */\n    if (!runtimes[runtimeGlobalId]) {\n        await loadScript(`${filename}.js`);\n        runtimes[runtimeGlobalId] = window.instantiateWonderlandRuntime;\n        window.instantiateWonderlandRuntime = undefined;\n    }\n    await runtimes[runtimeGlobalId](wasm);\n    /* Throws if the runtime isn't compatible with the API. */\n    checkRuntimeCompatibility(engine.runtimeVersion);\n    engine._init();\n    const xr = await xrPromise;\n    engine.arSupported = xr.ar;\n    engine.vrSupported = xr.vr;\n    engine.xrFramebufferScaleFactor = xrFramebufferScaleFactor;\n    engine.autoResizeCanvas = true;\n    engine.start();\n    return engine;\n}\n", "export const bigInt=()=>(async e=>{try{return(await WebAssembly.instantiate(e)).instance.exports.b(BigInt(0))===BigInt(0)}catch(e){return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,6,1,96,1,126,1,126,3,2,1,0,7,5,1,1,98,0,0,10,6,1,4,0,32,0,11])),bulkMemory=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,3,1,0,1,10,14,1,12,0,65,0,65,0,65,0,252,10,0,0,11])),exceptions=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,6,64,25,11,11])),extendedConst=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,5,3,1,0,1,11,9,1,0,65,1,65,2,106,11,0])),gc=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,10,2,95,1,125,0,96,0,1,107,0,3,2,1,1,10,12,1,10,0,67,0,0,0,0,251,7,0,11])),memory64=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,5,3,1,4,1])),multiValue=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,6,1,96,0,2,127,127,3,2,1,0,10,8,1,6,0,65,0,65,0,11])),mutableGlobals=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,2,8,1,1,97,1,98,3,127,1,6,6,1,127,1,65,0,11,7,5,1,1,97,3,1])),referenceTypes=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,7,1,5,0,208,112,26,11])),relaxedSimd=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,15,1,13,0,65,1,253,15,65,2,253,15,253,128,2,11])),saturatedFloatToInt=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,12,1,10,0,67,0,0,0,0,252,0,26,11])),signExtensions=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,65,0,192,26,11])),simd=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),streamingCompilation=()=>(async()=>\"compileStreaming\"in WebAssembly)(),tailCall=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,6,1,4,0,18,0,11])),threads=()=>(async e=>{try{return\"undefined\"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(e)}catch(e){return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]));\n", "/**\n * Component property type.\n */\nexport var Type;\n(function (Type) {\n    /**\n     * **Native**\n     *\n     * Property of a native component. Must not be used in custom components.\n     *\n     * @hidden\n     */\n    Type[Type[\"Native\"] = 1] = \"Native\";\n    /**\n     * **Bool**:\n     *\n     * Appears in the editor as a checkbox.\n     *\n     * Initial value is `false`, unless overridden by the `default` property.\n     */\n    Type[Type[\"Bool\"] = 2] = \"Bool\";\n    /**\n     * **Int**:\n     *\n     * Appears in the editor as an integer input field.\n     *\n     * Initial value is `0`, unless overridden by the `default` property.\n     */\n    Type[Type[\"Int\"] = 4] = \"Int\";\n    /**\n     * **Float**:\n     *\n     * Appears in the editor as a floating point input field.\n     *\n     * Initial value is `0.0`, unless overridden by the `default` property.\n     */\n    Type[Type[\"Float\"] = 8] = \"Float\";\n    /**\n     * **String / Text**:\n     *\n     * Appears in the editor as a single-line text input field.\n     *\n     * Initial value is an empty string, unless overridden by the `default`\n     * property.\n     */\n    Type[Type[\"String\"] = 16] = \"String\";\n    /**\n     * **Enumeration**:\n     *\n     * Appears in the editor as a dropdown with given values. The additional\n     * `values` parameter with selection options is mandatory.\n     *\n     * The property value is resolved to an **index** into the `values` array.\n     *\n     * Initial value is the first element in `values`, unless overridden by\n     * the `default` property. The `default` value can be a string or an index\n     * into `values`.\n     *\n     * @example\n     *\n     * ```js\n     *     camera: {type: Type.Enum, values: ['auto', 'back', 'front'], default: 'auto'},\n     * ```\n     */\n    Type[Type[\"Enum\"] = 32] = \"Enum\";\n    /**\n     * **Object reference**:\n     *\n     * Appears in the editor as an object resource selection dropdown\n     * with object picker.\n     *\n     * Initial value is `null`.\n     */\n    Type[Type[\"Object\"] = 64] = \"Object\";\n    /**\n     * **Mesh reference**:\n     *\n     * Appears in the editor as a mesh resource selection dropdown.\n     *\n     * Initial value is `null`.\n     */\n    Type[Type[\"Mesh\"] = 128] = \"Mesh\";\n    /**\n     * **Texture reference**:\n     *\n     * Appears in the editor as a texture resource selection dropdown.\n     *\n     * Initial value is `null`.\n     */\n    Type[Type[\"Texture\"] = 256] = \"Texture\";\n    /**\n     * **Material reference**:\n     *\n     * Appears in the editor as a material resource selection dropdown.\n     *\n     * Initial value is `null`.\n     */\n    Type[Type[\"Material\"] = 512] = \"Material\";\n    /**\n     * **Animation reference**:\n     *\n     * Appears in the editor as an animation resource selection dropdown.\n     *\n     * Initial value is `null`.\n     */\n    Type[Type[\"Animation\"] = 1024] = \"Animation\";\n    /**\n     * **Skin reference**:\n     *\n     * Appears in the editor as a skin resource selection dropdown.\n     *\n     * Initial value is `null`.\n     */\n    Type[Type[\"Skin\"] = 2048] = \"Skin\";\n    /**\n     * **Color**:\n     *\n     * Appears in the editor as a color widget.\n     *\n     * Initial value is `[0.0, 0.0, 0.0, 1.0]`, unless overridden by the\n     * `default` property.\n     */\n    Type[Type[\"Color\"] = 4096] = \"Color\";\n})(Type || (Type = {}));\n/**\n * Component property namespace.\n *\n * Usage:\n *\n * ```js\n * import {Component, Property} from '@wonderlandengine/api';\n *\n * class MyComponent extends Component {\n *     static Properties = {\n *         myBool: Property.bool(true),\n *         myInt: Property.int(42),\n *         myString: Property.string('Hello World!'),\n *         myMesh: Property.mesh(),\n *     }\n * }\n * ```\n *\n * For TypeScript users, you can use the decorators instead.\n */\nexport const Property = {\n    /**\n     * Create an boolean property.\n     *\n     * @param defaultValue The default value. If not provided, defaults to `false`.\n     */\n    bool(defaultValue = false) {\n        return { type: Type.Bool, default: defaultValue };\n    },\n    /**\n     * Create an integer property.\n     *\n     * @param defaultValue The default value. If not provided, defaults to `0`.\n     */\n    int(defaultValue = 0) {\n        return { type: Type.Int, default: defaultValue };\n    },\n    /**\n     * Create an float property.\n     *\n     * @param defaultValue The default value. If not provided, defaults to `0.0`.\n     */\n    float(defaultValue = 0.0) {\n        return { type: Type.Float, default: defaultValue };\n    },\n    /**\n     * Create an string property.\n     *\n     * @param defaultValue The default value. If not provided, defaults to `''`.\n     */\n    string(defaultValue = '') {\n        return { type: Type.String, default: defaultValue };\n    },\n    /**\n     * Create an enumeration property.\n     *\n     * @param values The list of values.\n     * @param defaultValue The default value. Can be a string or an index into\n     *     `values`. If not provided, defaults to the first element.\n     */\n    enum(values, defaultValue) {\n        return { type: Type.Enum, values, default: defaultValue };\n    },\n    /** Create an {@link Object3D} reference property. */\n    object() {\n        return { type: Type.Object, default: null };\n    },\n    /** Create a {@link Mesh} reference property. */\n    mesh() {\n        return { type: Type.Mesh, default: null };\n    },\n    /** Create a {@link Texture} reference property. */\n    texture() {\n        return { type: Type.Texture, default: null };\n    },\n    /** Create a {@link Material} reference property. */\n    material() {\n        return { type: Type.Material, default: null };\n    },\n    /** Create an {@link Animation} reference property. */\n    animation() {\n        return { type: Type.Animation, default: null };\n    },\n    /** Create a {@link Skin} reference property. */\n    skin() {\n        return { type: Type.Skin, default: null };\n    },\n    /**\n     * Create a color property.\n     *\n     * @param r The red component, in the range [0; 1].\n     * @param g The green component, in the range [0; 1].\n     * @param b The blue component, in the range [0; 1].\n     * @param a The alpha component, in the range [0; 1].\n     */\n    color(r = 0.0, g = 0.0, b = 0.0, a = 1.0) {\n        return { type: Type.Color, default: [r, g, b, a] };\n    },\n};\n", "import { Property, Type } from './property.js';\n/**\n * Decorator for JS component properties.\n *\n * @param data The property description as an object literal\n * @returns A decorator function modifying the `Properties` static\n *     attribute\n */\nfunction propertyDecorator(data) {\n    return function (target, propertyKey) {\n        const ctor = target.constructor;\n        ctor.Properties = ctor.Properties ?? {};\n        ctor.Properties[propertyKey] = data;\n    };\n}\n/**\n * Decorator for making a getter enumerable.\n *\n * Usage:\n *\n * ```ts\n * class MyClass {\n *     @enumerable()\n *     get projectionMatrix(): Float32Array { ... }\n * }\n * ```\n */\nexport function enumerable() {\n    return function (_, __, descriptor) {\n        descriptor.enumerable = true;\n    };\n}\n/**\n * Decorator for native properties.\n *\n * Usage:\n *\n * ```ts\n * class MyClass {\n *     @nativeProperty()\n *     get projectionMatrix(): Float32Array { ... }\n * }\n * ```\n */\nexport function nativeProperty() {\n    return function (target, propertyKey, descriptor) {\n        enumerable()(target, propertyKey, descriptor);\n        propertyDecorator({ type: Type.Native })(target, propertyKey);\n    };\n}\n/**\n * Property decorators namespace.\n *\n * You can use the decorators to mark a class attribute as\n * a Wonderland Engine property.\n *\n * Usage:\n *\n * ```ts\n * import {Mesh} from '@wonderlandengine/api';\n * import {property} from '@wonderlandengine/api/decorators.js';\n *\n * class MyComponent extends Component {\n *     @property.bool(true)\n *     myBool!: boolean;\n *\n *     @property.int(42)\n *     myInt!: number;\n *\n *     @property.string('Hello World!')\n *     myString!: string;\n *\n *     @property.mesh()\n *     myMesh!: Mesh;\n * }\n * ```\n *\n * For JavaScript users, please declare the properties statically.\n */\nexport const property = {};\nfor (const name in Property) {\n    /* Assign each property functor to a TypeScript decorator.\n     * This code extracts parameters and return type to provide proper\n     * typings to the user. */\n    property[name] = (...args) => {\n        const functor = Property[name];\n        return propertyDecorator(functor(...args));\n    };\n}\n", "/**\n * Check if a given value is a native string or a `String` instance.\n *\n * @param value The value to check.\n * @returns `true` if the `value` has type string literal or `String`, `false` otherwise.\n */\nexport function isString(value) {\n    if (value === '')\n        return true;\n    return value && (typeof value === 'string' || value.constructor === String);\n}\n/**\n * Check if a given value is a native number or a `Number` instance.\n *\n * @param value The value to check.\n * @returns `true` if the `value` has type number literal or `Number`, `false` otherwise.\n */\nexport function isNumber(value) {\n    if (value === null || value === undefined)\n        return false;\n    return typeof value === 'number' || value.constructor === Number;\n}\n", "/**\n * Event emitter.\n *\n * This class allows to register listeners that will get notified by the emitter.\n *\n * Usage example\n *\n * ```js\n * // `onPreRender` is an `Emitter` instance.\n * scene.onPreRender.add(() => console.log('before rendering'));\n * // `onPostRender` is an `Emitter` instance.\n * scene.onPostRender.add(() => console.log('after rendering'));\n * ```\n *\n * You can create your own emitters:\n *\n * ```js\n * import {Emitter} from '@wonderlandengine/api';\n *\n * const emitter = new Emitter();\n * ```\n *\n * You can notify listeners in to your emitter using {@link Emitter.notify}:\n *\n * ```js\n * // Notifies all the listeners.\n * emitter.notify();\n * // Notifies all the listeners with some data.\n * emitter.notify({ myInt: 42, myStr: 'Hello World!' });\n * ```\n *\n * @category event\n */\nexport class Emitter {\n    /**\n     * List of listeners to trigger when `notify` is called.\n     *\n     * @hidden\n     */\n    _listeners = [];\n    /**\n     * Register a new listener to be triggered on {@link Emitter.notify}.\n     *\n     * Basic usage:\n     *\n     * ```js\n     * emitter.add((data) => {\n     *     console.log('event received!');\n     *     console.log(data);\n     * });\n     * ```\n     *\n     * Automatically remove the listener when an event is received:\n     *\n     * ```js\n     * emitter.add((data) => {\n     *     console.log('event received!');\n     *     console.log(data);\n     * }, {once: true});\n     * ```\n     *\n     * @param listener The callback to register.\n     * @param opts The listener options. For more information, please have a look\n     *     at the {@link ListenerOptions} interface.\n     *\n     * @returns Reference to self (for method chaining)\n     */\n    add(listener, opts = {}) {\n        const { once = false, id = undefined } = opts;\n        this._listeners.push({ id, once, callback: listener });\n        return this;\n    }\n    /**\n     * Equivalent to {@link Emitter.add}.\n     *\n     * @param listeners The callback(s) to register.\n     * @returns Reference to self (for method chaining).\n     *\n     * @deprecated Please use {@link Emitter.add} instead.\n     */\n    push(...listeners) {\n        for (const cb of listeners)\n            this.add(cb);\n        return this;\n    }\n    /**\n     * Register a new listener to be triggered on {@link Emitter.notify}.\n     *\n     * Once notified, the listener will be automatically removed.\n     *\n     * The method is equivalent to calling {@link Emitter.add} with:\n     *\n     * ```js\n     * emitter.add(listener, {once: true});\n     * ```\n     *\n     * @param listener The callback to register.\n     *\n     * @returns Reference to self (for method chaining).\n     */\n    once(listener) {\n        return this.add(listener, { once: true });\n    }\n    /**\n     * Remove a registered listener.\n     *\n     * Usage with a callback:\n     *\n     * ```js\n     * const listener = (data) => console.log(data);\n     * emitter.add(listener);\n     *\n     * // Remove using the callback reference:\n     * emitter.remove(listener);\n     * ```\n     *\n     * Usage with an id:\n     *\n     * ```js\n     * emitter.add((data) => console.log(data), {id: 'my-callback'});\n     *\n     * // Remove using the id:\n     * emitter.remove('my-callback');\n     * ```\n     *\n     * Using identifiers, you will need to ensure your value is unique to avoid\n     * removing listeners from other libraries, e.g.,:\n     *\n     * ```js\n     * emitter.add((data) => console.log(data), {id: 'non-unique'});\n     * // This second listener could be added by a third-party library.\n     * emitter.add((data) => console.log('Hello From Library!'), {id: 'non-unique'});\n     *\n     * // Ho Snap! This also removed the library listener!\n     * emitter.remove('non-unique');\n     * ```\n     *\n     * The identifier can be any type. However, remember that the comparison will be\n     * by-value for primitive types (string, number), but by reference for objects.\n     *\n     * Example:\n     *\n     * ```js\n     * emitter.add(() => console.log('Hello'), {id: {value: 42}});\n     * emitter.add(() => console.log('World!'), {id: {value: 42}});\n     * emitter.remove({value: 42}); // None of the above listeners match!\n     * emitter.notify(); // Prints 'Hello' and 'World!'.\n     * ```\n     *\n     * Here, both emitters have id `{value: 42}`, but the comparison is made by reference. Thus,\n     * the `remove()` call has no effect. We can make it work by doing:\n     *\n     * ```js\n     * const id = {value: 42};\n     * emitter.add(() => console.log('Hello'), {id});\n     * emitter.add(() => console.log('World!'), {id});\n     * emitter.remove(id); // Same reference, it works!\n     * emitter.notify(); // Doesn't print.\n     * ```\n     *\n     * @param listener The registered callback or a value representing the `id`.\n     *\n     * @returns Reference to self (for method chaining)\n     */\n    remove(listener) {\n        const listeners = this._listeners;\n        for (let i = 0; i < listeners.length; ++i) {\n            const target = listeners[i];\n            if (target.callback === listener || target.id === listener) {\n                listeners.splice(i--, 1);\n            }\n        }\n        return this;\n    }\n    /**\n     * Check whether the listener is registered.\n     *\n     * @note This method performs a linear search.\n     *\n     * @param listener The registered callback or a value representing the `id`.\n     * @returns `true` if the handle is found, `false` otherwise.\n     */\n    has(listener) {\n        const listeners = this._listeners;\n        for (let i = 0; i < listeners.length; ++i) {\n            const target = listeners[i];\n            if (target.callback === listener || target.id === listener)\n                return true;\n        }\n        return false;\n    }\n    /**\n     * Notify listeners with the given data object.\n     *\n     * @note This method ensures all listeners are called even if\n     * an exception is thrown. For (possibly) faster notification,\n     * please use {@link Emitter.notifyUnsafe}.\n     *\n     * @param data The data to pass to listener when invoked.\n     */\n    notify(...data) {\n        const listeners = this._listeners;\n        for (let i = 0; i < listeners.length; ++i) {\n            const listener = listeners[i];\n            if (listener.once)\n                listeners.splice(i--, 1);\n            try {\n                listener.callback(...data);\n            }\n            catch (e) {\n                console.error(e);\n            }\n        }\n    }\n    /**\n     * Notify listeners with the given data object.\n     *\n     * @note Because this method doesn't catch exceptions, some listeners\n     * will be skipped on a throw. Please use {@link Emitter.notify} for safe\n     * notification.\n     *\n     * @param data The data to pass to listener when invoked.\n     */\n    notifyUnsafe(...data) {\n        const listeners = this._listeners;\n        for (let i = 0; i < listeners.length; ++i) {\n            const listener = listeners[i];\n            if (listener.once)\n                listeners.splice(i--, 1);\n            listener.callback(...data);\n        }\n    }\n    /**\n     * Return a promise that will resolve on the next event.\n     *\n     * @note The promise might never resolve if no event is sent.\n     *\n     * @returns A promise that resolves with the data passed to\n     *     {@link Emitter.notify}.\n     */\n    promise() {\n        return new Promise((res, _) => {\n            this.once((...args) => {\n                if (args.length > 1) {\n                    res(args);\n                }\n                else {\n                    res(args[0]);\n                }\n            });\n        });\n    }\n    /** Number of listeners. */\n    get listenerCount() {\n        return this._listeners.length;\n    }\n    /** `true` if it has no listeners, `false` otherwise. */\n    get isEmpty() {\n        return this.listenerCount === 0;\n    }\n}\n/* Dummy value used with RetainEmitter. */\nconst RetainEmitterUndefined = {};\n/**\n * Event emitter that retains event data when notified.\n *\n * After a notification happens, subsequent calls to {@link RetainEmitter.add} will get\n * automatically notified.\n *\n * You can use another emitter in order to cancel the last retained event:\n *\n * ```js\n * import {Emitter, RetainedEmitter} from '@wonderlandengine/api';\n *\n * const onStart = new RetainedEmitter();\n *\n * onStart.notify(42);\n * onStart.add((data) => console.log(data)) // Prints '42'.\n * ```\n *\n * You can reset the state of the emitter, i.e., making it forget about the\n * last event using:\n *\n * ```js\n * import {Emitter, RetainedEmitter} from '@wonderlandengine/api';\n *\n * const onStart = new RetainedEmitter();\n * onStart.notify(42);\n * onStart.add((data) => console.log(data)) // Prints '42'.\n *\n * // Reset the state of the emitter.\n * onStart.reset();\n * onStart.add((data) => console.log(data)) // Doesn't print anything.\n * ```\n *\n * For more information about emitters, please have a look at the base {@link Emitter} class.\n *\n * @category event\n */\nexport class RetainEmitter extends Emitter {\n    /** Pre-resolved data. @hidden */\n    _event = RetainEmitterUndefined;\n    /**\n     * Emitter target used to reset the state of this emitter.\n     *\n     * @hidden\n     */\n    _reset;\n    /** @override */\n    add(listener, opts) {\n        const immediate = opts?.immediate ?? true;\n        if (this._event !== RetainEmitterUndefined && immediate) {\n            listener(...this._event);\n        }\n        super.add(listener, opts);\n        return this;\n    }\n    /**\n     * @override\n     *\n     * @param listener The callback to register.\n     * @param immediate If `true`, directly resolves if the emitter retains a value.\n     *\n     * @returns Reference to self (for method chaining).\n     */\n    once(listener, immediate) {\n        return this.add(listener, { once: true, immediate });\n    }\n    /** @override */\n    notify(...data) {\n        this._event = data;\n        super.notify(...data);\n    }\n    /** @override */\n    notifyUnsafe(...data) {\n        this._event = data;\n        super.notifyUnsafe(...data);\n    }\n    /**\n     * Reset the state of the emitter.\n     *\n     * Further call to {@link Emitter.add} will not automatically resolve,\n     * until a new call to {@link Emitter.notify} is performed.\n     *\n     * @returns Reference to self (for method chaining)\n     */\n    reset() {\n        this._event = RetainEmitterUndefined;\n        return this;\n    }\n    /** Returns the retained data, or `undefined` if no data was retained. */\n    get data() {\n        return this.isDataRetained ? this._event : undefined;\n    }\n    /** `true` if data is retained from the last event, `false` otherwise. */\n    get isDataRetained() {\n        return this._event !== RetainEmitterUndefined;\n    }\n}\n", "/**\n * Fetch a file as an `ArrayBuffer`, with fetch progress passed to a callback.\n *\n * @param path Path of the file to fetch\n * @param onProgress Callback receiving the current fetch progress and total\n *     size, in bytes. Also called a final time on completion.\n * @returns Promise that resolves when the fetch successfully completes\n */\nexport function fetchWithProgress(path, onProgress) {\n    return new Promise((resolve, reject) => {\n        const xhr = new XMLHttpRequest();\n        xhr.open('GET', path);\n        xhr.responseType = 'arraybuffer';\n        xhr.onprogress = (progress) => {\n            if (progress.lengthComputable) {\n                onProgress?.(progress.loaded, progress.total);\n            }\n        };\n        xhr.onload = () => {\n            if (xhr.status >= 200 && xhr.status < 300) {\n                const buffer = xhr.response;\n                onProgress?.(buffer.byteLength, buffer.byteLength);\n                resolve(buffer);\n            }\n            else {\n                reject(xhr.statusText);\n            }\n        };\n        xhr.onerror = () => reject(xhr.statusText);\n        xhr.send();\n    });\n}\n", "/**\n * Types\n */\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { nativeProperty, enumerable } from './decorators.js';\nimport { isNumber, isString } from './utils/object.js';\nimport { Emitter } from './utils/event.js';\nimport { fetchWithProgress } from './utils/fetch.js';\n/**\n * Wonderland Engine API\n * @namespace WL\n */\n/**\n * Collider type enum for {@link CollisionComponent}.\n */\nexport var Collider;\n(function (Collider) {\n    /**\n     * **Sphere Collider**:\n     *\n     * Simplest and most performant collision shape. If this type is set on a\n     * {@link CollisionComponent}, only the first component of\n     * {@link CollisionComponent#extents} will be used to determine the radius.\n     */\n    Collider[Collider[\"Sphere\"] = 0] = \"Sphere\";\n    /**\n     * **Axis Aligned Bounding Box Collider**:\n     *\n     * Box that is always aligned to XYZ axis. It cannot be rotated but is more\n     * efficient than {@link Collider.Box}.\n     */\n    Collider[Collider[\"AxisAlignedBox\"] = 1] = \"AxisAlignedBox\";\n    /**\n     * **Aligned Bounding Box Collider**:\n     *\n     * Box that matches the object's rotation and translation correctly. This\n     * is the least efficient collider and should only be chosen over\n     * {@link Collider.Sphere} and {@link Collider.AxisAlignedBox} if really\n     * necessary.\n     */\n    Collider[Collider[\"Box\"] = 2] = \"Box\";\n})(Collider || (Collider = {}));\n/**\n * Alignment type enum for {@link TextComponent}.\n */\nexport var Alignment;\n(function (Alignment) {\n    /** Text start is at object origin */\n    Alignment[Alignment[\"Left\"] = 0] = \"Left\";\n    /** Text center is at object origin */\n    Alignment[Alignment[\"Center\"] = 1] = \"Center\";\n    /** Text end is at object origin */\n    Alignment[Alignment[\"Right\"] = 2] = \"Right\";\n})(Alignment || (Alignment = {}));\n/**\n * Justification type enum for {@link TextComponent}.\n */\nexport var Justification;\n(function (Justification) {\n    /** Text line is at object origin */\n    Justification[Justification[\"Line\"] = 0] = \"Line\";\n    /** Text middle is at object origin */\n    Justification[Justification[\"Middle\"] = 1] = \"Middle\";\n    /** Text top is at object origin */\n    Justification[Justification[\"Top\"] = 2] = \"Top\";\n    /** Text bottom is at object origin */\n    Justification[Justification[\"Bottom\"] = 3] = \"Bottom\";\n})(Justification || (Justification = {}));\n/**\n * Effect type enum for {@link TextComponent}.\n */\nexport var TextEffect;\n(function (TextEffect) {\n    /** Text is rendered normally */\n    TextEffect[TextEffect[\"None\"] = 0] = \"None\";\n    /** Text is rendered with an outline */\n    TextEffect[TextEffect[\"Outline\"] = 1] = \"Outline\";\n})(TextEffect || (TextEffect = {}));\n/**\n * Input type enum for {@link InputComponent}.\n */\nexport var InputType;\n(function (InputType) {\n    /** Head input */\n    InputType[InputType[\"Head\"] = 0] = \"Head\";\n    /** Left eye input */\n    InputType[InputType[\"EyeLeft\"] = 1] = \"EyeLeft\";\n    /** Right eye input */\n    InputType[InputType[\"EyeRight\"] = 2] = \"EyeRight\";\n    /** Left controller input */\n    InputType[InputType[\"ControllerLeft\"] = 3] = \"ControllerLeft\";\n    /** Right controller input */\n    InputType[InputType[\"ControllerRight\"] = 4] = \"ControllerRight\";\n    /** Left ray input */\n    InputType[InputType[\"RayLeft\"] = 5] = \"RayLeft\";\n    /** Right ray input */\n    InputType[InputType[\"RayRight\"] = 6] = \"RayRight\";\n})(InputType || (InputType = {}));\n/**\n * Light type enum for {@link LightComponent}.\n */\nexport var LightType;\n(function (LightType) {\n    /** Point light */\n    LightType[LightType[\"Point\"] = 0] = \"Point\";\n    /** Spot light */\n    LightType[LightType[\"Spot\"] = 1] = \"Spot\";\n    /** Sun light / Directional light */\n    LightType[LightType[\"Sun\"] = 2] = \"Sun\";\n})(LightType || (LightType = {}));\n/**\n * Animation state of {@link AnimationComponent}.\n */\nexport var AnimationState;\n(function (AnimationState) {\n    /** Animation is currently playing */\n    AnimationState[AnimationState[\"Playing\"] = 0] = \"Playing\";\n    /** Animation is paused and will continue at current playback\n     * time on {@link AnimationComponent#play} */\n    AnimationState[AnimationState[\"Paused\"] = 1] = \"Paused\";\n    /** Animation is stopped */\n    AnimationState[AnimationState[\"Stopped\"] = 2] = \"Stopped\";\n})(AnimationState || (AnimationState = {}));\n/**\n * Rigid body force mode for {@link PhysXComponent#addForce} and {@link PhysXComponent#addTorque}.\n *\n * [PhysX API Reference](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxapi/files/structPxForceMode.html)\n */\nexport var ForceMode;\n(function (ForceMode) {\n    /** Apply as force */\n    ForceMode[ForceMode[\"Force\"] = 0] = \"Force\";\n    /** Apply as impulse */\n    ForceMode[ForceMode[\"Impulse\"] = 1] = \"Impulse\";\n    /** Apply as velocity change, mass dependent */\n    ForceMode[ForceMode[\"VelocityChange\"] = 2] = \"VelocityChange\";\n    /** Apply as mass dependent force */\n    ForceMode[ForceMode[\"Acceleration\"] = 3] = \"Acceleration\";\n})(ForceMode || (ForceMode = {}));\n/**\n * Collision callback event type.\n */\nexport var CollisionEventType;\n(function (CollisionEventType) {\n    /** Touch/contact detected, collision */\n    CollisionEventType[CollisionEventType[\"Touch\"] = 0] = \"Touch\";\n    /** Touch/contact lost, uncollide */\n    CollisionEventType[CollisionEventType[\"TouchLost\"] = 1] = \"TouchLost\";\n    /** Touch/contact with trigger detected */\n    CollisionEventType[CollisionEventType[\"TriggerTouch\"] = 2] = \"TriggerTouch\";\n    /** Touch/contact with trigger lost */\n    CollisionEventType[CollisionEventType[\"TriggerTouchLost\"] = 3] = \"TriggerTouchLost\";\n})(CollisionEventType || (CollisionEventType = {}));\n/**\n * Rigid body {@link PhysXComponent#shape}.\n *\n * [PhysX SDK Guide](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/Geometry.html#geometry-types).\n */\nexport var Shape;\n(function (Shape) {\n    /** No shape. */\n    Shape[Shape[\"None\"] = 0] = \"None\";\n    /** Sphere shape. */\n    Shape[Shape[\"Sphere\"] = 1] = \"Sphere\";\n    /** Capsule shape. */\n    Shape[Shape[\"Capsule\"] = 2] = \"Capsule\";\n    /** Box shape. */\n    Shape[Shape[\"Box\"] = 3] = \"Box\";\n    /** Plane shape. */\n    Shape[Shape[\"Plane\"] = 4] = \"Plane\";\n    /** Convex mesh shape. */\n    Shape[Shape[\"ConvexMesh\"] = 5] = \"ConvexMesh\";\n    /** Triangle mesh shape. */\n    Shape[Shape[\"TriangleMesh\"] = 6] = \"TriangleMesh\";\n})(Shape || (Shape = {}));\n/**\n * Mesh attribute enum.\n * @since 0.9.0\n */\nexport var MeshAttribute;\n(function (MeshAttribute) {\n    /** Position attribute, 3 floats */\n    MeshAttribute[MeshAttribute[\"Position\"] = 0] = \"Position\";\n    /** Tangent attribute, 4 floats */\n    MeshAttribute[MeshAttribute[\"Tangent\"] = 1] = \"Tangent\";\n    /** Normal attribute, 3 floats */\n    MeshAttribute[MeshAttribute[\"Normal\"] = 2] = \"Normal\";\n    /** Texture coordinate attribute, 2 floats */\n    MeshAttribute[MeshAttribute[\"TextureCoordinate\"] = 3] = \"TextureCoordinate\";\n    /** Color attribute, 4 floats, RGBA, range `0` to `1` */\n    MeshAttribute[MeshAttribute[\"Color\"] = 4] = \"Color\";\n    /** Joint id attribute, 8 unsigned ints */\n    MeshAttribute[MeshAttribute[\"JointId\"] = 5] = \"JointId\";\n    /** Joint weights attribute, 8 floats */\n    MeshAttribute[MeshAttribute[\"JointWeight\"] = 6] = \"JointWeight\";\n})(MeshAttribute || (MeshAttribute = {}));\n/**\n * Material parameter type.\n */\nexport var MaterialParamType;\n(function (MaterialParamType) {\n    /** Unsigned integer parameter type. */\n    MaterialParamType[MaterialParamType[\"UnsignedInt\"] = 0] = \"UnsignedInt\";\n    /** Integer parameter type. */\n    MaterialParamType[MaterialParamType[\"Int\"] = 1] = \"Int\";\n    /** Float parameter type. */\n    MaterialParamType[MaterialParamType[\"Float\"] = 2] = \"Float\";\n    /** Sampler resource parameter type, i.e., a {@link Texture}. */\n    MaterialParamType[MaterialParamType[\"Sampler\"] = 3] = \"Sampler\";\n    /**\n     * Font resource parameter type.\n     *\n     * **Note**: Changing font isn't exposed yet and will raise an error.\n     */\n    MaterialParamType[MaterialParamType[\"Font\"] = 4] = \"Font\";\n})(MaterialParamType || (MaterialParamType = {}));\n/**\n * Check whether a given shape is a mesh or not.\n *\n * @param shape The shape to check.\n * @returns `true` if the shape is a mesh, `false` if it's a primitive.\n */\nfunction isMeshShape(shape) {\n    return shape === Shape.ConvexMesh || shape === Shape.TriangleMesh;\n}\n/**\n * Constants.\n */\n/**\n * Default world up vector.\n */\nconst UP_VECTOR = [0, 1, 0];\n/**\n * Provides global scene functionality like raycasting.\n */\nexport class Scene {\n    /** Called before rendering the scene */\n    onPreRender = new Emitter();\n    /** Called after the scene has been rendered */\n    onPostRender = new Emitter();\n    /** Wonderland Engine instance. @hidden */\n    _engine;\n    /** Ray hit pointer in WASM heap. @hidden */\n    _rayHit;\n    /** Ray hit. @hidden */\n    _hit;\n    constructor(engine) {\n        this._engine = engine;\n        this._rayHit = engine.wasm._malloc(4 * (3 * 4 + 3 * 4 + 4 + 2) + 4);\n        this._hit = new RayHit(this._engine, this._rayHit);\n    }\n    /**\n     * Currently active view components.\n     */\n    get activeViews() {\n        const wasm = this._engine.wasm;\n        const count = wasm._wl_scene_get_active_views(this._engine.wasm._tempMem, 16);\n        const views = [];\n        const viewTypeIndex = wasm._typeIndexFor('view');\n        for (let i = 0; i < count; ++i) {\n            views.push(new ViewComponent(this._engine, viewTypeIndex, this._engine.wasm._tempMemInt[i]));\n        }\n        return views;\n    }\n    /**\n     * Cast a ray through the scene and find intersecting objects.\n     *\n     * The resulting ray hit will contain up to **4** closest ray hits,\n     * sorted by increasing distance.\n     *\n     * @param o Ray origin.\n     * @param d Ray direction.\n     * @param group Collision group to filter by: only objects that are\n     *        part of given group are considered for raycast.\n     *\n     * @returns The scene cached {@link RayHit} instance.\n     * @note The returned object is owned by the Scene instance\n     *   will be reused with the next {@link Scene#rayCast} call.\n     */\n    rayCast(o, d, group) {\n        this._engine.wasm._wl_scene_ray_cast(o[0], o[1], o[2], d[0], d[1], d[2], group, this._rayHit);\n        return this._hit;\n    }\n    /**\n     * Add an object to the scene.\n     *\n     * @param parent Parent object or `null`.\n     * @returns A newly created object.\n     */\n    addObject(parent = null) {\n        const parentId = parent ? parent.objectId : 0;\n        const objectId = this._engine.wasm._wl_scene_add_object(parentId);\n        return this._engine.wrapObject(objectId);\n    }\n    /**\n     * Batch-add objects to the scene.\n     *\n     * Will provide better performance for adding multiple objects (e.g. > 16)\n     * than calling {@link Scene#addObject} repeatedly in a loop.\n     *\n     * By providing upfront information of how many objects will be required,\n     * the engine is able to batch-allocate the required memory rather than\n     * convervatively grow the memory in small steps.\n     *\n     * **Experimental:** This API might change in upcoming versions.\n     *\n     * @param count Number of objects to add.\n     * @param parent Parent object or `null`, default `null`.\n     * @param componentCountHint Hint for how many components in total will\n     *      be added to the created objects afterwards, default `0`.\n     * @returns Newly created objects\n     */\n    addObjects(count, parent = null, componentCountHint = 0) {\n        const parentId = parent ? parent.objectId : 0;\n        this._engine.wasm.requireTempMem(count * 2);\n        const actualCount = this._engine.wasm._wl_scene_add_objects(parentId, count, componentCountHint || 0, this._engine.wasm._tempMem, this._engine.wasm._tempMemSize >> 1);\n        const ids = this._engine.wasm._tempMemUint16.subarray(0, actualCount);\n        const wrapper = this._engine.wrapObject.bind(this._engine);\n        const objects = Array.from(ids, wrapper);\n        return objects;\n    }\n    /**\n     * Pre-allocate memory for a given amount of objects and components.\n     *\n     * Will provide better performance for adding objects later with {@link Scene#addObject}\n     * and {@link Scene#addObjects}.\n     *\n     * By providing upfront information of how many objects will be required,\n     * the engine is able to batch-allocate the required memory rather than\n     * conservatively grow the memory in small steps.\n     *\n     * **Experimental:** This API might change in upcoming versions.\n     *\n     * @param objectCount Number of objects to add.\n     * @param componentCountPerType Amount of components to\n     *      allocate for {@link Object3D.addComponent}, e.g. `{mesh: 100, collision: 200, \"my-comp\": 100}`.\n     * @since 0.8.10\n     */\n    reserveObjects(objectCount, componentCountPerType) {\n        const wasm = this._engine.wasm;\n        componentCountPerType = componentCountPerType || {};\n        const jsManagerIndex = wasm._typeIndexFor('js');\n        let countsPerTypeIndex = wasm._tempMemInt.subarray();\n        countsPerTypeIndex.fill(0);\n        for (const e of Object.entries(componentCountPerType)) {\n            const typeIndex = wasm._typeIndexFor(e[0]);\n            countsPerTypeIndex[typeIndex < 0 ? jsManagerIndex : typeIndex] += e[1];\n        }\n        wasm._wl_scene_reserve_objects(objectCount, wasm._tempMem);\n    }\n    /**\n     * Set the background clear color.\n     *\n     * @param color new clear color (RGBA).\n     * @since 0.8.5\n     */\n    set clearColor(color) {\n        this._engine.wasm._wl_scene_set_clearColor(color[0], color[1], color[2], color[3]);\n    }\n    /**\n     * Set whether to clear the color framebuffer before drawing.\n     *\n     * This function is useful if an external framework (e.g. an AR tracking\n     * framework) is responsible for drawing a camera frame before Wonderland\n     * Engine draws the scene on top of it.\n     *\n     * @param b Whether to enable color clear.\n     * @since 0.9.4\n     */\n    set colorClearEnabled(b) {\n        this._engine.wasm._wl_scene_enableColorClear(b);\n    }\n    /** Hosting engine instance. */\n    get engine() {\n        return this._engine;\n    }\n    /**\n     * Load a scene file (.bin).\n     *\n     * Will replace the currently active scene with the one loaded\n     * from given file. It is assumed that JavaScript components required by\n     * the new scene were registered in advance.\n     *\n     * Once the scene is loaded successfully and initialized,\n     * {@link WonderlandEngine.onSceneLoaded} is notified.\n     *\n     * @param filename Path to the .bin file.\n     * @returns Promise that resolves when the scene was loaded.\n     */\n    async load(filename) {\n        const wasm = this._engine.wasm;\n        const buffer = await fetchWithProgress(filename, (bytes, size) => {\n            console.log(`Scene downloading: ${bytes} / ${size}`);\n            wasm._wl_set_loading_screen_progress(bytes / size);\n        });\n        const size = buffer.byteLength;\n        console.log(`Scene download of ${size} bytes successful.`);\n        const ptr = wasm._malloc(size);\n        new Uint8Array(wasm.HEAPU8.buffer, ptr, size).set(new Uint8Array(buffer));\n        try {\n            wasm._wl_load_scene_bin(ptr, size, wasm.tempUTF8(filename));\n        }\n        finally {\n            /* Catch calls to abort(), e.g. via asserts */\n            wasm._free(ptr);\n        }\n        const binQueue = wasm._queuedBinFiles;\n        if (binQueue.length > 0) {\n            wasm._queuedBinFiles = [];\n            await Promise.all(binQueue.map((path) => this.append(path)));\n        }\n        this._engine.onSceneLoaded.notify();\n    }\n    /**\n     * Append a scene file.\n     *\n     * Loads and parses the file and its images and appends the result\n     * to the currently active scene.\n     *\n     * Supported formats are streamable Wonderland scene files (.bin) and glTF\n     * 3D scenes (.gltf, .glb).\n     *\n     * ```js\n     * WL.scene.append(filename).then(root => {\n     *     // root contains the loaded scene\n     * });\n     * ```\n     *\n     * In case the `loadGltfExtensions` option is set to true, the response\n     * will be an object containing both the root of the loaded scene and\n     * any glTF extensions found on nodes, meshes and the root of the file.\n     *\n     * ```js\n     * WL.scene.append(filename, { loadGltfExtensions: true }).then(({root, extensions}) => {\n     *     // root contains the loaded scene\n     *     // extensions.root contains any extensions at the root of glTF document\n     *     const rootExtensions = extensions.root;\n     *     // extensions.mesh and extensions.node contain extensions indexed by Object id\n     *     const childObject = root.children[0];\n     *     const meshExtensions = root.meshExtensions[childObject.objectId];\n     *     const nodeExtensions = root.nodeExtensions[childObject.objectId];\n     *     // extensions.idMapping contains a mapping from glTF node index to Object id\n     * });\n     * ```\n     *\n     * @param file The .bin, .gltf or .glb file to append. Should be a URL or\n     *   an `ArrayBuffer` with the file content.\n     * @param options Additional options for loading.\n     * @returns Promise that resolves when the scene was appended.\n     */\n    async append(file, options) {\n        const buffer = isString(file) ? await fetchWithProgress(file) : file;\n        const wasm = this._engine.wasm;\n        let callback;\n        const promise = new Promise((resolve, reject) => {\n            callback = wasm.addFunction((objectId, extensionData, extensionDataSize) => {\n                if (objectId < 0) {\n                    reject();\n                    return;\n                }\n                const root = objectId ? this._engine.wrapObject(objectId) : null;\n                if (extensionData && extensionDataSize) {\n                    const marshalled = new Uint32Array(wasm.HEAPU32.buffer, extensionData, extensionDataSize / 4);\n                    const extensions = this._unmarshallGltfExtensions(marshalled);\n                    resolve({ root, extensions });\n                }\n                else {\n                    resolve(root);\n                }\n            }, 'viii');\n        }).finally(() => wasm.removeFunction(callback));\n        const size = buffer.byteLength;\n        const ptr = wasm._malloc(size);\n        const data = new Uint8Array(wasm.HEAPU8.buffer, ptr, size);\n        data.set(new Uint8Array(buffer));\n        const MAGIC = 'WLEV';\n        const isBinFile = data.byteLength > MAGIC.length &&\n            data\n                .subarray(0, MAGIC.length)\n                .every((value, i) => value === MAGIC.charCodeAt(i));\n        try {\n            if (isBinFile) {\n                wasm._wl_append_scene_bin(ptr, size, callback);\n            }\n            else {\n                const loadExtensions = options?.loadGltfExtensions ?? false;\n                wasm._wl_append_scene_gltf(ptr, size, loadExtensions, callback);\n            }\n        }\n        catch (e) {\n            wasm.removeFunction(callback);\n            throw e;\n        }\n        finally {\n            wasm._free(ptr);\n        }\n        const result = await promise;\n        const binQueue = wasm._queuedBinFiles;\n        if (isBinFile && binQueue.length > 0) {\n            wasm._queuedBinFiles = [];\n            await Promise.all(binQueue.map((path) => this.append(path, options)));\n        }\n        return result;\n    }\n    /**\n     * Unmarshalls the GltfExtensions from an Uint32Array.\n     *\n     * @param data Array containing the gltf extension data.\n     * @returns The extensions stored in an object literal.\n     *\n     * @hidden\n     */\n    _unmarshallGltfExtensions(data) {\n        /* @todo: This method should be moved in the internal Emscripten library. */\n        const extensions = {\n            root: {},\n            mesh: {},\n            node: {},\n            idMapping: [],\n        };\n        let index = 0;\n        const readString = () => {\n            const strPtr = data[index++];\n            const strLen = data[index++];\n            return this._engine.wasm.UTF8ViewToString(strPtr, strPtr + strLen);\n        };\n        const idMappingSize = data[index++];\n        const idMapping = new Array(idMappingSize);\n        for (let i = 0; i < idMappingSize; ++i) {\n            idMapping[i] = data[index++];\n        }\n        extensions.idMapping = idMapping;\n        const meshExtensionsSize = data[index++];\n        for (let i = 0; i < meshExtensionsSize; ++i) {\n            const objectId = data[index++];\n            extensions.mesh[idMapping[objectId]] = JSON.parse(readString());\n        }\n        const nodeExtensionsSize = data[index++];\n        for (let i = 0; i < nodeExtensionsSize; ++i) {\n            const objectId = data[index++];\n            extensions.node[idMapping[objectId]] = JSON.parse(readString());\n        }\n        const rootExtensionsStr = readString();\n        if (rootExtensionsStr) {\n            extensions.root = JSON.parse(rootExtensionsStr);\n        }\n        return extensions;\n    }\n    /**\n     * Reset the scene.\n     *\n     * This method deletes all used and allocated objects, and components.\n     */\n    reset() {\n        this._engine.wasm._wl_scene_reset();\n    }\n}\n/**\n * Native component\n *\n * Provides access to a native component instance of a specified component type.\n *\n * Usage example:\n *\n * ```js\n * import { Component, Type } from '@wonderlandengine/api';\n *\n * export class MyComponent extends Component {\n *     static TypeName = 'my-component';\n *     static Properties = {\n *         myBoolean: { type: Type.Boolean, default: false },\n *     };\n *     start() {}\n *     onActivate() {}\n *     onDeactivate() {}\n *     update(dt) {}\n * }\n * ```\n */\nexport class Component {\n    /**\n     * Unique identifier for this component class.\n     *\n     * This is used to register, add, and retrieve components of a given type.\n     */\n    static TypeName;\n    /**\n     * Properties of this component class.\n     *\n     * Properties are public attributes that can be configured via the\n     * Wonderland Editor.\n     *\n     * Example:\n     *\n     * ```js\n     * import { Component, Type } from '@wonderlandengine/api';\n     * class MyComponent extends Component {\n     *     static TypeName = 'my-component';\n     *     static Properties = {\n     *         myBoolean: { type: Type.Boolean, default: false },\n     *         myFloat: { type: Type.Float, default: false },\n     *         myTexture: { type: Type.Texture, default: null },\n     *     };\n     * }\n     * ```\n     *\n     * Properties are automatically added to each component instance, and are\n     * accessible like any JS attribute:\n     *\n     * ```js\n     * // Creates a new component and set each properties value:\n     * const myComponent = object.addComponent(MyComponent, {\n     *     myBoolean: true,\n     *     myFloat: 42.0,\n     *     myTexture: null\n     * });\n     *\n     * // You can also override the properties on the instance:\n     * myComponent.myBoolean = false;\n     * myComponent.myFloat = -42.0;\n     * ```\n     */\n    static Properties;\n    /**\n     * This was never released in an official version, we are keeping it\n     * to easy transition to the new API.\n     *\n     * @deprecated Use {@link Component.onRegister} instead.\n     * @hidden\n     */\n    static Dependencies;\n    /**\n     * Called when this component class is registered.\n     *\n     * @example\n     *\n     * This callback can be used to register dependencies of a component,\n     * e.g., component classes that need to be registered in order to add\n     * them at runtime with {@link Object3D.addComponent}, independent of whether\n     * they are used in the editor.\n     *\n     * ```js\n     * class Spawner extends Component {\n     *     static TypeName = 'spawner';\n     *\n     *     static onRegister() {\n     *         engine.registerComponent(SpawnedComponent);\n     *     }\n     *\n     *     // You can now use addComponent with SpawnedComponent\n     * }\n     * ```\n     *\n     * @example\n     *\n     * This callback can be used to register different implementations of a\n     * component depending on client features or API versions.\n     *\n     * ```js\n     * // Properties need to be the same for all implementations!\n     * const SharedProperties = {};\n     *\n     * class Anchor extends Component {\n     *     static TypeName = 'spawner';\n     *     static Properties = SharedProperties;\n     *\n     *     static onRegister() {\n     *         if(navigator.xr === undefined) {\n     *             /* WebXR unsupported, keep this dummy component *\\/\n     *             return;\n     *         }\n     *         /* WebXR supported! Override already registered dummy implementation\n     *          * with one depending on hit-test API support *\\/\n     *         engine.registerComponent(window.HitTestSource === undefined ?\n     *             AnchorWithoutHitTest : AnchorWithHitTest);\n     *     }\n     *\n     *     // This one implements no functions\n     * }\n     * ```\n     */\n    static onRegister;\n    /** Manager index. @hidden */\n    _manager;\n    /** Instance index. @hidden */\n    _id;\n    /**\n     * Object containing this object.\n     *\n     * **Note**: This is cached for faster retrieval.\n     *\n     * @hidden\n     */\n    _object;\n    /** Wonderland Engine instance. @hidden */\n    _engine;\n    /**\n     * Create a new instance\n     *\n     * @param engine The engine instance.\n     * @param manager Index of the manager.\n     * @param id WASM component instance index.\n     *\n     * @hidden\n     */\n    constructor(engine, manager = -1, id = -1) {\n        this._engine = engine;\n        this._manager = manager;\n        this._id = id;\n        this._object = null;\n    }\n    /** Hosting engine instance. */\n    get engine() {\n        return this._engine;\n    }\n    /** The name of this component's type */\n    get type() {\n        const ctor = this.constructor;\n        return ctor.TypeName ?? this._engine.wasm._typeNameFor(this._manager);\n    }\n    /** The object this component is attached to. */\n    get object() {\n        if (!this._object) {\n            const objectId = this._engine.wasm._wl_component_get_object(this._manager, this._id);\n            this._object = this._engine.wrapObject(objectId);\n        }\n        return this._object;\n    }\n    /**\n     * Set whether this component is active.\n     *\n     * Activating/deactivating a component comes at a small cost of reordering\n     * components in the respective component manager. This function therefore\n     * is not a trivial assignment.\n     *\n     * Does nothing if the component is already activated/deactivated.\n     *\n     * @param active New active state.\n     */\n    set active(active) {\n        this._engine.wasm._wl_component_setActive(this._manager, this._id, active);\n    }\n    /**\n     * Whether this component is active\n     */\n    get active() {\n        return this._engine.wasm._wl_component_isActive(this._manager, this._id) != 0;\n    }\n    /**\n     * Remove this component from its objects and destroy it.\n     *\n     * It is best practice to set the component to `null` after,\n     * to ensure it does not get used later.\n     *\n     * ```js\n     *    c.destroy();\n     *    c = null;\n     * ```\n     * @since 0.9.0\n     */\n    destroy() {\n        this._engine.wasm._wl_component_remove(this._manager, this._id);\n        this._manager = -1;\n        this._id = -1;\n    }\n    /**\n     * Checks equality by comparing whether the wrapped native component ids\n     * and component manager types are equal.\n     *\n     * @param otherComponent Component to check equality with.\n     * @returns Whether this component equals the given component.\n     */\n    equals(otherComponent) {\n        if (!otherComponent)\n            return false;\n        return this._manager == otherComponent._manager && this._id == otherComponent._id;\n    }\n}\n/**\n * Native collision component.\n *\n * Provides access to a native collision component instance.\n */\nexport class CollisionComponent extends Component {\n    /** @override */\n    static TypeName = 'collision';\n    /** Collision component collider */\n    get collider() {\n        return this._engine.wasm._wl_collision_component_get_collider(this._id);\n    }\n    /**\n     * Set collision component collider.\n     *\n     * @param collider Collider of the collision component.\n     */\n    set collider(collider) {\n        this._engine.wasm._wl_collision_component_set_collider(this._id, collider);\n    }\n    /**\n     * Collision component extents.\n     *\n     * If {@link collider} returns {@link Collider.Sphere}, only the first\n     * component of the returned vector is used.\n     */\n    get extents() {\n        const wasm = this._engine.wasm;\n        return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_collision_component_get_extents(this._id), 3);\n    }\n    /**\n     * Set collision component extents.\n     *\n     * If {@link collider} returns {@link Collider.Sphere}, only the first\n     * component of the passed vector is used.\n     *\n     * Example:\n     *\n     * ```js\n     * // Spans 1 unit on the x-axis, 2 on the y-axis, 3 on the z-axis.\n     * collision.extent = [1, 2, 3];\n     * ```\n     *\n     * @param extents Extents of the collision component, expects a\n     *      3 component array.\n     */\n    set extents(extents) {\n        this.extents.set(extents);\n    }\n    /**\n     * Collision component group.\n     *\n     * The groups is a bitmask that is compared to other components in {@link CollisionComponent#queryOverlaps}\n     * or the group in {@link Scene#rayCast}.\n     *\n     * Colliders that have no common groups will not overlap with each other. If a collider\n     * has none of the groups set for {@link Scene#rayCast}, the ray will not hit it.\n     *\n     * Each bit represents belonging to a group, see example.\n     *\n     * ```js\n     *    // c belongs to group 2\n     *    c.group = (1 << 2);\n     *\n     *    // c belongs to group 0\n     *    c.group = (1 << 0);\n     *\n     *    // c belongs to group 0 *and* 2\n     *    c.group = (1 << 0) | (1 << 2);\n     *\n     *    (c.group & (1 << 2)) != 0; // true\n     *    (c.group & (1 << 7)) != 0; // false\n     * ```\n     */\n    get group() {\n        return this._engine.wasm._wl_collision_component_get_group(this._id);\n    }\n    /**\n     * Set collision component group.\n     *\n     * @param group Group mask of the collision component.\n     */\n    set group(group) {\n        this._engine.wasm._wl_collision_component_set_group(this._id, group);\n    }\n    /**\n     * Query overlapping objects.\n     *\n     * Usage:\n     *\n     * ```js\n     * const collision = object.getComponent('collision');\n     * const overlaps = collision.queryOverlaps();\n     * for(const otherCollision of overlaps) {\n     *     const otherObject = otherCollision.object;\n     *     console.log(`Collision with object ${otherObject.objectId}`);\n     * }\n     * ```\n     *\n     * @returns Collision components overlapping this collider.\n     */\n    queryOverlaps() {\n        const count = this._engine.wasm._wl_collision_component_query_overlaps(this._id, this._engine.wasm._tempMem, this._engine.wasm._tempMemSize >> 1);\n        const overlaps = new Array(count);\n        for (let i = 0; i < count; ++i) {\n            overlaps[i] = new CollisionComponent(this._engine, this._manager, this._engine.wasm._tempMemUint16[i]);\n        }\n        return overlaps;\n    }\n}\n__decorate([\n    nativeProperty()\n], CollisionComponent.prototype, \"collider\", null);\n__decorate([\n    nativeProperty()\n], CollisionComponent.prototype, \"extents\", null);\n__decorate([\n    nativeProperty()\n], CollisionComponent.prototype, \"group\", null);\n/**\n * Native text component\n *\n * Provides access to a native text component instance\n */\nexport class TextComponent extends Component {\n    /** @override */\n    static TypeName = 'text';\n    /** Text component alignment. */\n    get alignment() {\n        return this._engine.wasm._wl_text_component_get_horizontal_alignment(this._id);\n    }\n    /**\n     * Set text component alignment.\n     *\n     * @param alignment Alignment for the text component.\n     */\n    set alignment(alignment) {\n        this._engine.wasm._wl_text_component_set_horizontal_alignment(this._id, alignment);\n    }\n    /** Text component justification. */\n    get justification() {\n        return this._engine.wasm._wl_text_component_get_vertical_alignment(this._id);\n    }\n    /**\n     * Set text component justification.\n     *\n     * @param justification Justification for the text component.\n     */\n    set justification(justification) {\n        this._engine.wasm._wl_text_component_set_vertical_alignment(this._id, justification);\n    }\n    /** Text component character spacing. */\n    get characterSpacing() {\n        return this._engine.wasm._wl_text_component_get_character_spacing(this._id);\n    }\n    /**\n     * Set text component character spacing.\n     *\n     * @param spacing Character spacing for the text component.\n     */\n    set characterSpacing(spacing) {\n        this._engine.wasm._wl_text_component_set_character_spacing(this._id, spacing);\n    }\n    /** Text component line spacing. */\n    get lineSpacing() {\n        return this._engine.wasm._wl_text_component_get_line_spacing(this._id);\n    }\n    /**\n     * Set text component line spacing\n     *\n     * @param spacing Line spacing for the text component\n     */\n    set lineSpacing(spacing) {\n        this._engine.wasm._wl_text_component_set_line_spacing(this._id, spacing);\n    }\n    /** Text component effect. */\n    get effect() {\n        return this._engine.wasm._wl_text_component_get_effect(this._id);\n    }\n    /**\n     * Set text component effect\n     *\n     * @param effect Effect for the text component\n     */\n    set effect(effect) {\n        this._engine.wasm._wl_text_component_set_effect(this._id, effect);\n    }\n    /** Text component text. */\n    get text() {\n        const wasm = this._engine.wasm;\n        const ptr = wasm._wl_text_component_get_text(this._id);\n        return wasm.UTF8ToString(ptr);\n    }\n    /**\n     * Set text component text.\n     *\n     * @param text Text of the text component.\n     */\n    set text(text) {\n        const wasm = this._engine.wasm;\n        wasm._wl_text_component_set_text(this._id, wasm.tempUTF8(text));\n    }\n    /**\n     * Set material to render the text with.\n     *\n     * @param material New material.\n     */\n    set material(material) {\n        const matIndex = material ? material._index : 0;\n        this._engine.wasm._wl_text_component_set_material(this._id, matIndex);\n    }\n    /** Material used to render the text. */\n    get material() {\n        const id = this._engine.wasm._wl_text_component_get_material(this._id);\n        return id > 0 ? new Material(this._engine, id) : null;\n    }\n}\n__decorate([\n    nativeProperty()\n], TextComponent.prototype, \"alignment\", null);\n__decorate([\n    nativeProperty()\n], TextComponent.prototype, \"justification\", null);\n__decorate([\n    nativeProperty()\n], TextComponent.prototype, \"characterSpacing\", null);\n__decorate([\n    nativeProperty()\n], TextComponent.prototype, \"lineSpacing\", null);\n__decorate([\n    nativeProperty()\n], TextComponent.prototype, \"effect\", null);\n__decorate([\n    nativeProperty()\n], TextComponent.prototype, \"text\", null);\n__decorate([\n    nativeProperty()\n], TextComponent.prototype, \"material\", null);\n/**\n * Native view component.\n *\n * Provides access to a native view component instance.\n */\nexport class ViewComponent extends Component {\n    /** @override */\n    static TypeName = 'view';\n    /** Projection matrix. */\n    get projectionMatrix() {\n        const wasm = this._engine.wasm;\n        return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_view_component_get_projection_matrix(this._id), 16);\n    }\n    /** ViewComponent near clipping plane value. */\n    get near() {\n        return this._engine.wasm._wl_view_component_get_near(this._id);\n    }\n    /**\n     * Set near clipping plane distance for the view.\n     *\n     * If an XR session is active, the change will apply in the\n     * following frame, otherwise the change is immediate.\n     *\n     * @param near Near depth value.\n     */\n    set near(near) {\n        this._engine.wasm._wl_view_component_set_near(this._id, near);\n    }\n    /** Far clipping plane value. */\n    get far() {\n        return this._engine.wasm._wl_view_component_get_far(this._id);\n    }\n    /**\n     * Set far clipping plane distance for the view.\n     *\n     * If an XR session is active, the change will apply in the\n     * following frame, otherwise the change is immediate.\n     *\n     * @param far Near depth value.\n     */\n    set far(far) {\n        this._engine.wasm._wl_view_component_set_far(this._id, far);\n    }\n    /**\n     * Get the horizontal field of view for the view, **in degrees**.\n     *\n     * If an XR session is active, this returns the field of view reported by\n     * the device, regardless of the fov that was set.\n     */\n    get fov() {\n        return this._engine.wasm._wl_view_component_get_fov(this._id);\n    }\n    /**\n     * Set the horizontal field of view for the view, **in degrees**.\n     *\n     * If an XR session is active, the field of view reported by the device is\n     * used and this value is ignored. After the XR session ends, the new value\n     * is applied.\n     *\n     * @param fov Horizontal field of view, **in degrees**.\n     */\n    set fov(fov) {\n        this._engine.wasm._wl_view_component_set_fov(this._id, fov);\n    }\n}\n__decorate([\n    enumerable()\n], ViewComponent.prototype, \"projectionMatrix\", null);\n__decorate([\n    nativeProperty()\n], ViewComponent.prototype, \"near\", null);\n__decorate([\n    nativeProperty()\n], ViewComponent.prototype, \"far\", null);\n__decorate([\n    nativeProperty()\n], ViewComponent.prototype, \"fov\", null);\n/**\n * Native input component.\n *\n * Provides access to a native input component instance.\n */\nexport class InputComponent extends Component {\n    /** @override */\n    static TypeName = 'input';\n    /** Input component type */\n    get inputType() {\n        return this._engine.wasm._wl_input_component_get_type(this._id);\n    }\n    /**\n     * Set input component type.\n     *\n     * @params New input component type.\n     */\n    set inputType(type) {\n        this._engine.wasm._wl_input_component_set_type(this._id, type);\n    }\n    /**\n     * WebXR Device API input source associated with this input component,\n     * if type {@link InputType.ControllerLeft} or {@link InputType.ControllerRight}.\n     */\n    get xrInputSource() {\n        const xrSession = this._engine.xrSession;\n        if (xrSession) {\n            for (let inputSource of xrSession.inputSources) {\n                if (inputSource.handedness == this.handedness) {\n                    return inputSource;\n                }\n            }\n        }\n        return null;\n    }\n    /**\n     * 'left', 'right' or `null` depending on the {@link InputComponent#inputType}.\n     */\n    get handedness() {\n        const inputType = this.inputType;\n        if (inputType == InputType.ControllerRight ||\n            inputType == InputType.RayRight ||\n            inputType == InputType.EyeRight)\n            return 'right';\n        if (inputType == InputType.ControllerLeft ||\n            inputType == InputType.RayLeft ||\n            inputType == InputType.EyeLeft)\n            return 'left';\n        return null;\n    }\n}\n__decorate([\n    nativeProperty()\n], InputComponent.prototype, \"inputType\", null);\n__decorate([\n    enumerable()\n], InputComponent.prototype, \"xrInputSource\", null);\n__decorate([\n    enumerable()\n], InputComponent.prototype, \"handedness\", null);\n/**\n * Native light component.\n *\n * Provides access to a native light component instance.\n */\nexport class LightComponent extends Component {\n    /** @override */\n    static TypeName = 'light';\n    getColor(out = new Float32Array(3)) {\n        const wasm = this._engine.wasm;\n        const ptr = wasm._wl_light_component_get_color(this._id) / 4; /* Align F32 */\n        out[0] = wasm.HEAPF32[ptr];\n        out[1] = wasm.HEAPF32[ptr + 1];\n        out[2] = wasm.HEAPF32[ptr + 2];\n        return out;\n    }\n    /**\n     * Set light color.\n     *\n     * @param c New color array/vector, expected to have at least 3 elements.\n     * @since 1.0.0\n     */\n    setColor(c) {\n        const wasm = this._engine.wasm;\n        const ptr = wasm._wl_light_component_get_color(this._id) / 4; /* Align F32 */\n        wasm.HEAPF32[ptr] = c[0];\n        wasm.HEAPF32[ptr + 1] = c[1];\n        wasm.HEAPF32[ptr + 2] = c[2];\n    }\n    /**\n     * View on the light color.\n     *\n     * @note Prefer to use {@link getColor} in performance-critical code.\n     */\n    get color() {\n        const wasm = this._engine.wasm;\n        return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_light_component_get_color(this._id), 3);\n    }\n    /**\n     * Set light color.\n     *\n     * @param c Color of the light component.\n     *\n     * @note Prefer to use {@link setColor} in performance-critical code.\n     */\n    set color(c) {\n        this.color.set(c);\n    }\n    /** Light type. */\n    get lightType() {\n        return this._engine.wasm._wl_light_component_get_type(this._id);\n    }\n    /**\n     * Set light type.\n     *\n     * @param lightType Type of the light component.\n     */\n    set lightType(t) {\n        this._engine.wasm._wl_light_component_set_type(this._id, t);\n    }\n    /**\n     * Light intensity.\n     * @since 1.0.0\n     */\n    get intensity() {\n        return this._engine.wasm._wl_light_component_get_intensity(this._id);\n    }\n    /**\n     * Set light intensity.\n     *\n     * @param intensity Intensity of the light component.\n     * @since 1.0.0\n     */\n    set intensity(intensity) {\n        this._engine.wasm._wl_light_component_set_intensity(this._id, intensity);\n    }\n    /**\n     * Outer angle for spot lights, in degrees.\n     * @since 1.0.0\n     */\n    get outerAngle() {\n        return this._engine.wasm._wl_light_component_get_outerAngle(this._id);\n    }\n    /**\n     * Set outer angle for spot lights.\n     *\n     * @param angle Outer angle, in degrees.\n     * @since 1.0.0\n     */\n    set outerAngle(angle) {\n        this._engine.wasm._wl_light_component_set_outerAngle(this._id, angle);\n    }\n    /**\n     * Inner angle for spot lights, in degrees.\n     * @since 1.0.0\n     */\n    get innerAngle() {\n        return this._engine.wasm._wl_light_component_get_innerAngle(this._id);\n    }\n    /**\n     * Set inner angle for spot lights.\n     *\n     * @param angle Inner angle, in degrees.\n     * @since 1.0.0\n     */\n    set innerAngle(angle) {\n        this._engine.wasm._wl_light_component_set_innerAngle(this._id, angle);\n    }\n    /**\n     * Whether the light casts shadows.\n     * @since 1.0.0\n     */\n    get shadows() {\n        return !!this._engine.wasm._wl_light_component_get_shadows(this._id);\n    }\n    /**\n     * Set whether the light casts shadows.\n     *\n     * @param b Whether the light casts shadows.\n     * @since 1.0.0\n     */\n    set shadows(b) {\n        this._engine.wasm._wl_light_component_set_shadows(this._id, b);\n    }\n    /**\n     * Range for shadows.\n     * @since 1.0.0\n     */\n    get shadowRange() {\n        return this._engine.wasm._wl_light_component_get_shadowRange(this._id);\n    }\n    /**\n     * Set range for shadows.\n     *\n     * @param range Range for shadows.\n     * @since 1.0.0\n     */\n    set shadowRange(range) {\n        this._engine.wasm._wl_light_component_set_shadowRange(this._id, range);\n    }\n    /**\n     * Bias value for shadows.\n     * @since 1.0.0\n     */\n    get shadowBias() {\n        return this._engine.wasm._wl_light_component_get_shadowBias(this._id);\n    }\n    /**\n     * Set bias value for shadows.\n     *\n     * @param bias Bias for shadows.\n     * @since 1.0.0\n     */\n    set shadowBias(bias) {\n        this._engine.wasm._wl_light_component_set_shadowBias(this._id, bias);\n    }\n    /**\n     * Normal bias value for shadows.\n     * @since 1.0.0\n     */\n    get shadowNormalBias() {\n        return this._engine.wasm._wl_light_component_get_shadowNormalBias(this._id);\n    }\n    /**\n     * Set normal bias value for shadows.\n     *\n     * @param bias Normal bias for shadows.\n     * @since 1.0.0\n     */\n    set shadowNormalBias(bias) {\n        this._engine.wasm._wl_light_component_set_shadowNormalBias(this._id, bias);\n    }\n    /**\n     * Texel size for shadows.\n     * @since 1.0.0\n     */\n    get shadowTexelSize() {\n        return this._engine.wasm._wl_light_component_get_shadowTexelSize(this._id);\n    }\n    /**\n     * Set texel size for shadows.\n     *\n     * @param size Texel size for shadows.\n     * @since 1.0.0\n     */\n    set shadowTexelSize(size) {\n        this._engine.wasm._wl_light_component_set_shadowTexelSize(this._id, size);\n    }\n    /**\n     * Cascade count for {@link LightType.Sun} shadows.\n     * @since 1.0.0\n     */\n    get cascadeCount() {\n        return this._engine.wasm._wl_light_component_get_cascadeCount(this._id);\n    }\n    /**\n     * Set cascade count for {@link LightType.Sun} shadows.\n     *\n     * @param count Cascade count.\n     * @since 1.0.0\n     */\n    set cascadeCount(count) {\n        this._engine.wasm._wl_light_component_set_cascadeCount(this._id, count);\n    }\n}\n__decorate([\n    nativeProperty()\n], LightComponent.prototype, \"color\", null);\n__decorate([\n    nativeProperty()\n], LightComponent.prototype, \"lightType\", null);\n__decorate([\n    nativeProperty()\n], LightComponent.prototype, \"intensity\", null);\n__decorate([\n    nativeProperty()\n], LightComponent.prototype, \"outerAngle\", null);\n__decorate([\n    nativeProperty()\n], LightComponent.prototype, \"innerAngle\", null);\n__decorate([\n    nativeProperty()\n], LightComponent.prototype, \"shadows\", null);\n__decorate([\n    nativeProperty()\n], LightComponent.prototype, \"shadowRange\", null);\n__decorate([\n    nativeProperty()\n], LightComponent.prototype, \"shadowBias\", null);\n__decorate([\n    nativeProperty()\n], LightComponent.prototype, \"shadowNormalBias\", null);\n__decorate([\n    nativeProperty()\n], LightComponent.prototype, \"shadowTexelSize\", null);\n__decorate([\n    nativeProperty()\n], LightComponent.prototype, \"cascadeCount\", null);\n/**\n * Native animation component.\n *\n * Provides access to a native animation component instance.\n */\nexport class AnimationComponent extends Component {\n    /** @override */\n    static TypeName = 'animation';\n    /**\n     * Set animation to play.\n     *\n     * Make sure to {@link Animation#retarget} the animation to affect the\n     * right objects.\n     *\n     * @param anim Animation to play.\n     */\n    set animation(anim) {\n        this._engine.wasm._wl_animation_component_set_animation(this._id, anim ? anim._index : 0);\n    }\n    /** Animation set for this component */\n    get animation() {\n        const id = this._engine.wasm._wl_animation_component_get_animation(this._id);\n        return id > 0 ? new Animation(this._engine, id) : null;\n    }\n    /**\n     * Set play count. Set to `0` to loop indefinitely.\n     *\n     * @param playCount Number of times to repeat the animation.\n     */\n    set playCount(playCount) {\n        this._engine.wasm._wl_animation_component_set_playCount(this._id, playCount);\n    }\n    /** Number of times the animation is played. */\n    get playCount() {\n        return this._engine.wasm._wl_animation_component_get_playCount(this._id);\n    }\n    /**\n     * Set speed. Set to negative values to run the animation backwards.\n     *\n     * Setting speed has an immediate effect for the current frame's update\n     * and will continue with the speed from the current point in the animation.\n     *\n     * @param speed New speed at which to play the animation.\n     * @since 0.8.10\n     */\n    set speed(speed) {\n        this._engine.wasm._wl_animation_component_set_speed(this._id, speed);\n    }\n    /**\n     * Speed factor at which the animation is played.\n     *\n     * @since 0.8.10\n     */\n    get speed() {\n        return this._engine.wasm._wl_animation_component_get_speed(this._id);\n    }\n    /** Current playing state of the animation */\n    get state() {\n        return this._engine.wasm._wl_animation_component_state(this._id);\n    }\n    /**\n     * Play animation.\n     *\n     * If the animation is currently paused, resumes from that position. If the\n     * animation is already playing, does nothing.\n     *\n     * To restart the animation, {@link AnimationComponent#stop} it first.\n     */\n    play() {\n        this._engine.wasm._wl_animation_component_play(this._id);\n    }\n    /** Stop animation. */\n    stop() {\n        this._engine.wasm._wl_animation_component_stop(this._id);\n    }\n    /** Pause animation. */\n    pause() {\n        this._engine.wasm._wl_animation_component_pause(this._id);\n    }\n}\n__decorate([\n    nativeProperty()\n], AnimationComponent.prototype, \"animation\", null);\n__decorate([\n    nativeProperty()\n], AnimationComponent.prototype, \"playCount\", null);\n__decorate([\n    nativeProperty()\n], AnimationComponent.prototype, \"speed\", null);\n__decorate([\n    enumerable()\n], AnimationComponent.prototype, \"state\", null);\n/**\n * Native mesh component.\n *\n * Provides access to a native mesh component instance.\n */\nexport class MeshComponent extends Component {\n    /** @override */\n    static TypeName = 'mesh';\n    /**\n     * Set material to render the mesh with.\n     *\n     * @param material Material to render the mesh with.\n     */\n    set material(material) {\n        this._engine.wasm._wl_mesh_component_set_material(this._id, material ? material._index : 0);\n    }\n    /** Material used to render the mesh. */\n    get material() {\n        const id = this._engine.wasm._wl_mesh_component_get_material(this._id);\n        return id > 0 ? new Material(this._engine, id) : null;\n    }\n    /** Mesh rendered by this component. */\n    get mesh() {\n        const id = this._engine.wasm._wl_mesh_component_get_mesh(this._id);\n        return id > 0 ? new Mesh(this._engine, id) : null;\n    }\n    /**\n     * Set mesh to rendered with this component.\n     *\n     * @param mesh Mesh rendered by this component.\n     */\n    set mesh(mesh) {\n        this._engine.wasm._wl_mesh_component_set_mesh(this._id, mesh ? mesh._index : 0);\n    }\n    /** Skin for this mesh component. */\n    get skin() {\n        const id = this._engine.wasm._wl_mesh_component_get_skin(this._id);\n        return id > 0 ? new Skin(this._engine, id) : null;\n    }\n    /**\n     * Set skin to transform this mesh component.\n     *\n     * @param skin Skin to use for rendering skinned meshes.\n     */\n    set skin(skin) {\n        this._engine.wasm._wl_mesh_component_set_skin(this._id, skin ? skin._index : 0);\n    }\n}\n__decorate([\n    nativeProperty()\n], MeshComponent.prototype, \"material\", null);\n__decorate([\n    nativeProperty()\n], MeshComponent.prototype, \"mesh\", null);\n__decorate([\n    nativeProperty()\n], MeshComponent.prototype, \"skin\", null);\n/**\n * Enum for Physics axes locking\n *\n * See {@link PhysXComponent.angularLockAxis} and {@link PhysXComponent.linearLockAxis}.\n */\nexport var LockAxis;\n(function (LockAxis) {\n    /**\n     * No axis selected.\n     */\n    LockAxis[LockAxis[\"None\"] = 0] = \"None\";\n    /**\n     * **X axis**:\n     */\n    LockAxis[LockAxis[\"X\"] = 1] = \"X\";\n    /**\n     * **Y axis**:\n     */\n    LockAxis[LockAxis[\"Y\"] = 2] = \"Y\";\n    /**\n     * **Z axis**:\n     */\n    LockAxis[LockAxis[\"Z\"] = 4] = \"Z\";\n})(LockAxis || (LockAxis = {}));\n/**\n * Native physx rigid body component.\n *\n * Provides access to a native mesh component instance.\n * Only available when using physx enabled runtime, see \"Project Settings > Runtime\".\n */\nexport class PhysXComponent extends Component {\n    /** @override */\n    static TypeName = 'physx';\n    /**\n     * Set whether this rigid body is static.\n     *\n     * Setting this property only takes effect once the component\n     * switches from inactive to active.\n     *\n     * @param b Whether the rigid body should be static.\n     */\n    set static(b) {\n        this._engine.wasm._wl_physx_component_set_static(this._id, b);\n    }\n    /**\n     * Whether this rigid body is static.\n     *\n     * This property returns whether the rigid body is *effectively*\n     * static. If static property was set while the rigid body was\n     * active, it will not take effect until the rigid body is set\n     * inactive and active again. Until the component is set inactive,\n     * this getter will return whether the rigid body is actually\n     * static.\n     */\n    get static() {\n        return !!this._engine.wasm._wl_physx_component_get_static(this._id);\n    }\n    /**\n     * Set whether this rigid body is kinematic.\n     *\n     * @param b Whether the rigid body should be kinematic.\n     */\n    set kinematic(b) {\n        this._engine.wasm._wl_physx_component_set_kinematic(this._id, b);\n    }\n    /**\n     * Whether this rigid body is kinematic.\n     */\n    get kinematic() {\n        return !!this._engine.wasm._wl_physx_component_get_kinematic(this._id);\n    }\n    /**\n     * Set whether this rigid body's gravity is enabled.\n     *\n     * @param b Whether the rigid body's gravity should be enabled.\n     */\n    set gravity(b) {\n        this._engine.wasm._wl_physx_component_set_gravity(this._id, b);\n    }\n    /**\n     * Whether this rigid body's gravity flag is enabled.\n     */\n    get gravity() {\n        return !!this._engine.wasm._wl_physx_component_get_gravity(this._id);\n    }\n    /**\n     * Set whether this rigid body's simulate flag is enabled.\n     *\n     * @param b Whether the rigid body's simulate flag should be enabled.\n     */\n    set simulate(b) {\n        this._engine.wasm._wl_physx_component_set_simulate(this._id, b);\n    }\n    /**\n     * Whether this rigid body's simulate flag is enabled.\n     */\n    get simulate() {\n        return !!this._engine.wasm._wl_physx_component_get_simulate(this._id);\n    }\n    /**\n     * Set whether to allow simulation of this rigid body.\n     *\n     * {@link allowSimulation} and {@link trigger} can not be enabled at the\n     * same time. Enabling {@link allowSimulation} while {@link trigger} is enabled\n     * will disable {@link trigger}.\n     *\n     * @param b Whether to allow simulation of this rigid body.\n     */\n    set allowSimulation(b) {\n        this._engine.wasm._wl_physx_component_set_allowSimulation(this._id, b);\n    }\n    /**\n     * Whether to allow simulation of this rigid body.\n     */\n    get allowSimulation() {\n        return !!this._engine.wasm._wl_physx_component_get_allowSimulation(this._id);\n    }\n    /**\n     * Set whether this rigid body may be queried in ray casts.\n     *\n     * @param b Whether this rigid body may be queried in ray casts.\n     */\n    set allowQuery(b) {\n        this._engine.wasm._wl_physx_component_set_allowQuery(this._id, b);\n    }\n    /**\n     * Whether this rigid body may be queried in ray casts.\n     */\n    get allowQuery() {\n        return !!this._engine.wasm._wl_physx_component_get_allowQuery(this._id);\n    }\n    /**\n     * Set whether this physics body is a trigger.\n     *\n     * {@link allowSimulation} and {@link trigger} can not be enabled at the\n     * same time. Enabling trigger while {@link allowSimulation} is enabled,\n     * will disable {@link allowSimulation}.\n     *\n     * @param b Whether this physics body is a trigger.\n     */\n    set trigger(b) {\n        this._engine.wasm._wl_physx_component_set_trigger(this._id, b);\n    }\n    /**\n     * Whether this physics body is a trigger.\n     */\n    get trigger() {\n        return !!this._engine.wasm._wl_physx_component_get_trigger(this._id);\n    }\n    /**\n     * Set the shape for collision detection.\n     *\n     * @param s New shape.\n     * @since 0.8.5\n     */\n    set shape(s) {\n        this._engine.wasm._wl_physx_component_set_shape(this._id, s);\n    }\n    /** The shape for collision detection. */\n    get shape() {\n        return this._engine.wasm._wl_physx_component_get_shape(this._id);\n    }\n    /**\n     * Set additional data for the shape.\n     *\n     * Retrieved only from {@link PhysXComponent#shapeData}.\n     * @since 0.8.10\n     */\n    set shapeData(d) {\n        if (d == null || !isMeshShape(this.shape))\n            return;\n        this._engine.wasm._wl_physx_component_set_shape_data(this._id, d.index);\n    }\n    /**\n     * Additional data for the shape.\n     *\n     * `null` for {@link Shape} values: `None`, `Sphere`, `Capsule`, `Box`, `Plane`.\n     * `{index: n}` for `TriangleMesh` and `ConvexHull`.\n     *\n     * This data is currently only for passing onto or creating other {@link PhysXComponent}.\n     * @since 0.8.10\n     */\n    get shapeData() {\n        if (!isMeshShape(this.shape))\n            return null;\n        return { index: this._engine.wasm._wl_physx_component_get_shape_data(this._id) };\n    }\n    /**\n     * Set the shape extents for collision detection.\n     *\n     * @param e New extents for the shape.\n     * @since 0.8.5\n     */\n    set extents(e) {\n        this.extents.set(e);\n    }\n    /**\n     * The shape extents for collision detection.\n     */\n    get extents() {\n        const wasm = this._engine.wasm;\n        const ptr = wasm._wl_physx_component_get_extents(this._id);\n        return new Float32Array(wasm.HEAPF32.buffer, ptr, 3);\n    }\n    /**\n     * Get staticFriction.\n     */\n    get staticFriction() {\n        return this._engine.wasm._wl_physx_component_get_staticFriction(this._id);\n    }\n    /**\n     * Set staticFriction.\n     * @param v New staticFriction.\n     */\n    set staticFriction(v) {\n        this._engine.wasm._wl_physx_component_set_staticFriction(this._id, v);\n    }\n    /**\n     * Get dynamicFriction.\n     */\n    get dynamicFriction() {\n        return this._engine.wasm._wl_physx_component_get_dynamicFriction(this._id);\n    }\n    /**\n     * Set dynamicFriction\n     * @param v New dynamicDamping.\n     */\n    set dynamicFriction(v) {\n        this._engine.wasm._wl_physx_component_set_dynamicFriction(this._id, v);\n    }\n    /**\n     * Get bounciness.\n     * @since 0.9.0\n     */\n    get bounciness() {\n        return this._engine.wasm._wl_physx_component_get_bounciness(this._id);\n    }\n    /**\n     * Set bounciness.\n     * @param v New bounciness.\n     * @since 0.9.0\n     */\n    set bounciness(v) {\n        this._engine.wasm._wl_physx_component_set_bounciness(this._id, v);\n    }\n    /**\n     * Get linearDamping/\n     */\n    get linearDamping() {\n        return this._engine.wasm._wl_physx_component_get_linearDamping(this._id);\n    }\n    /**\n     * Set linearDamping.\n     * @param v New linearDamping.\n     */\n    set linearDamping(v) {\n        this._engine.wasm._wl_physx_component_set_linearDamping(this._id, v);\n    }\n    /** Get angularDamping. */\n    get angularDamping() {\n        return this._engine.wasm._wl_physx_component_get_angularDamping(this._id);\n    }\n    /**\n     * Set angularDamping.\n     * @param v New angularDamping.\n     */\n    set angularDamping(v) {\n        this._engine.wasm._wl_physx_component_set_angularDamping(this._id, v);\n    }\n    /**\n     * Set linear velocity.\n     *\n     * [PhysX Manual - \"Velocity\"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#velocity)\n     *\n     * Has no effect, if the component is not active.\n     *\n     * @param v New linear velocity.\n     */\n    set linearVelocity(v) {\n        this._engine.wasm._wl_physx_component_set_linearVelocity(this._id, v[0], v[1], v[2]);\n    }\n    /** Linear velocity or `[0, 0, 0]` if the component is not active. */\n    get linearVelocity() {\n        const wasm = this._engine.wasm;\n        wasm._wl_physx_component_get_linearVelocity(this._id, wasm._tempMem);\n        return new Float32Array(wasm.HEAPF32.buffer, wasm._tempMem, 3);\n    }\n    /**\n     * Set angular velocity\n     *\n     * [PhysX Manual - \"Velocity\"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#velocity)\n     *\n     * Has no effect, if the component is not active.\n     *\n     * @param v New angular velocity\n     */\n    set angularVelocity(v) {\n        this._engine.wasm._wl_physx_component_set_angularVelocity(this._id, v[0], v[1], v[2]);\n    }\n    /** Angular velocity or `[0, 0, 0]` if the component is not active. */\n    get angularVelocity() {\n        const wasm = this._engine.wasm;\n        wasm._wl_physx_component_get_angularVelocity(this._id, wasm._tempMem);\n        return new Float32Array(wasm.HEAPF32.buffer, wasm._tempMem, 3);\n    }\n    /**\n     * Set the components groups mask.\n     *\n     * @param flags New flags that need to be set.\n     */\n    set groupsMask(flags) {\n        this._engine.wasm._wl_physx_component_set_groupsMask(this._id, flags);\n    }\n    /**\n     * Get the components groups mask flags.\n     *\n     * Each bit represents membership to group, see example.\n     *\n     * ```js\n     * // Assign c to group 2\n     * c.groupsMask = (1 << 2);\n     *\n     * // Assign c to group 0\n     * c.groupsMask  = (1 << 0);\n     *\n     * // Assign c to group 0 and 2\n     * c.groupsMask = (1 << 0) | (1 << 2);\n     *\n     * (c.groupsMask & (1 << 2)) != 0; // true\n     * (c.groupsMask & (1 << 7)) != 0; // false\n     * ```\n     */\n    get groupsMask() {\n        return this._engine.wasm._wl_physx_component_get_groupsMask(this._id);\n    }\n    /**\n     * Set the components blocks mask.\n     *\n     * @param flags New flags that need to be set.\n     */\n    set blocksMask(flags) {\n        this._engine.wasm._wl_physx_component_set_blocksMask(this._id, flags);\n    }\n    /**\n     * Get the components blocks mask flags.\n     *\n     * Each bit represents membership to the block, see example.\n     *\n     * ```js\n     * // Block overlap with any objects in group 2\n     * c.blocksMask = (1 << 2);\n     *\n     * // Block overlap with any objects in group 0\n     * c.blocksMask  = (1 << 0)\n     *\n     * // Block overlap with any objects in group 0 and 2\n     * c.blocksMask = (1 << 0) | (1 << 2);\n     *\n     * (c.blocksMask & (1 << 2)) != 0; // true\n     * (c.blocksMask & (1 << 7)) != 0; // false\n     * ```\n     */\n    get blocksMask() {\n        return this._engine.wasm._wl_physx_component_get_blocksMask(this._id);\n    }\n    /**\n     * Set axes to lock for linear velocity.\n     *\n     * @param lock The Axis that needs to be set.\n     *\n     * Combine flags with Bitwise OR.\n     * ```js\n     * body.linearLockAxis = LockAxis.X | LockAxis.Y; // x and y set\n     * body.linearLockAxis = LockAxis.X; // y unset\n     * ```\n     *\n     * @note This has no effect if the component is static.\n     */\n    set linearLockAxis(lock) {\n        this._engine.wasm._wl_physx_component_set_linearLockAxis(this._id, lock);\n    }\n    /**\n     * Get the linear lock axes flags.\n     *\n     * To get the state of a specific flag, Bitwise AND with the LockAxis needed.\n     *\n     * ```js\n     * if(body.linearLockAxis & LockAxis.Y) {\n     *     console.log(\"The Y flag was set!\");\n     * }\n     * ```\n     *\n     * @return axes that are currently locked for linear movement.\n     */\n    get linearLockAxis() {\n        return this._engine.wasm._wl_physx_component_get_linearLockAxis(this._id);\n    }\n    /**\n     * Set axes to lock for angular velocity.\n     *\n     * @param lock The Axis that needs to be set.\n     *\n     * ```js\n     * body.angularLockAxis = LockAxis.X | LockAxis.Y; // x and y set\n     * body.angularLockAxis = LockAxis.X; // y unset\n     * ```\n     *\n     * @note This has no effect if the component is static.\n     */\n    set angularLockAxis(lock) {\n        this._engine.wasm._wl_physx_component_set_angularLockAxis(this._id, lock);\n    }\n    /**\n     * Get the angular lock axes flags.\n     *\n     * To get the state of a specific flag, Bitwise AND with the LockAxis needed.\n     *\n     * ```js\n     * if(body.angularLockAxis & LockAxis.Y) {\n     *     console.log(\"The Y flag was set!\");\n     * }\n     * ```\n     *\n     * @return axes that are currently locked for angular movement.\n     */\n    get angularLockAxis() {\n        return this._engine.wasm._wl_physx_component_get_angularLockAxis(this._id);\n    }\n    /**\n     * Set mass.\n     *\n     * [PhysX Manual - \"Mass Properties\"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#mass-properties)\n     *\n     * @param m New mass.\n     */\n    set mass(m) {\n        this._engine.wasm._wl_physx_component_set_mass(this._id, m);\n    }\n    /** Mass */\n    get mass() {\n        return this._engine.wasm._wl_physx_component_get_mass(this._id);\n    }\n    /**\n     * Set mass space interia tensor.\n     *\n     * [PhysX Manual - \"Mass Properties\"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#mass-properties)\n     *\n     * Has no effect, if the component is not active.\n     *\n     * @param v New mass space interatia tensor.\n     */\n    set massSpaceInteriaTensor(v) {\n        this._engine.wasm._wl_physx_component_set_massSpaceInertiaTensor(this._id, v[0], v[1], v[2]);\n    }\n    /**\n     * Apply a force.\n     *\n     * [PhysX Manual - \"Applying Forces and Torques\"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#applying-forces-and-torques)\n     *\n     * Has no effect, if the component is not active.\n     *\n     * @param f Force vector.\n     * @param m Force mode, see {@link ForceMode}, default `Force`.\n     * @param localForce Whether the force vector is in local space, default `false`.\n     * @param p Position to apply force at, default is center of mass.\n     * @param local Whether position is in local space, default `false`.\n     */\n    addForce(f, m = ForceMode.Force, localForce = false, p, local = false) {\n        const wasm = this._engine.wasm;\n        if (!p) {\n            wasm._wl_physx_component_addForce(this._id, f[0], f[1], f[2], m, localForce);\n            return;\n        }\n        wasm._wl_physx_component_addForceAt(this._id, f[0], f[1], f[2], m, localForce, p[0], p[1], p[2], local);\n    }\n    /**\n     * Apply torque.\n     *\n     * [PhysX Manual - \"Applying Forces and Torques\"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#applying-forces-and-torques)\n     *\n     * Has no effect, if the component is not active.\n     *\n     * @param f Force vector.\n     * @param m Force mode, see {@link ForceMode}, default `Force`.\n     */\n    addTorque(f, m = ForceMode.Force) {\n        this._engine.wasm._wl_physx_component_addTorque(this._id, f[0], f[1], f[2], m);\n    }\n    /**\n     * Add on collision callback.\n     *\n     * @param callback Function to call when this rigid body (un)collides with any other.\n     *\n     * ```js\n     *  let rigidBody = this.object.getComponent('physx');\n     *  rigidBody.onCollision(function(type, other) {\n     *      // Ignore uncollides\n     *      if(type == CollisionEventType.TouchLost) return;\n     *\n     *      // Take damage on collision with enemies\n     *      if(other.object.name.startsWith('enemy-')) {\n     *          this.applyDamage(10);\n     *      }\n     *  }.bind(this));\n     * ```\n     *\n     * @returns Id of the new callback for use with {@link PhysXComponent#removeCollisionCallback}.\n     */\n    onCollision(callback) {\n        return this.onCollisionWith(this, callback);\n    }\n    /**\n     * Add filtered on collision callback.\n     *\n     * @param otherComp Component for which callbacks will\n     *        be triggered. If you pass this component, the method is equivalent to.\n     *        {@link PhysXComponent#onCollision}.\n     * @param callback Function to call when this rigid body\n     *        (un)collides with `otherComp`.\n     * @returns Id of the new callback for use with {@link PhysXComponent#removeCollisionCallback}.\n     */\n    onCollisionWith(otherComp, callback) {\n        const physics = this._engine.physics;\n        physics._callbacks[this._id] = physics._callbacks[this._id] || [];\n        physics._callbacks[this._id].push(callback);\n        return this._engine.wasm._wl_physx_component_addCallback(this._id, otherComp._id || this._id);\n    }\n    /**\n     * Remove a collision callback added with {@link PhysXComponent#onCollision} or {@link PhysXComponent#onCollisionWith}.\n     *\n     * @param callbackId Callback id as returned by {@link PhysXComponent#onCollision} or {@link PhysXComponent#onCollisionWith}.\n     * @throws When the callback does not belong to the component.\n     * @throws When the callback does not exist.\n     */\n    removeCollisionCallback(callbackId) {\n        const physics = this._engine.physics;\n        const r = this._engine.wasm._wl_physx_component_removeCallback(this._id, callbackId);\n        /* r is the amount of object to remove from the end of the\n         * callbacks array for this object */\n        if (r)\n            physics._callbacks[this._id].splice(-r);\n    }\n}\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"static\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"kinematic\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"gravity\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"simulate\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"allowSimulation\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"allowQuery\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"trigger\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"shape\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"shapeData\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"extents\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"staticFriction\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"dynamicFriction\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"bounciness\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"linearDamping\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"angularDamping\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"linearVelocity\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"angularVelocity\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"groupsMask\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"blocksMask\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"linearLockAxis\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"angularLockAxis\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"mass\", null);\n/**\n * Access to the physics scene\n */\nexport class Physics {\n    /**\n     * @hidden\n     *\n     * **Note**: This is public to emulate a `friend` accessor.\n     */\n    _callbacks;\n    /** Wonderland Engine instance */\n    _engine;\n    /** Ray Hit */\n    _rayHit;\n    /** Hit. */\n    _hit;\n    constructor(engine) {\n        this._engine = engine;\n        this._rayHit = engine.wasm._malloc(4 * (3 * 4 + 3 * 4 + 4 + 2) + 4);\n        this._hit = new RayHit(this._engine, this._rayHit);\n        this._callbacks = {};\n    }\n    /**\n     * Cast a ray through the physics scene and find intersecting objects.\n     *\n     * The resulting ray hit will contain **up to 4** closest ray hits,\n     * sorted by increasing distance.\n     *\n     * @param o Ray origin.\n     * @param d Ray direction.\n     * @param group Collision group to filter by: only objects that are\n     *        part of given group are considered for raycast.\n     * @param maxDistance Maximum ray distance, default `100.0`.\n     *\n     * @returns The RayHit instance, belonging to this class.\n     *\n     * @note The returned {@link RayHit} object is owned by the Physics instance and\n     *       will be reused with the next {@link Physics#rayCast} call.\n     */\n    rayCast(o, d, group, maxDistance = 100.0) {\n        this._engine.wasm._wl_physx_ray_cast(o[0], o[1], o[2], d[0], d[1], d[2], group, maxDistance, this._rayHit);\n        return this._hit;\n    }\n}\n/**\n * Mesh index type.\n */\nexport var MeshIndexType;\n(function (MeshIndexType) {\n    /** Single byte mesh index, range 0-255 */\n    MeshIndexType[MeshIndexType[\"UnsignedByte\"] = 1] = \"UnsignedByte\";\n    /** Two byte mesh index, range 0-65535 */\n    MeshIndexType[MeshIndexType[\"UnsignedShort\"] = 2] = \"UnsignedShort\";\n    /** Four byte mesh index, range 0-4294967295 */\n    MeshIndexType[MeshIndexType[\"UnsignedInt\"] = 4] = \"UnsignedInt\";\n})(MeshIndexType || (MeshIndexType = {}));\n/**\n * Mesh skinning type.\n */\nexport var MeshSkinningType;\n(function (MeshSkinningType) {\n    /** Not skinned */\n    MeshSkinningType[MeshSkinningType[\"None\"] = 0] = \"None\";\n    /** Skinned, 4 joints/weight per vertex */\n    MeshSkinningType[MeshSkinningType[\"FourJoints\"] = 1] = \"FourJoints\";\n    /** Skinned, 8 joints/weight per vertex */\n    MeshSkinningType[MeshSkinningType[\"EightJoints\"] = 2] = \"EightJoints\";\n})(MeshSkinningType || (MeshSkinningType = {}));\n/**\n * Wrapper around a native mesh data.\n *\n * To modify a mesh, you get access to a {@link MeshAttributeAccessor} that allows you to modify\n * the content of the buffers:\n *\n * Usage:\n *\n * ```js\n * const mesh = new Mesh(engine, {vertexCount: 3, indexData: [0, 1, 2] });\n * const positions = mesh.attribute(MeshAttribute.Position);\n * ...\n * ```\n */\nexport class Mesh {\n    /**\n     * Index of the mesh in the manager.\n     *\n     * @hidden\n     */\n    _index = -1;\n    /** Wonderland Engine instance. @hidden */\n    _engine;\n    /**\n     * Create a new instance.\n     *\n     * @param params Either a mesh index to wrap or set of parameters to create a new mesh.\n     *    For more information, please have a look at the {@link MeshParameters} interface.\n     */\n    constructor(engine, params) {\n        this._engine = engine ?? WL;\n        this._index = -1;\n        if (isNumber(params)) {\n            this._index = params;\n            return;\n        }\n        if (!params.vertexCount)\n            throw new Error(\"Missing parameter 'vertexCount'\");\n        const wasm = this._engine.wasm;\n        let indexData = 0;\n        let indexType = 0;\n        let indexDataSize = 0;\n        if (params.indexData) {\n            indexType = params.indexType || MeshIndexType.UnsignedShort;\n            indexDataSize = params.indexData.length * indexType;\n            indexData = wasm._malloc(indexDataSize);\n            /* Copy the index data into wasm memory */\n            switch (indexType) {\n                case MeshIndexType.UnsignedByte:\n                    wasm.HEAPU8.set(params.indexData, indexData);\n                    break;\n                case MeshIndexType.UnsignedShort:\n                    wasm.HEAPU16.set(params.indexData, indexData >> 1);\n                    break;\n                case MeshIndexType.UnsignedInt:\n                    wasm.HEAPU32.set(params.indexData, indexData >> 2);\n                    break;\n            }\n        }\n        const { skinningType = MeshSkinningType.None } = params;\n        this._index = wasm._wl_mesh_create(indexData, indexDataSize, indexType, params.vertexCount, skinningType);\n    }\n    /** Number of vertices in this mesh. */\n    get vertexCount() {\n        return this._engine.wasm._wl_mesh_get_vertexCount(this._index);\n    }\n    /** Index data (read-only) or `null` if the mesh is not indexed. */\n    get indexData() {\n        const wasm = this._engine.wasm;\n        const tempMem = wasm._tempMem;\n        const ptr = wasm._wl_mesh_get_indexData(this._index, tempMem, tempMem + 4);\n        if (ptr === null)\n            return null;\n        const indexCount = wasm.HEAPU32[tempMem / 4];\n        const indexSize = wasm.HEAPU32[tempMem / 4 + 1];\n        switch (indexSize) {\n            case MeshIndexType.UnsignedByte:\n                return new Uint8Array(wasm.HEAPU8.buffer, ptr, indexCount);\n            case MeshIndexType.UnsignedShort:\n                return new Uint16Array(wasm.HEAPU16.buffer, ptr, indexCount);\n            case MeshIndexType.UnsignedInt:\n                return new Uint32Array(wasm.HEAPU32.buffer, ptr, indexCount);\n        }\n        return null;\n    }\n    /** Hosting engine instance. */\n    get engine() {\n        return this._engine;\n    }\n    /**\n     * Apply changes to {@link attribute | vertex attributes}.\n     *\n     * Uploads the updated vertex attributes to the GPU and updates the bounding\n     * sphere to match the new vertex positions.\n     *\n     * Since this is an expensive operation, call it only once you have performed\n     * all modifications on a mesh and avoid calling if you did not perform any\n     * modifications at all.\n     */\n    update() {\n        this._engine.wasm._wl_mesh_update(this._index);\n    }\n    getBoundingSphere(out = new Float32Array(4)) {\n        const tempMemFloat = this._engine.wasm._tempMemFloat;\n        this._engine.wasm._wl_mesh_get_boundingSphere(this._index, this._engine.wasm._tempMem);\n        out[0] = tempMemFloat[0];\n        out[1] = tempMemFloat[1];\n        out[2] = tempMemFloat[2];\n        out[3] = tempMemFloat[3];\n        return out;\n    }\n    attribute(attr) {\n        if (typeof attr != 'number')\n            throw new TypeError('Expected number, but got ' + typeof attr);\n        const tempMemUint32 = this._engine.wasm._tempMemUint32;\n        this._engine.wasm._wl_mesh_get_attribute(this._index, attr, this._engine.wasm._tempMem);\n        if (tempMemUint32[0] == 255)\n            return null;\n        const arraySize = tempMemUint32[5];\n        return new MeshAttributeAccessor(this._engine, {\n            attribute: tempMemUint32[0],\n            offset: tempMemUint32[1],\n            stride: tempMemUint32[2],\n            formatSize: tempMemUint32[3],\n            componentCount: tempMemUint32[4],\n            /* The WASM API returns `0` for a scalar value. We clamp it to 1 as we strictly use it as a multiplier for get/set operations */\n            arraySize: arraySize ? arraySize : 1,\n            length: this.vertexCount,\n            bufferType: (attr !== MeshAttribute.JointId\n                ? Float32Array\n                : Uint16Array),\n        });\n    }\n    /**\n     * Destroy and free the meshes memory.\n     *\n     * It is best practice to set the mesh variable to `null` after calling\n     * destroy to prevent accidental use:\n     *\n     * ```js\n     *   mesh.destroy();\n     *   mesh = null;\n     * ```\n     *\n     * Accessing the mesh after destruction behaves like accessing an empty\n     * mesh.\n     *\n     * @since 0.9.0\n     */\n    destroy() {\n        this._engine.wasm._wl_mesh_destroy(this._index);\n    }\n    /**\n     * Checks equality by comparing whether the wrapped native mesh ids are\n     * equal.\n     *\n     * @param otherMesh Mesh to check equality with.\n     * @returns Whether this mesh equals the given mesh.\n     *\n     * @since 1.0.0\n     */\n    equals(otherMesh) {\n        if (!otherMesh)\n            return false;\n        return this._index === otherMesh._index;\n    }\n}\n/**\n * An iterator over a mesh vertex attribute.\n *\n * Usage:\n *\n * ```js\n *   const mesh = this.object.getComponent('mesh').mesh;\n *   const positions = mesh.attribute(WL.MeshAttribute.Position);\n *\n *   const temp = new Float32Array(3);\n *   for(int i = 0; i < positions.length; ++i) {\n *       // pos will reference temp and thereby not allocate additional\n *       // JavaScript garbage, which would cause a perf spike when collected.\n *       const pos = positions.get(i, temp);\n *       // scale position by 2 on X axis only\n *       pos[0] *= 2.0f;\n *       positions.set(i, pos);\n *   }\n *   // we're done modifying, tell the engine to move vertex data to the GPU\n *   mesh.update();\n * ```\n */\nexport class MeshAttributeAccessor {\n    /** Max number of elements. */\n    length = 0;\n    /** Wonderland Engine instance. @hidden */\n    _engine;\n    /** Attribute index. @hidden */\n    _attribute = -1;\n    /** Attribute offset. @hidden */\n    _offset = 0;\n    /** Attribute stride. @hidden */\n    _stride = 0;\n    /** Format size native enum. @hidden */\n    _formatSize = 0;\n    /** Number of components per vertex. @hidden */\n    _componentCount = 0;\n    /** Number of values per vertex. @hidden */\n    _arraySize = 1;\n    /**\n     * Class to instantiate an ArrayBuffer to get/set values.\n     */\n    _bufferType;\n    /**\n     * Function to allocate temporary WASM memory. It is cached in the accessor to avoid\n     * conditionals during get/set.\n     */\n    _tempBufferGetter;\n    /**\n     * Create a new instance.\n     *\n     * @note Please use {@link Mesh.attribute} to create a new instance.\n     *\n     * @param options Contains information about how to read the data.\n     * @note Do not use this constructor. Instead, please use the {@link Mesh.attribute} method.\n     *\n     * @hidden\n     */\n    constructor(engine, options) {\n        this._engine = engine;\n        const wasm = this._engine.wasm;\n        this._attribute = options.attribute;\n        this._offset = options.offset;\n        this._stride = options.stride;\n        this._formatSize = options.formatSize;\n        this._componentCount = options.componentCount;\n        this._arraySize = options.arraySize;\n        this._bufferType = options.bufferType;\n        this.length = options.length;\n        this._tempBufferGetter = (this._bufferType === Float32Array\n            ? wasm.getTempBufferF32.bind(wasm)\n            : wasm.getTempBufferU16.bind(wasm));\n    }\n    /**\n     * Create a new TypedArray to hold this attribute's values.\n     *\n     * This method is useful to create a view to hold the data to\n     * pass to {@link get} and {@link set}\n     *\n     * Example:\n     *\n     * ```js\n     * const vertexCount = 4;\n     * const positionAttribute = mesh.attribute(MeshAttributes.Position);\n     *\n     * // A position has 3 floats per vertex. Thus, positions has length 3 * 4.\n     * const positions = positionAttribute.createArray(vertexCount);\n     * ```\n     *\n     * @param count The number of **vertices** expected.\n     * @returns A TypedArray with the appropriate format to access the data\n     */\n    createArray(count = 1) {\n        count = count > this.length ? this.length : count;\n        return new this._bufferType(count * this._componentCount * this._arraySize);\n    }\n    get(index, out = this.createArray()) {\n        if (out.length % this._componentCount !== 0) {\n            throw new Error(`out.length, ${out.length} is not a multiple of the attribute vector components, ${this._componentCount}`);\n        }\n        const dest = this._tempBufferGetter(out.length);\n        const elementSize = this._bufferType.BYTES_PER_ELEMENT;\n        const destSize = elementSize * out.length;\n        const srcFormatSize = this._formatSize * this._arraySize;\n        const destFormatSize = this._componentCount * elementSize * this._arraySize;\n        this._engine.wasm._wl_mesh_get_attribute_values(this._attribute, srcFormatSize, this._offset + index * this._stride, this._stride, destFormatSize, dest.byteOffset, destSize);\n        for (let i = 0; i < out.length; ++i)\n            out[i] = dest[i];\n        return out;\n    }\n    /**\n     * Set attribute element.\n     *\n     * @param i Index\n     * @param v Value to set the element to\n     *\n     * `v.length` needs to be a multiple of the attributes component count, see\n     * {@link MeshAttribute}. If `v.length` is more than one multiple, it will be\n     * filled with the next n attribute elements, which can reduce overhead\n     * of this call.\n     *\n     * @returns Reference to self (for method chaining)\n     */\n    set(i, v) {\n        if (v.length % this._componentCount !== 0)\n            throw new Error(`out.length, ${v.length} is not a multiple of the attribute vector components, ${this._componentCount}`);\n        const elementSize = this._bufferType.BYTES_PER_ELEMENT;\n        const srcSize = elementSize * v.length;\n        const srcFormatSize = this._componentCount * elementSize * this._arraySize;\n        const destFormatSize = this._formatSize * this._arraySize;\n        const wasm = this._engine.wasm;\n        /* Unless we are already working with data from WASM heap, we\n         * need to copy into temporary memory. */\n        if (v.buffer != wasm.HEAPU8.buffer) {\n            const dest = this._tempBufferGetter(v.length);\n            dest.set(v);\n            v = dest;\n        }\n        wasm._wl_mesh_set_attribute_values(this._attribute, srcFormatSize, v.byteOffset, srcSize, destFormatSize, this._offset + i * this._stride, this._stride);\n        return this;\n    }\n}\n/**\n * Wrapper around a native material.\n *\n * Each material instance will have properties associated to the pipeline it uses.\n * The material properties are automatically added to each material instance, example:\n *\n * ```js\n * const material = mesh.material; // Material with a `Phong Opaque Textured` pipeline\n * // You can access all the material properties from the editor using:\n * material.diffuseTexture = null;\n * material.diffuseColor = [1.0, 0.0, 0.0, 1.0];\n * ```\n */\nexport class Material {\n    /**\n     * Index of this material in the manager.\n     *\n     * @hidden\n     */\n    _index;\n    /**\n     * Material definition index in the scene.\n     *\n     * @hidden\n     */\n    _definition;\n    /** Wonderland Engine instance. @hidden */\n    _engine;\n    /**\n     * Create a new Material.\n     *\n     * @note Creating material is expensive. Please use {@link Material#clone} to clone a material.\n     * @note Do not use this constructor directly with an index, this is reserved for internal purposes.\n     */\n    constructor(engine, params) {\n        this._engine = engine;\n        if (typeof params !== 'number') {\n            if (!params?.pipeline)\n                throw new Error(\"Missing parameter 'pipeline'\");\n            const wasm = this._engine.wasm;\n            const pipeline = params.pipeline;\n            this._index = wasm._wl_material_create(wasm.tempUTF8(pipeline));\n            if (this._index < 0)\n                throw new Error(`No such pipeline '${pipeline}'`);\n        }\n        else {\n            this._index = params;\n        }\n        this._definition = this._engine.wasm._wl_material_get_definition(this._index);\n        if (!this._engine.wasm._materialDefinitions[this._definition])\n            throw new Error(`Material Definition ${this._definition} not found for material with index ${this._index}`);\n        return new Proxy(this, {\n            get(target, prop) {\n                const wasm = engine.wasm;\n                const definition = wasm._materialDefinitions[target._definition];\n                const param = definition.get(prop);\n                if (!param)\n                    return target[prop];\n                if (wasm._wl_material_get_param_value(target._index, param.index, wasm._tempMem)) {\n                    const type = param.type;\n                    switch (type.type) {\n                        case MaterialParamType.UnsignedInt:\n                            return type.componentCount == 1\n                                ? wasm._tempMemUint32[0]\n                                : new Uint32Array(wasm.HEAPU32.buffer, wasm._tempMem, type.componentCount);\n                        case MaterialParamType.Int:\n                            return type.componentCount == 1\n                                ? wasm._tempMemInt[0]\n                                : new Int32Array(wasm.HEAP32.buffer, wasm._tempMem, type.componentCount);\n                        case MaterialParamType.Float:\n                            return type.componentCount == 1\n                                ? wasm._tempMemFloat[0]\n                                : new Float32Array(wasm.HEAPF32.buffer, wasm._tempMem, type.componentCount);\n                        case MaterialParamType.Sampler:\n                            return engine.textures.wrap(wasm._tempMemInt[0]);\n                        default:\n                            throw new Error(`Invalid type ${type.type} on parameter ${param.index} for material ${target._index}`);\n                    }\n                }\n            },\n            set(target, prop, value) {\n                const wasm = engine.wasm;\n                const definition = wasm._materialDefinitions[target._definition];\n                const param = definition.get(prop);\n                if (!param) {\n                    target[prop] = value;\n                    return true;\n                }\n                const type = param.type;\n                switch (type.type) {\n                    case MaterialParamType.UnsignedInt:\n                    case MaterialParamType.Int:\n                    case MaterialParamType.Sampler:\n                        const v = value.id ?? value;\n                        wasm._wl_material_set_param_value_uint(target._index, param.index, v);\n                        break;\n                    case MaterialParamType.Float:\n                        let count = 1;\n                        if (typeof value === 'number') {\n                            wasm._tempMemFloat[0] = value;\n                        }\n                        else {\n                            count = value.length;\n                            for (let i = 0; i < count; ++i)\n                                wasm._tempMemFloat[i] = value[i];\n                        }\n                        wasm._wl_material_set_param_value_float(target._index, param.index, wasm._tempMem, count);\n                        break;\n                    case MaterialParamType.Font:\n                        throw new Error('Setting font properties is currently unsupported.');\n                }\n                return true;\n            },\n        });\n    }\n    /** @deprecated Use {@link #pipeline} instead. */\n    get shader() {\n        return this.pipeline;\n    }\n    /** Name of the pipeline used by this material. */\n    get pipeline() {\n        const wasm = this._engine.wasm;\n        return wasm.UTF8ToString(wasm._wl_material_get_pipeline(this._index));\n    }\n    /** Hosting engine instance. */\n    get engine() {\n        return this._engine;\n    }\n    /**\n     * Create a copy of the underlying native material.\n     *\n     * @returns Material clone.\n     */\n    clone() {\n        const id = this._engine.wasm._wl_material_clone(this._index);\n        return id > 0 ? new Material(this._engine, id) : null;\n    }\n    /**\n     * Checks equality by comparing whether the wrapped native material ids are\n     * equal.\n     *\n     * @param otherMaterial Material to check equality with.\n     * @returns Whether this material equals the given material.\n     *\n     * @since 1.0.0\n     */\n    equals(otherMaterial) {\n        if (!otherMaterial)\n            return false;\n        return this._index === otherMaterial._index;\n    }\n    /**\n     * Wrap a native material index.\n     *\n     * @param engine Engine instance.\n     * @param index The index.\n     * @returns Material instance or `null` if index <= 0.\n     *\n     * @deprecated Please use `new Material()` instead.\n     */\n    static wrap(engine, index) {\n        /** @todo: this propagate nullable in the entire codebase. Remove. */\n        return index > 0 ? new Material(engine, index) : null;\n    }\n}\n/** Temporary canvas */\nlet temp2d = null;\n/**\n * Wrapper around a native texture data.\n */\nexport class Texture {\n    /** Wonderland Engine instance. @hidden */\n    _engine;\n    /** Index in the manager. @hidden */\n    _id = 0;\n    /** HTML image index. @hidden */\n    _imageIndex = null;\n    /**\n     * @param engine The engine instance\n     * @param param HTML media element to create texture from or texture id to wrap.\n     */\n    constructor(engine, param) {\n        this._engine = engine ?? WL;\n        const wasm = engine.wasm;\n        if (param instanceof HTMLImageElement ||\n            param instanceof HTMLVideoElement ||\n            param instanceof HTMLCanvasElement) {\n            const index = wasm._images.length;\n            wasm._images.push(param);\n            this._imageIndex = index;\n            this._id = this._engine.wasm._wl_renderer_addImage(index);\n        }\n        else {\n            this._id = param;\n        }\n        this._engine.textures._set(this);\n    }\n    /** Whether this texture is valid. */\n    get valid() {\n        return this._id >= 0;\n    }\n    /** Index in this manager. */\n    get id() {\n        return this._id;\n    }\n    /** Update the texture to match the HTML element (e.g. reflect the current frame of a video). */\n    update() {\n        if (!this.valid || this._imageIndex === null)\n            return;\n        this._engine.wasm._wl_renderer_updateImage(this._id, this._imageIndex);\n    }\n    /** Width of the texture. */\n    get width() {\n        return this._engine.wasm._wl_texture_width(this._id);\n    }\n    /** Height of the texture. */\n    get height() {\n        return this._engine.wasm._wl_texture_height(this._id);\n    }\n    /** Hosting engine instance. */\n    get engine() {\n        return this._engine;\n    }\n    /**\n     * Update a subrange on the texture to match the HTML element (e.g. reflect the current frame of a video).\n     *\n     * Usage:\n     *\n     * ```js\n     * // Copies rectangle of pixel starting from (10, 20)\n     * texture.updateSubImage(10, 20, 600, 400);\n     * ```\n     *\n     * @param x x offset\n     * @param y y offset\n     * @param w width\n     * @param h height\n     */\n    updateSubImage(x, y, w, h) {\n        if (!this.valid || this._imageIndex === null)\n            return;\n        /* Lazy initialize temp canvas */\n        if (!temp2d) {\n            const canvas = document.createElement('canvas');\n            const ctx = canvas.getContext('2d');\n            if (!ctx) {\n                throw new Error('Texture.updateSubImage(): Failed to obtain CanvasRenderingContext2D.');\n            }\n            temp2d = { canvas, ctx };\n        }\n        const wasm = this._engine.wasm;\n        const img = wasm._images[this._imageIndex];\n        if (!img)\n            return;\n        temp2d.canvas.width = w;\n        temp2d.canvas.height = h;\n        temp2d.ctx.drawImage(img, x, y, w, h, 0, 0, w, h);\n        const yOffset = (img.videoHeight ?? img.height) - y - h;\n        wasm._images[this._imageIndex] = temp2d.canvas;\n        wasm._wl_renderer_updateImage(this._id, this._imageIndex, x, yOffset);\n        wasm._images[this._imageIndex] = img;\n    }\n    /**\n     * Destroy and free the texture's texture altas space and memory.\n     *\n     * It is best practice to set the texture variable to `null` after calling\n     * destroy to prevent accidental use of the invalid texture:\n     *\n     * ```js\n     *   texture.destroy();\n     *   texture = null;\n     * ```\n     *\n     * @since 0.9.0\n     */\n    destroy() {\n        this.engine.textures._destroy(this);\n        this._id = -1;\n        this._imageIndex = null;\n    }\n    /**\n     * Checks equality by comparing whether the wrapped native texture ids are\n     * equal.\n     *\n     * @param otherTexture Texture to check equality with.\n     * @returns Whether this texture equals the given texture.\n     *\n     * @since 1.0.0\n     */\n    equals(otherTexture) {\n        if (!otherTexture)\n            return false;\n        return this._id === otherTexture._id;\n    }\n}\n/**\n * Wrapper around a native animation.\n */\nexport class Animation {\n    /** Index of the mesh in the manager. @hidden */\n    _index;\n    /** Wonderland Engine instance. @hidden */\n    _engine;\n    /**\n     * @param index Index in the manager\n     */\n    constructor(engine = WL, index) {\n        this._engine = engine;\n        this._index = index;\n    }\n    /** Duration of this animation. */\n    get duration() {\n        return this._engine.wasm._wl_animation_get_duration(this._index);\n    }\n    /** Number of tracks in this animation. */\n    get trackCount() {\n        return this._engine.wasm._wl_animation_get_trackCount(this._index);\n    }\n    /**\n     * Clone this animation retargeted to a new set of objects.\n     *\n     * The clone shares most of the data with the original and is therefore\n     * light-weight.\n     *\n     * **Experimental:** This API might change in upcoming versions.\n     *\n     * If retargeting to {@link Skin}, the join names will be used to determine a mapping\n     * from the previous skin to the new skin. The source skin will be retrieved from\n     * the first track in the animation that targets a joint.\n     *\n     * @param newTargets New targets per track. Expected to have\n     *      {@link Animation#trackCount} elements or to be a {@link Skin}.\n     * @returns The retargeted clone of this animation.\n     */\n    retarget(newTargets) {\n        const wasm = this._engine.wasm;\n        if (newTargets instanceof Skin) {\n            const animId = wasm._wl_animation_retargetToSkin(this._index, newTargets._index);\n            return new Animation(this._engine, animId);\n        }\n        if (newTargets.length != this.trackCount) {\n            throw Error('Expected ' +\n                this.trackCount.toString() +\n                ' targets, but got ' +\n                newTargets.length.toString());\n        }\n        const ptr = wasm._malloc(2 * newTargets.length);\n        for (let i = 0; i < newTargets.length; ++i) {\n            wasm.HEAPU16[ptr >> (1 + i)] = newTargets[i].objectId;\n        }\n        const animId = wasm._wl_animation_retarget(this._index, ptr);\n        wasm._free(ptr);\n        return new Animation(this._engine, animId);\n    }\n    /**\n     * Checks equality by comparing whether the wrapped native animation ids\n     * are equal.\n     *\n     * @param otherAnimation Animation to check equality with.\n     * @returns Whether this animation equals the given animation.\n     *\n     * @since 1.0.0\n     */\n    equals(otherAnimation) {\n        if (!otherAnimation)\n            return false;\n        return this._index === otherAnimation._index;\n    }\n}\n/**\n * Scene graph object.\n *\n * Node in the scene graph or \"entity\". Consists of transformation and a reference\n * to its parent object. Usually holds components and is accessible by components\n * through {@link Component#object}.\n *\n * Objects are stored in a data oriented manner inside WebAssembly memory. This class\n * is a JavaScript API wrapper around this memory for more convenient use in\n * components.\n *\n * Objects can be created and added to a scene through\n * {@link Scene#addObject} on the {@link WonderlandEngine.scene}.\n */\nexport class Object3D {\n    /** Wonderland Engine instance. @hidden */\n    _engine;\n    /**\n     * Object index in the manager.\n     *\n     * @hidden\n     */\n    _objectId = -1;\n    /**\n     * @param o Object id to wrap\n     *\n     * For performance reasons, please use {@link WonderlandEngine.wrapObject}\n     */\n    constructor(engine, o) {\n        this._objectId = o;\n        this._engine = engine;\n    }\n    /**\n     * Name of the object.\n     *\n     * Useful for identifying objects during debugging.\n     */\n    get name() {\n        const wasm = this._engine.wasm;\n        return wasm.UTF8ToString(wasm._wl_object_name(this.objectId));\n    }\n    /**\n     * Set the object's name.\n     *\n     * @param newName The new name to set.\n     */\n    set name(newName) {\n        const wasm = this._engine.wasm;\n        wasm._wl_object_set_name(this.objectId, wasm.tempUTF8(newName));\n    }\n    /**\n     * Parent of this object or `null` if parented to root.\n     */\n    get parent() {\n        const p = this._engine.wasm._wl_object_parent(this.objectId);\n        return p === 0 ? null : this._engine.wrapObject(p);\n    }\n    /**\n     * Children of this object.\n     */\n    get children() {\n        const childrenCount = this._engine.wasm._wl_object_get_children_count(this.objectId);\n        if (childrenCount === 0)\n            return [];\n        const wasm = this._engine.wasm;\n        wasm.requireTempMem(childrenCount * 2);\n        this._engine.wasm._wl_object_get_children(this.objectId, wasm._tempMem, wasm._tempMemSize >> 1);\n        const children = new Array(childrenCount);\n        for (let i = 0; i < childrenCount; ++i) {\n            children[i] = this._engine.wrapObject(wasm._tempMemUint16[i]);\n        }\n        return children;\n    }\n    /**\n     * Reparent object to given object.\n     *\n     * @note Reparenting is not trivial and might have a noticeable performance impact.\n     *\n     * @param newParent New parent or `null` to parent to root\n     */\n    set parent(newParent) {\n        this._engine.wasm._wl_object_set_parent(this.objectId, newParent == null ? 0 : newParent.objectId);\n    }\n    /** Object index in the manager. */\n    get objectId() {\n        return this._objectId;\n    }\n    /** Hosting engine instance. */\n    get engine() {\n        return this._engine;\n    }\n    /**\n     * Reset local transformation (translation, rotation and scaling) to identity.\n     *\n     * @returns Reference to self (for method chaining).\n     */\n    resetTransform() {\n        this._engine.wasm._wl_object_reset_translation_rotation(this.objectId);\n        this._engine.wasm._wl_object_reset_scaling(this.objectId);\n        return this;\n    }\n    /**\n     * Reset local position and rotation to identity.\n     *\n     * @returns Reference to self (for method chaining).\n     */\n    resetPositionRotation() {\n        this._engine.wasm._wl_object_reset_translation_rotation(this.objectId);\n        return this;\n    }\n    /** @deprecated Please use {@link Object3D.resetPositionRotation} instead. */\n    resetTranslationRotation() {\n        return this.resetPositionRotation();\n    }\n    /**\n     * Reset local rotation, keep translation.\n     *\n     * @note To reset both rotation and translation, prefer\n     *       {@link resetTranslationRotation}.\n     *\n     * @returns Reference to self (for method chaining).\n     */\n    resetRotation() {\n        this._engine.wasm._wl_object_reset_rotation(this.objectId);\n        return this;\n    }\n    /**\n     * Reset local translation, keep rotation.\n     *\n     * @note To reset both rotation and translation, prefer\n     *       {@link resetTranslationRotation}.\n     *\n     * @returns Reference to self (for method chaining).\n     */\n    resetPosition() {\n        this._engine.wasm._wl_object_reset_translation(this.objectId);\n        return this;\n    }\n    /** @deprecated Please use {@link Object3D.resetPosition} instead. */\n    resetTranslation() {\n        return this.resetPosition();\n    }\n    /**\n     * Reset local scaling to identity (``[1.0, 1.0, 1.0]``).\n     *\n     * @returns Reference to self (for method chaining).\n     */\n    resetScaling() {\n        this._engine.wasm._wl_object_reset_scaling(this.objectId);\n        return this;\n    }\n    /** @deprecated Please use {@link Object3D.translateLocal} instead. */\n    translate(v) {\n        return this.translateLocal(v);\n    }\n    /**\n     * Translate object by a vector in the parent's space.\n     *\n     * @param v Vector to translate by.\n     *\n     * @returns Reference to self (for method chaining).\n     */\n    translateLocal(v) {\n        this._engine.wasm._wl_object_translate(this.objectId, v[0], v[1], v[2]);\n        return this;\n    }\n    /**\n     * Translate object by a vector in object space.\n     *\n     * @param v Vector to translate by.\n     *\n     * @returns Reference to self (for method chaining).\n     */\n    translateObject(v) {\n        this._engine.wasm._wl_object_translate_obj(this.objectId, v[0], v[1], v[2]);\n        return this;\n    }\n    /**\n     * Translate object by a vector in world space.\n     *\n     * @param v Vector to translate by.\n     *\n     * @returns Reference to self (for method chaining).\n     */\n    translateWorld(v) {\n        this._engine.wasm._wl_object_translate_world(this.objectId, v[0], v[1], v[2]);\n        return this;\n    }\n    /** @deprecated Please use {@link Object3D.rotateAxisAngleDegLocal} instead. */\n    rotateAxisAngleDeg(a, d) {\n        this.rotateAxisAngleDegLocal(a, d);\n        return this;\n    }\n    /**\n     * Rotate around given axis by given angle (degrees) in local space.\n     *\n     * @param a Vector representing the rotation axis.\n     * @param d Angle in degrees.\n     *\n     * @note If the object is translated the rotation will be around\n     *     the parent. To rotate around the object origin, use\n     *     {@link rotateAxisAngleDegObject}\n     *\n     * @see {@link rotateAxisAngleRad}\n     *\n     * @returns Reference to self (for method chaining).\n     */\n    rotateAxisAngleDegLocal(a, d) {\n        this._engine.wasm._wl_object_rotate_axis_angle(this.objectId, a[0], a[1], a[2], d);\n        return this;\n    }\n    /** @deprecated Please use {@link Object3D.rotateAxisAngleRadLocal} instead. */\n    rotateAxisAngleRad(a, d) {\n        return this.rotateAxisAngleRadLocal(a, d);\n    }\n    /**\n     * Rotate around given axis by given angle (radians) in local space.\n     *\n     * @param a Vector representing the rotation axis.\n     * @param d Angle in radians.\n     *\n     * @note If the object is translated the rotation will be around\n     *     the parent. To rotate around the object origin, use\n     *     {@link rotateAxisAngleDegObject}\n     *\n     * @see {@link rotateAxisAngleDeg}\n     *\n     * @returns Reference to self (for method chaining).\n     */\n    rotateAxisAngleRadLocal(a, d) {\n        this._engine.wasm._wl_object_rotate_axis_angle_rad(this.objectId, a[0], a[1], a[2], d);\n        return this;\n    }\n    /**\n     * Rotate around given axis by given angle (degrees) in object space.\n     *\n     * @param a Vector representing the rotation axis.\n     * @param d Angle in degrees.\n     *\n     * Equivalent to prepending a rotation quaternion to the object's\n     * local transformation.\n     *\n     * @see {@link rotateAxisAngleRadObject}\n     *\n     * @returns Reference to self (for method chaining).\n     */\n    rotateAxisAngleDegObject(a, d) {\n        this._engine.wasm._wl_object_rotate_axis_angle_obj(this.objectId, a[0], a[1], a[2], d);\n        return this;\n    }\n    /**\n     * Rotate around given axis by given angle (radians) in object space\n     * Equivalent to prepending a rotation quaternion to the object's\n     * local transformation.\n     *\n     * @param a Vector representing the rotation axis\n     * @param d Angle in degrees\n     *\n     * @see {@link rotateAxisAngleDegObject}\n     *\n     * @returns Reference to self (for method chaining).\n     */\n    rotateAxisAngleRadObject(a, d) {\n        this._engine.wasm._wl_object_rotate_axis_angle_rad_obj(this.objectId, a[0], a[1], a[2], d);\n        return this;\n    }\n    /** @deprecated Please use {@link Object3D.rotateLocal} instead. */\n    rotate(q) {\n        this.rotateLocal(q);\n        return this;\n    }\n    /**\n     * Rotate by a quaternion.\n     *\n     * @param q the Quaternion to rotate by.\n     *\n     * @returns Reference to self (for method chaining).\n     */\n    rotateLocal(q) {\n        this._engine.wasm._wl_object_rotate_quat(this.objectId, q[0], q[1], q[2], q[3]);\n        return this;\n    }\n    /**\n     * Rotate by a quaternion in object space.\n     *\n     * Equivalent to prepending a rotation quaternion to the object's\n     * local transformation.\n     *\n     * @param q the Quaternion to rotate by.\n     *\n     * @returns Reference to self (for method chaining).\n     */\n    rotateObject(q) {\n        this._engine.wasm._wl_object_rotate_quat_obj(this.objectId, q[0], q[1], q[2], q[3]);\n        return this;\n    }\n    /** @deprecated Please use {@link Object3D.scaleLocal} instead. */\n    scale(v) {\n        this.scaleLocal(v);\n        return this;\n    }\n    /**\n     * Scale object by a vector in object space.\n     *\n     * @param v Vector to scale by.\n     *\n     * @returns Reference to self (for method chaining).\n     */\n    scaleLocal(v) {\n        this._engine.wasm._wl_object_scale(this.objectId, v[0], v[1], v[2]);\n        return this;\n    }\n    getPositionLocal(out = new Float32Array(3)) {\n        const wasm = this._engine.wasm;\n        /* Translation is different than rotation & scaling.\n         * We can't simply read the memory. */\n        wasm._wl_object_get_translation_local(this.objectId, wasm._tempMem);\n        out[0] = wasm._tempMemFloat[0];\n        out[1] = wasm._tempMemFloat[1];\n        out[2] = wasm._tempMemFloat[2];\n        return out;\n    }\n    getTranslationLocal(out = new Float32Array(3)) {\n        return this.getPositionLocal(out);\n    }\n    getPositionWorld(out = new Float32Array(3)) {\n        const wasm = this._engine.wasm;\n        /* Translation is different than rotation & scaling.\n         * We can't simply read the memory. */\n        wasm._wl_object_get_translation_world(this.objectId, wasm._tempMem);\n        out[0] = wasm._tempMemFloat[0];\n        out[1] = wasm._tempMemFloat[1];\n        out[2] = wasm._tempMemFloat[2];\n        return out;\n    }\n    getTranslationWorld(out = new Float32Array(3)) {\n        return this.getPositionWorld(out);\n    }\n    /**\n     * Set local / object space position.\n     *\n     * Concatenates a new translation dual quaternion onto the existing rotation.\n     *\n     * @param v New local position array/vector, expected to have at least 3 elements.\n     *\n     * @returns Reference to self (for method chaining).\n     */\n    setPositionLocal(v) {\n        this._engine.wasm._wl_object_set_translation_local(this.objectId, v[0], v[1], v[2]);\n        return this;\n    }\n    /** @deprecated Please use {@link Object3D.setPositionLocal} instead. */\n    setTranslationLocal(v) {\n        return this.setPositionLocal(v);\n    }\n    /**\n     * Set world space position.\n     *\n     * Applies the inverse parent transform with a new translation dual quaternion\n     * which is concatenated onto the existing rotation.\n     *\n     * @param v New world position array/vector, expected to have at least 3 elements.\n     *\n     * @returns Reference to self (for method chaining).\n     */\n    setPositionWorld(v) {\n        this._engine.wasm._wl_object_set_translation_world(this.objectId, v[0], v[1], v[2]);\n        return this;\n    }\n    /** @deprecated Please use {@link Object3D.setPositionWorld} instead. */\n    setTranslationWorld(v) {\n        return this.setPositionWorld(v);\n    }\n    getScalingLocal(out = new Float32Array(3)) {\n        const wasm = this._engine.wasm;\n        const ptr = wasm._wl_object_scaling_local(this.objectId) / 4; /* Align F32 */\n        out[0] = wasm.HEAPF32[ptr];\n        out[1] = wasm.HEAPF32[ptr + 1];\n        out[2] = wasm.HEAPF32[ptr + 2];\n        return out;\n    }\n    /**\n     * Set local / object space scaling.\n     *\n     * @param v New local scaling array/vector, expected to have at least 3 elements.\n     *\n     * @returns Reference to self (for method chaining).\n     */\n    setScalingLocal(v) {\n        this._engine.wasm._wl_object_set_scaling_local(this.objectId, v[0], v[1], v[2]);\n        return this;\n    }\n    getScalingWorld(out = new Float32Array(3)) {\n        const wasm = this._engine.wasm;\n        const ptr = wasm._wl_object_scaling_world(this.objectId) / 4; /* Align F32 */\n        out[0] = wasm.HEAPF32[ptr];\n        out[1] = wasm.HEAPF32[ptr + 1];\n        out[2] = wasm.HEAPF32[ptr + 2];\n        return out;\n    }\n    /**\n     * Set World space scaling.\n     *\n     * @param v New world scaling array/vector, expected to have at least 3 elements.\n     *\n     * @returns Reference to self (for method chaining).\n     */\n    setScalingWorld(v) {\n        this._engine.wasm._wl_object_set_scaling_world(this.objectId, v[0], v[1], v[2]);\n        return this;\n    }\n    getRotationLocal(out = new Float32Array(4)) {\n        const wasm = this._engine.wasm;\n        const ptr = wasm._wl_object_trans_local(this.objectId) / 4; /* Align F32 */\n        /* The first 4 floats represent the rotation quaternion. */\n        out[0] = wasm.HEAPF32[ptr];\n        out[1] = wasm.HEAPF32[ptr + 1];\n        out[2] = wasm.HEAPF32[ptr + 2];\n        out[3] = wasm.HEAPF32[ptr + 3];\n        return out;\n    }\n    /**\n     * Set local space rotation.\n     *\n     * @param v New world rotation array/vector, expected to have at least 4 elements.\n     *\n     * @returns Reference to self (for method chaining).\n     */\n    setRotationLocal(v) {\n        this._engine.wasm._wl_object_set_rotation_local(this.objectId, v[0], v[1], v[2], v[3]);\n        return this;\n    }\n    getRotationWorld(out = new Float32Array(4)) {\n        const wasm = this._engine.wasm;\n        const ptr = wasm._wl_object_trans_world(this.objectId) / 4; /* Align F32 */\n        /* The first 4 floats represent the rotation quaternion. */\n        out[0] = wasm.HEAPF32[ptr];\n        out[1] = wasm.HEAPF32[ptr + 1];\n        out[2] = wasm.HEAPF32[ptr + 2];\n        out[3] = wasm.HEAPF32[ptr + 3];\n        return out;\n    }\n    /**\n     * Set local space rotation.\n     *\n     * @param v New world rotation array/vector, expected to have at least 4 elements.\n     *\n     * @returns Reference to self (for method chaining).\n     */\n    setRotationWorld(v) {\n        this._engine.wasm._wl_object_set_rotation_world(this.objectId, v[0], v[1], v[2], v[3]);\n        return this;\n    }\n    getTransformLocal(out = new Float32Array(8)) {\n        const wasm = this._engine.wasm;\n        const ptr = wasm._wl_object_trans_local(this.objectId) / 4; /* Align F32 */\n        out[0] = wasm.HEAPF32[ptr];\n        out[1] = wasm.HEAPF32[ptr + 1];\n        out[2] = wasm.HEAPF32[ptr + 2];\n        out[3] = wasm.HEAPF32[ptr + 3];\n        out[4] = wasm.HEAPF32[ptr + 4];\n        out[5] = wasm.HEAPF32[ptr + 5];\n        out[6] = wasm.HEAPF32[ptr + 6];\n        out[7] = wasm.HEAPF32[ptr + 7];\n        return out;\n    }\n    /**\n     * Set local space rotation.\n     *\n     * @param v New local transform array, expected to have at least 8 elements.\n     *\n     * @returns Reference to self (for method chaining).\n     */\n    setTransformLocal(v) {\n        const wasm = this._engine.wasm;\n        const ptr = wasm._wl_object_trans_local(this.objectId) / 4; /* Align F32 */\n        wasm.HEAPF32[ptr] = v[0];\n        wasm.HEAPF32[ptr + 1] = v[1];\n        wasm.HEAPF32[ptr + 2] = v[2];\n        wasm.HEAPF32[ptr + 3] = v[3];\n        wasm.HEAPF32[ptr + 4] = v[4];\n        wasm.HEAPF32[ptr + 5] = v[5];\n        wasm.HEAPF32[ptr + 6] = v[6];\n        wasm.HEAPF32[ptr + 7] = v[7];\n        this.setDirty();\n        return this;\n    }\n    getTransformWorld(out = new Float32Array(8)) {\n        const wasm = this._engine.wasm;\n        const ptr = wasm._wl_object_trans_world(this.objectId) / 4; /* Align F32 */\n        out[0] = wasm.HEAPF32[ptr];\n        out[1] = wasm.HEAPF32[ptr + 1];\n        out[2] = wasm.HEAPF32[ptr + 2];\n        out[3] = wasm.HEAPF32[ptr + 3];\n        out[4] = wasm.HEAPF32[ptr + 4];\n        out[5] = wasm.HEAPF32[ptr + 5];\n        out[6] = wasm.HEAPF32[ptr + 6];\n        out[7] = wasm.HEAPF32[ptr + 7];\n        return out;\n    }\n    /**\n     * Set world space rotation.\n     *\n     * @param v New world transform array, expected to have at least 8 elements.\n     *\n     * @returns Reference to self (for method chaining).\n     */\n    setTransformWorld(v) {\n        const wasm = this._engine.wasm;\n        const ptr = wasm._wl_object_trans_world(this.objectId) / 4; /* Align F32 */\n        wasm.HEAPF32[ptr] = v[0];\n        wasm.HEAPF32[ptr + 1] = v[1];\n        wasm.HEAPF32[ptr + 2] = v[2];\n        wasm.HEAPF32[ptr + 3] = v[3];\n        wasm.HEAPF32[ptr + 4] = v[4];\n        wasm.HEAPF32[ptr + 5] = v[5];\n        wasm.HEAPF32[ptr + 6] = v[6];\n        wasm.HEAPF32[ptr + 7] = v[7];\n        this._engine.wasm._wl_object_trans_world_to_local(this.objectId);\n        return this;\n    }\n    /**\n     * Local space transformation.\n     *\n     * @deprecated Please use {@link Object3D.setTransformLocal} and\n     * {@link Object3D.getTransformLocal} instead.\n     */\n    get transformLocal() {\n        const wasm = this._engine.wasm;\n        return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_object_trans_local(this.objectId), 8);\n    }\n    /**\n     * Set local transform.\n     *\n     * @param t Local space transformation.\n     *\n     * @since 0.8.5\n     *\n     * @deprecated Please use {@link Object3D.setTransformLocal} and\n     * {@link Object3D.getTransformLocal} instead.\n     */\n    set transformLocal(t) {\n        this.transformLocal.set(t);\n        this.setDirty();\n    }\n    /**\n     * Global / world space transformation.\n     *\n     * May recompute transformations of the hierarchy of this object,\n     * if they were changed by JavaScript components this frame.\n     *\n     * @deprecated Please use {@link Object3D.setTransformWorld} and\n     * {@link Object3D.getTransformWorld} instead.\n     */\n    get transformWorld() {\n        const wasm = this._engine.wasm;\n        return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_object_trans_world(this.objectId), 8);\n    }\n    /**\n     * Set world transform.\n     *\n     * @param t Global / world space transformation.\n     *\n     * @since 0.8.5\n     *\n     * @deprecated Please use {@link Object3D.setTransformWorld} and\n     * {@link Object3D.getTransformWorld} instead.\n     */\n    set transformWorld(t) {\n        this.transformWorld.set(t);\n        this._engine.wasm._wl_object_trans_world_to_local(this.objectId);\n    }\n    /**\n     * Local / object space scaling.\n     *\n     * @deprecated Please use {@link Object3D.setScalingLocal} and\n     * {@link Object3D.getScalingLocal} instead.\n     */\n    get scalingLocal() {\n        const wasm = this._engine.wasm;\n        return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_object_scaling_local(this.objectId), 3);\n    }\n    /**\n     * Set local space scaling.\n     *\n     * @param s Local space scaling.\n     *\n     * @since 0.8.7\n     *\n     * @deprecated Please use {@link Object3D.setScalingLocal} and\n     * {@link Object3D.getScalingLocal} instead.\n     */\n    set scalingLocal(s) {\n        this.scalingLocal.set(s);\n        this.setDirty();\n    }\n    /**\n     * Global / world space scaling.\n     *\n     * May recompute transformations of the hierarchy of this object,\n     * if they were changed by JavaScript components this frame.\n     *\n     * @deprecated Please use {@link Object3D.setScalingWorld} and\n     * {@link Object3D.getScalingWorld} instead.\n     */\n    get scalingWorld() {\n        const wasm = this._engine.wasm;\n        return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_object_scaling_world(this.objectId), 3);\n    }\n    /**\n     * Set world space scaling.\n     *\n     * @param t World space scaling.\n     *\n     * @since 0.8.7\n     *\n     * @deprecated Please use {@link Object3D.setScalingWorld} and\n     * {@link Object3D.getScalingWorld} instead.\n     */\n    set scalingWorld(s) {\n        this.scalingWorld.set(s);\n        this._engine.wasm._wl_object_scaling_world_to_local(this.objectId);\n    }\n    /**\n     * Local space rotation.\n     *\n     * @since 0.8.7\n     *\n     * @deprecated Please use {@link Object3D.getRotationLocal} and\n     * {@link Object3D.setRotationLocal} instead.\n     */\n    get rotationLocal() {\n        return this.transformLocal.subarray(0, 4);\n    }\n    /**\n     * Global / world space rotation\n     *\n     * @since 0.8.7\n     *\n     * @deprecated Please use {@link Object3D.getRotationWorld} and\n     * {@link Object3D.setRotationWorld} instead.\n     */\n    get rotationWorld() {\n        return this.transformWorld.subarray(0, 4);\n    }\n    /**\n     * Set local space rotation.\n     *\n     * @param r Local space rotation\n     *\n     * @since 0.8.7\n     *\n     * @deprecated Please use {@link Object3D.getRotationLocal} and\n     * {@link Object3D.setRotationLocal} instead.\n     */\n    set rotationLocal(r) {\n        this._engine.wasm._wl_object_set_rotation_local(this.objectId, r[0], r[1], r[2], r[3]);\n    }\n    /**\n     * Set world space rotation.\n     *\n     * @param r Global / world space rotation.\n     *\n     * @since 0.8.7\n     *\n     * @deprecated Please use {@link Object3D.getRotationWorld} and\n     * {@link Object3D.setRotationWorld} instead.\n     */\n    set rotationWorld(r) {\n        this._engine.wasm._wl_object_set_rotation_world(this.objectId, r[0], r[1], r[2], r[3]);\n    }\n    /** @deprecated Please use {@link Object3D.getForwardWorld} instead. */\n    getForward(out) {\n        return this.getForwardWorld(out);\n    }\n    /**\n     * Compute the object's forward facing world space vector.\n     *\n     * The forward vector in object space is along the negative z-axis, i.e.,\n     * `[0, 0, -1]`.\n     *\n     * @param out Destination array/vector, expected to have at least 3 elements.\n     * @return The `out` parameter.\n     */\n    getForwardWorld(out) {\n        out[0] = 0;\n        out[1] = 0;\n        out[2] = -1;\n        this.transformVectorWorld(out);\n        return out;\n    }\n    /** @deprecated Please use {@link Object3D.getUpWorld} instead. */\n    getUp(out) {\n        return this.getUpWorld(out);\n    }\n    /**\n     * Compute the object's up facing world space vector.\n     *\n     * @param out Destination array/vector, expected to have at least 3 elements.\n     * @return The `out` parameter.\n     */\n    getUpWorld(out) {\n        out[0] = 0;\n        out[1] = 1;\n        out[2] = 0;\n        this.transformVectorWorld(out);\n        return out;\n    }\n    /** @deprecated Please use {@link Object3D.getRightWorld} instead. */\n    getRight(out) {\n        return this.getRightWorld(out);\n    }\n    /**\n     * Compute the object's right facing world space vector.\n     *\n     * @param out Destination array/vector, expected to have at least 3 elements.\n     * @return The `out` parameter.\n     */\n    getRightWorld(out) {\n        out[0] = 1;\n        out[1] = 0;\n        out[2] = 0;\n        this.transformVectorWorld(out);\n        return out;\n    }\n    /**\n     * Transform a vector by this object's world transform.\n     *\n     * @param out Out vector\n     * @param v Vector to transform, default `out`\n     * @return The `out` parameter.\n     *\n     * @since 0.8.7\n     */\n    transformVectorWorld(out, v = out) {\n        const wasm = this._engine.wasm;\n        wasm._tempMemFloat[0] = v[0];\n        wasm._tempMemFloat[1] = v[1];\n        wasm._tempMemFloat[2] = v[2];\n        wasm._wl_object_transformVectorWorld(this.objectId, wasm._tempMem);\n        out[0] = wasm._tempMemFloat[0];\n        out[1] = wasm._tempMemFloat[1];\n        out[2] = wasm._tempMemFloat[2];\n        return out;\n    }\n    /**\n     * Transform a vector by this object's local transform.\n     *\n     * @param out Out vector\n     * @param v Vector to transform, default `out`\n     * @return The `out` parameter.\n     *\n     * @since 0.8.7\n     */\n    transformVectorLocal(out, v = out) {\n        const wasm = this._engine.wasm;\n        wasm._tempMemFloat[0] = v[0];\n        wasm._tempMemFloat[1] = v[1];\n        wasm._tempMemFloat[2] = v[2];\n        wasm._wl_object_transformVectorLocal(this.objectId, wasm._tempMem);\n        out[0] = wasm._tempMemFloat[0];\n        out[1] = wasm._tempMemFloat[1];\n        out[2] = wasm._tempMemFloat[2];\n        return out;\n    }\n    /**\n     * Transform a point by this object's world transform.\n     *\n     * @param out Out point.\n     * @param p Point to transform, default `out`.\n     * @return The `out` parameter.\n     *\n     * @since 0.8.7\n     */\n    transformPointWorld(out, p = out) {\n        const wasm = this._engine.wasm;\n        wasm._tempMemFloat[0] = p[0];\n        wasm._tempMemFloat[1] = p[1];\n        wasm._tempMemFloat[2] = p[2];\n        wasm._wl_object_transformPointWorld(this.objectId, wasm._tempMem);\n        out[0] = wasm._tempMemFloat[0];\n        out[1] = wasm._tempMemFloat[1];\n        out[2] = wasm._tempMemFloat[2];\n        return out;\n    }\n    /**\n     * Transform a point by this object's local transform.\n     *\n     * @param out Out point.\n     * @param p Point to transform, default `out`.\n     * @return The `out` parameter.\n     *\n     * @since 0.8.7\n     */\n    transformPointLocal(out, p = out) {\n        const wasm = this._engine.wasm;\n        wasm._tempMemFloat[0] = p[0];\n        wasm._tempMemFloat[1] = p[1];\n        wasm._tempMemFloat[2] = p[2];\n        wasm._wl_object_transformPointLocal(this.objectId, wasm._tempMem);\n        out[0] = wasm._tempMemFloat[0];\n        out[1] = wasm._tempMemFloat[1];\n        out[2] = wasm._tempMemFloat[2];\n        return out;\n    }\n    /**\n     * Transform a vector by this object's inverse world transform.\n     *\n     * @param out Out vector.\n     * @param v Vector to transform, default `out`.\n     * @return The `out` parameter.\n     *\n     * @since 0.8.7\n     */\n    transformVectorInverseWorld(out, v = out) {\n        const wasm = this._engine.wasm;\n        wasm._tempMemFloat[0] = v[0];\n        wasm._tempMemFloat[1] = v[1];\n        wasm._tempMemFloat[2] = v[2];\n        wasm._wl_object_transformVectorInverseWorld(this.objectId, wasm._tempMem);\n        out[0] = wasm._tempMemFloat[0];\n        out[1] = wasm._tempMemFloat[1];\n        out[2] = wasm._tempMemFloat[2];\n        return out;\n    }\n    /**\n     * Transform a vector by this object's inverse local transform.\n     *\n     * @param out Out vector\n     * @param v Vector to transform, default `out`\n     * @return The `out` parameter.\n     *\n     * @since 0.8.7\n     */\n    transformVectorInverseLocal(out, v = out) {\n        const wasm = this._engine.wasm;\n        wasm._tempMemFloat[0] = v[0];\n        wasm._tempMemFloat[1] = v[1];\n        wasm._tempMemFloat[2] = v[2];\n        wasm._wl_object_transformVectorInverseLocal(this.objectId, wasm._tempMem);\n        out[0] = wasm._tempMemFloat[0];\n        out[1] = wasm._tempMemFloat[1];\n        out[2] = wasm._tempMemFloat[2];\n        return out;\n    }\n    /**\n     * Transform a point by this object's inverse world transform.\n     *\n     * @param out Out point.\n     * @param p Point to transform, default `out`.\n     * @return The `out` parameter.\n     *\n     * @since 0.8.7\n     */\n    transformPointInverseWorld(out, p = out) {\n        const wasm = this._engine.wasm;\n        wasm._tempMemFloat[0] = p[0];\n        wasm._tempMemFloat[1] = p[1];\n        wasm._tempMemFloat[2] = p[2];\n        wasm._wl_object_transformPointInverseWorld(this.objectId, wasm._tempMem);\n        out[0] = wasm._tempMemFloat[0];\n        out[1] = wasm._tempMemFloat[1];\n        out[2] = wasm._tempMemFloat[2];\n        return out;\n    }\n    /**\n     * Transform a point by this object's inverse local transform.\n     *\n     * @param out Out point.\n     * @param p Point to transform, default `out`.\n     * @return The `out` parameter.\n     *\n     * @since 0.8.7\n     */\n    transformPointInverseLocal(out, p = out) {\n        const wasm = this._engine.wasm;\n        wasm._tempMemFloat.set(p);\n        wasm._wl_object_transformPointInverseLocal(this.objectId, wasm._tempMem);\n        out[0] = wasm._tempMemFloat[0];\n        out[1] = wasm._tempMemFloat[1];\n        out[2] = wasm._tempMemFloat[2];\n        return out;\n    }\n    /**\n     * Transform an object space dual quaternion into world space.\n     *\n     * @param out Out transformation.\n     * @param q Local space transformation, default `out`.\n     * @return The `out` parameter.\n     *\n     * @since 0.8.7\n     */\n    toWorldSpaceTransform(out, q = out) {\n        const wasm = this._engine.wasm;\n        wasm._tempMemFloat.set(q);\n        wasm._wl_object_toWorldSpaceTransform(this.objectId, wasm._tempMem);\n        out[0] = wasm._tempMemFloat[0];\n        out[1] = wasm._tempMemFloat[1];\n        out[2] = wasm._tempMemFloat[2];\n        out[3] = wasm._tempMemFloat[3];\n        out[4] = wasm._tempMemFloat[4];\n        out[5] = wasm._tempMemFloat[5];\n        out[6] = wasm._tempMemFloat[6];\n        out[7] = wasm._tempMemFloat[7];\n        return out;\n    }\n    /**\n     * Transform a world space dual quaternion into local space.\n     *\n     * @param out Out transformation\n     * @param q World space transformation, default `out`\n     * @return The `out` parameter.\n     *\n     * @since 0.8.7\n     */\n    toLocalSpaceTransform(out, q = out) {\n        const p = this.parent;\n        if (p) {\n            p.toObjectSpaceTransform(out, q);\n            return out;\n        }\n        if (out !== q) {\n            out[0] = q[0];\n            out[1] = q[1];\n            out[2] = q[2];\n            out[3] = q[3];\n            out[4] = q[4];\n            out[5] = q[5];\n            out[6] = q[6];\n            out[7] = q[7];\n        }\n        return out;\n    }\n    /**\n     * Transform a world space dual quaternion into object space.\n     *\n     * @param out Out transformation.\n     * @param q World space transformation, default `out`\n     * @return The `out` parameter.\n     *\n     * @since 0.8.7\n     */\n    toObjectSpaceTransform(out, q = out) {\n        const wasm = this._engine.wasm;\n        wasm._tempMemFloat.set(q);\n        wasm._wl_object_toObjectSpaceTransform(this.objectId, wasm._tempMem);\n        out[0] = wasm._tempMemFloat[0];\n        out[1] = wasm._tempMemFloat[1];\n        out[2] = wasm._tempMemFloat[2];\n        out[3] = wasm._tempMemFloat[3];\n        out[4] = wasm._tempMemFloat[4];\n        out[5] = wasm._tempMemFloat[5];\n        out[6] = wasm._tempMemFloat[6];\n        out[7] = wasm._tempMemFloat[7];\n        return out;\n    }\n    /**\n     * Turn towards / look at target.\n     *\n     * Rotates the object so that its forward vector faces towards the target\n     * position. The `up` vector acts as a hint to uniquely orient the object's\n     * up direction. When orienting a view component, the projected `up` vector\n     * faces upwards on the viewing plane.\n     *\n     * @param p Target position to turn towards, in world space.\n     * @param up Up vector to align object with, in world space. Default is `[0, 1, 0]`.\n     *\n     * @returns Reference to self (for method chaining).\n     */\n    lookAt(p, up = UP_VECTOR) {\n        this._engine.wasm._wl_object_lookAt(this.objectId, p[0], p[1], p[2], up[0], up[1], up[2]);\n        return this;\n    }\n    /** Destroy the object with all of its components and remove it from the scene */\n    destroy() {\n        this._engine.wasm._wl_scene_remove_object(this.objectId);\n        this._objectId = -1;\n    }\n    /**\n     * Mark transformation dirty.\n     *\n     * Causes an eventual recalculation of {@link transformWorld}, either\n     * on next {@link getTranslationWorld}, {@link transformWorld} or\n     * {@link scalingWorld} or the beginning of next frame, whichever\n     * happens first.\n     */\n    setDirty() {\n        this._engine.wasm._wl_object_set_dirty(this.objectId);\n    }\n    /**\n     * Disable/enable all components of this object.\n     *\n     * @param b New state for the components.\n     *\n     * @since 0.8.5\n     */\n    set active(b) {\n        const comps = this.getComponents();\n        for (let c of comps) {\n            c.active = b;\n        }\n    }\n    getComponent(typeOrClass, index = 0) {\n        const type = isString(typeOrClass) ? typeOrClass : typeOrClass.TypeName;\n        const wasm = this._engine.wasm;\n        const componentType = wasm._wl_get_component_manager_index(wasm.tempUTF8(type));\n        if (componentType < 0) {\n            /* Not a native component, try js: */\n            const typeIndex = wasm._componentTypeIndices[type];\n            if (typeIndex === undefined)\n                return null;\n            const jsIndex = wasm._wl_get_js_component_index(this.objectId, typeIndex, index);\n            return jsIndex < 0 ? null : this._engine.wasm._components[jsIndex];\n        }\n        const componentId = this._engine.wasm._wl_get_component_id(this.objectId, componentType, index);\n        return this._engine._wrapComponent(type, componentType, componentId);\n    }\n    /**\n     * @param typeOrClass Type name, pass a falsey value (`undefined` or `null`) to retrieve all.\n     *     It's also possible to give a class definition. In this case, the method will use the `class.TypeName` field to\n     *     find the components.\n     * @returns All components of given type attached to this object.\n     *\n     * @note As this function is non-trivial, avoid using it in `update()` repeatedly,\n     *      but rather store its result in `init()` or `start()`\n     * @warning This method will currently return at most 341 components.\n     */\n    getComponents(typeOrClass) {\n        const wasm = this._engine.wasm;\n        let componentType = null;\n        let type = null;\n        if (typeOrClass) {\n            type = isString(typeOrClass) ? typeOrClass : typeOrClass.TypeName;\n            componentType = wasm._typeIndexFor(type);\n        }\n        const components = [];\n        const maxComps = Math.floor((wasm._tempMemSize / 3) * 2);\n        const componentsCount = wasm._wl_object_get_components(this.objectId, wasm._tempMem, maxComps);\n        const offset = 2 * componentsCount;\n        wasm._wl_object_get_component_types(this.objectId, wasm._tempMem + offset, maxComps);\n        const jsManagerIndex = wasm._typeIndexFor('js');\n        for (let i = 0; i < componentsCount; ++i) {\n            const t = wasm._tempMemUint8[i + offset];\n            const componentId = wasm._tempMemUint16[i];\n            /* Handle JS types separately */\n            if (t == jsManagerIndex) {\n                const typeIndex = wasm._wl_get_js_component_index_for_id(componentId);\n                const comp = wasm._components[typeIndex];\n                if (componentType === null || comp.type == type)\n                    components.push(comp);\n                continue;\n            }\n            if (componentType === null) {\n                const managerName = wasm._typeNameFor(t);\n                components.push(this._engine._wrapComponent(managerName, t, componentId));\n            }\n            else if (t == componentType) {\n                /* Optimized manager name retrieval, already have type */\n                components.push(this._engine._wrapComponent(type, componentType, componentId));\n            }\n        }\n        return components;\n    }\n    addComponent(typeOrClass, params) {\n        const wasm = this._engine.wasm;\n        const type = isString(typeOrClass) ? typeOrClass : typeOrClass.TypeName;\n        const componentType = wasm._typeIndexFor(type);\n        let component = null;\n        let componentIndex = null;\n        if (componentType < 0) {\n            /* JavaScript component */\n            if (!(type in wasm._componentTypeIndices)) {\n                throw new TypeError(\"Unknown component type '\" + type + \"'\");\n            }\n            const componentId = wasm._wl_object_add_js_component(this.objectId, wasm._componentTypeIndices[type]);\n            componentIndex = wasm._wl_get_js_component_index_for_id(componentId);\n            component = wasm._components[componentIndex];\n        }\n        else {\n            /* native component */\n            const componentId = wasm._wl_object_add_component(this.objectId, componentType);\n            component = this._engine._wrapComponent(type, componentType, componentId);\n        }\n        if (params !== undefined) {\n            const ctor = component.constructor;\n            for (const key in params) {\n                if (!(key in ctor.Properties))\n                    continue;\n                component[key] = params[key];\n            }\n        }\n        /* Explicitly initialize native components */\n        if (componentType < 0) {\n            /* @todo: `componentIndex` can be null here, that's an error */\n            wasm._wljs_component_init(componentIndex);\n            /* start() is called through onActivate() */\n        }\n        /* If it was not explicitly requested by the user to leave the component inactive,\n         * we activate it as a final step. This invalidates componentIndex! */\n        if (!params || !('active' in params && !params.active)) {\n            component.active = true;\n        }\n        return component;\n    }\n    /**\n     * Whether given object's transformation has changed.\n     */\n    get changed() {\n        return !!this._engine.wasm._wl_object_is_changed(this.objectId);\n    }\n    /**\n     * Checks equality by comparing whether the wrapped native object ids are\n     * equal.\n     *\n     * @param otherObject Object to check equality with.\n     * @returns Whether this object equals the given object.\n     */\n    equals(otherObject) {\n        if (!otherObject)\n            return false;\n        return this.objectId == otherObject.objectId;\n    }\n}\n/**\n * Wrapper around a native skin data.\n */\nexport class Skin {\n    /**\n     * Index of the skin in the manager.\n     * @hidden\n     */\n    _index;\n    /** Wonderland Engine instance. @hidden */\n    _engine;\n    constructor(engine, index) {\n        this._engine = engine;\n        this._index = index;\n    }\n    /** Amount of joints in this skin. */\n    get jointCount() {\n        return this._engine.wasm._wl_skin_get_joint_count(this._index);\n    }\n    /** Joints object ids for this skin */\n    get jointIds() {\n        const wasm = this._engine.wasm;\n        return new Uint16Array(wasm.HEAPU16.buffer, wasm._wl_skin_joint_ids(this._index), this.jointCount);\n    }\n    /**\n     * Dual quaternions in a flat array of size 8 times {@link jointCount}.\n     *\n     * Inverse bind transforms of the skin.\n     */\n    get inverseBindTransforms() {\n        const wasm = this._engine.wasm;\n        return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_skin_inverse_bind_transforms(this._index), 8 * this.jointCount);\n    }\n    /**\n     * Vectors in a flat array of size 3 times {@link jointCount}.\n     *\n     * Inverse bind scalings of the skin.\n     */\n    get inverseBindScalings() {\n        const wasm = this._engine.wasm;\n        return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_skin_inverse_bind_scalings(this._index), 3 * this.jointCount);\n    }\n    /**\n     * Checks equality by comparing whether the wrapped native skin ids are\n     * equal.\n     *\n     * @param otherSkin Skin to check equality with.\n     * @returns Whether this skin equals the given skin.\n     *\n     * @since 1.0.0\n     */\n    equals(otherSkin) {\n        if (!otherSkin)\n            return false;\n        return this._index === otherSkin._index;\n    }\n}\n/* For backward compatibility with < 1.0.0. */\nexport { Object3D as Object };\n/**\n * Ray hit.\n *\n * Result of a {@link Scene.rayCast}.\n *\n * @note this class wraps internal engine data and should only be created internally.\n */\nexport class RayHit {\n    /** Wonderland Engine instance. @hidden */\n    _engine;\n    /** Pointer to the memory heap. */\n    _ptr;\n    /**\n     * @param ptr Pointer to the ray hits memory.\n     */\n    constructor(engine, ptr) {\n        if ((ptr & 3) !== 0) {\n            throw new Error('Misaligned pointer: please report a bug');\n        }\n        this._engine = engine;\n        this._ptr = ptr;\n    }\n    /** Array of ray hit locations. */\n    get locations() {\n        let p = this._ptr;\n        let l = [];\n        for (let i = 0; i < this.hitCount; ++i) {\n            l.push(new Float32Array(this._engine.wasm.HEAPF32.buffer, p + 12 * i, 3));\n        }\n        return l;\n    }\n    /** Array of ray hit normals (only when using {@link Physics#rayCast}. */\n    get normals() {\n        let p = this._ptr + 48;\n        let l = [];\n        for (let i = 0; i < this.hitCount; ++i) {\n            l.push(new Float32Array(this._engine.wasm.HEAPF32.buffer, p + 12 * i, 3));\n        }\n        return l;\n    }\n    /**\n     * Prefer these to recalculating the distance from locations.\n     *\n     * Distances of array hits to ray origin.\n     */\n    get distances() {\n        const p = this._ptr + 48 * 2;\n        return new Float32Array(this._engine.wasm.HEAPF32.buffer, p, this.hitCount);\n    }\n    /** Hit objects */\n    get objects() {\n        const HEAPU16 = this._engine.wasm.HEAPU16;\n        const objects = [null, null, null, null];\n        let p = (this._ptr + (48 * 2 + 16)) >> 1;\n        for (let i = 0; i < this.hitCount; ++i) {\n            objects[i] = this._engine.wrapObject(HEAPU16[p + i]);\n        }\n        return objects;\n    }\n    /** Number of hits (max 4) */\n    get hitCount() {\n        return Math.min(this._engine.wasm.HEAPU32[this._ptr / 4 + 30], 4);\n    }\n}\nclass math {\n    /** (Experimental!) Cubic Hermite spline interpolation for vector3 and quaternions.\n     *\n     * With `f == 0`, `out` will be `b`, if `f == 1`, `out` will be c.\n     *\n     * Whether a quaternion or vector3 interpolation is intended is determined by\n     * length of `a`.\n     *\n     * @param out Array to write result to.\n     * @param a First tangent/handle.\n     * @param b First point or quaternion.\n     * @param c Second point or quaternion.\n     * @param d Second handle.\n     * @param f Interpolation factor in [0; 1].\n     * @returns The `out` parameter.\n     *\n     * @since 0.8.6\n     */\n    static cubicHermite(out, a, b, c, d, f, engine = WL) {\n        const wasm = engine.wasm;\n        wasm._tempMemFloat.subarray(0).set(a);\n        wasm._tempMemFloat.subarray(4).set(b);\n        wasm._tempMemFloat.subarray(8).set(c);\n        wasm._tempMemFloat.subarray(12).set(d);\n        const isQuat = a.length == 4;\n        wasm._wl_math_cubicHermite(wasm._tempMem + 4 * 16, wasm._tempMem + 4 * 0, wasm._tempMem + 4 * 4, wasm._tempMem + 4 * 8, wasm._tempMem + 4 * 12, f, isQuat);\n        out[0] = wasm._tempMemFloat[16];\n        out[1] = wasm._tempMemFloat[17];\n        out[2] = wasm._tempMemFloat[18];\n        if (isQuat)\n            out[3] = wasm._tempMemFloat[19];\n        return out;\n    }\n}\nexport { math };\n/**\n * Class for accessing internationalization (i18n) features.\n *\n * Allows {@link I18N.onLanguageChanged \"detecting language change\"},\n * {@link I18N.language \"setting the current language\"} or translating\n * {@link I18N.translate() \"individual terms\"}.\n *\n * Internationalization works with terms,\n * a string type keyword that is linked to a different text for each language.\n *\n * Internally, string parameters for text and js components are\n * automatically swapped during language change, given they are linked to a term.\n * If manual text swapping is desired, {@link I18N.translate()}\n * can be used to retrieve the current translation for any term.\n *\n * You can also use the {@link I18N.onLanguageChanged} to manually update text\n * when a language is changed to for example update a number in a string.\n *\n * @since 1.0.0\n */\nexport class I18N {\n    /**\n     * {@link Emitter} for language change events.\n     *\n     * First parameter to a listener is the old language index,\n     * second parameter is the new language index.\n     *\n     * Usage from a within a component:\n     * ```js\n     * this.engine.i18n.onLanguageChanged.add((oldLanguageIndex, newLanguageIndex) => {\n     *     const oldLanguage = this.engine.i18n.languageName(oldLanguageIndex);\n     *     const newLanguage = this.engine.i18n.languageName(newLanguageIndex);\n     *     console.log(\"Switched from\", oldLanguage, \"to\", newLanguage);\n     * });\n     * ```\n     */\n    onLanguageChanged = new Emitter();\n    /** Wonderland Engine instance. @hidden */\n    _engine;\n    /**\n     * Constructor\n     */\n    constructor(engine) {\n        this._engine = engine;\n    }\n    /**\n     * Set current language and apply translations to linked text parameters.\n     *\n     * @param code Language code to switch to\n     */\n    set language(code) {\n        if (code == null)\n            return;\n        const wasm = this._engine.wasm;\n        wasm._wl_i18n_setLanguage(wasm.tempUTF8(code));\n    }\n    /**\n     * Get current language code.\n     *\n     */\n    get language() {\n        const wasm = this._engine.wasm;\n        const code = wasm._wl_i18n_currentLanguage();\n        if (code === 0)\n            return null;\n        return wasm.UTF8ToString(code);\n    }\n    /**\n     * Get translated string for a term for the currently loaded language.\n     *\n     * @param term Term to translate\n     */\n    translate(term) {\n        const wasm = this._engine.wasm;\n        const translation = wasm._wl_i18n_translate(wasm.tempUTF8(term));\n        if (translation === 0)\n            return null;\n        return wasm.UTF8ToString(translation);\n    }\n    /**\n     * Get the number of languages in the project.\n     *\n     */\n    languageCount() {\n        const wasm = this._engine.wasm;\n        return wasm._wl_i18n_languageCount();\n    }\n    /**\n     * Get a language code.\n     *\n     * @param index Index of the language to get the code from\n     */\n    languageIndex(code) {\n        const wasm = this._engine.wasm;\n        return wasm._wl_i18n_languageIndex(wasm.tempUTF8(code));\n    }\n    /**\n     * Get a language code.\n     *\n     * @param index Index of the language to get the code from\n     */\n    languageCode(index) {\n        const wasm = this._engine.wasm;\n        const code = wasm._wl_i18n_languageCode(index);\n        if (code === 0)\n            return null;\n        return wasm.UTF8ToString(code);\n    }\n    /**\n     * Get a language name.\n     *\n     * @param index Index of the language to get the name from\n     */\n    languageName(index) {\n        const wasm = this._engine.wasm;\n        const name = wasm._wl_i18n_languageName(index);\n        if (name === 0)\n            return null;\n        return wasm.UTF8ToString(name);\n    }\n}\n/** Properties of a WebXR session */\nexport class XR {\n    /** Wonderland WASM bridge. @hidden */\n    #wasm;\n    #mode;\n    constructor(wasm, mode) {\n        this.#wasm = wasm;\n        this.#mode = mode;\n    }\n    /** Current WebXR session mode */\n    get sessionMode() {\n        return this.#mode;\n    }\n    /** Current WebXR session */\n    get session() {\n        return this.#wasm.webxr_session;\n    }\n    /** Current WebXR frame */\n    get frame() {\n        return this.#wasm.webxr_frame;\n    }\n    referenceSpaceForType(type) {\n        return this.#wasm.webxr_refSpaces[type] ?? null;\n    }\n    /** Set current reference space type used for retrieving eye, head, hand and joint poses */\n    set currentReferenceSpace(refSpace) {\n        this.#wasm.webxr_refSpace = refSpace;\n        this.#wasm.webxr_refSpaceType = null;\n        for (const type of Object.keys(this.#wasm.webxr_refSpaces)) {\n            if (this.#wasm.webxr_refSpaces[type] === refSpace) {\n                /* Keep track of reference space type */\n                this.#wasm.webxr_refSpaceType = type;\n            }\n        }\n    }\n    /** Current reference space type used for retrieving eye, head, hand and joint poses */\n    get currentReferenceSpace() {\n        return this.#wasm.webxr_refSpace;\n    }\n    /** Current WebXR reference space type or `null` if not a default reference space */\n    get currentReferenceSpaceType() {\n        return this.#wasm.webxr_refSpaceType;\n    }\n    /** Current WebXR base layer  */\n    get baseLayer() {\n        return this.#wasm.webxr_baseLayer;\n    }\n    /** Current WebXR framebuffer */\n    get framebuffers() {\n        if (!Array.isArray(this.#wasm.webxr_fbo)) {\n            return [this.#wasm.GL.framebuffers[this.#wasm.webxr_fbo]];\n        }\n        return this.#wasm.webxr_fbo.map((id) => this.#wasm.GL.framebuffers[id]);\n    }\n}\n", "import { Texture } from './wonderland.js';\n/**\n * Manage textures.\n *\n * This manager is accessible on the engine instance using {@link WonderlandEngine.textures}.\n *\n * Usage\n *\n * ```js\n * this.engine.load('path/to/texture.png').then((texture) => {\n *     console.log('Loaded!');\n *     console.log(texture);\n * })\n * ```\n */\nexport class TextureManager {\n    /** Wonderland Engine instance. @hidden */\n    _engine;\n    /** Texture cache. @hidden */\n    #cache = [];\n    /** @hidden */\n    constructor(engine) {\n        this._engine = engine;\n    }\n    /**\n     * Retrieve the texture with the given id.\n     *\n     * @param id The texture identifier.\n     * @return The {@link Texture} if found, `null` otherwise.\n     */\n    get(id) {\n        return this.#cache[id] ?? null;\n    }\n    /**\n     * Load an image from URL as {@link Texture}.\n     *\n     * @param filename URL to load from.\n     * @param crossOrigin Cross origin flag for the image object.\n     * @returns Loaded texture.\n     */\n    load(filename, crossOrigin) {\n        let image = new Image();\n        image.crossOrigin = crossOrigin ?? image.crossOrigin;\n        image.src = filename;\n        return new Promise((resolve, reject) => {\n            image.onload = () => {\n                let texture = new Texture(this._engine, image);\n                if (!texture.valid) {\n                    reject('Failed to add image ' +\n                        image.src +\n                        ' to texture atlas. Probably incompatible format.');\n                }\n                resolve(texture);\n            };\n            image.onerror = function () {\n                reject('Failed to load image. Not found or no read access');\n            };\n        });\n    }\n    /**\n     * Wrap a texture ID using {@link Texture}.\n     *\n     * @note This method performs caching and will return the same\n     * instance on subsequent calls.\n     *\n     * @param id ID of the texture to create.\n     *\n     * @returns The texture.\n     */\n    wrap(id) {\n        const texture = this.#cache[id] ?? (this.#cache[id] = new Texture(this._engine, id));\n        texture['_id'] = id;\n        return texture;\n    }\n    /** Number of textures allocated in the manager. */\n    get allocatedCount() {\n        return this.#cache.length;\n    }\n    /**\n     * Number of textures in the manager.\n     *\n     * @note For performance reasons, avoid calling this method when possible.\n     */\n    get count() {\n        let count = 0;\n        for (const tex of this.#cache) {\n            if (tex && tex.id >= 0)\n                ++count;\n        }\n        return count;\n    }\n    /**\n     * Set a new texture in the manager cache.\n     *\n     * @note This api is meant to be used internally.\n     *\n     * @param texture The texture to add.\n     *\n     * @hidden\n     */\n    _set(texture) {\n        /* @todo: Destroy texture at previous id? */\n        this.#cache[texture.id] = texture;\n    }\n    /**\n     * Destroys the texture.\n     *\n     * @note This api is meant to be used internally.\n     *\n     * @param texture The texture to destroy.\n     *\n     * @hidden\n     */\n    _destroy(texture) {\n        this._engine.wasm._wl_texture_destroy(texture.id);\n        const img = texture['_imageIndex'];\n        if (img !== null) {\n            this._engine.wasm._images[img] = null;\n        }\n    }\n    /**\n     * Reset the manager.\n     *\n     * @note This api is meant to be used internally.\n     *\n     * @hidden\n     */\n    _reset() {\n        this.#cache.length = 0;\n    }\n}\n", "import { CollisionComponent, AnimationComponent, LightComponent, MeshComponent, PhysXComponent, InputComponent, ViewComponent, TextComponent, Object as Object3D, Scene, Physics, I18N, } from './wonderland.js';\nimport { Emitter, RetainEmitter } from './utils/event.js';\nimport { isString } from './utils/object.js';\nimport { TextureManager } from './texture-manager.js';\n/**\n * Main Wonderland Engine instance.\n *\n * Controls the canvas, rendering, and JS <-> WASM communication.\n */\nexport class WonderlandEngine {\n    /**\n     * {@link Emitter} for WebXR session end events.\n     *\n     * Usage from a within a component:\n     * ```js\n     * this.engine.onXRSessionEnd.add(() => console.log(\"XR session ended.\"));\n     * ```\n     */\n    onXRSessionEnd = new Emitter();\n    /**\n     * {@link Emitter} for WebXR session start events.\n     *\n     * Usage from a within a component:\n     * ```js\n     * this.engine.onXRSessionStart.add((session, mode) => console.log(session, mode));\n     * ```\n     *\n     * By default, this emitter is retained and will automatically call any callback added\n     * while a session is already started:\n     *\n     * ```js\n     * // XR session is already active.\n     * this.engine.onXRSessionStart.add((session, mode) => {\n     *     console.log(session, mode); // Triggered immediately.\n     * });\n     * ```\n     */\n    onXRSessionStart = new RetainEmitter();\n    /**\n     * {@link Emitter} for canvas / main framebuffer resize events.\n     *\n     * Usage from a within a component:\n     * ```js\n     * this.engine.onResize.add(() => {\n     *     const canvas = this.engine.canvas;\n     *     console.log(`New Size: ${canvas.width}, ${canvas.height}`);\n     * });\n     * ```\n     *\n     * @note The size of the canvas is in physical pixels, and is set via {@link WonderlandEngine.resize}.\n     */\n    onResize = new Emitter();\n    /** Whether AR is supported by the browser. */\n    arSupported = false;\n    /** Whether VR is supported by the browser. */\n    vrSupported = false;\n    /**\n     * {@link Emitter} for scene loaded events.\n     *\n     * Listeners get notified when a call to {@link Scene#load()} finishes,\n     * which also happens after the main scene has replaced the loading screen.\n     *\n     * Usage from a within a component:\n     * ```js\n     * this.engine.onSceneLoaded.add(() => console.log(\"Scene switched!\"));\n     * ```\n     */\n    onSceneLoaded = new Emitter();\n    /**\n     * Current main scene.\n     */\n    scene = null;\n    /**\n     * Access to internationalization.\n     */\n    i18n = new I18N(this);\n    /**\n     * WebXR related state, `null` if no XR session is active.\n     */\n    xr = null;\n    /* Component class instances per type to avoid GC */\n    _componentCache = {};\n    /* Object class instances per type to avoid GC */\n    _objectCache = [];\n    /**\n     * WebAssembly bridge.\n     *\n     * @hidden\n     */\n    #wasm;\n    /**\n     * Physics manager, only available when physx is enabled in the runtime.\n     *\n     * @hidden\n     */\n    #physics = null;\n    /** Texture manager. @hidden */\n    #textures = new TextureManager(this);\n    /**\n     * Resize observer to track for canvas size changes.\n     *\n     * @hidden\n     */\n    #resizeObserver = null;\n    /**\n     * Create a new engine instance.\n     *\n     * @param wasm Wasm bridge instance\n     * @param loadingScreen Loading screen .bin file data\n     *\n     * @hidden\n     */\n    constructor(wasm, loadingScreen) {\n        this.#wasm = wasm;\n        this.#wasm['_setEngine'](this); /* String lookup to bypass private. */\n        this.#wasm._loadingScreen = loadingScreen;\n        this._componentCache = {};\n        this._objectCache.length = 0;\n        this.canvas.addEventListener('webglcontextlost', function (e) {\n            console.error('Context lost:');\n            console.error(e);\n        }, false);\n    }\n    /**\n     * Start the engine if it's not already running.\n     *\n     * When using the {@link loadRuntime} function, this method is called\n     * automatically.\n     */\n    start() {\n        this.wasm._wl_application_start();\n    }\n    /**\n     * Register a custom JavaScript component type.\n     *\n     * You can register a component directly using a class inheriting from {@link Component}:\n     *\n     * ```js\n     * import { Component, Type } from '@wonderlandengine/api';\n     *\n     * export class MyComponent extends Component {\n     *     static TypeName = 'my-component';\n     *     static Properties = {\n     *         myParam: {type: Type.Float, default: 42.0},\n     *     };\n     *     init() {}\n     *     start() {}\n     *     update(dt) {}\n     *     onActivate() {}\n     *     onDeactivate() {}\n     *     onDestroy() {}\n     * });\n     *\n     * // Here, we assume we have an engine already instantiated.\n     * // In general, the registration occurs in the `index.js` file in your\n     * // final application.\n     * engine.registerComponent(MyComponent);\n     * ```\n     *\n     * {@label CLASSES}\n     * @param classes Custom component(s) extending {@link Component}.\n     *\n     * @since 1.0.0\n     */\n    registerComponent(...classes) {\n        for (const arg of classes) {\n            this.wasm._registerComponent(arg);\n        }\n    }\n    /**\n     * Checks whether the given component is registered or not.\n     *\n     * @param typeOrClass A string representing the component typename (e.g., `'cursor-component'`),\n     *     or a component class (e.g., `CursorComponent`).\n     * @returns `true` if the component is registered, `false` otherwise.\n     */\n    isRegistered(typeOrClass) {\n        return this.#wasm.isRegistered(isString(typeOrClass) ? typeOrClass : typeOrClass.TypeName);\n    }\n    /**\n     * Resize the canvas and the rendering context.\n     *\n     * @note The `width` and `height` parameters will be scaled by the\n     * `devicePixelRatio` value. By default, the pixel ratio used is\n     * [window.devicePixelRatio](https://developer.mozilla.org/en-US/docs/Web/API/Window/devicePixelRatio).\n     *\n     * @param width The width, in CSS pixels.\n     * @param height The height, in CSS pixels.\n     * @param devicePixelRatio The pixel ratio factor.\n     */\n    resize(width, height, devicePixelRatio = window.devicePixelRatio) {\n        width = width * devicePixelRatio;\n        height = height * devicePixelRatio;\n        this.canvas.width = width;\n        this.canvas.height = height;\n        this.wasm._wl_application_resize(width, height);\n        this.onResize.notify();\n    }\n    /**\n     * Run the next frame.\n     *\n     * @param fixedDelta The elapsed time between this frame and the previous one.\n     *\n     * @note The engine automatically schedules next frames. You should only\n     * use this method for testing.\n     */\n    nextFrame(fixedDelta) {\n        this.#wasm._wl_nextFrame(fixedDelta);\n    }\n    /**\n     * Request a XR session.\n     *\n     * @note Please use this call instead of directly calling `navigator.xr.requestSession()`.\n     * Wonderland Engine requires to be aware that a session is started, and this\n     * is done through this call.\n     *\n     * @param mode The XR mode.\n     * @param features An array of required features, e.g., `['local-floor', 'hit-test']`.\n     * @param optionalFeatures An array of optional features, e.g., `['bounded-floor', 'depth-sensing']`.\n     * @returns A promise resolving with the `XRSession`, a string error message otherwise.\n     */\n    requestXRSession(mode, features, optionalFeatures = []) {\n        if (!navigator.xr) {\n            const isLocalhost = location.hostname === 'localhost' || location.hostname === '127.0.0.1';\n            const missingHTTPS = location.protocol !== 'https:' && !isLocalhost;\n            return Promise.reject(missingHTTPS\n                ? 'WebXR is only supported with HTTPS or on localhost!'\n                : 'WebXR unsupported in this browser.');\n        }\n        return this.#wasm.webxr_requestSession(mode, features, optionalFeatures);\n    }\n    /**\n     * Wrap an object ID using {@link Object}.\n     *\n     * @note This method performs caching and will return the same\n     * instance on subsequent calls.\n     *\n     * @param objectId ID of the object to create.\n     *\n     * @returns The object\n     */\n    wrapObject(objectId) {\n        const cache = this._objectCache;\n        const o = cache[objectId] || (cache[objectId] = new Object3D(this, objectId));\n        o['_objectId'] = objectId;\n        return o;\n    }\n    /* Public Getters & Setter */\n    /**\n     * WebAssembly bridge.\n     *\n     * @note Use with care. This object is used to communicate\n     * with the WebAssembly code throughout the api.\n     *\n     * @hidden\n     */\n    get wasm() {\n        return this.#wasm;\n    }\n    /** Canvas element that Wonderland Engine renders to. */\n    get canvas() {\n        return this.#wasm.canvas;\n    }\n    /**\n     * Current WebXR session or `null` if no session active.\n     *\n     * @deprecated Use {@link XR.session} on the {@link xr}\n     * object instead.\n     */\n    get xrSession() {\n        return this.xr?.session ?? null;\n    }\n    /**\n     * Current WebXR frame or `null` if no session active.\n     *\n     * @deprecated Use {@link XR.frame} on the {@link xr}\n     * object instead.\n     */\n    get xrFrame() {\n        return this.xr?.frame ?? null;\n    }\n    /**\n     * Current WebXR base layer or `null` if no session active.\n     *\n     * @deprecated Use {@link XR.baseLayer} on the {@link xr}\n     * object instead.\n     */\n    get xrBaseLayer() {\n        return this.xr?.baseLayer ?? null;\n    }\n    /**\n     * Current WebXR framebuffer or `null` if no session active.\n     *\n     * @deprecated Use {@link XR.framebuffers} on the\n     * {@link xr} object instead.\n     */\n    get xrFramebuffer() {\n        return this.xr?.framebuffers[0] ?? null;\n    }\n    /** Framebuffer scale factor. */\n    get xrFramebufferScaleFactor() {\n        return this.#wasm.webxr_framebufferScaleFactor;\n    }\n    set xrFramebufferScaleFactor(value) {\n        this.#wasm.webxr_framebufferScaleFactor = value;\n    }\n    /** Physics manager, only available when physx is enabled in the runtime. */\n    get physics() {\n        return this.#physics;\n    }\n    /**\n     * Texture managger.\n     *\n     * Use this to load or programmatically create new textures at runtime.\n     */\n    get textures() {\n        return this.#textures;\n    }\n    /*\n     * Enable or disable the mechanism to automatically resize the canvas.\n     *\n     * Internally, the engine uses a [ResizeObserver](https://developer.mozilla.org/en-US/docs/Web/API/ResizeObserver).\n     * Changing the canvas css will thus automatically be tracked by the engine.\n     */\n    set autoResizeCanvas(flag) {\n        const state = !!this.#resizeObserver;\n        if (state === flag)\n            return;\n        if (!flag) {\n            this.#resizeObserver?.unobserve(this.canvas);\n            this.#resizeObserver = null;\n            return;\n        }\n        this.#resizeObserver = new ResizeObserver((entries) => {\n            for (const entry of entries) {\n                if (entry.target === this.canvas) {\n                    this.resize(entry.contentRect.width, entry.contentRect.height);\n                }\n            }\n        });\n        this.#resizeObserver.observe(this.canvas);\n    }\n    /** `true` if the canvas is automatically resized by the engine. */\n    get autoResizeCanvas() {\n        return this.#resizeObserver !== null;\n    }\n    /** Retrieves the runtime version. */\n    get runtimeVersion() {\n        const wasm = this.#wasm;\n        const v = wasm._wl_application_version(wasm._tempMem);\n        return {\n            major: wasm._tempMemUint16[0],\n            minor: wasm._tempMemUint16[1],\n            patch: wasm._tempMemUint16[2],\n            rc: wasm._tempMemUint16[3],\n        };\n    }\n    /* Internal-Only Methods */\n    /**\n     * Initialize the engine.\n     *\n     * @note Should be called after the WebAssembly is fully loaded.\n     *\n     * @hidden\n     */\n    _init() {\n        this.scene = new Scene(this);\n        /* Setup the error handler. This is used to to manage native errors. */\n        this.#wasm._wl_set_error_callback(this.#wasm.addFunction((messagePtr) => {\n            throw new Error(this.#wasm.UTF8ToString(messagePtr));\n        }, 'vi'));\n        this.#physics = null;\n        if (this.#wasm.withPhysX) {\n            /* Setup the physics callback. */\n            const physics = new Physics(this);\n            this.#wasm._wl_physx_set_collision_callback(this.#wasm.addFunction((a, index, type, b) => {\n                const callback = physics._callbacks[a][index];\n                const component = new PhysXComponent(this, this.wasm._typeIndexFor('physx'), b);\n                callback(type, component);\n            }, 'viiii'));\n            this.#physics = physics;\n        }\n        this.resize(this.canvas.clientWidth, this.canvas.clientHeight);\n    }\n    /**\n     * Reset the runtime state, including:\n     *     - Component cache\n     *     - Images\n     *     - Callbacks\n     *\n     * @note This api is meant to be used internally.\n     *\n     * @hidden\n     */\n    _reset() {\n        this._componentCache = {};\n        this._objectCache.length = 0;\n        this.#textures._reset();\n        this.scene.reset();\n        this.wasm.reset();\n    }\n    /**\n     * Retrieves a component instance if it exists, or create and cache\n     * a new one.\n     *\n     * @note This api is meant to be used internally. Please have a look at\n     * {@link Object3D.addComponent} instead.\n     *\n     * @param type component type name\n     * @param componentType Component manager index\n     * @param componentId Component id in the manager\n     *\n     * @returns JavaScript instance wrapping the native component\n     *\n     * @hidden\n     */\n    _wrapComponent(type, componentType, componentId) {\n        if (componentId < 0)\n            return null;\n        /* @todo: extremely slow in JS to do that... Better to use a Map or allocate the array. */\n        const c = this._componentCache[componentType] ||\n            (this._componentCache[componentType] = []);\n        if (c[componentId]) {\n            return c[componentId];\n        }\n        let component;\n        if (type == 'collision') {\n            component = new CollisionComponent(this, componentType, componentId);\n        }\n        else if (type == 'text') {\n            component = new TextComponent(this, componentType, componentId);\n        }\n        else if (type == 'view') {\n            component = new ViewComponent(this, componentType, componentId);\n        }\n        else if (type == 'mesh') {\n            component = new MeshComponent(this, componentType, componentId);\n        }\n        else if (type == 'input') {\n            component = new InputComponent(this, componentType, componentId);\n        }\n        else if (type == 'light') {\n            component = new LightComponent(this, componentType, componentId);\n        }\n        else if (type == 'animation') {\n            component = new AnimationComponent(this, componentType, componentId);\n        }\n        else if (type == 'physx') {\n            component = new PhysXComponent(this, componentType, componentId);\n        }\n        else {\n            const typeIndex = this.wasm._componentTypeIndices[type];\n            const constructor = this.wasm._componentTypes[typeIndex];\n            component = new constructor(this);\n        }\n        /* Sets the manager and identifier from the outside, to\n         * simplify the user's constructor. */\n        /* @ts-ignore */\n        component._engine = this;\n        component._manager = componentType;\n        component._id = componentId;\n        c[componentId] = component;\n        return component;\n    }\n}\n", "import { RetainEmitter } from './index.js';\nimport { Type } from './property.js';\nimport { Animation, Component, Material, Mesh, Skin, XR, } from './wonderland.js';\n/**\n * Default component parameter value per type.\n */\nconst _componentDefaults = new Map([\n    [Type.Bool, false],\n    [Type.Int, 0],\n    [Type.Float, 0.0],\n    [Type.String, ''],\n    [Type.Enum, undefined],\n    [Type.Object, null],\n    [Type.Mesh, null],\n    [Type.Texture, null],\n    [Type.Material, null],\n    [Type.Animation, null],\n    [Type.Skin, null],\n    [Type.Color, [0.0, 0.0, 0.0, 1.0]],\n]);\n/**\n * Setup the defaults value of the properties on a given\n * component class.\n *\n * @param ctor The component class\n */\nfunction _setupDefaults(ctor) {\n    for (const name in ctor.Properties) {\n        const p = ctor.Properties[name];\n        if (p.type === Type.Enum) {\n            /* Enum default can be a string or an index. Convert to and/or\n             * sanity-check the index. */\n            if (p.values?.length) {\n                /* Don't try to look up the default if the user specified a\n                 * number or we already converted to one. */\n                if (typeof p.default !== 'number') {\n                    /* If undefined, missing element or wrong type this returns\n                     * -1 which becomes 0 below. This matches editor behavior. */\n                    p.default = p.values.indexOf(p.default);\n                }\n                if (p.default < 0 || p.default >= p.values.length) {\n                    p.default = 0;\n                }\n            }\n            else {\n                /* There's no index value that makes sense */\n                p.default = undefined;\n            }\n        }\n        else {\n            p.default = p.default ?? _componentDefaults.get(p.type);\n        }\n        ctor.prototype[name] = p.default;\n    }\n}\n/**\n * Low-level wrapper to interact with the WebAssembly code.\n *\n * @hidden\n */\nexport class WASM {\n    /**\n     * Emscripten worker field.\n     *\n     * @note This api is meant to be used internally.\n     */\n    worker = '';\n    /**\n     * Emscripten wasm field.\n     *\n     * @note This api is meant to be used internally.\n     */\n    wasm = null;\n    /**\n     * Emscripten canvas.\n     *\n     * @note This api is meant to be used internally.\n     */\n    canvas = null;\n    /** Current WebXR  */\n    /**\n     * Emscripten WebXR session.\n     *\n     * @note This api is meant to be used internally.\n     */\n    webxr_session = null;\n    /**\n     * Emscripten WebXR request session callback.\n     *\n     * @note This api is meant to be used internally.\n     */\n    webxr_requestSession = null;\n    /**\n     * Emscripten WebXR frame.\n     *\n     * @note This api is meant to be used internally.\n     */\n    webxr_frame = null;\n    /**\n     * Emscripten current WebXR reference space.\n     *\n     * @note This api is meant to be used internally.\n     */\n    webxr_refSpace = null;\n    /**\n     * Emscripten WebXR reference spaces.\n     *\n     * @note This api is meant to be used internally.\n     */\n    webxr_refSpaces = null;\n    /**\n     * Emscripten WebXR current reference space type.\n     *\n     * @note This api is meant to be used internally.\n     */\n    webxr_refSpaceType = null;\n    /**\n     * Emscripten WebXR GL projection layer.\n     *\n     * @note This api is meant to be used internally.\n     */\n    webxr_baseLayer = null;\n    /**\n     * Emscripten WebXR framebuffer scale factor.\n     *\n     * @note This api is meant to be used internally.\n     */\n    webxr_framebufferScaleFactor = 1.0;\n    /**\n     * Emscripten WebXR framebuffer(s).\n     *\n     * @note This api is meant to be used internally.\n     */\n    /* webxr_fbo will not get overwritten if we are rendering to the\n     * default framebuffer, e.g., when using WebXR emulator. */\n    webxr_fbo = 0;\n    /**\n     * Convert a WASM memory view to a JavaScript string.\n     *\n     * @param ptr Pointer start\n     * @param ptrEnd Pointer end\n     * @returns JavaScript string\n     */\n    UTF8ViewToString;\n    /** If `true`, logs will not spam the console on error. */\n    _deactivate_component_on_error = false;\n    /** Temporary memory pointer. */\n    _tempMem = null;\n    /** Temporary memory size. */\n    _tempMemSize = 0;\n    /** Temporary float memory view. */\n    _tempMemFloat = null;\n    /** Temporary int memory view. */\n    _tempMemInt = null;\n    /** Temporary uint8 memory view. */\n    _tempMemUint8 = null;\n    /** Temporary uint32 memory view. */\n    _tempMemUint32 = null;\n    /** Temporary uint16 memory view. */\n    _tempMemUint16 = null;\n    /** Loading screen .bin file data */\n    _loadingScreen = null;\n    /** List of callbacks triggered when the scene is loaded. */\n    _sceneLoadedCallback = [];\n    /**\n     * Material definition cache. Each pipeline has its own\n     * associated material definition.\n     */\n    _materialDefinitions = [];\n    /** Image cache. */\n    _images = [];\n    /** Component instances. */\n    _components = [];\n    /** Component Type info. */\n    _componentTypes = [];\n    /** Index per component type name. */\n    _componentTypeIndices = {};\n    /** Wonderland engine instance. */\n    _engine = null;\n    /**\n     * `true` if this runtime is using physx.\n     *\n     * @note This api is meant to be used internally.\n     */\n    _withPhysX = false;\n    /** Decoder for UTF8 `ArrayBuffer` to JavaScript string. */\n    _utf8Decoder = new TextDecoder('utf8');\n    /** List of .bin files to delay-load. */\n    _queuedBinFiles = [];\n    /**\n     * Create a new instance of the WebAssembly <> API bridge.\n     *\n     * @param threads `true` if the runtime used has threads support\n     */\n    constructor(threads) {\n        if (threads) {\n            this.UTF8ViewToString = (s, e) => {\n                if (!s)\n                    return '';\n                return this._utf8Decoder.decode(this.HEAPU8.slice(s, e));\n            };\n            return;\n        }\n        this.UTF8ViewToString = (s, e) => {\n            if (!s)\n                return '';\n            return this._utf8Decoder.decode(this.HEAPU8.subarray(s, e));\n        };\n    }\n    /**\n     * Reset the cache of the library\n     *\n     * @note Should only be called when tearing down the runtime.\n     */\n    reset() {\n        this._materialDefinitions = [];\n        this._images = [];\n        this._components = [];\n        this._componentTypes = [];\n        this._componentTypeIndices = {};\n    }\n    /**\n     * Checks whether the given component is registered or not.\n     *\n     * @param ctor  A string representing the component typename (e.g., `'cursor-component'`).\n     * @returns `true` if the component is registered, `false` otherwise.\n     */\n    isRegistered(type) {\n        return type in this._componentTypeIndices;\n    }\n    /**\n     * Register a legacy component in this Emscripten instance.\n     *\n     * @note This api is meant to be used internally.\n     *\n     * @param typeName The name of the component.\n     * @param params An object containing the parameters (properties).\n     * @param object The object's prototype.\n     * @returns The registration index\n     */\n    _registerComponentLegacy(typeName, params, object) {\n        const ctor = class CustomComponent extends Component {\n        };\n        ctor.TypeName = typeName;\n        ctor.Properties = params;\n        Object.assign(ctor.prototype, object);\n        return this._registerComponent(ctor);\n    }\n    /**\n     * Register a class component in this Emscripten instance.\n     *\n     * @note This api is meant to be used internally.\n     *\n     * @param ctor The class to register.\n     * @returns The registration index.\n     */\n    _registerComponent(ctor) {\n        if (!ctor.TypeName)\n            throw new Error('no name provided for component.');\n        // TODO: 'Dependencies' is hard-deprecated, remove at 1.1\n        const dependencies = ctor.Dependencies;\n        if (dependencies) {\n            for (const dependency of dependencies) {\n                /* For dependencies, we skip potential over-registration. */\n                if (!this.isRegistered(dependency.TypeName)) {\n                    this._registerComponent(dependency);\n                }\n            }\n        }\n        _setupDefaults(ctor);\n        const typeIndex = ctor.TypeName in this._componentTypeIndices\n            ? this._componentTypeIndices[ctor.TypeName]\n            : this._componentTypes.length;\n        this._componentTypes[typeIndex] = ctor;\n        this._componentTypeIndices[ctor.TypeName] = typeIndex;\n        console.log('Registered component', ctor.TypeName, `(class ${ctor.name})`, 'with index', typeIndex);\n        if (ctor.onRegister)\n            ctor.onRegister(this._engine);\n        return typeIndex;\n    }\n    /**\n     * Allocate the requested amount of temporary memory\n     * in this WASM instance.\n     *\n     * @param size The number of bytes to allocate\n     */\n    allocateTempMemory(size) {\n        console.log('Allocating temp mem:', size);\n        this._tempMemSize = size;\n        if (this._tempMem)\n            this._free(this._tempMem);\n        this._tempMem = this._malloc(this._tempMemSize);\n        this.updateTempMemory();\n    }\n    /**\n     * @todo: Delete this and only keep `allocateTempMemory`\n     *\n     * @param size Number of bytes to allocate\n     */\n    requireTempMem(size) {\n        if (this._tempMemSize >= size)\n            return;\n        /* Grow in 1kb increments */\n        this.allocateTempMemory(Math.ceil(size / 1024) * 1024);\n    }\n    /**\n     * Update the temporary memory views. This must be called whenever the\n     * temporary memory address changes.\n     *\n     * @note This api is meant to be used internally.\n     */\n    updateTempMemory() {\n        this._tempMemFloat = new Float32Array(this.HEAP8.buffer, this._tempMem, this._tempMemSize >> 2);\n        this._tempMemInt = new Int32Array(this.HEAP8.buffer, this._tempMem, this._tempMemSize >> 2);\n        this._tempMemUint32 = new Uint32Array(this.HEAP8.buffer, this._tempMem, this._tempMemSize >> 2);\n        this._tempMemUint16 = new Uint16Array(this.HEAP8.buffer, this._tempMem, this._tempMemSize >> 1);\n        this._tempMemUint8 = new Uint8Array(this.HEAP8.buffer, this._tempMem, this._tempMemSize);\n    }\n    /**\n     * Returns a uint8 buffer view on temporary WASM memory.\n     *\n     * **Note**: this method might allocate if the requested memory is bigger\n     * than the current temporary memory allocated.\n     *\n     * @param count The number of **elements** required\n     * @returns A {@link TypedArray} over the WASM memory\n     */\n    getTempBufferU8(count) {\n        this.requireTempMem(count);\n        return this._tempMemUint8;\n    }\n    /**\n     * Returns a uint16 buffer view on temporary WASM memory.\n     *\n     * **Note**: this method might allocate if the requested memory is bigger\n     * than the current temporary memory allocated.\n     *\n     * @param count The number of **elements** required\n     * @returns A {@link TypedArray} over the WASM memory\n     */\n    getTempBufferU16(count) {\n        this.requireTempMem(count * 2);\n        return this._tempMemUint16;\n    }\n    /**\n     * Returns a uint32 buffer view on temporary WASM memory.\n     *\n     * **Note**: this method might allocate if the requested memory is bigger\n     * than the current temporary memory allocated.\n     *\n     * @param count The number of **elements** required.\n     * @returns A {@link TypedArray} over the WASM memory.\n     */\n    getTempBufferU32(count) {\n        this.requireTempMem(count * 4);\n        return this._tempMemUint32;\n    }\n    /**\n     * Returns a int32 buffer view on temporary WASM memory.\n     *\n     * **Note**: this method might allocate if the requested memory is bigger\n     * than the current temporary memory allocated.\n     *\n     * @param count The number of **elements** required.\n     * @returns A {@link TypedArray} over the WASM memory.\n     */\n    getTempBufferI32(count) {\n        this.requireTempMem(count * 4);\n        return this._tempMemInt;\n    }\n    /**\n     * Returns a float32 buffer view on temporary WASM memory.\n     *\n     * **Note**: this method might allocate if the requested memory is bigger\n     * than the current temporary memory allocated.\n     *\n     * @param count The number of **elements** required.\n     * @returns A {@link TypedArray} over the WASM memory.\n     */\n    getTempBufferF32(count) {\n        this.requireTempMem(count * 4);\n        return this._tempMemFloat;\n    }\n    /**\n     * Copy the string into temporary WASM memory and retrieve the pointer.\n     *\n     * @note This method will compute the strlen and append a `\\0`.\n     *\n     * @note The result should be used **directly** otherwise it might get\n     * overridden by any next call modifying the temporary memory.\n     *\n     * @param str The string to write to temporary memory\n     * @return The temporary pointer onto the WASM memory\n     */\n    tempUTF8(str) {\n        const strLen = this.lengthBytesUTF8(str) + 1;\n        this.requireTempMem(strLen);\n        this.stringToUTF8(str, this._tempMem, strLen);\n        return this._tempMem;\n    }\n    /**\n     * Return the index of the component type.\n     *\n     * @note This method uses malloc and copies the string\n     * to avoid overwriting caller's temporary data.\n     *\n     * @param type The type\n     * @return The component type index\n     */\n    _typeIndexFor(type) {\n        const lengthBytes = this.lengthBytesUTF8(type) + 1;\n        const mem = this._malloc(lengthBytes);\n        this.stringToUTF8(type, mem, lengthBytes);\n        const componentType = this._wl_get_component_manager_index(mem);\n        this._free(mem);\n        return componentType;\n    }\n    /**\n     * Return the name of component type stored at the given index.\n     *\n     * @param typeIndex The type index\n     * @return The name as a string\n     */\n    _typeNameFor(typeIndex) {\n        return this.UTF8ToString(this._wl_component_manager_name(typeIndex));\n    }\n    /**\n     * Returns `true` if the runtime supports physx or not.\n     */\n    get withPhysX() {\n        return this._withPhysX;\n    }\n    /**\n     * Set the engine instance holding this bridge.\n     *\n     * @note This api is meant to be used internally.\n     *\n     * @param engine The engine instance.\n     */\n    _setEngine(engine) {\n        this._engine = engine;\n    }\n    /* WebAssembly to JS call bridge. */\n    _wljs_xr_session_start(mode) {\n        this._engine.xr = new XR(this, mode);\n        this._engine.onXRSessionStart.notify(this.webxr_session, mode);\n    }\n    _wljs_xr_session_end() {\n        const startEmitter = this._engine.onXRSessionStart;\n        if (startEmitter instanceof RetainEmitter)\n            startEmitter.reset();\n        this._engine.onXRSessionEnd.notify();\n        this._engine.xr = null;\n    }\n    _wljs_xr_disable() {\n        /* @todo This could directly be fully handled in JS. */\n        this._engine.arSupported = false;\n        this._engine.vrSupported = false;\n    }\n    _wljs_allocate(numComponents) {\n        this._components = new Array(numComponents);\n    }\n    _wljs_init(withPhysX) {\n        this._withPhysX = withPhysX;\n        /* Target memory for JS API functions that return arrays */\n        this.allocateTempMemory(1024);\n    }\n    _wljs_reallocate(numComponents) {\n        if (numComponents > this._components.length) {\n            this._components.length = numComponents;\n        }\n    }\n    _wljs_scene_add_material_definition(definitionId) {\n        const definition = new Map();\n        /* Cache material definition for faster read/write */\n        const nbParams = this._wl_material_definition_get_count(definitionId);\n        for (let i = 0; i < nbParams; ++i) {\n            const name = this.UTF8ToString(this._wl_material_definition_get_param_name(definitionId, i));\n            const t = this._wl_material_definition_get_param_type(definitionId, i);\n            definition.set(name, {\n                index: i,\n                type: {\n                    type: t & 0xff,\n                    componentCount: (t >> 8) & 0xff,\n                    metaType: (t >> 16) & 0xff,\n                },\n            });\n        }\n        this._materialDefinitions[definitionId] = definition;\n    }\n    _wljs_set_component_param_bool(c, p, pe, v) {\n        const param = this.UTF8ViewToString(p, pe);\n        this._components[c][param] = v !== 0;\n    }\n    _wljs_set_component_param_int(c, p, pe, v) {\n        const param = this.UTF8ViewToString(p, pe);\n        this._components[c][param] = v;\n    }\n    _wljs_set_component_param_float(c, p, pe, v) {\n        const param = this.UTF8ViewToString(p, pe);\n        this._components[c][param] = v;\n    }\n    _wljs_set_component_param_string(c, p, pe, v, ve) {\n        const param = this.UTF8ViewToString(p, pe);\n        const value = this.UTF8ViewToString(v, ve);\n        this._components[c][param] = value;\n    }\n    _wljs_set_component_param_color(c, p, pe, v) {\n        const param = this.UTF8ViewToString(p, pe);\n        this._components[c][param] = new Float32Array([0, 8, 16, 24].map((s) => ((v >>> s) & 0xff) / 255.0));\n    }\n    _wljs_set_component_param_object(c, p, pe, v) {\n        const param = this.UTF8ViewToString(p, pe);\n        this._components[c][param] =\n            v > 0 ? this._engine.wrapObject(v) : null;\n    }\n    _wljs_set_component_param_mesh(c, p, pe, v) {\n        const param = this.UTF8ViewToString(p, pe);\n        this._components[c][param] =\n            v > 0 ? new Mesh(this._engine, v) : null;\n    }\n    _wljs_set_component_param_texture(c, p, pe, v) {\n        const param = this.UTF8ViewToString(p, pe);\n        this._components[c][param] =\n            v > 0 ? this._engine.textures.wrap(v) : null;\n    }\n    _wljs_set_component_param_material(c, p, pe, v) {\n        const param = this.UTF8ViewToString(p, pe);\n        this._components[c][param] =\n            v > 0 ? new Material(this._engine, v) : null;\n    }\n    _wljs_set_component_param_animation(c, p, pe, v) {\n        const param = this.UTF8ViewToString(p, pe);\n        this._components[c][param] =\n            v > 0 ? new Animation(this._engine, v) : null;\n    }\n    _wljs_set_component_param_skin(c, p, pe, v) {\n        const param = this.UTF8ViewToString(p, pe);\n        this._components[c][param] =\n            v > 0 ? new Skin(this._engine, v) : null;\n    }\n    _wljs_get_component_type_index(namePtr, nameEndPtr) {\n        return this._componentTypeIndices[this.UTF8ViewToString(namePtr, nameEndPtr)];\n    }\n    _wljs_component_create(jsManagerIndex, index, id, type, object) {\n        const ctor = this._componentTypes[type];\n        const component = new ctor();\n        /* Sets the manager and identifier from the outside, to simplify the user's constructor. */\n        /* @ts-ignore */\n        component._engine = this._engine;\n        component._manager = jsManagerIndex;\n        component._id = id;\n        component._object = this._engine.wrapObject(object);\n        this._components[index] = component;\n        return component;\n    }\n    _wljs_component_init(component) {\n        const c = this._components[component];\n        if (c.init) {\n            try {\n                c.init();\n            }\n            catch (e) {\n                console.error(`Exception during ${c.type} init() on object ${c.object.name}`);\n                console.error(e);\n            }\n        }\n        if (c.start) {\n            /* Arm onActivate() with the initial start() call */\n            const oldActivate = c.onActivate;\n            c.onActivate = function () {\n                /* As \"component\" is the component index, which may change\n                 * through calls to init() and start(), we call it on the\n                 * calling object, which will be the component, instead of\n                 * wljs_component_start() etc */\n                try {\n                    if (this.start)\n                        this.start();\n                }\n                catch (e) {\n                    console.error(`Exception during ${this.type} start() on object ${this.object.name}`);\n                    console.error(e);\n                }\n                this.onActivate = oldActivate;\n                if (this.onActivate) {\n                    try {\n                        this.onActivate();\n                    }\n                    catch (e) {\n                        console.error(`Exception during ${this.type} onActivate() on object ${this.object.name}`);\n                        console.error(e);\n                    }\n                }\n            };\n        }\n    }\n    _wljs_component_update(component, dt) {\n        const c = this._components[component];\n        if (!c) {\n            console.warn('WL: component was undefined:', component);\n            this._components[component] = new Component(this._engine);\n            return;\n        }\n        if (!c.update)\n            return;\n        try {\n            c.update(dt);\n        }\n        catch (e) {\n            console.error(`Exception during ${c.type} update() on object ${c.object.name}`);\n            console.error(e);\n            if (this._deactivate_component_on_error)\n                c.active = false;\n        }\n    }\n    _wljs_component_onActivate(component) {\n        const c = this._components[component];\n        if (!c || !c.onActivate)\n            return;\n        try {\n            c.onActivate();\n        }\n        catch (e) {\n            console.error(`Exception during ${c.type} onActivate() on object ${c.object.name}`);\n            console.error(e);\n        }\n    }\n    _wljs_component_onDeactivate(component) {\n        const c = this._components[component];\n        if (!c.onDeactivate)\n            return;\n        try {\n            c.onDeactivate();\n        }\n        catch (e) {\n            console.error(`Exception during ${c.type} onDeactivate() on object ${c.object.name}`);\n            console.error(e);\n        }\n    }\n    _wljs_component_onDestroy(component) {\n        const c = this._components[component];\n        if (!c.onDestroy)\n            return;\n        try {\n            c.onDestroy();\n        }\n        catch (e) {\n            console.error(`Exception during ${c.type} onDestroy() on object ${c.object.name}`);\n            console.error(e);\n        }\n    }\n    _wljs_swap(a, b) {\n        const componentA = this._components[a];\n        this._components[a] = this._components[b];\n        this._components[b] = componentA;\n    }\n    /* JS to WebAssembly bridge. */\n    HEAP8 = null;\n    HEAPU8 = null;\n    HEAPU16 = null;\n    HEAPU32 = null;\n    HEAP32 = null;\n    HEAPF32 = null;\n    GL = null;\n    assert = null;\n    _free = null;\n    _malloc = null;\n    lengthBytesUTF8 = null;\n    stringToUTF8 = null;\n    UTF8ToString = null;\n    addFunction = null;\n    removeFunction = null;\n    _wl_set_error_callback = null;\n    _wl_application_version = null;\n    _wl_application_start = null;\n    _wl_application_resize = null;\n    _wl_nextUpdate = null;\n    _wl_nextFrame = null;\n    _wl_scene_get_active_views = null;\n    _wl_scene_ray_cast = null;\n    _wl_scene_add_object = null;\n    _wl_scene_add_objects = null;\n    _wl_scene_reserve_objects = null;\n    _wl_scene_set_clearColor = null;\n    _wl_scene_enableColorClear = null;\n    _wl_set_loading_screen_progress = null;\n    _wl_load_scene_bin = null;\n    _wl_append_scene_bin = null;\n    _wl_append_scene_gltf = null;\n    _wl_scene_reset = null;\n    _wl_component_get_object = null;\n    _wl_component_setActive = null;\n    _wl_component_isActive = null;\n    _wl_component_remove = null;\n    _wl_collision_component_get_collider = null;\n    _wl_collision_component_set_collider = null;\n    _wl_collision_component_get_extents = null;\n    _wl_collision_component_get_group = null;\n    _wl_collision_component_set_group = null;\n    _wl_collision_component_query_overlaps = null;\n    _wl_text_component_get_horizontal_alignment = null;\n    _wl_text_component_set_horizontal_alignment = null;\n    _wl_text_component_get_vertical_alignment = null;\n    _wl_text_component_set_vertical_alignment = null;\n    _wl_text_component_get_character_spacing = null;\n    _wl_text_component_set_character_spacing = null;\n    _wl_text_component_get_line_spacing = null;\n    _wl_text_component_set_line_spacing = null;\n    _wl_text_component_get_effect = null;\n    _wl_text_component_set_effect = null;\n    _wl_text_component_get_text = null;\n    _wl_text_component_set_text = null;\n    _wl_text_component_set_material = null;\n    _wl_text_component_get_material = null;\n    _wl_view_component_get_projection_matrix = null;\n    _wl_view_component_get_near = null;\n    _wl_view_component_set_near = null;\n    _wl_view_component_get_far = null;\n    _wl_view_component_set_far = null;\n    _wl_view_component_get_fov = null;\n    _wl_view_component_set_fov = null;\n    _wl_input_component_get_type = null;\n    _wl_input_component_set_type = null;\n    _wl_light_component_get_color = null;\n    _wl_light_component_get_type = null;\n    _wl_light_component_set_type = null;\n    _wl_light_component_get_intensity = null;\n    _wl_light_component_set_intensity = null;\n    _wl_light_component_get_outerAngle = null;\n    _wl_light_component_set_outerAngle = null;\n    _wl_light_component_get_innerAngle = null;\n    _wl_light_component_set_innerAngle = null;\n    _wl_light_component_get_shadows = null;\n    _wl_light_component_set_shadows = null;\n    _wl_light_component_get_shadowRange = null;\n    _wl_light_component_set_shadowRange = null;\n    _wl_light_component_get_shadowBias = null;\n    _wl_light_component_set_shadowBias = null;\n    _wl_light_component_get_shadowNormalBias = null;\n    _wl_light_component_set_shadowNormalBias = null;\n    _wl_light_component_get_shadowTexelSize = null;\n    _wl_light_component_set_shadowTexelSize = null;\n    _wl_light_component_get_cascadeCount = null;\n    _wl_light_component_set_cascadeCount = null;\n    _wl_animation_component_get_animation = null;\n    _wl_animation_component_set_animation = null;\n    _wl_animation_component_get_playCount = null;\n    _wl_animation_component_set_playCount = null;\n    _wl_animation_component_get_speed = null;\n    _wl_animation_component_set_speed = null;\n    _wl_animation_component_play = null;\n    _wl_animation_component_stop = null;\n    _wl_animation_component_pause = null;\n    _wl_animation_component_state = null;\n    _wl_mesh_component_get_material = null;\n    _wl_mesh_component_set_material = null;\n    _wl_mesh_component_get_mesh = null;\n    _wl_mesh_component_set_mesh = null;\n    _wl_mesh_component_get_skin = null;\n    _wl_mesh_component_set_skin = null;\n    _wl_physx_component_get_static = null;\n    _wl_physx_component_set_static = null;\n    _wl_physx_component_get_kinematic = null;\n    _wl_physx_component_set_kinematic = null;\n    _wl_physx_component_get_gravity = null;\n    _wl_physx_component_set_gravity = null;\n    _wl_physx_component_get_simulate = null;\n    _wl_physx_component_set_simulate = null;\n    _wl_physx_component_get_allowSimulation = null;\n    _wl_physx_component_set_allowSimulation = null;\n    _wl_physx_component_get_allowQuery = null;\n    _wl_physx_component_set_allowQuery = null;\n    _wl_physx_component_get_trigger = null;\n    _wl_physx_component_set_trigger = null;\n    _wl_physx_component_get_shape = null;\n    _wl_physx_component_set_shape = null;\n    _wl_physx_component_get_shape_data = null;\n    _wl_physx_component_set_shape_data = null;\n    _wl_physx_component_get_extents = null;\n    _wl_physx_component_get_staticFriction = null;\n    _wl_physx_component_set_staticFriction = null;\n    _wl_physx_component_get_dynamicFriction = null;\n    _wl_physx_component_set_dynamicFriction = null;\n    _wl_physx_component_get_bounciness = null;\n    _wl_physx_component_set_bounciness = null;\n    _wl_physx_component_get_linearDamping = null;\n    _wl_physx_component_set_linearDamping = null;\n    _wl_physx_component_get_angularDamping = null;\n    _wl_physx_component_set_angularDamping = null;\n    _wl_physx_component_get_linearVelocity = null;\n    _wl_physx_component_set_linearVelocity = null;\n    _wl_physx_component_get_angularVelocity = null;\n    _wl_physx_component_set_angularVelocity = null;\n    _wl_physx_component_get_groupsMask = null;\n    _wl_physx_component_set_groupsMask = null;\n    _wl_physx_component_get_blocksMask = null;\n    _wl_physx_component_set_blocksMask = null;\n    _wl_physx_component_get_linearLockAxis = null;\n    _wl_physx_component_set_linearLockAxis = null;\n    _wl_physx_component_get_angularLockAxis = null;\n    _wl_physx_component_set_angularLockAxis = null;\n    _wl_physx_component_get_mass = null;\n    _wl_physx_component_set_mass = null;\n    _wl_physx_component_set_massSpaceInertiaTensor = null;\n    _wl_physx_component_addForce = null;\n    _wl_physx_component_addForceAt = null;\n    _wl_physx_component_addTorque = null;\n    _wl_physx_component_addCallback = null;\n    _wl_physx_component_removeCallback = null;\n    _wl_physx_update_global_pose = null;\n    _wl_physx_ray_cast = null;\n    _wl_physx_set_collision_callback = null;\n    _wl_mesh_create = null;\n    _wl_mesh_get_vertexData = null;\n    _wl_mesh_get_vertexCount = null;\n    _wl_mesh_get_indexData = null;\n    _wl_mesh_update = null;\n    _wl_mesh_get_boundingSphere = null;\n    _wl_mesh_get_attribute = null;\n    _wl_mesh_destroy = null;\n    _wl_mesh_get_attribute_values = null;\n    _wl_mesh_set_attribute_values = null;\n    _wl_material_create = null;\n    _wl_material_get_definition = null;\n    _wl_material_definition_get_count = null;\n    _wl_material_definition_get_param_name = null;\n    _wl_material_definition_get_param_type = null;\n    _wl_material_get_pipeline = null;\n    _wl_material_clone = null;\n    _wl_material_get_param_index = null;\n    _wl_material_get_param_type = null;\n    _wl_material_get_param_value = null;\n    _wl_material_set_param_value_uint = null;\n    _wl_material_set_param_value_float = null;\n    _wl_renderer_addImage = null;\n    _wl_texture_width = null;\n    _wl_texture_height = null;\n    _wl_renderer_updateImage = null;\n    _wl_texture_destroy = null;\n    _wl_animation_get_duration = null;\n    _wl_animation_get_trackCount = null;\n    _wl_animation_retargetToSkin = null;\n    _wl_animation_retarget = null;\n    _wl_object_name = null;\n    _wl_object_set_name = null;\n    _wl_object_parent = null;\n    _wl_object_get_children_count = null;\n    _wl_object_get_children = null;\n    _wl_object_set_parent = null;\n    _wl_object_reset_scaling = null;\n    _wl_object_reset_translation_rotation = null;\n    _wl_object_reset_rotation = null;\n    _wl_object_reset_translation = null;\n    _wl_object_translate = null;\n    _wl_object_translate_obj = null;\n    _wl_object_translate_world = null;\n    _wl_object_rotate_axis_angle = null;\n    _wl_object_rotate_axis_angle_rad = null;\n    _wl_object_rotate_axis_angle_obj = null;\n    _wl_object_rotate_axis_angle_rad_obj = null;\n    _wl_object_rotate_quat = null;\n    _wl_object_rotate_quat_obj = null;\n    _wl_object_scale = null;\n    _wl_object_trans_local = null;\n    _wl_object_get_translation_local = null;\n    _wl_object_set_translation_local = null;\n    _wl_object_get_translation_world = null;\n    _wl_object_set_translation_world = null;\n    _wl_object_trans_world = null;\n    _wl_object_trans_world_to_local = null;\n    _wl_object_scaling_local = null;\n    _wl_object_scaling_world = null;\n    _wl_object_set_scaling_local = null;\n    _wl_object_set_scaling_world = null;\n    _wl_object_scaling_world_to_local = null;\n    _wl_object_set_rotation_local = null;\n    _wl_object_set_rotation_world = null;\n    _wl_object_transformVectorWorld = null;\n    _wl_object_transformVectorLocal = null;\n    _wl_object_transformPointWorld = null;\n    _wl_object_transformPointLocal = null;\n    _wl_object_transformVectorInverseWorld = null;\n    _wl_object_transformVectorInverseLocal = null;\n    _wl_object_transformPointInverseWorld = null;\n    _wl_object_transformPointInverseLocal = null;\n    _wl_object_toWorldSpaceTransform = null;\n    _wl_object_toObjectSpaceTransform = null;\n    _wl_object_lookAt = null;\n    _wl_scene_remove_object = null;\n    _wl_object_set_dirty = null;\n    _wl_get_component_manager_index = null;\n    _wl_get_js_component_index = null;\n    _wl_get_js_component_index_for_id = null;\n    _wl_get_component_id = null;\n    _wl_object_get_components = null;\n    _wl_object_get_component_types = null;\n    _wl_object_add_js_component = null;\n    _wl_object_add_component = null;\n    _wl_object_is_changed = null;\n    _wl_component_manager_name = null;\n    _wl_skin_get_joint_count = null;\n    _wl_skin_joint_ids = null;\n    _wl_skin_inverse_bind_transforms = null;\n    _wl_skin_inverse_bind_scalings = null;\n    _wl_math_cubicHermite = null;\n    _wl_i18n_setLanguage = null;\n    _wl_i18n_currentLanguage = null;\n    _wl_i18n_translate = null;\n    _wl_i18n_languageCount = null;\n    _wl_i18n_languageIndex = null;\n    _wl_i18n_languageCode = null;\n    _wl_i18n_languageName = null;\n}\n", "/**\n * This file is automatically generated.\n *\n * **Do not** modify this file directly, but instead update\n * the 'write-version.mjs' script.\n */\n/** Version of this API. */\nexport const APIVersion = {\n    major: 1,\n    minor: 0,\n    patch: 0,\n    rc: 0\n};\n", "import { Component, Type } from '@wonderlandengine/api';\n/**\n * 8thwall camera component.\n *\n * Sets up the 8thwall pipeline and retrieves tracking events to place an\n * object at the location of the tracked AR camera / mobile device.\n *\n * Use this for SLAM tracking based on 8thwall.\n *\n * Make sure to enable 8thwall in \"Project Settings\" > \"AR\". See also the\n * [AR Getting Started Guide](/getting-started/quick-start-ar)\n *\n *\n * Currently only supports world-tracking (SLAM) using BACK camera.\n *\n * - remove any occurrences of the old 8thwall-camera component in the editor\n * - Add this component to NonVrCamera\n *\n * IMPORTANT!\n * - until it get's fixed, select 'customIndexHtml' in the project settings\n * - open a generated index.html and crossorigin=\"anonymous\" attribute to the <script> tag where //apps.8thwall.com/xrweb is loaded\n *\n *\n * ######### Using UI overlays #############\n * By default, this component renders own UI to give the user feedback about rejected permissions or tracking errors.\n * It can be changed by enabling useCustomUIOverlays flag.\n *\n * If useCustomUIOverlays is enabled, you are expected handle the following events dispatched by the window object:\n * - \"8thwall-request-user-interaction\" - used only on iOS safari. Request a user to perform and interaction with the page so that javascript is allowed to allowed to request a motion/camera/mic permissions.\n *  Make sure the window object is dispatching an '8thwall-safe-to-request-permissions' event after interaction has happened.\n * ```\n * <button onclick=\"window.dispatchEvent(new Event('8thwall-safe-to-request-permissions'))\">Allow Sensors</button>\n * ```\n *\n * - \"8thwall-permission-fail\" - user rejected any of the permissions\n *\n * - \"8thwall-error\" - runtime 8thwall error occurred\n */\nclass ARCamera8thwall extends Component {\n    static TypeName = '8thwall-camera';\n    static Properties = {\n        /** Override the WL html overlays for handling camera/motion permissions and error handling */\n        useCustomUIOverlays: { type: Type.Bool, default: false },\n    };\n    /* 8thwall camera pipeline module name */\n    name = 'wonderland-engine-8thwall-camera';\n    started = false;\n    view = null; // cache camera\n    position = [0, 0, 0]; // cache 8thwall cam position\n    rotation = [0, 0, 0, -1]; // cache 8thwall cam rotation\n    glTextureRenderer = null; // cache XR8.GlTextureRenderer.pipelineModule\n    promptForDeviceMotion() {\n        return new Promise(async (resolve, reject) => {\n            // Tell anyone who's interested that we want to get some user interaction\n            window.dispatchEvent(new Event('8thwall-request-user-interaction'));\n            // Wait until someone response that user interaction happened\n            window.addEventListener('8thwall-safe-to-request-permissions', async () => {\n                try {\n                    const motionEvent = await DeviceMotionEvent.requestPermission();\n                    resolve(motionEvent);\n                }\n                catch (exception) {\n                    reject(exception);\n                }\n            });\n        });\n    }\n    async getPermissions() {\n        // iOS \"feature\". If we want to request the DeviceMotion permission, user has to interact with the page at first (touch it).\n        // If there was no interaction done so far, we will render a HTML overlay with would get the user to interact with the screen\n        if (DeviceMotionEvent && DeviceMotionEvent.requestPermission) {\n            try {\n                const result = await DeviceMotionEvent.requestPermission();\n                // The user must have rejected the motion event on previous page load. (safari remembers this choice).\n                if (result !== 'granted') {\n                    throw new Error('MotionEvent');\n                }\n            }\n            catch (exception) {\n                // User had no interaction with the page so far\n                if (exception.name === 'NotAllowedError') {\n                    const motionEvent = await this.promptForDeviceMotion();\n                    if (motionEvent !== 'granted') {\n                        throw new Error('MotionEvent');\n                    }\n                }\n                else {\n                    throw new Error('MotionEvent');\n                }\n            }\n        }\n        try {\n            // make sure we get the camera stream\n            const stream = await navigator.mediaDevices.getUserMedia({\n                video: true,\n                audio: true,\n            });\n            // If we successfully acquired the camera stream - we can stop it and wait until 8thwall requests it again\n            stream.getTracks().forEach((track) => {\n                track.stop();\n            });\n        }\n        catch (exception) {\n            throw new Error('Camera');\n        }\n    }\n    init() {\n        this.view = this.object.getComponent('view');\n        this.onUpdate = this.onUpdate.bind(this);\n        this.onAttach = this.onAttach.bind(this);\n        this.onException = this.onException.bind(this);\n        this.onCameraStatusChange = this.onCameraStatusChange.bind(this);\n    }\n    async start() {\n        this.view = this.object.getComponent('view');\n        if (!this.useCustomUIOverlays) {\n            OverlaysHandler.init();\n        }\n        try {\n            await this.getPermissions();\n        }\n        catch (error) {\n            // User did not grant the camera or motionEvent permissions\n            window.dispatchEvent(new CustomEvent('8thwall-permission-fail', { detail: error }));\n            return;\n        }\n        await this.waitForXR8();\n        XR8.XrController.configure({\n            disableWorldTracking: false,\n        });\n        this.glTextureRenderer = XR8.GlTextureRenderer.pipelineModule();\n        XR8.addCameraPipelineModules([\n            this.glTextureRenderer,\n            XR8.XrController.pipelineModule(),\n            this,\n        ]);\n        const config = {\n            cameraConfig: {\n                direction: XR8.XrConfig.camera().BACK,\n            },\n            canvas: Module.canvas,\n            allowedDevices: XR8.XrConfig.device().ANY,\n            ownRunLoop: false,\n        };\n        XR8.run(config);\n    }\n    /**\n     * @private\n     * 8thwall pipeline function\n     */\n    onAttach(params) {\n        this.started = true;\n        this.engine.scene.colorClearEnabled = false;\n        const gl = Module.ctx;\n        const rot = this.object.rotationWorld;\n        const pos = this.object.getTranslationWorld([]);\n        this.position = Array.from(pos);\n        this.rotation = Array.from(rot);\n        XR8.XrController.updateCameraProjectionMatrix({\n            origin: { x: pos[0], y: pos[1], z: pos[2] },\n            facing: { x: rot[0], y: rot[1], z: rot[2], w: rot[3] },\n            cam: {\n                pixelRectWidth: Module.canvas.width,\n                pixelRectHeight: Module.canvas.height,\n                nearClipPlane: this.view.near,\n                farClipPlane: this.view.far,\n            },\n        });\n        this.engine.scene.onPreRender.push(() => {\n            gl.bindFramebuffer(gl.DRAW_FRAMEBUFFER, null);\n            XR8.runPreRender(Date.now());\n            XR8.runRender(); // <--- tell 8thwall to do it's thing (alternatively call this.glTextureRenderer.onRender() if you only care about camera feed )\n        });\n        this.engine.scene.onPostRender.push(() => {\n            XR8.runPostRender(Date.now());\n        });\n    }\n    /**\n     * @private\n     * 8thwall pipeline function\n     */\n    onCameraStatusChange(e) {\n        if (e && e.status === 'failed') {\n            this.onException(new Error(`Camera failed with status: ${e.status}`));\n        }\n    }\n    /**\n     * @private\n     * 8thwall pipeline function\n     */\n    onUpdate(e) {\n        if (!e.processCpuResult.reality)\n            return;\n        const { rotation, position, intrinsics } = e.processCpuResult.reality;\n        this.rotation[0] = rotation.x;\n        this.rotation[1] = rotation.y;\n        this.rotation[2] = rotation.z;\n        this.rotation[3] = rotation.w;\n        this.position[0] = position.x;\n        this.position[1] = position.y;\n        this.position[2] = position.z;\n        if (intrinsics) {\n            const projectionMatrix = this.view.projectionMatrix;\n            for (let i = 0; i < 16; i++) {\n                /* Some processCpuResult.reality.intrinsics are set to Infinity,\n                 * which brakes our projectionMatrix. So we just filter those elements out. */\n                if (Number.isFinite(intrinsics[i])) {\n                    projectionMatrix[i] = intrinsics[i];\n                }\n            }\n        }\n        if (position && rotation) {\n            this.object.rotationWorld = this.rotation;\n            this.object.setTranslationWorld(this.position);\n        }\n    }\n    /**\n     * @private\n     * 8thwall pipeline function\n     */\n    onException(error) {\n        console.error('8thwall exception:', error);\n        window.dispatchEvent(new CustomEvent('8thwall-error', { detail: error }));\n    }\n    waitForXR8() {\n        return new Promise((resolve, _rej) => {\n            if (window.XR8) {\n                resolve();\n            }\n            else {\n                window.addEventListener('xrloaded', () => resolve());\n            }\n        });\n    }\n}\nexport { ARCamera8thwall };\nconst OverlaysHandler = {\n    init: function () {\n        this.handleRequestUserInteraction = this.handleRequestUserInteraction.bind(this);\n        this.handlePermissionFail = this.handlePermissionFail.bind(this);\n        this.handleError = this.handleError.bind(this);\n        window.addEventListener('8thwall-request-user-interaction', this.handleRequestUserInteraction);\n        window.addEventListener('8thwall-permission-fail', this.handlePermissionFail);\n        window.addEventListener('8thwall-error', this.handleError);\n    },\n    handleRequestUserInteraction: function () {\n        const overlay = this.showOverlay(requestPermissionOverlay);\n        window.addEventListener('8thwall-safe-to-request-permissions', () => {\n            overlay.remove();\n        });\n    },\n    handlePermissionFail: function (_reason) {\n        this.showOverlay(failedPermissionOverlay);\n    },\n    handleError: function (_error) {\n        this.showOverlay(runtimeErrorOverlay);\n    },\n    showOverlay: function (htmlContent) {\n        const overlay = document.createElement('div');\n        overlay.innerHTML = htmlContent;\n        document.body.appendChild(overlay);\n        return overlay;\n    },\n};\nconst requestPermissionOverlay = `\r\n<style>\r\n  #request-permission-overlay {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    z-index: 999;\r\n    color: #fff;\r\n    background-color: rgba(0, 0, 0, 0.5);\r\n    text-align: center;\r\n    font-family: sans-serif;\r\n  }\r\n\r\n  .request-permission-overlay_title {\r\n    margin: 30px;\r\n    font-size: 32px;\r\n  }\r\n\r\n  .request-permission-overlay_button {\r\n    background-color: #e80086;\r\n    font-size: 22px;\r\n    padding: 10px 30px;\r\n    color: #fff;\r\n    border-radius: 15px;\r\n    border: none;\r\n  }\r\n</style>\r\n\r\n<div id=\"request-permission-overlay\">\r\n  <div class=\"request-permission-overlay_title\">This app requires to use your camera and motion sensors</div>\r\n\r\n  <button class=\"request-permission-overlay_button\" onclick=\"window.dispatchEvent(new Event('8thwall-safe-to-request-permissions'))\">OK</button>\r\n</div>`;\nconst failedPermissionOverlay = `\r\n<style>\r\n  #failed-permission-overlay {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    z-index: 999;\r\n    color: #fff;\r\n    background-color: rgba(0, 0, 0, 0.5);\r\n    text-align: center;\r\n    font-family: sans-serif;\r\n  }\r\n\r\n  .failed-permission-overlay_title {\r\n    margin: 30px;\r\n    font-size: 32px;\r\n  }\r\n\r\n  .failed-permission-overlay_button {\r\n    background-color: #e80086;\r\n    font-size: 22px;\r\n    padding: 10px 30px;\r\n    color: #fff;\r\n    border-radius: 15px;\r\n    border: none;\r\n  }\r\n</style>\r\n\r\n<div id=\"failed-permission-overlay\">\r\n  <div class=\"failed-permission-overlay_title\">Failed to grant permissions. Reset the the permissions and refresh the page.</div>\r\n\r\n  <button class=\"failed-permission-overlay_button\" onclick=\"window.location.reload()\">Refresh the page</button>\r\n</div>`;\nconst runtimeErrorOverlay = `\r\n<style>\r\n  #wall-error-overlay {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    z-index: 999;\r\n    color: #fff;\r\n    background-color: rgba(0, 0, 0, 0.5);\r\n    text-align: center;\r\n    font-family: sans-serif;\r\n  }\r\n\r\n  .wall-error-overlay_title {\r\n    margin: 30px;\r\n    font-size: 32px;\r\n  }\r\n\r\n  .wall-error-overlay_button {\r\n    background-color: #e80086;\r\n    font-size: 22px;\r\n    padding: 10px 30px;\r\n    color: #fff;\r\n    border-radius: 15px;\r\n    border: none;\r\n  }\r\n</style>\r\n\r\n<div id=\"wall-error-overlay\">\r\n  <div class=\"wall-error-overlay_title\">Error has occurred. Please reload the page</div>\r\n\r\n  <button class=\"wall-error-overlay_button\" onclick=\"window.location.reload()\">Reload</button>\r\n</div>`;\n", "const tempVec = new Float32Array(3);\nconst tempQuat = new Float32Array(4);\nexport function setXRRigidTransformLocal(o, transform) {\n    const r = transform.orientation;\n    tempQuat[0] = r.x;\n    tempQuat[1] = r.y;\n    tempQuat[2] = r.z;\n    tempQuat[3] = r.w;\n    const t = transform.position;\n    tempVec[0] = t.x;\n    tempVec[1] = t.y;\n    tempVec[2] = t.z;\n    o.resetTranslationRotation();\n    o.transformLocal.set(tempQuat);\n    o.translate(tempVec);\n}\n", "var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Emitter } from '@wonderlandengine/api';\nimport { property } from '@wonderlandengine/api/decorators.js';\nimport { setXRRigidTransformLocal } from './utils/webxr.js';\nvar tempVec3 = new Float32Array(3);\nvar tempQuat = new Float32Array(4);\n/**\n * Sets the location of the object to the location of an XRAnchor\n *\n * Create anchors using the `Anchor.create()` static function.\n *\n * Example for use with cursor:\n * ```js\n * cursorTarget.onClick.add((object, cursor, originalEvent) => {\n *     /* Only events in XR will have a frame attached *\\/\n *     if(!originalEvent.frame) return;\n *     Anchor.create(anchorObject, {uuid: id, persist: true}, originalEvent.frame);\n * });\n * ```\n */\nclass Anchor extends Component {\n    static TypeName = 'anchor';\n    /* Static management of all anchors */\n    static #anchors = [];\n    persist = false;\n    /** Unique identifier to load a persistent anchor from, or empty/null if unknown */\n    uuid = null;\n    /** The xrAnchor, if created */\n    xrAnchor = null;\n    /** Emits events when the anchor is created either by being restored or newly created */\n    onCreate = new Emitter();\n    /** Whether the anchor is currently being tracked */\n    visible = false;\n    /** Emits an event when this anchor starts tracking */\n    onTrackingFound = new Emitter();\n    /** Emits an event when this anchor stops tracking */\n    onTrackingLost = new Emitter();\n    /** XRFrame to use for creating the anchor */\n    xrFrame = null;\n    /** XRHitTestResult to use for creating the anchor */\n    xrHitResult = null;\n    /** Retrieve all anchors of the current scene */\n    static getAllAnchors() {\n        return Anchor.#anchors;\n    }\n    static #addAnchor(anchor) {\n        Anchor.#anchors.push(anchor);\n    }\n    static #removeAnchor(anchor) {\n        const index = Anchor.#anchors.indexOf(anchor);\n        if (index < 0)\n            return;\n        Anchor.#anchors.splice(index, 1);\n    }\n    /**\n     * Create a new anchor\n     *\n     * @param o Object to attach the component to\n     * @param params Parameters for the anchor component\n     * @param frame XRFrame to use for anchor cration, if null, will use the current frame if available\n     * @param hitResult Optional hit-test result to create the anchor with\n     * @returns Promise for the newly created anchor component\n     */\n    static create(o, params, frame, hitResult) {\n        const a = o.addComponent(Anchor, { ...params, active: false });\n        if (a === null)\n            return null;\n        a.xrHitResult = hitResult ?? null;\n        a.xrFrame = frame ?? null;\n        a.onCreate.once(() => ((a.xrFrame = null), (a.xrHitResult = null)));\n        a.active = true;\n        return a.onCreate.promise();\n    }\n    #getFrame() {\n        return this.xrFrame || this.engine.xr.frame;\n    }\n    async #createAnchor() {\n        if (!this.#getFrame().createAnchor) {\n            throw new Error(\"Cannot create anchor - anchors not supported, did you enable the 'anchors' WebXR feature?\");\n        }\n        if (this.xrHitResult) {\n            if (this.xrHitResult.createAnchor === undefined) {\n                throw new Error('Requested anchor on XRHitTestResult, but WebXR hit-test feature is not available.');\n            }\n            return this.xrHitResult.createAnchor();\n        }\n        else {\n            this.object.getTranslationWorld(tempVec3);\n            tempQuat.set(this.object.rotationWorld);\n            const rotation = tempQuat;\n            const anchorPose = new XRRigidTransform({ x: tempVec3[0], y: tempVec3[1], z: tempVec3[2] }, { x: rotation[0], y: rotation[1], z: rotation[2], w: rotation[3] });\n            return this.#getFrame()?.createAnchor(anchorPose, this.engine.xr.currentReferenceSpace);\n        }\n    }\n    #onAddAnchor(anchor) {\n        if (!anchor)\n            return;\n        if (this.persist) {\n            if (anchor.requestPersistentHandle !== undefined) {\n                anchor.requestPersistentHandle().then((uuid) => {\n                    this.uuid = uuid;\n                    this.#onCreate(anchor);\n                    Anchor.#addAnchor(this);\n                });\n                return;\n            }\n            else {\n                console.warn('anchor: Persistent anchors are not supported by your client. Ignoring persist property.');\n            }\n        }\n        this.#onCreate(anchor);\n    }\n    #onRestoreAnchor(anchor) {\n        this.#onCreate(anchor);\n    }\n    #onCreate(anchor) {\n        this.xrAnchor = anchor;\n        this.onCreate.notify(this);\n    }\n    start() {\n        if (this.uuid && this.engine.xr) {\n            this.persist = true;\n            if (this.engine.xr.session.restorePersistentAnchor === undefined) {\n                console.warn('anchor: Persistent anchors are not supported by your client. Ignoring persist property.');\n            }\n            this.engine.xr.session.restorePersistentAnchor(this.uuid).then(this.#onRestoreAnchor.bind(this));\n        }\n        else if (this.#getFrame()) {\n            this.#createAnchor().then(this.#onAddAnchor.bind(this));\n        }\n        else {\n            throw new Error('Anchors can only be created during the XR frame in an active XR session');\n        }\n    }\n    update() {\n        if (!this.xrAnchor || !this.engine.xr)\n            return;\n        /* We need to use the actual frame from the draw callback here */\n        const pose = this.engine.xr.frame.getPose(this.xrAnchor.anchorSpace, this.engine.xr.currentReferenceSpace);\n        const visible = !!pose;\n        if (visible != this.visible) {\n            this.visible = visible;\n            (visible ? this.onTrackingFound : this.onTrackingLost).notify(this);\n        }\n        if (pose) {\n            setXRRigidTransformLocal(this.object, pose.transform);\n        }\n    }\n    onDestroy() {\n        Anchor.#removeAnchor(this);\n    }\n}\n__decorate([\n    property.bool(false)\n], Anchor.prototype, \"persist\", void 0);\n__decorate([\n    property.string()\n], Anchor.prototype, \"uuid\", void 0);\nexport { Anchor };\n", "import { Component, Emitter } from '@wonderlandengine/api';\n/**\n * Click/hover/move/button target for [cursor](#cursor).\n *\n * To trigger code when clicking, hovering, unhovering, moving cursor, pressing\n * cursor button or releasing cursor button, use `.addClickFunction(f)`,\n * `.addHoverFunction(f)`, `.addUnHoverFunction(f)`,\n * `.addMoveFunction(f)`, `.addDownFunction(f)` and\n * `.addUpFunction(f)` respectively with any `function f() {}`.\n *\n * To call members on a different component, you can set up a cursor target like\n * so:\n *\n * ```js\n * start: function() {\n *   let target = this.object.addComponent('cursor-target');\n *   target.onClick.add(this.onClick.bind(this));\n * },\n * onClick: function() {\n *   console.log(this.object.name, \"was clicked!\");\n * }\n * ```\n * **Functions:**\n *\n * ```js\n * const target = this.object.getComponent(CursorTarget);\n * const callback = function(object, cursorComponent) {};\n *\n * target.onHover.add(callback);\n * target.onHover.remove(callback);\n *\n * target.onUnHover.add(callback);\n * target.onUnHover.remove(callback);\n *\n * target.onClick.add(callback);\n * target.onClick.remove(callback);\n *\n * target.onMove.add(callback);\n * target.onMove.remove(callback);\n *\n * target.onDown.add(callback);\n * target.onDown.remove(callback);\n *\n * target.onUp.add(callback);\n * target.onUp.remove(callback);\n * ```\n *\n * **Requirements:**\n * - a `collision` component to be attached to the same object.\n *\n * See [Animation Example](/showcase/animation).\n */\nclass CursorTarget extends Component {\n    static TypeName = 'cursor-target';\n    static Properties = {};\n    /** Emitter for events when the target is hovered */\n    onHover = new Emitter();\n    /** Emitter for events when the target is unhovered */\n    onUnhover = new Emitter();\n    /** Emitter for events when the target is clicked */\n    onClick = new Emitter();\n    /** Emitter for events when the cursor moves on the target */\n    onMove = new Emitter();\n    /** Emitter for events when the user pressed the select button on the target */\n    onDown = new Emitter();\n    /** Emitter for events when the user unpressed the select button on the target */\n    onUp = new Emitter();\n    /**\n     * @deprecated Use the emitter instead.\n     *\n     * @example\n     *    this.onHover.add(f);\n     */\n    addHoverFunction(f) {\n        this.onHover.add(f);\n    }\n    /**\n     * @deprecated Use the emitter instead.\n     *\n     * @example\n     *    this.onHover.remove(f);\n     */\n    removeHoverFunction(f) {\n        this.onHover.remove(f);\n    }\n    /**\n     * @deprecated Use the emitter instead.\n     *\n     * @example\n     *    this.onUnhover.add(f);\n     */\n    addUnHoverFunction(f) {\n        this.onUnhover.add(f);\n    }\n    /**\n     * @deprecated Use the emitter instead.\n     *\n     * @example\n     *    this.onUnhover.remove(f);\n     */\n    removeUnHoverFunction(f) {\n        this.onUnhover.remove(f);\n    }\n    /**\n     * @deprecated Use the emitter instead.\n     *\n     * @example\n     *    this.onClick.add(f);\n     */\n    addClickFunction(f) {\n        this.onClick.add(f);\n    }\n    /**\n     * @deprecated Use the emitter instead.\n     *\n     * @example\n     *    component.onClick.remove(f);\n     */\n    removeClickFunction(f) {\n        this.onClick.remove(f);\n    }\n    /**\n     * @deprecated Use the emitter instead.\n     *\n     * @example\n     *    component.onMove.add(f);\n     */\n    addMoveFunction(f) {\n        this.onMove.add(f);\n    }\n    /**\n     * @deprecated Use the emitter instead.\n     *\n     * @example\n     *    component.onMove.remove(f);\n     */\n    removeMoveFunction(f) {\n        this.onMove.remove(f);\n    }\n    /**\n     * @deprecated Use the emitter instead.\n     *\n     * @example\n     *    component.onDown.add(f);\n     */\n    addDownFunction(f) {\n        this.onDown.add(f);\n    }\n    /**\n     * @deprecated Use the emitter instead.\n     *\n     * @example\n     *    component.onDown.remove(f);\n     */\n    removeDownFunction(f) {\n        this.onDown.remove(f);\n    }\n    /**\n     * @deprecated Use the emitter instead.\n     *\n     * @example\n     *    component.onUp.add(f);\n     */\n    addUpFunction(f) {\n        this.onUp.add(f);\n    }\n    /**\n     * @deprecated Use the emitter instead.\n     *\n     * @example\n     *    component.onUp.remove(f);\n     */\n    removeUpFunction(f) {\n        this.onUp.remove(f);\n    }\n}\nexport { CursorTarget };\n", "/**\n * Common utilities\n * @module glMatrix\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\n * Sets the type of array used when creating new vectors and matrices\n *\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\n * Convert Degree To Radian\n *\n * @param {Number} a Angle in Degrees\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\n * Tests whether or not the arguments have approximately the same value, within an absolute\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\n * than or equal to 1.0, and a relative tolerance is used for larger values)\n *\n * @param {Number} a The first number to test.\n * @param {Number} b The second number to test.\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};", "import * as glMatrix from \"./common.js\";\n/**\n * 3x3 Matrix\n * @module mat3\n */\n\n/**\n * Creates a new identity mat3\n *\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the upper-left 3x3 values into the given mat3.\n *\n * @param {mat3} out the receiving 3x3 matrix\n * @param {ReadonlyMat4} a   the source 4x4 matrix\n * @returns {mat3} out\n */\n\nexport function fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\n * Creates a new mat3 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat3} a matrix to clone\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Copy the values from one mat3 to another\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Create a new mat3 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} A new mat3\n */\n\nexport function fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set the components of a mat3 to the given values\n *\n * @param {mat3} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} out\n */\n\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set a mat3 to the identity matrix\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\n * Calculates the determinant of a mat3\n *\n * @param {ReadonlyMat3} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\n * Multiplies two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\n * Translate a mat3 by the given vector\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to translate\n * @param {ReadonlyVec2} v vector to translate by\n * @returns {mat3} out\n */\n\nexport function translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\n * Rotates a mat3 by the given angle\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n/**\n * Scales the mat3 by the dimensions in the given vec2\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\n * @returns {mat3} out\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.translate(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Translation vector\n * @returns {mat3} out\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.rotate(dest, dest, rad);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.scale(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Scaling vector\n * @returns {mat3} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the values from a mat2d into a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to copy\n * @returns {mat3} out\n **/\n\nexport function fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\n * Calculates a 3x3 matrix from the given quaternion\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat3} out\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\n * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyMat4} a Mat4 to derive the normal matrix from\n *\n * @returns {mat3} out\n */\n\nexport function normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\n * Generates a 2D projection matrix with the given bounds\n *\n * @param {mat3} out mat3 frustum matrix will be written into\n * @param {number} width Width of your gl context\n * @param {number} height Height of gl context\n * @returns {mat3} out\n */\n\nexport function projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat3\n *\n * @param {ReadonlyMat3} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat3\n *\n * @param {ReadonlyMat3} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8]);\n}\n/**\n * Adds two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat3} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat3} out the receiving vector\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat3} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\n * Alias for {@link mat3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat3.subtract}\n * @function\n */\n\nexport var sub = subtract;", "import * as glMatrix from \"./common.js\";\n/**\n * 4x4 Matrix<br>Format: column-major, when typed out it looks like row-major<br>The matrices are being post multiplied.\n * @module mat4\n */\n\n/**\n * Creates a new identity mat4\n *\n * @returns {mat4} a new 4x4 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(16);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n  }\n\n  out[0] = 1;\n  out[5] = 1;\n  out[10] = 1;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a new mat4 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat4} a matrix to clone\n * @returns {mat4} a new 4x4 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Copy the values from one mat4 to another\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Create a new mat4 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\n * @returns {mat4} A new mat4\n */\n\nexport function fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\n * Set the components of a mat4 to the given values\n *\n * @param {mat4} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\n * @returns {mat4} out\n */\n\nexport function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\n * Set a mat4 to the identity matrix\n *\n * @param {mat4} out the receiving matrix\n * @returns {mat4} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    var a12 = a[6],\n        a13 = a[7];\n    var a23 = a[11];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a01;\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a02;\n    out[9] = a12;\n    out[11] = a[14];\n    out[12] = a03;\n    out[13] = a13;\n    out[14] = a23;\n  } else {\n    out[0] = a[0];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a[1];\n    out[5] = a[5];\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a[2];\n    out[9] = a[6];\n    out[10] = a[10];\n    out[11] = a[14];\n    out[12] = a[3];\n    out[13] = a[7];\n    out[14] = a[11];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);\n  out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));\n  out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);\n  out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));\n  out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));\n  out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);\n  out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));\n  out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);\n  out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);\n  out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));\n  out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);\n  out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));\n  out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));\n  out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);\n  out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));\n  out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);\n  return out;\n}\n/**\n * Calculates the determinant of a mat4\n *\n * @param {ReadonlyMat4} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n}\n/**\n * Multiplies two mat4s\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15]; // Cache only the current line of the second matrix\n\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[4];\n  b1 = b[5];\n  b2 = b[6];\n  b3 = b[7];\n  out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[8];\n  b1 = b[9];\n  b2 = b[10];\n  b3 = b[11];\n  out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[12];\n  b1 = b[13];\n  b2 = b[14];\n  b3 = b[15];\n  out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  return out;\n}\n/**\n * Translate a mat4 by the given vector\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to translate\n * @param {ReadonlyVec3} v vector to translate by\n * @returns {mat4} out\n */\n\nexport function translate(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n\n  if (a === out) {\n    out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n    out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n    out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n    out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n  } else {\n    a00 = a[0];\n    a01 = a[1];\n    a02 = a[2];\n    a03 = a[3];\n    a10 = a[4];\n    a11 = a[5];\n    a12 = a[6];\n    a13 = a[7];\n    a20 = a[8];\n    a21 = a[9];\n    a22 = a[10];\n    a23 = a[11];\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n    out[3] = a03;\n    out[4] = a10;\n    out[5] = a11;\n    out[6] = a12;\n    out[7] = a13;\n    out[8] = a20;\n    out[9] = a21;\n    out[10] = a22;\n    out[11] = a23;\n    out[12] = a00 * x + a10 * y + a20 * z + a[12];\n    out[13] = a01 * x + a11 * y + a21 * z + a[13];\n    out[14] = a02 * x + a12 * y + a22 * z + a[14];\n    out[15] = a03 * x + a13 * y + a23 * z + a[15];\n  }\n\n  return out;\n}\n/**\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to scale\n * @param {ReadonlyVec3} v the vec3 to scale the matrix by\n * @returns {mat4} out\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  out[0] = a[0] * x;\n  out[1] = a[1] * x;\n  out[2] = a[2] * x;\n  out[3] = a[3] * x;\n  out[4] = a[4] * y;\n  out[5] = a[5] * y;\n  out[6] = a[6] * y;\n  out[7] = a[7] * y;\n  out[8] = a[8] * z;\n  out[9] = a[9] * z;\n  out[10] = a[10] * z;\n  out[11] = a[11] * z;\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Rotates a mat4 by the given angle around the given axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @returns {mat4} out\n */\n\nexport function rotate(out, a, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n  var b00, b01, b02;\n  var b10, b11, b12;\n  var b20, b21, b22;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c;\n  a00 = a[0];\n  a01 = a[1];\n  a02 = a[2];\n  a03 = a[3];\n  a10 = a[4];\n  a11 = a[5];\n  a12 = a[6];\n  a13 = a[7];\n  a20 = a[8];\n  a21 = a[9];\n  a22 = a[10];\n  a23 = a[11]; // Construct the elements of the rotation matrix\n\n  b00 = x * x * t + c;\n  b01 = y * x * t + z * s;\n  b02 = z * x * t - y * s;\n  b10 = x * y * t - z * s;\n  b11 = y * y * t + c;\n  b12 = z * y * t + x * s;\n  b20 = x * z * t + y * s;\n  b21 = y * z * t - x * s;\n  b22 = z * z * t + c; // Perform rotation-specific matrix multiplication\n\n  out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n  out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n  out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n  out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n  out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n  out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n  out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n  out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n  out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n  out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n  out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n  out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the X axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateX(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[4] = a10 * c + a20 * s;\n  out[5] = a11 * c + a21 * s;\n  out[6] = a12 * c + a22 * s;\n  out[7] = a13 * c + a23 * s;\n  out[8] = a20 * c - a10 * s;\n  out[9] = a21 * c - a11 * s;\n  out[10] = a22 * c - a12 * s;\n  out[11] = a23 * c - a13 * s;\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the Y axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateY(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c - a20 * s;\n  out[1] = a01 * c - a21 * s;\n  out[2] = a02 * c - a22 * s;\n  out[3] = a03 * c - a23 * s;\n  out[8] = a00 * s + a20 * c;\n  out[9] = a01 * s + a21 * c;\n  out[10] = a02 * s + a22 * c;\n  out[11] = a03 * s + a23 * c;\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the Z axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateZ(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c + a10 * s;\n  out[1] = a01 * c + a11 * s;\n  out[2] = a02 * c + a12 * s;\n  out[3] = a03 * c + a13 * s;\n  out[4] = a10 * c - a00 * s;\n  out[5] = a11 * c - a01 * s;\n  out[6] = a12 * c - a02 * s;\n  out[7] = a13 * c - a03 * s;\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyVec3} v Translation vector\n * @returns {mat4} out\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.scale(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyVec3} v Scaling vector\n * @returns {mat4} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = v[1];\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = v[2];\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle around a given axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotate(dest, dest, rad, axis);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @returns {mat4} out\n */\n\nexport function fromRotation(out, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c; // Perform rotation-specific matrix multiplication\n\n  out[0] = x * x * t + c;\n  out[1] = y * x * t + z * s;\n  out[2] = z * x * t - y * s;\n  out[3] = 0;\n  out[4] = x * y * t - z * s;\n  out[5] = y * y * t + c;\n  out[6] = z * y * t + x * s;\n  out[7] = 0;\n  out[8] = x * z * t + y * s;\n  out[9] = y * z * t - x * s;\n  out[10] = z * z * t + c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the X axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateX(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromXRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = c;\n  out[6] = s;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = -s;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the Y axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateY(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromYRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = 0;\n  out[2] = -s;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = s;\n  out[9] = 0;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the Z axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateZ(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromZRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -s;\n  out[5] = c;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation and vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslation(out, q, v) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - (yy + zz);\n  out[1] = xy + wz;\n  out[2] = xz - wy;\n  out[3] = 0;\n  out[4] = xy - wz;\n  out[5] = 1 - (xx + zz);\n  out[6] = yz + wx;\n  out[7] = 0;\n  out[8] = xz + wy;\n  out[9] = yz - wx;\n  out[10] = 1 - (xx + yy);\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a new mat4 from a dual quat.\n *\n * @param {mat4} out Matrix\n * @param {ReadonlyQuat2} a Dual Quaternion\n * @returns {mat4} mat4 receiving operation result\n */\n\nexport function fromQuat2(out, a) {\n  var translation = new glMatrix.ARRAY_TYPE(3);\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  var magnitude = bx * bx + by * by + bz * bz + bw * bw; //Only scale if it makes sense\n\n  if (magnitude > 0) {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;\n  } else {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  }\n\n  fromRotationTranslation(out, a, translation);\n  return out;\n}\n/**\n * Returns the translation vector component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslation,\n *  the returned vector will be the same as the translation vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive translation component\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\n\nexport function getTranslation(out, mat) {\n  out[0] = mat[12];\n  out[1] = mat[13];\n  out[2] = mat[14];\n  return out;\n}\n/**\n * Returns the scaling factor component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslationScale\n *  with a normalized Quaternion paramter, the returned vector will be\n *  the same as the scaling vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive scaling factor component\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\n\nexport function getScaling(out, mat) {\n  var m11 = mat[0];\n  var m12 = mat[1];\n  var m13 = mat[2];\n  var m21 = mat[4];\n  var m22 = mat[5];\n  var m23 = mat[6];\n  var m31 = mat[8];\n  var m32 = mat[9];\n  var m33 = mat[10];\n  out[0] = Math.hypot(m11, m12, m13);\n  out[1] = Math.hypot(m21, m22, m23);\n  out[2] = Math.hypot(m31, m32, m33);\n  return out;\n}\n/**\n * Returns a quaternion representing the rotational component\n *  of a transformation matrix. If a matrix is built with\n *  fromRotationTranslation, the returned quaternion will be the\n *  same as the quaternion originally supplied.\n * @param {quat} out Quaternion to receive the rotation component\n * @param {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {quat} out\n */\n\nexport function getRotation(out, mat) {\n  var scaling = new glMatrix.ARRAY_TYPE(3);\n  getScaling(scaling, mat);\n  var is1 = 1 / scaling[0];\n  var is2 = 1 / scaling[1];\n  var is3 = 1 / scaling[2];\n  var sm11 = mat[0] * is1;\n  var sm12 = mat[1] * is2;\n  var sm13 = mat[2] * is3;\n  var sm21 = mat[4] * is1;\n  var sm22 = mat[5] * is2;\n  var sm23 = mat[6] * is3;\n  var sm31 = mat[8] * is1;\n  var sm32 = mat[9] * is2;\n  var sm33 = mat[10] * is3;\n  var trace = sm11 + sm22 + sm33;\n  var S = 0;\n\n  if (trace > 0) {\n    S = Math.sqrt(trace + 1.0) * 2;\n    out[3] = 0.25 * S;\n    out[0] = (sm23 - sm32) / S;\n    out[1] = (sm31 - sm13) / S;\n    out[2] = (sm12 - sm21) / S;\n  } else if (sm11 > sm22 && sm11 > sm33) {\n    S = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;\n    out[3] = (sm23 - sm32) / S;\n    out[0] = 0.25 * S;\n    out[1] = (sm12 + sm21) / S;\n    out[2] = (sm31 + sm13) / S;\n  } else if (sm22 > sm33) {\n    S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;\n    out[3] = (sm31 - sm13) / S;\n    out[0] = (sm12 + sm21) / S;\n    out[1] = 0.25 * S;\n    out[2] = (sm23 + sm32) / S;\n  } else {\n    S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;\n    out[3] = (sm12 - sm21) / S;\n    out[0] = (sm31 + sm13) / S;\n    out[1] = (sm23 + sm32) / S;\n    out[2] = 0.25 * S;\n  }\n\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @param {ReadonlyVec3} s Scaling vector\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslationScale(out, q, v, s) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  out[0] = (1 - (yy + zz)) * sx;\n  out[1] = (xy + wz) * sx;\n  out[2] = (xz - wy) * sx;\n  out[3] = 0;\n  out[4] = (xy - wz) * sy;\n  out[5] = (1 - (xx + zz)) * sy;\n  out[6] = (yz + wx) * sy;\n  out[7] = 0;\n  out[8] = (xz + wy) * sz;\n  out[9] = (yz - wx) * sz;\n  out[10] = (1 - (xx + yy)) * sz;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     mat4.translate(dest, origin);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *     mat4.translate(dest, negativeOrigin);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @param {ReadonlyVec3} s Scaling vector\n * @param {ReadonlyVec3} o The origin vector around which to scale and rotate\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslationScaleOrigin(out, q, v, s, o) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  var ox = o[0];\n  var oy = o[1];\n  var oz = o[2];\n  var out0 = (1 - (yy + zz)) * sx;\n  var out1 = (xy + wz) * sx;\n  var out2 = (xz - wy) * sx;\n  var out4 = (xy - wz) * sy;\n  var out5 = (1 - (xx + zz)) * sy;\n  var out6 = (yz + wx) * sy;\n  var out8 = (xz + wy) * sz;\n  var out9 = (yz - wx) * sz;\n  var out10 = (1 - (xx + yy)) * sz;\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = 0;\n  out[4] = out4;\n  out[5] = out5;\n  out[6] = out6;\n  out[7] = 0;\n  out[8] = out8;\n  out[9] = out9;\n  out[10] = out10;\n  out[11] = 0;\n  out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);\n  out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);\n  out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);\n  out[15] = 1;\n  return out;\n}\n/**\n * Calculates a 4x4 matrix from the given quaternion\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat4} out\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[1] = yx + wz;\n  out[2] = zx - wy;\n  out[3] = 0;\n  out[4] = yx - wz;\n  out[5] = 1 - xx - zz;\n  out[6] = zy + wx;\n  out[7] = 0;\n  out[8] = zx + wy;\n  out[9] = zy - wx;\n  out[10] = 1 - xx - yy;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a frustum matrix with the given bounds\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Number} left Left bound of the frustum\n * @param {Number} right Right bound of the frustum\n * @param {Number} bottom Bottom bound of the frustum\n * @param {Number} top Top bound of the frustum\n * @param {Number} near Near bound of the frustum\n * @param {Number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function frustum(out, left, right, bottom, top, near, far) {\n  var rl = 1 / (right - left);\n  var tb = 1 / (top - bottom);\n  var nf = 1 / (near - far);\n  out[0] = near * 2 * rl;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = near * 2 * tb;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = (right + left) * rl;\n  out[9] = (top + bottom) * tb;\n  out[10] = (far + near) * nf;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = far * near * 2 * nf;\n  out[15] = 0;\n  return out;\n}\n/**\n * Generates a perspective projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [-1, 1],\n * which matches WebGL/OpenGL's clip volume.\n * Passing null/undefined/no value for far will generate infinite projection matrix.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum, can be null or Infinity\n * @returns {mat4} out\n */\n\nexport function perspectiveNO(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = (far + near) * nf;\n    out[14] = 2 * far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -2 * near;\n  }\n\n  return out;\n}\n/**\n * Alias for {@link mat4.perspectiveNO}\n * @function\n */\n\nexport var perspective = perspectiveNO;\n/**\n * Generates a perspective projection matrix suitable for WebGPU with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [0, 1],\n * which matches WebGPU/Vulkan/DirectX/Metal's clip volume.\n * Passing null/undefined/no value for far will generate infinite projection matrix.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum, can be null or Infinity\n * @returns {mat4} out\n */\n\nexport function perspectiveZO(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = far * nf;\n    out[14] = far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -near;\n  }\n\n  return out;\n}\n/**\n * Generates a perspective projection matrix with the given field of view.\n * This is primarily useful for generating projection matrices to be used\n * with the still experiemental WebVR API.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Object} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function perspectiveFromFieldOfView(out, fov, near, far) {\n  var upTan = Math.tan(fov.upDegrees * Math.PI / 180.0);\n  var downTan = Math.tan(fov.downDegrees * Math.PI / 180.0);\n  var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180.0);\n  var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180.0);\n  var xScale = 2.0 / (leftTan + rightTan);\n  var yScale = 2.0 / (upTan + downTan);\n  out[0] = xScale;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  out[4] = 0.0;\n  out[5] = yScale;\n  out[6] = 0.0;\n  out[7] = 0.0;\n  out[8] = -((leftTan - rightTan) * xScale * 0.5);\n  out[9] = (upTan - downTan) * yScale * 0.5;\n  out[10] = far / (near - far);\n  out[11] = -1.0;\n  out[12] = 0.0;\n  out[13] = 0.0;\n  out[14] = far * near / (near - far);\n  out[15] = 0.0;\n  return out;\n}\n/**\n * Generates a orthogonal projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [-1, 1],\n * which matches WebGL/OpenGL's clip volume.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function orthoNO(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 2 * nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = (far + near) * nf;\n  out[15] = 1;\n  return out;\n}\n/**\n * Alias for {@link mat4.orthoNO}\n * @function\n */\n\nexport var ortho = orthoNO;\n/**\n * Generates a orthogonal projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [0, 1],\n * which matches WebGPU/Vulkan/DirectX/Metal's clip volume.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function orthoZO(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = near * nf;\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a look-at matrix with the given eye position, focal point, and up axis.\n * If you want a matrix that actually makes an object look at another object, you should use targetTo instead.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {ReadonlyVec3} eye Position of the viewer\n * @param {ReadonlyVec3} center Point the viewer is looking at\n * @param {ReadonlyVec3} up vec3 pointing up\n * @returns {mat4} out\n */\n\nexport function lookAt(out, eye, center, up) {\n  var x0, x1, x2, y0, y1, y2, z0, z1, z2, len;\n  var eyex = eye[0];\n  var eyey = eye[1];\n  var eyez = eye[2];\n  var upx = up[0];\n  var upy = up[1];\n  var upz = up[2];\n  var centerx = center[0];\n  var centery = center[1];\n  var centerz = center[2];\n\n  if (Math.abs(eyex - centerx) < glMatrix.EPSILON && Math.abs(eyey - centery) < glMatrix.EPSILON && Math.abs(eyez - centerz) < glMatrix.EPSILON) {\n    return identity(out);\n  }\n\n  z0 = eyex - centerx;\n  z1 = eyey - centery;\n  z2 = eyez - centerz;\n  len = 1 / Math.hypot(z0, z1, z2);\n  z0 *= len;\n  z1 *= len;\n  z2 *= len;\n  x0 = upy * z2 - upz * z1;\n  x1 = upz * z0 - upx * z2;\n  x2 = upx * z1 - upy * z0;\n  len = Math.hypot(x0, x1, x2);\n\n  if (!len) {\n    x0 = 0;\n    x1 = 0;\n    x2 = 0;\n  } else {\n    len = 1 / len;\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  y0 = z1 * x2 - z2 * x1;\n  y1 = z2 * x0 - z0 * x2;\n  y2 = z0 * x1 - z1 * x0;\n  len = Math.hypot(y0, y1, y2);\n\n  if (!len) {\n    y0 = 0;\n    y1 = 0;\n    y2 = 0;\n  } else {\n    len = 1 / len;\n    y0 *= len;\n    y1 *= len;\n    y2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = y0;\n  out[2] = z0;\n  out[3] = 0;\n  out[4] = x1;\n  out[5] = y1;\n  out[6] = z1;\n  out[7] = 0;\n  out[8] = x2;\n  out[9] = y2;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n  out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n  out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a matrix that makes something look at something else.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {ReadonlyVec3} eye Position of the viewer\n * @param {ReadonlyVec3} center Point the viewer is looking at\n * @param {ReadonlyVec3} up vec3 pointing up\n * @returns {mat4} out\n */\n\nexport function targetTo(out, eye, target, up) {\n  var eyex = eye[0],\n      eyey = eye[1],\n      eyez = eye[2],\n      upx = up[0],\n      upy = up[1],\n      upz = up[2];\n  var z0 = eyex - target[0],\n      z1 = eyey - target[1],\n      z2 = eyez - target[2];\n  var len = z0 * z0 + z1 * z1 + z2 * z2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    z0 *= len;\n    z1 *= len;\n    z2 *= len;\n  }\n\n  var x0 = upy * z2 - upz * z1,\n      x1 = upz * z0 - upx * z2,\n      x2 = upx * z1 - upy * z0;\n  len = x0 * x0 + x1 * x1 + x2 * x2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = x1;\n  out[2] = x2;\n  out[3] = 0;\n  out[4] = z1 * x2 - z2 * x1;\n  out[5] = z2 * x0 - z0 * x2;\n  out[6] = z0 * x1 - z1 * x0;\n  out[7] = 0;\n  out[8] = z0;\n  out[9] = z1;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = eyex;\n  out[13] = eyey;\n  out[14] = eyez;\n  out[15] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat4\n *\n * @param {ReadonlyMat4} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \", \" + a[9] + \", \" + a[10] + \", \" + a[11] + \", \" + a[12] + \", \" + a[13] + \", \" + a[14] + \", \" + a[15] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat4\n *\n * @param {ReadonlyMat4} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]);\n}\n/**\n * Adds two mat4's\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  out[9] = a[9] + b[9];\n  out[10] = a[10] + b[10];\n  out[11] = a[11] + b[11];\n  out[12] = a[12] + b[12];\n  out[13] = a[13] + b[13];\n  out[14] = a[14] + b[14];\n  out[15] = a[15] + b[15];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  out[9] = a[9] - b[9];\n  out[10] = a[10] - b[10];\n  out[11] = a[11] - b[11];\n  out[12] = a[12] - b[12];\n  out[13] = a[13] - b[13];\n  out[14] = a[14] - b[14];\n  out[15] = a[15] - b[15];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat4} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  out[9] = a[9] * b;\n  out[10] = a[10] * b;\n  out[11] = a[11] * b;\n  out[12] = a[12] * b;\n  out[13] = a[13] * b;\n  out[14] = a[14] * b;\n  out[15] = a[15] * b;\n  return out;\n}\n/**\n * Adds two mat4's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat4} out the receiving vector\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat4} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  out[9] = a[9] + b[9] * scale;\n  out[10] = a[10] + b[10] * scale;\n  out[11] = a[11] + b[11] * scale;\n  out[12] = a[12] + b[12] * scale;\n  out[13] = a[13] + b[13] * scale;\n  out[14] = a[14] + b[14] * scale;\n  out[15] = a[15] + b[15] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat4} a The first matrix.\n * @param {ReadonlyMat4} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat4} a The first matrix.\n * @param {ReadonlyMat4} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var a8 = a[8],\n      a9 = a[9],\n      a10 = a[10],\n      a11 = a[11];\n  var a12 = a[12],\n      a13 = a[13],\n      a14 = a[14],\n      a15 = a[15];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  var b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  var b8 = b[8],\n      b9 = b[9],\n      b10 = b[10],\n      b11 = b[11];\n  var b12 = b[12],\n      b13 = b[13],\n      b14 = b[14],\n      b15 = b[15];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a15), Math.abs(b15));\n}\n/**\n * Alias for {@link mat4.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat4.subtract}\n * @function\n */\n\nexport var sub = subtract;", "import * as glMatrix from \"./common.js\";\nimport * as mat3 from \"./mat3.js\";\nimport * as vec3 from \"./vec3.js\";\nimport * as vec4 from \"./vec4.js\";\n/**\n * Quaternion\n * @module quat\n */\n\n/**\n * Creates a new identity quat\n *\n * @returns {quat} a new quaternion\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  out[3] = 1;\n  return out;\n}\n/**\n * Set a quat to the identity quaternion\n *\n * @param {quat} out the receiving quaternion\n * @returns {quat} out\n */\n\nexport function identity(out) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  return out;\n}\n/**\n * Sets a quat from the given angle and rotation axis,\n * then returns it.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyVec3} axis the axis around which to rotate\n * @param {Number} rad the angle in radians\n * @returns {quat} out\n **/\n\nexport function setAxisAngle(out, axis, rad) {\n  rad = rad * 0.5;\n  var s = Math.sin(rad);\n  out[0] = s * axis[0];\n  out[1] = s * axis[1];\n  out[2] = s * axis[2];\n  out[3] = Math.cos(rad);\n  return out;\n}\n/**\n * Gets the rotation axis and angle for a given\n *  quaternion. If a quaternion is created with\n *  setAxisAngle, this method will return the same\n *  values as providied in the original parameter list\n *  OR functionally equivalent values.\n * Example: The quaternion formed by axis [0, 0, 1] and\n *  angle -90 is the same as the quaternion formed by\n *  [0, 0, 1] and 270. This method favors the latter.\n * @param  {vec3} out_axis  Vector receiving the axis of rotation\n * @param  {ReadonlyQuat} q     Quaternion to be decomposed\n * @return {Number}     Angle, in radians, of the rotation\n */\n\nexport function getAxisAngle(out_axis, q) {\n  var rad = Math.acos(q[3]) * 2.0;\n  var s = Math.sin(rad / 2.0);\n\n  if (s > glMatrix.EPSILON) {\n    out_axis[0] = q[0] / s;\n    out_axis[1] = q[1] / s;\n    out_axis[2] = q[2] / s;\n  } else {\n    // If s is zero, return any axis (no rotation - axis does not matter)\n    out_axis[0] = 1;\n    out_axis[1] = 0;\n    out_axis[2] = 0;\n  }\n\n  return rad;\n}\n/**\n * Gets the angular distance between two unit quaternions\n *\n * @param  {ReadonlyQuat} a     Origin unit quaternion\n * @param  {ReadonlyQuat} b     Destination unit quaternion\n * @return {Number}     Angle, in radians, between the two quaternions\n */\n\nexport function getAngle(a, b) {\n  var dotproduct = dot(a, b);\n  return Math.acos(2 * dotproduct * dotproduct - 1);\n}\n/**\n * Multiplies two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @returns {quat} out\n */\n\nexport function multiply(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2],\n      bw = b[3];\n  out[0] = ax * bw + aw * bx + ay * bz - az * by;\n  out[1] = ay * bw + aw * by + az * bx - ax * bz;\n  out[2] = az * bw + aw * bz + ax * by - ay * bx;\n  out[3] = aw * bw - ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\n * Rotates a quaternion by the given angle about the X axis\n *\n * @param {quat} out quat receiving operation result\n * @param {ReadonlyQuat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\n\nexport function rotateX(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw + aw * bx;\n  out[1] = ay * bw + az * bx;\n  out[2] = az * bw - ay * bx;\n  out[3] = aw * bw - ax * bx;\n  return out;\n}\n/**\n * Rotates a quaternion by the given angle about the Y axis\n *\n * @param {quat} out quat receiving operation result\n * @param {ReadonlyQuat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\n\nexport function rotateY(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var by = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw - az * by;\n  out[1] = ay * bw + aw * by;\n  out[2] = az * bw + ax * by;\n  out[3] = aw * bw - ay * by;\n  return out;\n}\n/**\n * Rotates a quaternion by the given angle about the Z axis\n *\n * @param {quat} out quat receiving operation result\n * @param {ReadonlyQuat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\n\nexport function rotateZ(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bz = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw + ay * bz;\n  out[1] = ay * bw - ax * bz;\n  out[2] = az * bw + aw * bz;\n  out[3] = aw * bw - az * bz;\n  return out;\n}\n/**\n * Calculates the W component of a quat from the X, Y, and Z components.\n * Assumes that quaternion is 1 unit in length.\n * Any existing W component will be ignored.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate W component of\n * @returns {quat} out\n */\n\nexport function calculateW(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = Math.sqrt(Math.abs(1.0 - x * x - y * y - z * z));\n  return out;\n}\n/**\n * Calculate the exponential of a unit quaternion.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate the exponential of\n * @returns {quat} out\n */\n\nexport function exp(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  var r = Math.sqrt(x * x + y * y + z * z);\n  var et = Math.exp(w);\n  var s = r > 0 ? et * Math.sin(r) / r : 0;\n  out[0] = x * s;\n  out[1] = y * s;\n  out[2] = z * s;\n  out[3] = et * Math.cos(r);\n  return out;\n}\n/**\n * Calculate the natural logarithm of a unit quaternion.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate the exponential of\n * @returns {quat} out\n */\n\nexport function ln(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  var r = Math.sqrt(x * x + y * y + z * z);\n  var t = r > 0 ? Math.atan2(r, w) / r : 0;\n  out[0] = x * t;\n  out[1] = y * t;\n  out[2] = z * t;\n  out[3] = 0.5 * Math.log(x * x + y * y + z * z + w * w);\n  return out;\n}\n/**\n * Calculate the scalar power of a unit quaternion.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate the exponential of\n * @param {Number} b amount to scale the quaternion by\n * @returns {quat} out\n */\n\nexport function pow(out, a, b) {\n  ln(out, a);\n  scale(out, out, b);\n  exp(out, out);\n  return out;\n}\n/**\n * Performs a spherical linear interpolation between two quat\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat} out\n */\n\nexport function slerp(out, a, b, t) {\n  // benchmarks:\n  //    http://jsperf.com/quaternion-slerp-implementations\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2],\n      bw = b[3];\n  var omega, cosom, sinom, scale0, scale1; // calc cosine\n\n  cosom = ax * bx + ay * by + az * bz + aw * bw; // adjust signs (if necessary)\n\n  if (cosom < 0.0) {\n    cosom = -cosom;\n    bx = -bx;\n    by = -by;\n    bz = -bz;\n    bw = -bw;\n  } // calculate coefficients\n\n\n  if (1.0 - cosom > glMatrix.EPSILON) {\n    // standard case (slerp)\n    omega = Math.acos(cosom);\n    sinom = Math.sin(omega);\n    scale0 = Math.sin((1.0 - t) * omega) / sinom;\n    scale1 = Math.sin(t * omega) / sinom;\n  } else {\n    // \"from\" and \"to\" quaternions are very close\n    //  ... so we can do a linear interpolation\n    scale0 = 1.0 - t;\n    scale1 = t;\n  } // calculate final values\n\n\n  out[0] = scale0 * ax + scale1 * bx;\n  out[1] = scale0 * ay + scale1 * by;\n  out[2] = scale0 * az + scale1 * bz;\n  out[3] = scale0 * aw + scale1 * bw;\n  return out;\n}\n/**\n * Generates a random unit quaternion\n *\n * @param {quat} out the receiving quaternion\n * @returns {quat} out\n */\n\nexport function random(out) {\n  // Implementation of http://planning.cs.uiuc.edu/node198.html\n  // TODO: Calling random 3 times is probably not the fastest solution\n  var u1 = glMatrix.RANDOM();\n  var u2 = glMatrix.RANDOM();\n  var u3 = glMatrix.RANDOM();\n  var sqrt1MinusU1 = Math.sqrt(1 - u1);\n  var sqrtU1 = Math.sqrt(u1);\n  out[0] = sqrt1MinusU1 * Math.sin(2.0 * Math.PI * u2);\n  out[1] = sqrt1MinusU1 * Math.cos(2.0 * Math.PI * u2);\n  out[2] = sqrtU1 * Math.sin(2.0 * Math.PI * u3);\n  out[3] = sqrtU1 * Math.cos(2.0 * Math.PI * u3);\n  return out;\n}\n/**\n * Calculates the inverse of a quat\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate inverse of\n * @returns {quat} out\n */\n\nexport function invert(out, a) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var dot = a0 * a0 + a1 * a1 + a2 * a2 + a3 * a3;\n  var invDot = dot ? 1.0 / dot : 0; // TODO: Would be faster to return [0,0,0,0] immediately if dot == 0\n\n  out[0] = -a0 * invDot;\n  out[1] = -a1 * invDot;\n  out[2] = -a2 * invDot;\n  out[3] = a3 * invDot;\n  return out;\n}\n/**\n * Calculates the conjugate of a quat\n * If the quaternion is normalized, this function is faster than quat.inverse and produces the same result.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate conjugate of\n * @returns {quat} out\n */\n\nexport function conjugate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Creates a quaternion from the given 3x3 rotation matrix.\n *\n * NOTE: The resultant quaternion is not normalized, so you should be sure\n * to renormalize the quaternion yourself where necessary.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyMat3} m rotation matrix\n * @returns {quat} out\n * @function\n */\n\nexport function fromMat3(out, m) {\n  // Algorithm in Ken Shoemake's article in 1987 SIGGRAPH course notes\n  // article \"Quaternion Calculus and Fast Animation\".\n  var fTrace = m[0] + m[4] + m[8];\n  var fRoot;\n\n  if (fTrace > 0.0) {\n    // |w| > 1/2, may as well choose w > 1/2\n    fRoot = Math.sqrt(fTrace + 1.0); // 2w\n\n    out[3] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot; // 1/(4w)\n\n    out[0] = (m[5] - m[7]) * fRoot;\n    out[1] = (m[6] - m[2]) * fRoot;\n    out[2] = (m[1] - m[3]) * fRoot;\n  } else {\n    // |w| <= 1/2\n    var i = 0;\n    if (m[4] > m[0]) i = 1;\n    if (m[8] > m[i * 3 + i]) i = 2;\n    var j = (i + 1) % 3;\n    var k = (i + 2) % 3;\n    fRoot = Math.sqrt(m[i * 3 + i] - m[j * 3 + j] - m[k * 3 + k] + 1.0);\n    out[i] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot;\n    out[3] = (m[j * 3 + k] - m[k * 3 + j]) * fRoot;\n    out[j] = (m[j * 3 + i] + m[i * 3 + j]) * fRoot;\n    out[k] = (m[k * 3 + i] + m[i * 3 + k]) * fRoot;\n  }\n\n  return out;\n}\n/**\n * Creates a quaternion from the given euler angle x, y, z.\n *\n * @param {quat} out the receiving quaternion\n * @param {x} Angle to rotate around X axis in degrees.\n * @param {y} Angle to rotate around Y axis in degrees.\n * @param {z} Angle to rotate around Z axis in degrees.\n * @returns {quat} out\n * @function\n */\n\nexport function fromEuler(out, x, y, z) {\n  var halfToRad = 0.5 * Math.PI / 180.0;\n  x *= halfToRad;\n  y *= halfToRad;\n  z *= halfToRad;\n  var sx = Math.sin(x);\n  var cx = Math.cos(x);\n  var sy = Math.sin(y);\n  var cy = Math.cos(y);\n  var sz = Math.sin(z);\n  var cz = Math.cos(z);\n  out[0] = sx * cy * cz - cx * sy * sz;\n  out[1] = cx * sy * cz + sx * cy * sz;\n  out[2] = cx * cy * sz - sx * sy * cz;\n  out[3] = cx * cy * cz + sx * sy * sz;\n  return out;\n}\n/**\n * Returns a string representation of a quatenion\n *\n * @param {ReadonlyQuat} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"quat(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\n * Creates a new quat initialized with values from an existing quaternion\n *\n * @param {ReadonlyQuat} a quaternion to clone\n * @returns {quat} a new quaternion\n * @function\n */\n\nexport var clone = vec4.clone;\n/**\n * Creates a new quat initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {quat} a new quaternion\n * @function\n */\n\nexport var fromValues = vec4.fromValues;\n/**\n * Copy the values from one quat to another\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the source quaternion\n * @returns {quat} out\n * @function\n */\n\nexport var copy = vec4.copy;\n/**\n * Set the components of a quat to the given values\n *\n * @param {quat} out the receiving quaternion\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {quat} out\n * @function\n */\n\nexport var set = vec4.set;\n/**\n * Adds two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @returns {quat} out\n * @function\n */\n\nexport var add = vec4.add;\n/**\n * Alias for {@link quat.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Scales a quat by a scalar number\n *\n * @param {quat} out the receiving vector\n * @param {ReadonlyQuat} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {quat} out\n * @function\n */\n\nexport var scale = vec4.scale;\n/**\n * Calculates the dot product of two quat's\n *\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @returns {Number} dot product of a and b\n * @function\n */\n\nexport var dot = vec4.dot;\n/**\n * Performs a linear interpolation between two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat} out\n * @function\n */\n\nexport var lerp = vec4.lerp;\n/**\n * Calculates the length of a quat\n *\n * @param {ReadonlyQuat} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport var length = vec4.length;\n/**\n * Alias for {@link quat.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Calculates the squared length of a quat\n *\n * @param {ReadonlyQuat} a vector to calculate squared length of\n * @returns {Number} squared length of a\n * @function\n */\n\nexport var squaredLength = vec4.squaredLength;\n/**\n * Alias for {@link quat.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Normalize a quat\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quaternion to normalize\n * @returns {quat} out\n * @function\n */\n\nexport var normalize = vec4.normalize;\n/**\n * Returns whether or not the quaternions have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyQuat} a The first quaternion.\n * @param {ReadonlyQuat} b The second quaternion.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport var exactEquals = vec4.exactEquals;\n/**\n * Returns whether or not the quaternions have approximately the same elements in the same position.\n *\n * @param {ReadonlyQuat} a The first vector.\n * @param {ReadonlyQuat} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport var equals = vec4.equals;\n/**\n * Sets a quaternion to represent the shortest rotation from one\n * vector to another.\n *\n * Both vectors are assumed to be unit length.\n *\n * @param {quat} out the receiving quaternion.\n * @param {ReadonlyVec3} a the initial vector\n * @param {ReadonlyVec3} b the destination vector\n * @returns {quat} out\n */\n\nexport var rotationTo = function () {\n  var tmpvec3 = vec3.create();\n  var xUnitVec3 = vec3.fromValues(1, 0, 0);\n  var yUnitVec3 = vec3.fromValues(0, 1, 0);\n  return function (out, a, b) {\n    var dot = vec3.dot(a, b);\n\n    if (dot < -0.999999) {\n      vec3.cross(tmpvec3, xUnitVec3, a);\n      if (vec3.len(tmpvec3) < 0.000001) vec3.cross(tmpvec3, yUnitVec3, a);\n      vec3.normalize(tmpvec3, tmpvec3);\n      setAxisAngle(out, tmpvec3, Math.PI);\n      return out;\n    } else if (dot > 0.999999) {\n      out[0] = 0;\n      out[1] = 0;\n      out[2] = 0;\n      out[3] = 1;\n      return out;\n    } else {\n      vec3.cross(tmpvec3, a, b);\n      out[0] = tmpvec3[0];\n      out[1] = tmpvec3[1];\n      out[2] = tmpvec3[2];\n      out[3] = 1 + dot;\n      return normalize(out, out);\n    }\n  };\n}();\n/**\n * Performs a spherical linear interpolation with two control points\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @param {ReadonlyQuat} c the third operand\n * @param {ReadonlyQuat} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat} out\n */\n\nexport var sqlerp = function () {\n  var temp1 = create();\n  var temp2 = create();\n  return function (out, a, b, c, d, t) {\n    slerp(temp1, a, d, t);\n    slerp(temp2, b, c, t);\n    slerp(out, temp1, temp2, 2 * t * (1 - t));\n    return out;\n  };\n}();\n/**\n * Sets the specified quaternion with values corresponding to the given\n * axes. Each axis is a vec3 and is expected to be unit length and\n * perpendicular to all other specified axes.\n *\n * @param {ReadonlyVec3} view  the vector representing the viewing direction\n * @param {ReadonlyVec3} right the vector representing the local \"right\" direction\n * @param {ReadonlyVec3} up    the vector representing the local \"up\" direction\n * @returns {quat} out\n */\n\nexport var setAxes = function () {\n  var matr = mat3.create();\n  return function (out, view, right, up) {\n    matr[0] = right[0];\n    matr[3] = right[1];\n    matr[6] = right[2];\n    matr[1] = up[0];\n    matr[4] = up[1];\n    matr[7] = up[2];\n    matr[2] = -view[0];\n    matr[5] = -view[1];\n    matr[8] = -view[2];\n    return normalize(out, fromMat3(out, matr));\n  };\n}();", "import * as glMatrix from \"./common.js\";\n/**\n * 3 Dimensional Vector\n * @module vec3\n */\n\n/**\n * Creates a new, empty vec3\n *\n * @returns {vec3} a new 3D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec3 initialized with values from an existing vector\n *\n * @param {ReadonlyVec3} a vector to clone\n * @returns {vec3} a new 3D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Calculates the length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Creates a new vec3 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} a new 3D vector\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the source vector\n * @returns {vec3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\n * Math.ceil the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to ceil\n * @returns {vec3} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\n * Math.floor the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to floor\n * @returns {vec3} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\n * Returns the minimum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\n * Returns the maximum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\n * Math.round the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to round\n * @returns {vec3} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\n * Adds two vec3's after scaling the second operand by a scalar value\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec3} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Calculates the squared length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to negate\n * @returns {vec3} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to invert\n * @returns {vec3} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to normalize\n * @returns {vec3} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\n * Performs a hermite interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Performs a bezier interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec3} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec3} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\n * Transforms the vec3 with a quat\n * Can also be used for dual quaternions. (Multiply it with the real part)\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec3} out\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\n * Rotate a 3D vector around the x-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the y-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the z-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Get the angle between two 3D vectors\n * @param {ReadonlyVec3} a The first operand\n * @param {ReadonlyVec3} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec3 to zero\n *\n * @param {vec3} out the receiving vector\n * @returns {vec3} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec3} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\n * Alias for {@link vec3.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec3.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec3.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec3.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec3.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec3.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec3s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();", "import * as glMatrix from \"./common.js\";\n/**\n * 4 Dimensional Vector\n * @module vec4\n */\n\n/**\n * Creates a new, empty vec4\n *\n * @returns {vec4} a new 4D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec4 initialized with values from an existing vector\n *\n * @param {ReadonlyVec4} a vector to clone\n * @returns {vec4} a new 4D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Creates a new vec4 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} a new 4D vector\n */\n\nexport function fromValues(x, y, z, w) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\n * Copy the values from one vec4 to another\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the source vector\n * @returns {vec4} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Set the components of a vec4 to the given values\n *\n * @param {vec4} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} out\n */\n\nexport function set(out, x, y, z, w) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\n * Adds two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\n * Multiplies two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  out[3] = a[3] * b[3];\n  return out;\n}\n/**\n * Divides two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  out[3] = a[3] / b[3];\n  return out;\n}\n/**\n * Math.ceil the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to ceil\n * @returns {vec4} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  out[3] = Math.ceil(a[3]);\n  return out;\n}\n/**\n * Math.floor the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to floor\n * @returns {vec4} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  out[3] = Math.floor(a[3]);\n  return out;\n}\n/**\n * Returns the minimum of two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  out[3] = Math.min(a[3], b[3]);\n  return out;\n}\n/**\n * Returns the maximum of two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  out[3] = Math.max(a[3], b[3]);\n  return out;\n}\n/**\n * Math.round the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to round\n * @returns {vec4} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  out[3] = Math.round(a[3]);\n  return out;\n}\n/**\n * Scales a vec4 by a scalar number\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec4} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\n * Adds two vec4's after scaling the second operand by a scalar value\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec4} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\n * Calculates the squared euclidian distance between two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\n * Calculates the length of a vec4\n *\n * @param {ReadonlyVec4} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\n * Calculates the squared length of a vec4\n *\n * @param {ReadonlyVec4} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\n * Negates the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to negate\n * @returns {vec4} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = -a[3];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to invert\n * @returns {vec4} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  out[3] = 1.0 / a[3];\n  return out;\n}\n/**\n * Normalize a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to normalize\n * @returns {vec4} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  var len = x * x + y * y + z * z + w * w;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = x * len;\n  out[1] = y * len;\n  out[2] = z * len;\n  out[3] = w * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n}\n/**\n * Returns the cross-product of three vectors in a 4-dimensional space\n *\n * @param {ReadonlyVec4} result the receiving vector\n * @param {ReadonlyVec4} U the first vector\n * @param {ReadonlyVec4} V the second vector\n * @param {ReadonlyVec4} W the third vector\n * @returns {vec4} result\n */\n\nexport function cross(out, u, v, w) {\n  var A = v[0] * w[1] - v[1] * w[0],\n      B = v[0] * w[2] - v[2] * w[0],\n      C = v[0] * w[3] - v[3] * w[0],\n      D = v[1] * w[2] - v[2] * w[1],\n      E = v[1] * w[3] - v[3] * w[1],\n      F = v[2] * w[3] - v[3] * w[2];\n  var G = u[0];\n  var H = u[1];\n  var I = u[2];\n  var J = u[3];\n  out[0] = H * F - I * E + J * D;\n  out[1] = -(G * F) + I * C - J * B;\n  out[2] = G * E - H * C + J * A;\n  out[3] = -(G * D) + H * B - I * A;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec4} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  var aw = a[3];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  out[3] = aw + t * (b[3] - aw);\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec4} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec4} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0; // Marsaglia, George. Choosing a Point from the Surface of a\n  // Sphere. Ann. Math. Statist. 43 (1972), no. 2, 645--646.\n  // http://projecteuclid.org/euclid.aoms/1177692644;\n\n  var v1, v2, v3, v4;\n  var s1, s2;\n\n  do {\n    v1 = glMatrix.RANDOM() * 2 - 1;\n    v2 = glMatrix.RANDOM() * 2 - 1;\n    s1 = v1 * v1 + v2 * v2;\n  } while (s1 >= 1);\n\n  do {\n    v3 = glMatrix.RANDOM() * 2 - 1;\n    v4 = glMatrix.RANDOM() * 2 - 1;\n    s2 = v3 * v3 + v4 * v4;\n  } while (s2 >= 1);\n\n  var d = Math.sqrt((1 - s1) / s2);\n  out[0] = scale * v1;\n  out[1] = scale * v2;\n  out[2] = scale * v3 * d;\n  out[3] = scale * v4 * d;\n  return out;\n}\n/**\n * Transforms the vec4 with a mat4.\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec4} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  out[0] = m[0] * x + m[4] * y + m[8] * z + m[12] * w;\n  out[1] = m[1] * x + m[5] * y + m[9] * z + m[13] * w;\n  out[2] = m[2] * x + m[6] * y + m[10] * z + m[14] * w;\n  out[3] = m[3] * x + m[7] * y + m[11] * z + m[15] * w;\n  return out;\n}\n/**\n * Transforms the vec4 with a quat\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec4} out\n */\n\nexport function transformQuat(out, a, q) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3]; // calculate quat * vec\n\n  var ix = qw * x + qy * z - qz * y;\n  var iy = qw * y + qz * x - qx * z;\n  var iz = qw * z + qx * y - qy * x;\n  var iw = -qx * x - qy * y - qz * z; // calculate result * inverse quat\n\n  out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n  out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n  out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n  out[3] = a[3];\n  return out;\n}\n/**\n * Set the components of a vec4 to zero\n *\n * @param {vec4} out the receiving vector\n * @returns {vec4} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec4} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec4} a The first vector.\n * @param {ReadonlyVec4} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec4} a The first vector.\n * @param {ReadonlyVec4} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\n * Alias for {@link vec4.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec4.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec4.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec4.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec4.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec4.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec4.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec4s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec4. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec4s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 4;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      vec[3] = a[i + 3];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n      a[i + 3] = vec[3];\n    }\n\n    return a;\n  };\n}();", "import * as glMatrix from \"./common.js\";\nimport * as quat from \"./quat.js\";\nimport * as mat4 from \"./mat4.js\";\n/**\n * Dual Quaternion<br>\n * Format: [real, dual]<br>\n * Quaternion format: XYZW<br>\n * Make sure to have normalized dual quaternions, otherwise the functions may not work as intended.<br>\n * @module quat2\n */\n\n/**\n * Creates a new identity dual quat\n *\n * @returns {quat2} a new dual quaternion [real -> rotation, dual -> translation]\n */\n\nexport function create() {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    dq[0] = 0;\n    dq[1] = 0;\n    dq[2] = 0;\n    dq[4] = 0;\n    dq[5] = 0;\n    dq[6] = 0;\n    dq[7] = 0;\n  }\n\n  dq[3] = 1;\n  return dq;\n}\n/**\n * Creates a new quat initialized with values from an existing quaternion\n *\n * @param {ReadonlyQuat2} a dual quaternion to clone\n * @returns {quat2} new dual quaternion\n * @function\n */\n\nexport function clone(a) {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n  dq[0] = a[0];\n  dq[1] = a[1];\n  dq[2] = a[2];\n  dq[3] = a[3];\n  dq[4] = a[4];\n  dq[5] = a[5];\n  dq[6] = a[6];\n  dq[7] = a[7];\n  return dq;\n}\n/**\n * Creates a new dual quat initialized with the given values\n *\n * @param {Number} x1 X component\n * @param {Number} y1 Y component\n * @param {Number} z1 Z component\n * @param {Number} w1 W component\n * @param {Number} x2 X component\n * @param {Number} y2 Y component\n * @param {Number} z2 Z component\n * @param {Number} w2 W component\n * @returns {quat2} new dual quaternion\n * @function\n */\n\nexport function fromValues(x1, y1, z1, w1, x2, y2, z2, w2) {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n  dq[0] = x1;\n  dq[1] = y1;\n  dq[2] = z1;\n  dq[3] = w1;\n  dq[4] = x2;\n  dq[5] = y2;\n  dq[6] = z2;\n  dq[7] = w2;\n  return dq;\n}\n/**\n * Creates a new dual quat from the given values (quat and translation)\n *\n * @param {Number} x1 X component\n * @param {Number} y1 Y component\n * @param {Number} z1 Z component\n * @param {Number} w1 W component\n * @param {Number} x2 X component (translation)\n * @param {Number} y2 Y component (translation)\n * @param {Number} z2 Z component (translation)\n * @returns {quat2} new dual quaternion\n * @function\n */\n\nexport function fromRotationTranslationValues(x1, y1, z1, w1, x2, y2, z2) {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n  dq[0] = x1;\n  dq[1] = y1;\n  dq[2] = z1;\n  dq[3] = w1;\n  var ax = x2 * 0.5,\n      ay = y2 * 0.5,\n      az = z2 * 0.5;\n  dq[4] = ax * w1 + ay * z1 - az * y1;\n  dq[5] = ay * w1 + az * x1 - ax * z1;\n  dq[6] = az * w1 + ax * y1 - ay * x1;\n  dq[7] = -ax * x1 - ay * y1 - az * z1;\n  return dq;\n}\n/**\n * Creates a dual quat from a quaternion and a translation\n *\n * @param {ReadonlyQuat2} dual quaternion receiving operation result\n * @param {ReadonlyQuat} q a normalized quaternion\n * @param {ReadonlyVec3} t tranlation vector\n * @returns {quat2} dual quaternion receiving operation result\n * @function\n */\n\nexport function fromRotationTranslation(out, q, t) {\n  var ax = t[0] * 0.5,\n      ay = t[1] * 0.5,\n      az = t[2] * 0.5,\n      bx = q[0],\n      by = q[1],\n      bz = q[2],\n      bw = q[3];\n  out[0] = bx;\n  out[1] = by;\n  out[2] = bz;\n  out[3] = bw;\n  out[4] = ax * bw + ay * bz - az * by;\n  out[5] = ay * bw + az * bx - ax * bz;\n  out[6] = az * bw + ax * by - ay * bx;\n  out[7] = -ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\n * Creates a dual quat from a translation\n *\n * @param {ReadonlyQuat2} dual quaternion receiving operation result\n * @param {ReadonlyVec3} t translation vector\n * @returns {quat2} dual quaternion receiving operation result\n * @function\n */\n\nexport function fromTranslation(out, t) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = t[0] * 0.5;\n  out[5] = t[1] * 0.5;\n  out[6] = t[2] * 0.5;\n  out[7] = 0;\n  return out;\n}\n/**\n * Creates a dual quat from a quaternion\n *\n * @param {ReadonlyQuat2} dual quaternion receiving operation result\n * @param {ReadonlyQuat} q the quaternion\n * @returns {quat2} dual quaternion receiving operation result\n * @function\n */\n\nexport function fromRotation(out, q) {\n  out[0] = q[0];\n  out[1] = q[1];\n  out[2] = q[2];\n  out[3] = q[3];\n  out[4] = 0;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  return out;\n}\n/**\n * Creates a new dual quat from a matrix (4x4)\n *\n * @param {quat2} out the dual quaternion\n * @param {ReadonlyMat4} a the matrix\n * @returns {quat2} dual quat receiving operation result\n * @function\n */\n\nexport function fromMat4(out, a) {\n  //TODO Optimize this\n  var outer = quat.create();\n  mat4.getRotation(outer, a);\n  var t = new glMatrix.ARRAY_TYPE(3);\n  mat4.getTranslation(t, a);\n  fromRotationTranslation(out, outer, t);\n  return out;\n}\n/**\n * Copy the values from one dual quat to another\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the source dual quaternion\n * @returns {quat2} out\n * @function\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  return out;\n}\n/**\n * Set a dual quat to the identity dual quaternion\n *\n * @param {quat2} out the receiving quaternion\n * @returns {quat2} out\n */\n\nexport function identity(out) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = 0;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  return out;\n}\n/**\n * Set the components of a dual quat to the given values\n *\n * @param {quat2} out the receiving quaternion\n * @param {Number} x1 X component\n * @param {Number} y1 Y component\n * @param {Number} z1 Z component\n * @param {Number} w1 W component\n * @param {Number} x2 X component\n * @param {Number} y2 Y component\n * @param {Number} z2 Z component\n * @param {Number} w2 W component\n * @returns {quat2} out\n * @function\n */\n\nexport function set(out, x1, y1, z1, w1, x2, y2, z2, w2) {\n  out[0] = x1;\n  out[1] = y1;\n  out[2] = z1;\n  out[3] = w1;\n  out[4] = x2;\n  out[5] = y2;\n  out[6] = z2;\n  out[7] = w2;\n  return out;\n}\n/**\n * Gets the real part of a dual quat\n * @param  {quat} out real part\n * @param  {ReadonlyQuat2} a Dual Quaternion\n * @return {quat} real part\n */\n\nexport var getReal = quat.copy;\n/**\n * Gets the dual part of a dual quat\n * @param  {quat} out dual part\n * @param  {ReadonlyQuat2} a Dual Quaternion\n * @return {quat} dual part\n */\n\nexport function getDual(out, a) {\n  out[0] = a[4];\n  out[1] = a[5];\n  out[2] = a[6];\n  out[3] = a[7];\n  return out;\n}\n/**\n * Set the real component of a dual quat to the given quaternion\n *\n * @param {quat2} out the receiving quaternion\n * @param {ReadonlyQuat} q a quaternion representing the real part\n * @returns {quat2} out\n * @function\n */\n\nexport var setReal = quat.copy;\n/**\n * Set the dual component of a dual quat to the given quaternion\n *\n * @param {quat2} out the receiving quaternion\n * @param {ReadonlyQuat} q a quaternion representing the dual part\n * @returns {quat2} out\n * @function\n */\n\nexport function setDual(out, q) {\n  out[4] = q[0];\n  out[5] = q[1];\n  out[6] = q[2];\n  out[7] = q[3];\n  return out;\n}\n/**\n * Gets the translation of a normalized dual quat\n * @param  {vec3} out translation\n * @param  {ReadonlyQuat2} a Dual Quaternion to be decomposed\n * @return {vec3} translation\n */\n\nexport function getTranslation(out, a) {\n  var ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3];\n  out[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n  out[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n  out[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  return out;\n}\n/**\n * Translates a dual quat by the given vector\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to translate\n * @param {ReadonlyVec3} v vector to translate by\n * @returns {quat2} out\n */\n\nexport function translate(out, a, v) {\n  var ax1 = a[0],\n      ay1 = a[1],\n      az1 = a[2],\n      aw1 = a[3],\n      bx1 = v[0] * 0.5,\n      by1 = v[1] * 0.5,\n      bz1 = v[2] * 0.5,\n      ax2 = a[4],\n      ay2 = a[5],\n      az2 = a[6],\n      aw2 = a[7];\n  out[0] = ax1;\n  out[1] = ay1;\n  out[2] = az1;\n  out[3] = aw1;\n  out[4] = aw1 * bx1 + ay1 * bz1 - az1 * by1 + ax2;\n  out[5] = aw1 * by1 + az1 * bx1 - ax1 * bz1 + ay2;\n  out[6] = aw1 * bz1 + ax1 * by1 - ay1 * bx1 + az2;\n  out[7] = -ax1 * bx1 - ay1 * by1 - az1 * bz1 + aw2;\n  return out;\n}\n/**\n * Rotates a dual quat around the X axis\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @param {number} rad how far should the rotation be\n * @returns {quat2} out\n */\n\nexport function rotateX(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  quat.rotateX(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\n * Rotates a dual quat around the Y axis\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @param {number} rad how far should the rotation be\n * @returns {quat2} out\n */\n\nexport function rotateY(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  quat.rotateY(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\n * Rotates a dual quat around the Z axis\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @param {number} rad how far should the rotation be\n * @returns {quat2} out\n */\n\nexport function rotateZ(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  quat.rotateZ(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\n * Rotates a dual quat by a given quaternion (a * q)\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @param {ReadonlyQuat} q quaternion to rotate by\n * @returns {quat2} out\n */\n\nexport function rotateByQuatAppend(out, a, q) {\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3],\n      ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  out[0] = ax * qw + aw * qx + ay * qz - az * qy;\n  out[1] = ay * qw + aw * qy + az * qx - ax * qz;\n  out[2] = az * qw + aw * qz + ax * qy - ay * qx;\n  out[3] = aw * qw - ax * qx - ay * qy - az * qz;\n  ax = a[4];\n  ay = a[5];\n  az = a[6];\n  aw = a[7];\n  out[4] = ax * qw + aw * qx + ay * qz - az * qy;\n  out[5] = ay * qw + aw * qy + az * qx - ax * qz;\n  out[6] = az * qw + aw * qz + ax * qy - ay * qx;\n  out[7] = aw * qw - ax * qx - ay * qy - az * qz;\n  return out;\n}\n/**\n * Rotates a dual quat by a given quaternion (q * a)\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat} q quaternion to rotate by\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @returns {quat2} out\n */\n\nexport function rotateByQuatPrepend(out, q, a) {\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3],\n      bx = a[0],\n      by = a[1],\n      bz = a[2],\n      bw = a[3];\n  out[0] = qx * bw + qw * bx + qy * bz - qz * by;\n  out[1] = qy * bw + qw * by + qz * bx - qx * bz;\n  out[2] = qz * bw + qw * bz + qx * by - qy * bx;\n  out[3] = qw * bw - qx * bx - qy * by - qz * bz;\n  bx = a[4];\n  by = a[5];\n  bz = a[6];\n  bw = a[7];\n  out[4] = qx * bw + qw * bx + qy * bz - qz * by;\n  out[5] = qy * bw + qw * by + qz * bx - qx * bz;\n  out[6] = qz * bw + qw * bz + qx * by - qy * bx;\n  out[7] = qw * bw - qx * bx - qy * by - qz * bz;\n  return out;\n}\n/**\n * Rotates a dual quat around a given axis. Does the normalisation automatically\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @param {Number} rad how far the rotation should be\n * @returns {quat2} out\n */\n\nexport function rotateAroundAxis(out, a, axis, rad) {\n  //Special case for rad = 0\n  if (Math.abs(rad) < glMatrix.EPSILON) {\n    return copy(out, a);\n  }\n\n  var axisLength = Math.hypot(axis[0], axis[1], axis[2]);\n  rad = rad * 0.5;\n  var s = Math.sin(rad);\n  var bx = s * axis[0] / axisLength;\n  var by = s * axis[1] / axisLength;\n  var bz = s * axis[2] / axisLength;\n  var bw = Math.cos(rad);\n  var ax1 = a[0],\n      ay1 = a[1],\n      az1 = a[2],\n      aw1 = a[3];\n  out[0] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[1] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[2] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[3] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  var ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  out[4] = ax * bw + aw * bx + ay * bz - az * by;\n  out[5] = ay * bw + aw * by + az * bx - ax * bz;\n  out[6] = az * bw + aw * bz + ax * by - ay * bx;\n  out[7] = aw * bw - ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\n * Adds two dual quat's\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the first operand\n * @param {ReadonlyQuat2} b the second operand\n * @returns {quat2} out\n * @function\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  return out;\n}\n/**\n * Multiplies two dual quat's\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the first operand\n * @param {ReadonlyQuat2} b the second operand\n * @returns {quat2} out\n */\n\nexport function multiply(out, a, b) {\n  var ax0 = a[0],\n      ay0 = a[1],\n      az0 = a[2],\n      aw0 = a[3],\n      bx1 = b[4],\n      by1 = b[5],\n      bz1 = b[6],\n      bw1 = b[7],\n      ax1 = a[4],\n      ay1 = a[5],\n      az1 = a[6],\n      aw1 = a[7],\n      bx0 = b[0],\n      by0 = b[1],\n      bz0 = b[2],\n      bw0 = b[3];\n  out[0] = ax0 * bw0 + aw0 * bx0 + ay0 * bz0 - az0 * by0;\n  out[1] = ay0 * bw0 + aw0 * by0 + az0 * bx0 - ax0 * bz0;\n  out[2] = az0 * bw0 + aw0 * bz0 + ax0 * by0 - ay0 * bx0;\n  out[3] = aw0 * bw0 - ax0 * bx0 - ay0 * by0 - az0 * bz0;\n  out[4] = ax0 * bw1 + aw0 * bx1 + ay0 * bz1 - az0 * by1 + ax1 * bw0 + aw1 * bx0 + ay1 * bz0 - az1 * by0;\n  out[5] = ay0 * bw1 + aw0 * by1 + az0 * bx1 - ax0 * bz1 + ay1 * bw0 + aw1 * by0 + az1 * bx0 - ax1 * bz0;\n  out[6] = az0 * bw1 + aw0 * bz1 + ax0 * by1 - ay0 * bx1 + az1 * bw0 + aw1 * bz0 + ax1 * by0 - ay1 * bx0;\n  out[7] = aw0 * bw1 - ax0 * bx1 - ay0 * by1 - az0 * bz1 + aw1 * bw0 - ax1 * bx0 - ay1 * by0 - az1 * bz0;\n  return out;\n}\n/**\n * Alias for {@link quat2.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Scales a dual quat by a scalar number\n *\n * @param {quat2} out the receiving dual quat\n * @param {ReadonlyQuat2} a the dual quat to scale\n * @param {Number} b amount to scale the dual quat by\n * @returns {quat2} out\n * @function\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  return out;\n}\n/**\n * Calculates the dot product of two dual quat's (The dot product of the real parts)\n *\n * @param {ReadonlyQuat2} a the first operand\n * @param {ReadonlyQuat2} b the second operand\n * @returns {Number} dot product of a and b\n * @function\n */\n\nexport var dot = quat.dot;\n/**\n * Performs a linear interpolation between two dual quats's\n * NOTE: The resulting dual quaternions won't always be normalized (The error is most noticeable when t = 0.5)\n *\n * @param {quat2} out the receiving dual quat\n * @param {ReadonlyQuat2} a the first operand\n * @param {ReadonlyQuat2} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat2} out\n */\n\nexport function lerp(out, a, b, t) {\n  var mt = 1 - t;\n  if (dot(a, b) < 0) t = -t;\n  out[0] = a[0] * mt + b[0] * t;\n  out[1] = a[1] * mt + b[1] * t;\n  out[2] = a[2] * mt + b[2] * t;\n  out[3] = a[3] * mt + b[3] * t;\n  out[4] = a[4] * mt + b[4] * t;\n  out[5] = a[5] * mt + b[5] * t;\n  out[6] = a[6] * mt + b[6] * t;\n  out[7] = a[7] * mt + b[7] * t;\n  return out;\n}\n/**\n * Calculates the inverse of a dual quat. If they are normalized, conjugate is cheaper\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a dual quat to calculate inverse of\n * @returns {quat2} out\n */\n\nexport function invert(out, a) {\n  var sqlen = squaredLength(a);\n  out[0] = -a[0] / sqlen;\n  out[1] = -a[1] / sqlen;\n  out[2] = -a[2] / sqlen;\n  out[3] = a[3] / sqlen;\n  out[4] = -a[4] / sqlen;\n  out[5] = -a[5] / sqlen;\n  out[6] = -a[6] / sqlen;\n  out[7] = a[7] / sqlen;\n  return out;\n}\n/**\n * Calculates the conjugate of a dual quat\n * If the dual quaternion is normalized, this function is faster than quat2.inverse and produces the same result.\n *\n * @param {quat2} out the receiving quaternion\n * @param {ReadonlyQuat2} a quat to calculate conjugate of\n * @returns {quat2} out\n */\n\nexport function conjugate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a[3];\n  out[4] = -a[4];\n  out[5] = -a[5];\n  out[6] = -a[6];\n  out[7] = a[7];\n  return out;\n}\n/**\n * Calculates the length of a dual quat\n *\n * @param {ReadonlyQuat2} a dual quat to calculate length of\n * @returns {Number} length of a\n * @function\n */\n\nexport var length = quat.length;\n/**\n * Alias for {@link quat2.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Calculates the squared length of a dual quat\n *\n * @param {ReadonlyQuat2} a dual quat to calculate squared length of\n * @returns {Number} squared length of a\n * @function\n */\n\nexport var squaredLength = quat.squaredLength;\n/**\n * Alias for {@link quat2.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Normalize a dual quat\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a dual quaternion to normalize\n * @returns {quat2} out\n * @function\n */\n\nexport function normalize(out, a) {\n  var magnitude = squaredLength(a);\n\n  if (magnitude > 0) {\n    magnitude = Math.sqrt(magnitude);\n    var a0 = a[0] / magnitude;\n    var a1 = a[1] / magnitude;\n    var a2 = a[2] / magnitude;\n    var a3 = a[3] / magnitude;\n    var b0 = a[4];\n    var b1 = a[5];\n    var b2 = a[6];\n    var b3 = a[7];\n    var a_dot_b = a0 * b0 + a1 * b1 + a2 * b2 + a3 * b3;\n    out[0] = a0;\n    out[1] = a1;\n    out[2] = a2;\n    out[3] = a3;\n    out[4] = (b0 - a0 * a_dot_b) / magnitude;\n    out[5] = (b1 - a1 * a_dot_b) / magnitude;\n    out[6] = (b2 - a2 * a_dot_b) / magnitude;\n    out[7] = (b3 - a3 * a_dot_b) / magnitude;\n  }\n\n  return out;\n}\n/**\n * Returns a string representation of a dual quatenion\n *\n * @param {ReadonlyQuat2} a dual quaternion to represent as a string\n * @returns {String} string representation of the dual quat\n */\n\nexport function str(a) {\n  return \"quat2(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \")\";\n}\n/**\n * Returns whether or not the dual quaternions have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyQuat2} a the first dual quaternion.\n * @param {ReadonlyQuat2} b the second dual quaternion.\n * @returns {Boolean} true if the dual quaternions are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7];\n}\n/**\n * Returns whether or not the dual quaternions have approximately the same elements in the same position.\n *\n * @param {ReadonlyQuat2} a the first dual quat.\n * @param {ReadonlyQuat2} b the second dual quat.\n * @returns {Boolean} true if the dual quats are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7));\n}", "var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Emitter } from '@wonderlandengine/api';\nimport { property } from '@wonderlandengine/api/decorators.js';\nimport { setXRRigidTransformLocal } from './utils/webxr.js';\n/**\n * Sets up a [WebXR Device API \"Hit Test\"](https://immersive-web.github.io/hit-test/)\n * and places the object to the hit location.\n *\n * **Requirements:**\n *  - Specify `'hit-test'` in the required or optional features on the AR button in your html file.\n *    See [Wastepaperbin AR](/showcase/wpb-ar) as an example.\n */\nclass HitTestLocation extends Component {\n    static TypeName = 'hit-test-location';\n    tempScaling = new Float32Array(3);\n    visible = false;\n    xrHitTestSource = null;\n    /** Reference space for creating the hit test when the session starts */\n    xrReferenceSpace = null;\n    /**\n     * For maintaining backwards compatibility: Whether to scale the object to 0 and back.\n     * @deprecated Use onHitLost and onHitFound instead.\n     */\n    scaleObject = true;\n    /** Emits an event when the hit test switches from visible to invisible */\n    onHitLost = new Emitter();\n    /** Emits an event when the hit test switches from invisible to visible */\n    onHitFound = new Emitter();\n    onSessionStartCallback = null;\n    onSessionEndCallback = null;\n    start() {\n        this.onSessionStartCallback = this.onXRSessionStart.bind(this);\n        this.onSessionEndCallback = this.onXRSessionEnd.bind(this);\n        if (this.scaleObject) {\n            this.tempScaling.set(this.object.scalingLocal);\n            this.object.scale([0, 0, 0]);\n            this.onHitLost.add(() => {\n                this.tempScaling.set(this.object.scalingLocal);\n                this.object.scale([0, 0, 0]);\n            });\n            this.onHitFound.add(() => {\n                this.object.scalingLocal.set(this.tempScaling);\n                this.object.setDirty();\n            });\n        }\n    }\n    onActivate() {\n        this.engine.onXRSessionStart.add(this.onSessionStartCallback);\n        this.engine.onXRSessionEnd.add(this.onSessionEndCallback);\n    }\n    onDeactivate() {\n        this.engine.onXRSessionStart.remove(this.onSessionStartCallback);\n        this.engine.onXRSessionEnd.remove(this.onSessionEndCallback);\n    }\n    update() {\n        const wasVisible = this.visible;\n        if (this.xrHitTestSource) {\n            const frame = this.engine.xrFrame;\n            if (!frame)\n                return;\n            let hitTestResults = frame.getHitTestResults(this.xrHitTestSource);\n            if (hitTestResults.length > 0) {\n                let pose = hitTestResults[0].getPose(this.engine.xr.currentReferenceSpace);\n                this.visible = !!pose;\n                if (pose) {\n                    setXRRigidTransformLocal(this.object, pose.transform);\n                }\n            }\n            else {\n                this.visible = false;\n            }\n        }\n        /* Emit events for visible state change */\n        if (this.visible != wasVisible) {\n            (this.visible ? this.onHitFound : this.onHitLost).notify(this);\n        }\n    }\n    getHitTestResults(frame = this.engine.xr?.frame ?? null) {\n        if (!frame)\n            return [];\n        /* May happen if the hit test source couldn't be created */\n        if (!this.xrHitTestSource)\n            return [];\n        return frame.getHitTestResults(this.xrHitTestSource);\n    }\n    onXRSessionStart(session) {\n        if (session.requestHitTestSource === undefined) {\n            console.error('hit-test-location: hit test feature not available. Deactivating component.');\n            this.active = false;\n            return;\n        }\n        session\n            .requestHitTestSource({\n            space: this.xrReferenceSpace ??\n                this.engine.xr.referenceSpaceForType('viewer'),\n        })\n            .then((hitTestSource) => {\n            this.xrHitTestSource = hitTestSource;\n        })\n            .catch(console.error);\n    }\n    onXRSessionEnd() {\n        if (!this.xrHitTestSource)\n            return;\n        this.xrHitTestSource.cancel();\n        this.xrHitTestSource = null;\n    }\n}\n__decorate([\n    property.bool(true)\n], HitTestLocation.prototype, \"scaleObject\", void 0);\nexport { HitTestLocation };\n", "var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, ViewComponent, Emitter, } from '@wonderlandengine/api';\nimport { property } from '@wonderlandengine/api/decorators.js';\nimport { vec3, mat4 } from 'gl-matrix';\nimport { CursorTarget } from './cursor-target.js';\nimport { HitTestLocation } from './hit-test-location.js';\nconst tempVec = new Float32Array(3);\n/** Global target for {@link Cursor} */\nclass CursorTargetEmitters {\n    /** Emitter for events when the target is hovered */\n    onHover = new Emitter();\n    /** Emitter for events when the target is unhovered */\n    onUnhover = new Emitter();\n    /** Emitter for events when the target is clicked */\n    onClick = new Emitter();\n    /** Emitter for events when the cursor moves on the target */\n    onMove = new Emitter();\n    /** Emitter for events when the user pressed the select button on the target */\n    onDown = new Emitter();\n    /** Emitter for events when the user unpressed the select button on the target */\n    onUp = new Emitter();\n}\n/**\n * 3D cursor for desktop/mobile/VR.\n *\n * Implements a ray-casting cursor into the scene. To react to\n * clicking/hover/unhover/cursor down/cursor up/move use a\n * [cursor-target](#cursor-target).\n *\n * For VR, the ray is cast in direction of\n * [this.object.getForward()](/jsapi/object/#getforward). For desktop and mobile, the\n * forward vector is inverse-projected to account for where on screen the user clicked.\n *\n * `.globalTarget` can be used to call callbacks for all objects, even those that\n * do not have a cursor target attached, but match the collision group.\n *\n * `.hitTestTarget` can be used to call callbacks WebXR hit test results,\n *\n * See [Animation Example](/showcase/animation).\n */\nclass Cursor extends Component {\n    static TypeName = 'cursor';\n    /* Dependencies is deprecated, but we keep it here for compatibility\n     * with 1.0.0-rc2 until 1.0.0 is released */\n    static Dependencies = [HitTestLocation];\n    static onRegister(engine) {\n        engine.registerComponent(HitTestLocation);\n    }\n    _collisionMask = 0;\n    _onDeactivateCallbacks = [];\n    _input = null;\n    _origin = new Float32Array(3);\n    _cursorObjScale = new Float32Array(3);\n    _direction = new Float32Array(3);\n    _projectionMatrix = new Float32Array(16);\n    _viewComponent = null;\n    _isDown = false;\n    _lastIsDown = false;\n    _arTouchDown = false;\n    _lastPointerPos = new Float32Array(2);\n    _lastCursorPosOnTarget = new Float32Array(3);\n    _cursorRayScale = new Float32Array(3);\n    _hitTestLocation = null;\n    _hitTestObject = null;\n    _onSessionStartCallback = null;\n    /**\n     * Whether the cursor (and cursorObject) is visible, i.e. pointing at an object\n     * that matches the collision group\n     */\n    visible = true;\n    /** Maximum distance for the cursor's ray cast */\n    maxDistance = 100;\n    /** Currently hovered object */\n    hoveringObject = null;\n    /** CursorTarget component of the currently hovered object */\n    hoveringObjectTarget = null;\n    /** Whether the cursor is hovering reality via hit-test */\n    hoveringReality = false;\n    /**\n     * Global target lets you receive global cursor events on any object.\n     */\n    globalTarget = new CursorTargetEmitters();\n    /**\n     * Hit test target lets you receive cursor events for \"reality\", if\n     * `useWebXRHitTest` is set to `true`.\n     *\n     * @example\n     * ```js\n     * cursor.hitTestTarget.onClick.add((hit, cursor) => {\n     *     // User clicked on reality\n     * });\n     * ```\n     */\n    hitTestTarget = new CursorTargetEmitters();\n    /** World position of the cursor */\n    cursorPos = new Float32Array(3);\n    /** Collision group for the ray cast. Only objects in this group will be affected by this cursor. */\n    collisionGroup = 1;\n    /** (optional) Object that visualizes the cursor's ray. */\n    cursorRayObject = null;\n    /** Axis along which to scale the `cursorRayObject`. */\n    cursorRayScalingAxis = 2;\n    /** (optional) Object that visualizes the cursor's hit location. */\n    cursorObject = null;\n    /** Handedness for VR cursors to accept trigger events only from respective controller. */\n    handedness = 0;\n    /** Mode for raycasting, whether to use PhysX or simple collision components */\n    rayCastMode = 0;\n    /** Whether to set the CSS style of the mouse cursor on desktop */\n    styleCursor = true;\n    /**\n     * Use WebXR hit-test if available.\n     *\n     * Attaches a hit-test-location component to the cursorObject, which will be used\n     * by the cursor to send events to the hitTestTarget with HitTestResult.\n     */\n    useWebXRHitTest = false;\n    _onViewportResize = () => {\n        if (!this._viewComponent)\n            return;\n        /* Projection matrix will change if the viewport is resized, which will affect the\n         * projection matrix because of the aspect ratio. */\n        mat4.invert(this._projectionMatrix, this._viewComponent.projectionMatrix);\n    };\n    start() {\n        this._collisionMask = 1 << this.collisionGroup;\n        if (this.handedness == 0) {\n            const inputComp = this.object.getComponent('input');\n            if (!inputComp) {\n                console.warn('cursor component on object', this.object.name, 'was configured with handedness \"input component\", ' +\n                    'but object has no input component.');\n            }\n            else {\n                this.handedness = inputComp.handedness || 'none';\n                this._input = inputComp;\n            }\n        }\n        else {\n            this.handedness = ['left', 'right', 'none'][this.handedness - 1];\n        }\n        this._viewComponent = this.object.getComponent(ViewComponent);\n        if (this.useWebXRHitTest) {\n            this._hitTestObject = this.engine.scene.addObject(this.object);\n            this._hitTestLocation =\n                this._hitTestObject.addComponent(HitTestLocation, {\n                    scaleObject: false,\n                }) ?? null;\n        }\n        this._onSessionStartCallback = this.setupVREvents.bind(this);\n    }\n    onActivate() {\n        this.engine.onXRSessionStart.add(this._onSessionStartCallback);\n        this.engine.onResize.add(this._onViewportResize);\n        this._setCursorVisibility(true);\n        /* If this object also has a view component, we will enable inverse-projected mouse clicks,\n         * otherwise just use the objects transformation */\n        if (this._viewComponent != null) {\n            const canvas = this.engine.canvas;\n            const onClick = this.onClick.bind(this);\n            const onPointerMove = this.onPointerMove.bind(this);\n            const onPointerDown = this.onPointerDown.bind(this);\n            const onPointerUp = this.onPointerUp.bind(this);\n            canvas.addEventListener('click', onClick);\n            canvas.addEventListener('pointermove', onPointerMove);\n            canvas.addEventListener('pointerdown', onPointerDown);\n            canvas.addEventListener('pointerup', onPointerUp);\n            this._onDeactivateCallbacks.push(() => {\n                canvas.removeEventListener('click', onClick);\n                canvas.removeEventListener('pointermove', onPointerMove);\n                canvas.removeEventListener('pointerdown', onPointerDown);\n                canvas.removeEventListener('pointerup', onPointerUp);\n            });\n        }\n        this._onViewportResize();\n    }\n    _setCursorRayTransform(hitPosition) {\n        if (!this.cursorRayObject)\n            return;\n        const dist = vec3.dist(this._origin, hitPosition);\n        this.cursorRayObject.setTranslationLocal([0.0, 0.0, -dist / 2]);\n        if (this.cursorRayScalingAxis != 4) {\n            this.cursorRayObject.resetScaling();\n            this._cursorRayScale[this.cursorRayScalingAxis] = dist / 2;\n            this.cursorRayObject.scale(this._cursorRayScale);\n        }\n    }\n    _setCursorVisibility(visible) {\n        if (this.visible == visible)\n            return;\n        this.visible = visible;\n        if (!this.cursorObject)\n            return;\n        if (visible) {\n            this.cursorObject.setScalingWorld(this._cursorObjScale);\n        }\n        else {\n            this.cursorObject.getScalingLocal(this._cursorObjScale);\n            this.cursorObject.scale([0, 0, 0]);\n        }\n    }\n    update() {\n        /* If in VR, set the cursor ray based on object transform */\n        /* Since Google Cardboard tap is registered as arTouchDown without a gamepad, we need to check for gamepad presence */\n        if (this.engine.xr &&\n            this._arTouchDown &&\n            this._input &&\n            this.engine.xr.session.inputSources[0].handedness === 'none' &&\n            this.engine.xr.session.inputSources[0].gamepad) {\n            /* WebXR AR input */\n            const p = this.engine.xr.session.inputSources[0].gamepad.axes;\n            /* Screenspace Y is inverted */\n            this._direction[0] = p[0];\n            this._direction[1] = -p[1];\n            this._direction[2] = -1.0;\n            this.applyTransformAndProjectDirection();\n        }\n        else if (this.engine.xr && this._input && this._input.xrInputSource) {\n            /* WebXR VR input */\n            this._direction[0] = 0;\n            this._direction[1] = 0;\n            this._direction[2] = -1.0;\n            this.applyTransformToDirection();\n        }\n        else if (this._viewComponent) {\n            /* Apply potentially changed transform to last stored pointer\n             * position */\n            this.updateDirection();\n        }\n        this.rayCast(null, this.engine.xr?.frame);\n        if (this.cursorObject) {\n            if (this.hoveringObject &&\n                (this.cursorPos[0] != 0 || this.cursorPos[1] != 0 || this.cursorPos[2] != 0)) {\n                this._setCursorVisibility(true);\n                this.cursorObject.setTranslationWorld(this.cursorPos);\n                this._setCursorRayTransform(this.cursorPos);\n            }\n            else {\n                this._setCursorVisibility(false);\n            }\n        }\n    }\n    /* Returns the hovered cursor target, if available */\n    notify(event, originalEvent) {\n        const target = this.hoveringObject;\n        if (target) {\n            const cursorTarget = this.hoveringObjectTarget;\n            if (cursorTarget)\n                cursorTarget[event].notify(target, this, originalEvent ?? undefined);\n            this.globalTarget[event].notify(target, this, originalEvent ?? undefined);\n        }\n    }\n    hoverBehaviour(rayHit, hitTestResult, doClick, originalEvent) {\n        /* Old API version does not return null for objects[0] if no hit */\n        const hit = !this.hoveringReality && rayHit.hitCount > 0 ? rayHit.objects[0] : null;\n        if (hit) {\n            if (!this.hoveringObject || !this.hoveringObject.equals(hit)) {\n                /* Unhover previous, if exists */\n                if (this.hoveringObject) {\n                    this.notify('onUnhover', originalEvent);\n                }\n                /* Hover new object */\n                this.hoveringObject = hit;\n                this.hoveringObjectTarget = this.hoveringObject.getComponent(CursorTarget);\n                if (this.styleCursor)\n                    this.engine.canvas.style.cursor = 'pointer';\n                this.notify('onHover', originalEvent);\n            }\n        }\n        else if (this.hoveringObject) {\n            /* Previously hovering object, now hovering nothing */\n            this.notify('onUnhover', originalEvent);\n            this.hoveringObject = null;\n            this.hoveringObjectTarget = null;\n            if (this.styleCursor)\n                this.engine.canvas.style.cursor = 'default';\n        }\n        if (this.hoveringObject) {\n            /* onDown/onUp for object */\n            if (this._isDown !== this._lastIsDown) {\n                this.notify(this._isDown ? 'onDown' : 'onUp', originalEvent);\n            }\n            /* onClick for object */\n            if (doClick)\n                this.notify('onClick', originalEvent);\n        }\n        else if (this.hoveringReality) {\n            /* onDown/onUp for hit test */\n            if (this._isDown !== this._lastIsDown) {\n                (this._isDown ? this.hitTestTarget.onDown : this.hitTestTarget.onUp).notify(hitTestResult, this, originalEvent ?? undefined);\n            }\n            /* onClick for hit test */\n            if (doClick)\n                this.hitTestTarget.onClick.notify(hitTestResult, this, originalEvent ?? undefined);\n        }\n        /* onMove */\n        if (hit) {\n            if (this.hoveringObject) {\n                this.hoveringObject.transformPointInverseWorld(tempVec, this.cursorPos);\n            }\n            else {\n                tempVec.set(this.cursorPos);\n            }\n            if (!vec3.equals(this._lastCursorPosOnTarget, tempVec)) {\n                this.notify('onMove', originalEvent);\n                this._lastCursorPosOnTarget.set(tempVec);\n            }\n        }\n        else if (this.hoveringReality) {\n            if (!vec3.equals(this._lastCursorPosOnTarget, this.cursorPos)) {\n                this.hitTestTarget.onMove.notify(hitTestResult, this, originalEvent ?? undefined);\n                this._lastCursorPosOnTarget.set(this.cursorPos);\n            }\n        }\n        else {\n            this._lastCursorPosOnTarget.set(this.cursorPos);\n        }\n        this._lastIsDown = this._isDown;\n    }\n    /**\n     * Setup event listeners on session object\n     * @param s WebXR session\n     *\n     * Sets up 'select' and 'end' events.\n     */\n    setupVREvents(s) {\n        if (!s)\n            console.error('setupVREvents called without a valid session');\n        /* If in VR, one-time bind the listener */\n        const onSelect = this.onSelect.bind(this);\n        s.addEventListener('select', onSelect);\n        const onSelectStart = this.onSelectStart.bind(this);\n        s.addEventListener('selectstart', onSelectStart);\n        const onSelectEnd = this.onSelectEnd.bind(this);\n        s.addEventListener('selectend', onSelectEnd);\n        this._onDeactivateCallbacks.push(() => {\n            if (!this.engine.xrSession)\n                return;\n            s.removeEventListener('select', onSelect);\n            s.removeEventListener('selectstart', onSelectStart);\n            s.removeEventListener('selectend', onSelectEnd);\n        });\n        /* After AR session was entered, the projection matrix changed */\n        this._onViewportResize();\n    }\n    onDeactivate() {\n        this.engine.onXRSessionStart.remove(this._onSessionStartCallback);\n        this.engine.onResize.remove(this._onViewportResize);\n        this._setCursorVisibility(false);\n        if (this.hoveringObject)\n            this.notify('onUnhover', null);\n        if (this.cursorRayObject)\n            this.cursorRayObject.scale([0, 0, 0]);\n        /* Ensure all event listeners are removed */\n        for (const f of this._onDeactivateCallbacks)\n            f();\n        this._onDeactivateCallbacks.length = 0;\n    }\n    onDestroy() {\n        this._hitTestObject?.destroy();\n    }\n    /** 'select' event listener */\n    onSelect(e) {\n        if (e.inputSource.handedness != this.handedness)\n            return;\n        this.rayCast(e, e.frame, true);\n    }\n    /** 'selectstart' event listener */\n    onSelectStart(e) {\n        this._arTouchDown = true;\n        if (e.inputSource.handedness == this.handedness) {\n            this._isDown = true;\n            this.rayCast(e, e.frame);\n        }\n    }\n    /** 'selectend' event listener */\n    onSelectEnd(e) {\n        this._arTouchDown = false;\n        if (e.inputSource.handedness == this.handedness) {\n            this._isDown = false;\n            this.rayCast(e, e.frame);\n        }\n    }\n    /** 'pointermove' event listener */\n    onPointerMove(e) {\n        /* Don't care about secondary pointers */\n        if (!e.isPrimary)\n            return;\n        this.updateMousePos(e);\n        this.rayCast(e, null);\n    }\n    /** 'click' event listener */\n    onClick(e) {\n        this.updateMousePos(e);\n        this.rayCast(e, null, true);\n    }\n    /** 'pointerdown' event listener */\n    onPointerDown(e) {\n        /* Don't care about secondary pointers or non-left clicks */\n        if (!e.isPrimary || e.button !== 0)\n            return;\n        this.updateMousePos(e);\n        this._isDown = true;\n        this.rayCast(e);\n    }\n    /** 'pointerup' event listener */\n    onPointerUp(e) {\n        /* Don't care about secondary pointers or non-left clicks */\n        if (!e.isPrimary || e.button !== 0)\n            return;\n        this.updateMousePos(e);\n        this._isDown = false;\n        this.rayCast(e);\n    }\n    /**\n     * Update mouse position in non-VR mode and raycast for new position\n     * @returns @ref WL.RayHit for new position.\n     */\n    updateMousePos(e) {\n        this._lastPointerPos[0] = e.clientX;\n        this._lastPointerPos[1] = e.clientY;\n        this.updateDirection();\n    }\n    updateDirection() {\n        const bounds = this.engine.canvas.getBoundingClientRect();\n        /* Get direction in normalized device coordinate space from mouse position */\n        const left = this._lastPointerPos[0] / bounds.width;\n        const top = this._lastPointerPos[1] / bounds.height;\n        this._direction[0] = left * 2 - 1;\n        this._direction[1] = -top * 2 + 1;\n        this._direction[2] = -1.0;\n        this.applyTransformAndProjectDirection();\n    }\n    applyTransformAndProjectDirection() {\n        /* Reverse-project the direction into view space */\n        vec3.transformMat4(this._direction, this._direction, this._projectionMatrix);\n        vec3.normalize(this._direction, this._direction);\n        this.applyTransformToDirection();\n    }\n    applyTransformToDirection() {\n        vec3.transformQuat(this._direction, this._direction, this.object.transformWorld);\n        this.object.getTranslationWorld(this._origin);\n    }\n    rayCast(originalEvent, frame = null, doClick = false) {\n        const rayHit = this.rayCastMode == 0\n            ? this.engine.scene.rayCast(this._origin, this._direction, this._collisionMask)\n            : this.engine.physics.rayCast(this._origin, this._direction, this._collisionMask, this.maxDistance);\n        let hitResultDistance = Infinity;\n        let hitTestResult = null;\n        if (this._hitTestLocation?.visible) {\n            this._hitTestObject.getTranslationWorld(this.cursorPos);\n            hitResultDistance = vec3.distance(this.object.getTranslationWorld(tempVec), this.cursorPos);\n            hitTestResult = this._hitTestLocation?.getHitTestResults(frame)[0];\n        }\n        let hoveringReality = false;\n        if (rayHit.hitCount > 0) {\n            const d = rayHit.distances[0];\n            if (hitResultDistance >= d) {\n                /* Override cursorPos set by hit test location */\n                this.cursorPos.set(rayHit.locations[0]);\n            }\n            else {\n                hoveringReality = true;\n            }\n        }\n        else if (hitResultDistance < Infinity) {\n            /* cursorPos already set */\n        }\n        else {\n            this.cursorPos.fill(0);\n        }\n        if (hoveringReality && !this.hoveringReality) {\n            this.hitTestTarget.onHover.notify(hitTestResult, this);\n        }\n        else if (!hoveringReality && this.hoveringReality) {\n            this.hitTestTarget.onUnhover.notify(hitTestResult, this);\n        }\n        this.hoveringReality = hoveringReality;\n        this.hoverBehaviour(rayHit, hitTestResult, doClick, originalEvent);\n        return rayHit;\n    }\n}\n__decorate([\n    property.int(1)\n], Cursor.prototype, \"collisionGroup\", void 0);\n__decorate([\n    property.object()\n], Cursor.prototype, \"cursorRayObject\", void 0);\n__decorate([\n    property.enum(['x', 'y', 'z', 'none'], 'z')\n], Cursor.prototype, \"cursorRayScalingAxis\", void 0);\n__decorate([\n    property.object()\n], Cursor.prototype, \"cursorObject\", void 0);\n__decorate([\n    property.enum(['input component', 'left', 'right', 'none'], 'input component')\n], Cursor.prototype, \"handedness\", void 0);\n__decorate([\n    property.enum(['collision', 'physx'], 'collision')\n], Cursor.prototype, \"rayCastMode\", void 0);\n__decorate([\n    property.bool(true)\n], Cursor.prototype, \"styleCursor\", void 0);\n__decorate([\n    property.bool(false)\n], Cursor.prototype, \"useWebXRHitTest\", void 0);\nexport { Cursor };\n", "var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component } from '@wonderlandengine/api';\nimport { property } from '@wonderlandengine/api/decorators.js';\nimport { quat2 } from 'gl-matrix';\n/**\n * Prints some limited debug information about the object.\n *\n * Information consists of: This object's name, an object parameter's name,\n * the object's world translation, world transform and local transform.\n *\n * Mainly used by engine developers for debug purposes or as example code.\n */\nclass DebugObject extends Component {\n    static TypeName = 'debug-object';\n    /** A second object to print the name of */\n    obj = null;\n    start() {\n        let origin = new Float32Array(3);\n        quat2.getTranslation(origin, this.object.transformWorld);\n        console.log('Debug object:', this.object.name);\n        console.log('Other object:', this.obj?.name);\n        console.log('\\ttranslation', origin);\n        console.log('\\ttransformWorld', this.object.transformWorld);\n        console.log('\\ttransformLocal', this.object.transformLocal);\n    }\n}\n__decorate([\n    property.object()\n], DebugObject.prototype, \"obj\", void 0);\nexport { DebugObject };\n", "import { Component, Type } from '@wonderlandengine/api';\n/**\n * Applies [fixed foveation](https://www.w3.org/TR/webxrlayers-1/#dom-xrcompositionlayer-fixedfoveation)\n * once a WebXR session is started\n *\n * Fixed foveation reduces shading cost at the periphery by rendering at lower resolutions at the\n * edges of the users vision.\n */\nclass FixedFoveation extends Component {\n    static TypeName = 'fixed-foveation';\n    static Properties = {\n        /** Amount to apply from 0 (none) to 1 (full) */\n        fixedFoveation: { type: Type.Float, default: 0.5 },\n    };\n    start() {\n        this.onSessionStartCallback = this.setFixedFoveation.bind(this);\n    }\n    onActivate() {\n        this.engine.onXRSessionStart.add(this.onSessionStartCallback);\n    }\n    onDeactivate() {\n        this.engine.onXRSessionStart.remove(this.onSessionStartCallback);\n    }\n    setFixedFoveation() {\n        this.engine.xr.baseLayer.fixedFoveation = this.fixedFoveation;\n    }\n}\nexport { FixedFoveation };\n", "import { Component, MeshComponent, Type } from '@wonderlandengine/api';\nimport { vec3, quat, quat2 } from 'gl-matrix';\nimport { setXRRigidTransformLocal } from './utils/webxr.js';\nconst ORDERED_JOINTS = [\n    'wrist',\n    'thumb-metacarpal',\n    'thumb-phalanx-proximal',\n    'thumb-phalanx-distal',\n    'thumb-tip',\n    'index-finger-metacarpal',\n    'index-finger-phalanx-proximal',\n    'index-finger-phalanx-intermediate',\n    'index-finger-phalanx-distal',\n    'index-finger-tip',\n    'middle-finger-metacarpal',\n    'middle-finger-phalanx-proximal',\n    'middle-finger-phalanx-intermediate',\n    'middle-finger-phalanx-distal',\n    'middle-finger-tip',\n    'ring-finger-metacarpal',\n    'ring-finger-phalanx-proximal',\n    'ring-finger-phalanx-intermediate',\n    'ring-finger-phalanx-distal',\n    'ring-finger-tip',\n    'pinky-finger-metacarpal',\n    'pinky-finger-phalanx-proximal',\n    'pinky-finger-phalanx-intermediate',\n    'pinky-finger-phalanx-distal',\n    'pinky-finger-tip',\n];\nconst invTranslation = new Float32Array(3);\nconst invRotation = new Float32Array(4);\n/**\n * Easy hand tracking through the WebXR Device API\n * [\"Hand Input\" API](https://immersive-web.github.io/webxr-hand-input/).\n *\n * Allows displaying hands either as sphere-joints or skinned mesh.\n *\n * To react to grabbing, use `this.isGrabbing()`. For other gestures, refer\n * to `this.joints` - an array of [WL.Object](/jsapi/object) and use the joint\n * indices listed [in the WebXR Hand Input specification](https://immersive-web.github.io/webxr-hand-input/#skeleton-joints-section).\n *\n * It is often desired to use either hand tracking or controllers, not both.\n * This component provides `deactivateChildrenWithoutPose` to hide the hand\n * tracking visualization if no pose is available and `controllerToDeactivate`\n * for disabling another object once a hand tracking pose *is* available.\n * Outside of XR sessions, tracking or controllers are neither enabled nor disabled\n * to play well with the [vr-mode-active-switch](#vr-mode-active-switch) component.\n *\n * **Requirements:**\n *  - To use hand-tracking, enable \"joint tracking\" in `chrome://flags` on\n *    Oculus Browser for Oculus Quest/Oculus Quest 2.\n *\n * See [Hand Tracking Example](/showcase/hand-tracking).\n */\nclass HandTracking extends Component {\n    static TypeName = 'hand-tracking';\n    static Properties = {\n        /** Handedness determining whether to receive tracking input from right or left hand */\n        handedness: { type: Type.Enum, default: 'left', values: ['left', 'right'] },\n        /** (optional) Mesh to use to visualize joints */\n        jointMesh: { type: Type.Mesh, default: null },\n        /** Material to use for display. Applied to either the spawned skinned mesh or the joint spheres. */\n        jointMaterial: { type: Type.Material, default: null },\n        /** (optional) Skin to apply tracked joint poses to. If not present, joint spheres will be used for display instead. */\n        handSkin: { type: Type.Skin, default: null },\n        /** Deactivate children if no pose was tracked */\n        deactivateChildrenWithoutPose: { type: Type.Bool, default: true },\n        /** Controller objects to activate including children if no pose is available */\n        controllerToDeactivate: { type: Type.Object },\n    };\n    init() {\n        this.handedness = ['left', 'right'][this.handedness];\n    }\n    joints = {};\n    session = null;\n    /* Whether last update had a hand pose */\n    hasPose = false;\n    _childrenActive = true;\n    start() {\n        if (!('XRHand' in window)) {\n            console.warn('WebXR Hand Tracking not supported by this browser.');\n            this.active = false;\n            return;\n        }\n        if (this.handSkin) {\n            let skin = this.handSkin;\n            let jointIds = skin.jointIds;\n            /* Map the wrist */\n            this.joints[ORDERED_JOINTS[0]] = this.engine.wrapObject(jointIds[0]);\n            /* Index in ORDERED_JOINTS that we are mapping to our joints */\n            /* Skip thumb0 joint, start at thumb1 */\n            for (let j = 0; j < jointIds.length; ++j) {\n                let joint = this.engine.wrapObject(jointIds[j]);\n                /* tip joints are only needed for joint rendering, so we skip those while mapping */\n                this.joints[joint.name] = joint;\n            }\n            /* If we have a hand skin, no need to spawn the joints-based one */\n            return;\n        }\n        /* Spawn joints */\n        const jointObjects = this.engine.scene.addObjects(ORDERED_JOINTS.length, this.object.parent, ORDERED_JOINTS.length);\n        for (let j = 0; j < ORDERED_JOINTS.length; ++j) {\n            let joint = jointObjects[j];\n            joint.addComponent(MeshComponent, {\n                mesh: this.jointMesh,\n                material: this.jointMaterial,\n            });\n            this.joints[ORDERED_JOINTS[j]] = joint;\n        }\n    }\n    update(dt) {\n        if (!this.session) {\n            if (this.engine.xr)\n                this.setupVREvents(this.engine.xr.session);\n        }\n        if (!this.session)\n            return;\n        this.hasPose = false;\n        if (this.session && this.session.inputSources) {\n            for (let i = 0; i < this.session.inputSources.length; ++i) {\n                const inputSource = this.session.inputSources[i];\n                if (!inputSource ||\n                    !inputSource.hand ||\n                    inputSource.handedness != this.handedness)\n                    continue;\n                this.hasPose = true;\n                const wristSpace = inputSource.hand.get('wrist');\n                if (wristSpace !== null) {\n                    const p = this.engine.xr.frame.getJointPose(wristSpace, this.engine.xr.currentReferenceSpace);\n                    if (p) {\n                        setXRRigidTransformLocal(this.object, p.transform);\n                    }\n                }\n                this.object.getRotationLocal(invRotation);\n                quat.conjugate(invRotation, invRotation);\n                this.object.getTranslationLocal(invTranslation);\n                for (let j = 0; j < ORDERED_JOINTS.length; ++j) {\n                    const jointName = ORDERED_JOINTS[j];\n                    const joint = this.joints[jointName];\n                    if (joint === null)\n                        continue;\n                    let jointPose = null;\n                    const jointSpace = inputSource.hand.get(jointName);\n                    if (jointSpace !== null) {\n                        jointPose = this.engine.xr.frame.getJointPose(jointSpace, this.engine.xr.currentReferenceSpace);\n                    }\n                    if (jointPose !== null) {\n                        if (this.handSkin) {\n                            joint.resetTranslationRotation();\n                            joint.translate([\n                                jointPose.transform.position.x - invTranslation[0],\n                                jointPose.transform.position.y - invTranslation[1],\n                                jointPose.transform.position.z - invTranslation[2],\n                            ]);\n                            joint.rotate(invRotation);\n                            joint.rotateObject([\n                                jointPose.transform.orientation.x,\n                                jointPose.transform.orientation.y,\n                                jointPose.transform.orientation.z,\n                                jointPose.transform.orientation.w,\n                            ]);\n                        }\n                        else {\n                            setXRRigidTransformLocal(joint, jointPose.transform);\n                            /* Last joint radius of each finger is null */\n                            const r = jointPose.radius || 0.007;\n                            joint.setScalingLocal([r, r, r]);\n                        }\n                    }\n                }\n            }\n        }\n        if (!this.hasPose && this._childrenActive) {\n            this._childrenActive = false;\n            if (this.deactivateChildrenWithoutPose) {\n                this.setChildrenActive(false);\n            }\n            if (this.controllerToDeactivate) {\n                this.controllerToDeactivate.active = true;\n                this.setChildrenActive(true, this.controllerToDeactivate);\n            }\n        }\n        else if (this.hasPose && !this._childrenActive) {\n            this._childrenActive = true;\n            if (this.deactivateChildrenWithoutPose) {\n                this.setChildrenActive(true);\n            }\n            if (this.controllerToDeactivate) {\n                this.controllerToDeactivate.active = false;\n                this.setChildrenActive(false, this.controllerToDeactivate);\n            }\n        }\n    }\n    setChildrenActive(active, object) {\n        object = object || this.object;\n        const children = object.children;\n        for (const o of children) {\n            o.active = active;\n            this.setChildrenActive(active, o);\n        }\n    }\n    isGrabbing() {\n        const indexTipPos = [0, 0, 0];\n        quat2.getTranslation(indexTipPos, this.joints['index-finger-tip'].transformLocal);\n        const thumbTipPos = [0, 0, 0];\n        quat2.getTranslation(thumbTipPos, this.joints['thumb-tip'].transformLocal);\n        return vec3.sqrDist(thumbTipPos, indexTipPos) < 0.001;\n    }\n    setupVREvents(s) {\n        this.session = s;\n    }\n}\nexport { HandTracking };\n", "import { Component, Type } from '@wonderlandengine/api';\nimport 'howler';\n/**\n * (Spatial) audio listener based on [Howler.js](https://howlerjs.com/).\n *\n * Retrieves the location and orientation of the object and passes it\n * to [Howler.pos()](https://github.com/goldfire/howler.js#posx-y-z-id)\n * and [Howler.orientation()](https://github.com/goldfire/howler.js#orientationx-y-z-id).\n */\nclass HowlerAudioListener extends Component {\n    static TypeName = 'howler-audio-listener';\n    static Properties = {\n        /** Whether audio should be spatialized/positional. */\n        spatial: { type: Type.Bool, default: true },\n    };\n    init() {\n        this.origin = new Float32Array(3);\n        this.fwd = new Float32Array(3);\n        this.up = new Float32Array(3);\n    }\n    update() {\n        if (!this.spatial)\n            return;\n        this.object.getTranslationWorld(this.origin);\n        this.object.getForward(this.fwd);\n        this.object.getUp(this.up);\n        Howler.pos(this.origin[0], this.origin[1], this.origin[2]);\n        Howler.orientation(this.fwd[0], this.fwd[1], this.fwd[2], this.up[0], this.up[1], this.up[2]);\n    }\n}\nexport { HowlerAudioListener };\n", "import { Component, Type } from '@wonderlandengine/api';\nimport 'howler';\n/**\n * (Spatial) audio source based on [Howler.js](https://howlerjs.com/).\n *\n * Creates a Howler audio source, plays an audio file on it and updates\n * its position.\n *\n * Optimizes the position update to only update if the difference to last\n * position is larger than half a centimeter. To force updates (e.g. if\n * the sound source is _very_ close to the listener),\n * use `.updatePosition()`.\n */\nclass HowlerAudioSource extends Component {\n    static TypeName = 'howler-audio-source';\n    static Properties = {\n        /** Volume */\n        volume: { type: Type.Float, default: 1.0 },\n        /** Whether audio should be spatialized/positional */\n        spatial: { type: Type.Bool, default: true },\n        /** Whether to loop the sound */\n        loop: { type: Type.Bool, default: false },\n        /** Whether to start playing automatically */\n        autoplay: { type: Type.Bool, default: false },\n        /** URL to a sound file to play */\n        src: { type: Type.String, default: '' },\n    };\n    start() {\n        this.audio = new Howl({\n            src: [this.src],\n            loop: this.loop,\n            volume: this.volume,\n            autoplay: this.autoplay,\n        });\n        this.lastPlayedAudioId = null;\n        this.origin = new Float32Array(3);\n        this.lastOrigin = new Float32Array(3);\n        if (this.spatial && this.autoplay) {\n            this.updatePosition();\n            this.play();\n        }\n    }\n    update() {\n        if (!this.spatial || !this.lastPlayedAudioId)\n            return;\n        this.object.getTranslationWorld(this.origin);\n        /* Only call pos() if the position moved more than half a centimeter\n         * otherwise this gets very performance heavy.\n         * Smaller movement should only be perceivable if close to the\n         * ear anyway. */\n        if (Math.abs(this.lastOrigin[0] - this.origin[0]) > 0.005 ||\n            Math.abs(this.lastOrigin[1] - this.origin[1]) > 0.005 ||\n            Math.abs(this.lastOrigin[2] - this.origin[2]) > 0.005) {\n            this.updatePosition();\n        }\n    }\n    updatePosition() {\n        this.audio.pos(this.origin[0], this.origin[1], this.origin[2], this.lastPlayedAudioId);\n        this.lastOrigin.set(this.origin);\n    }\n    play() {\n        if (this.lastPlayedAudioId)\n            this.audio.stop(this.lastPlayedAudioId);\n        this.lastPlayedAudioId = this.audio.play();\n        if (this.spatial)\n            this.updatePosition();\n    }\n    stop() {\n        if (!this.lastPlayedAudioId)\n            return;\n        this.audio.stop(this.lastPlayedAudioId);\n        this.lastPlayedAudioId = null;\n    }\n    onDeactivate() {\n        /* Stop sound when component is deactivated or destroyed, e.g.\n         * when switching scenes */\n        this.stop();\n    }\n}\nexport { HowlerAudioSource };\n", "/**\n * Set the diffuse/flat texture of known pipelines.\n *\n * @param mat Material to set the texture on\n * @param texture Texture to set\n * @param customTextureProperty Texture property to set or `'auto'` to automatically\n *      detect the right texture property based on known pipeline.\n * @returns `true` if the property was set, `false` otherwise.\n */\nexport function setFirstMaterialTexture(mat, texture, customTextureProperty) {\n    if (customTextureProperty !== 'auto') {\n        // @ts-ignore\n        mat[customTextureProperty] = texture;\n        return true;\n    }\n    const shader = mat.shader;\n    if (shader === 'Flat Opaque Textured') {\n        // @ts-ignore\n        mat.flatTexture = texture;\n        return true;\n    }\n    else if (shader === 'Phong Opaque Textured' ||\n        shader === 'Foliage' ||\n        shader === 'Phong Normalmapped' ||\n        shader === 'Phong Lightmapped') {\n        // @ts-ignore\n        mat.diffuseTexture = texture;\n        return true;\n    }\n    else if (shader === 'Particle') {\n        // @ts-ignore\n        mat.mainTexture = texture;\n        return true;\n    }\n    else if (shader === 'DistanceFieldVector') {\n        // @ts-ignore\n        mat.vectorTexture = texture;\n        return true;\n    }\n    else if (shader === 'Background' || shader === 'Sky') {\n        // @ts-ignore\n        mat.texture = texture;\n        return true;\n    }\n    else if (shader === 'Physical Opaque Textured') {\n        // @ts-ignore\n        mat.albedoTexture = texture;\n        return true;\n    }\n    return false;\n}\n", "import { Component, Property } from '@wonderlandengine/api';\nimport { setFirstMaterialTexture } from './utils/utils.js';\n/**\n * Downloads an image from URL and applies it as `diffuseTexture` or `flatTexture`\n * to an attached mesh component.\n *\n * Materials from the following shaders are supported:\n *  - \"Phong Opaque Textured\"\n *  - \"Flat Opaque Textured\"\n *  - \"Background\"\n *  - \"Physical Opaque Textured\"\n *  - \"Foliage\"\n */\nclass ImageTexture extends Component {\n    static TypeName = 'image-texture';\n    static Properties = {\n        /** URL to download the image from */\n        url: Property.string(),\n        /** Material to apply the video texture to */\n        material: Property.material(),\n        /** Name of the texture property to set */\n        textureProperty: Property.string('auto'),\n    };\n    start() {\n        if (!this.material) {\n            throw Error('image-texture: material property not set');\n        }\n        this.engine.textures\n            .load(this.url, 'anonymous')\n            .then((texture) => {\n            const mat = this.material;\n            if (!setFirstMaterialTexture(mat, texture, this.textureProperty)) {\n                console.error('Shader', mat.shader, 'not supported by image-texture');\n            }\n        })\n            .catch(console.err);\n    }\n}\nexport { ImageTexture };\n", "import { Component, Type } from '@wonderlandengine/api';\nimport { vec3 } from 'gl-matrix';\n/**\n * Controls the camera through mouse movement.\n *\n * Efficiently implemented to affect object orientation only\n * when the mouse moves.\n */\nclass MouseLookComponent extends Component {\n    static TypeName = 'mouse-look';\n    static Properties = {\n        /** Mouse look sensitivity */\n        sensitity: { type: Type.Float, default: 0.25 },\n        /** Require a mouse button to be pressed to control view.\n         * Otherwise view will allways follow mouse movement */\n        requireMouseDown: { type: Type.Bool, default: true },\n        /** If \"moveOnClick\" is enabled, mouse button which should\n         * be held down to control view */\n        mouseButtonIndex: { type: Type.Int },\n        /** Enables pointer lock on \"mousedown\" event on canvas */\n        pointerLockOnClick: { type: Type.Bool, default: false },\n    };\n    init() {\n        this.currentRotationY = 0;\n        this.currentRotationX = 0;\n        this.origin = new Float32Array(3);\n        this.parentOrigin = new Float32Array(3);\n        this.rotationX = 0;\n        this.rotationY = 0;\n    }\n    start() {\n        document.addEventListener('mousemove', (e) => {\n            if (this.active && (this.mouseDown || !this.requireMouseDown)) {\n                this.rotationY = (-this.sensitity * e.movementX) / 100;\n                this.rotationX = (-this.sensitity * e.movementY) / 100;\n                this.currentRotationX += this.rotationX;\n                this.currentRotationY += this.rotationY;\n                /* 1.507 = PI/2 = 90\u00B0 */\n                this.currentRotationX = Math.min(1.507, this.currentRotationX);\n                this.currentRotationX = Math.max(-1.507, this.currentRotationX);\n                this.object.getTranslationWorld(this.origin);\n                const parent = this.object.parent;\n                if (parent !== null) {\n                    parent.getTranslationWorld(this.parentOrigin);\n                    vec3.sub(this.origin, this.origin, this.parentOrigin);\n                }\n                this.object.resetTranslationRotation();\n                this.object.rotateAxisAngleRad([1, 0, 0], this.currentRotationX);\n                this.object.rotateAxisAngleRad([0, 1, 0], this.currentRotationY);\n                this.object.translate(this.origin);\n            }\n        });\n        const canvas = this.engine.canvas;\n        if (this.pointerLockOnClick) {\n            canvas.addEventListener('mousedown', () => {\n                canvas.requestPointerLock =\n                    canvas.requestPointerLock ||\n                        canvas.mozRequestPointerLock ||\n                        canvas.webkitRequestPointerLock;\n                canvas.requestPointerLock();\n            });\n        }\n        if (this.requireMouseDown) {\n            if (this.mouseButtonIndex == 2) {\n                canvas.addEventListener('contextmenu', (e) => {\n                    e.preventDefault();\n                }, false);\n            }\n            canvas.addEventListener('mousedown', (e) => {\n                if (e.button == this.mouseButtonIndex) {\n                    this.mouseDown = true;\n                    document.body.style.cursor = 'grabbing';\n                    if (e.button == 1) {\n                        e.preventDefault();\n                        /* Prevent scrolling */\n                        return false;\n                    }\n                }\n            });\n            canvas.addEventListener('mouseup', (e) => {\n                if (e.button == this.mouseButtonIndex) {\n                    this.mouseDown = false;\n                    document.body.style.cursor = 'initial';\n                }\n            });\n        }\n    }\n}\nexport { MouseLookComponent };\n", "import { Component, Type } from '@wonderlandengine/api';\n/**\n * Set player height for a Y-offset above the ground for\n * 'local' and 'viewer' reference spaces.\n */\nclass PlayerHeight extends Component {\n    static TypeName = 'player-height';\n    static Properties = {\n        height: { type: Type.Float, default: 1.75 },\n    };\n    start() {\n        this.object.resetTranslationRotation();\n        this.object.translate([0.0, this.height, 0.0]);\n        this.onSessionStartCallback = this.onXRSessionStart.bind(this);\n        this.onSessionEndCallback = this.onXRSessionEnd.bind(this);\n    }\n    onActivate() {\n        this.engine.onXRSessionStart.add(this.onSessionStartCallback);\n        this.engine.onXRSessionEnd.add(this.onSessionEndCallback);\n    }\n    onDeactivate() {\n        this.engine.onXRSessionStart.remove(this.onSessionStartCallback);\n        this.engine.onXRSessionEnd.remove(this.onSessionEndCallback);\n    }\n    onXRSessionStart() {\n        if (!['local', 'viewer'].includes(this.engine.xr.currentReferenceSpace)) {\n            this.object.resetTranslationRotation();\n        }\n    }\n    onXRSessionEnd() {\n        if (!['local', 'viewer'].includes(this.engine.xr.currentReferenceSpace)) {\n            this.object.resetTranslationRotation();\n            this.object.translate([0.0, this.height, 0.0]);\n        }\n    }\n}\nexport { PlayerHeight };\n", "import { Component, Type } from '@wonderlandengine/api';\n/**\n * Sets the target framerate\n *\n * [Updates the target framerate](https://immersive-web.github.io/webxr/#dom-xrsession-updatetargetframerate)\n * to the closest [supported target framerate](https://immersive-web.github.io/webxr/#dom-xrsession-supportedFrameRates)\n * to the given `framerate`.\n *\n * The target framerate is used for the device's VR compositor as an indication of how often to refresh the\n * screen with new images. This means the app will be asked to produce frames in more regular intervals,\n * potentially spending less time on frames that are likely to be dropped.\n *\n * For apps with heavy load, setting a well matching target framerate can improve the apps rendering stability\n * and reduce stutter.\n *\n * Likewise, the target framerate can be used to enable 120Hz refresh rates on Oculus Quest 2 on simpler apps.\n */\nclass TargetFramerate extends Component {\n    static TypeName = 'target-framerate';\n    static Properties = {\n        framerate: { type: Type.Float, default: 90.0 },\n    };\n    start() {\n        this.onSessionStartCallback = this.setTargetFramerate.bind(this);\n    }\n    onActivate() {\n        this.engine.onXRSessionStart.add(this.onSessionStartCallback);\n    }\n    onDeactivate() {\n        this.engine.onXRSessionStart.remove(this.onSessionStartCallback);\n    }\n    setTargetFramerate(s) {\n        if (s.supportedFrameRates && s.updateTargetFrameRate) {\n            const a = this.engine.xr.session.supportedFrameRates;\n            a.sort((a, b) => Math.abs(a - this.framerate) - Math.abs(b - this.framerate));\n            this.engine.xr.session.updateTargetFrameRate(a[0]);\n        }\n    }\n}\nexport { TargetFramerate };\n", "import { vec3, quat2 } from 'gl-matrix';\nimport { Component, Type } from '@wonderlandengine/api';\n/**\n * Teleport VR locomotion.\n *\n * See [Teleport Example](/showcase/teleport).\n */\nclass TeleportComponent extends Component {\n    static TypeName = 'teleport';\n    static Properties = {\n        /** Object that will be placed as indiciation forwhere the player will teleport to. */\n        teleportIndicatorMeshObject: { type: Type.Object },\n        /** Root of the player, the object that will be positioned on teleportation. */\n        camRoot: { type: Type.Object },\n        /** Non-vr camera for use outside of VR */\n        cam: { type: Type.Object },\n        /** Left eye for use in VR*/\n        eyeLeft: { type: Type.Object },\n        /** Right eye for use in VR*/\n        eyeRight: { type: Type.Object },\n        /** Handedness for VR cursors to accept trigger events only from respective controller. */\n        handedness: {\n            type: Type.Enum,\n            values: ['input component', 'left', 'right', 'none'],\n            default: 'input component',\n        },\n        /** Collision group of valid \"floor\" objects that can be teleported on */\n        floorGroup: { type: Type.Int, default: 1 },\n        /** How far the thumbstick needs to be pushed to have the teleport target indicator show up */\n        thumbstickActivationThreshhold: { type: Type.Float, default: -0.7 },\n        /** How far the thumbstick needs to be released to execute the teleport */\n        thumbstickDeactivationThreshhold: { type: Type.Float, default: 0.3 },\n        /** Offset to apply to the indicator object, e.g. to avoid it from Z-fighting with the floor */\n        indicatorYOffset: { type: Type.Float, default: 0.01 },\n        /** Mode for raycasting, whether to use PhysX or simple collision components */\n        rayCastMode: {\n            type: Type.Enum,\n            values: ['collision', 'physx'],\n            default: 'collision',\n        },\n        /** Max distance for PhysX raycast */\n        maxDistance: { type: Type.Float, default: 100.0 },\n    };\n    init() {\n        this._prevThumbstickAxis = new Float32Array(2);\n        this._tempVec = new Float32Array(3);\n        this._tempVec0 = new Float32Array(3);\n        this._currentIndicatorRotation = 0;\n        this.input = this.object.getComponent('input');\n        if (!this.input) {\n            console.error(this.object.name, 'generic-teleport-component.js: input component is required on the object');\n            return;\n        }\n        if (!this.teleportIndicatorMeshObject) {\n            console.error(this.object.name, 'generic-teleport-component.js: Teleport indicator mesh is missing');\n            return;\n        }\n        if (!this.camRoot) {\n            console.error(this.object.name, 'generic-teleport-component.js: camRoot not set');\n            return;\n        }\n        this.isIndicating = false;\n        this.indicatorHidden = true;\n        this.hitSpot = new Float32Array(3);\n        this._hasHit = false;\n        this._extraRotation = 0;\n        this._currentStickAxes = new Float32Array(2);\n    }\n    start() {\n        if (this.cam) {\n            this.isMouseIndicating = false;\n            canvas.addEventListener('mousedown', this.onMouseDown.bind(this));\n            canvas.addEventListener('mouseup', this.onMouseUp.bind(this));\n        }\n        if (this.handedness == 0) {\n            const inputComp = this.object.getComponent('input');\n            if (!inputComp) {\n                console.warn('teleport component on object', this.object.name, 'was configured with handedness \"input component\", ' +\n                    'but object has no input component.');\n            }\n            else {\n                this.handedness = inputComp.handedness;\n                this.input = inputComp;\n            }\n        }\n        else {\n            this.handedness = ['left', 'right'][this.handedness - 1];\n        }\n        this.onSessionStartCallback = this.setupVREvents.bind(this);\n        this.teleportIndicatorMeshObject.active = false;\n    }\n    onActivate() {\n        this.engine.onXRSessionStart.add(this.onSessionStartCallback);\n    }\n    onDeactivate() {\n        this.engine.onXRSessionStart.remove(this.onSessionStartCallback);\n    }\n    /* Get current camera Y rotation */\n    _getCamRotation() {\n        this.eyeLeft.getForward(this._tempVec);\n        this._tempVec[1] = 0;\n        vec3.normalize(this._tempVec, this._tempVec);\n        return Math.atan2(this._tempVec[0], this._tempVec[2]);\n    }\n    update() {\n        let inputLength = 0;\n        if (this.gamepad && this.gamepad.axes) {\n            this._currentStickAxes[0] = this.gamepad.axes[2];\n            this._currentStickAxes[1] = this.gamepad.axes[3];\n            inputLength =\n                Math.abs(this._currentStickAxes[0]) + Math.abs(this._currentStickAxes[1]);\n        }\n        if (!this.isIndicating &&\n            this._prevThumbstickAxis[1] >= this.thumbstickActivationThreshhold &&\n            this._currentStickAxes[1] < this.thumbstickActivationThreshhold) {\n            this.isIndicating = true;\n        }\n        else if (this.isIndicating &&\n            inputLength < this.thumbstickDeactivationThreshhold) {\n            this.isIndicating = false;\n            this.teleportIndicatorMeshObject.active = false;\n            if (this._hasHit) {\n                this._teleportPlayer(this.hitSpot, this._extraRotation);\n            }\n        }\n        if (this.isIndicating && this.teleportIndicatorMeshObject && this.input) {\n            const origin = this._tempVec0;\n            this.object.getPositionWorld(origin);\n            const direction = this.object.getForwardWorld(this._tempVec);\n            let rayHit = (this.rayHit =\n                this.rayCastMode == 0\n                    ? this.engine.scene.rayCast(origin, direction, 1 << this.floorGroup)\n                    : this.engine.physics.rayCast(origin, direction, 1 << this.floorGroup, this.maxDistance));\n            if (rayHit.hitCount > 0) {\n                this.indicatorHidden = false;\n                this._extraRotation =\n                    Math.PI +\n                        Math.atan2(this._currentStickAxes[0], this._currentStickAxes[1]);\n                this._currentIndicatorRotation =\n                    this._getCamRotation() + (this._extraRotation - Math.PI);\n                this.teleportIndicatorMeshObject.resetPositionRotation();\n                this.teleportIndicatorMeshObject.rotateAxisAngleRad([0, 1, 0], this._currentIndicatorRotation);\n                this.teleportIndicatorMeshObject.translate(rayHit.locations[0]);\n                this.teleportIndicatorMeshObject.translate([\n                    0.0,\n                    this.indicatorYOffset,\n                    0.0,\n                ]);\n                this.teleportIndicatorMeshObject.active = true;\n                this.hitSpot.set(rayHit.locations[0]);\n                this._hasHit = true;\n            }\n            else {\n                if (!this.indicatorHidden) {\n                    this.teleportIndicatorMeshObject.active = false;\n                    this.indicatorHidden = true;\n                }\n                this._hasHit = false;\n            }\n        }\n        else if (this.teleportIndicatorMeshObject && this.isMouseIndicating) {\n            this.onMousePressed();\n        }\n        this._prevThumbstickAxis.set(this._currentStickAxes);\n    }\n    setupVREvents(s) {\n        /* If in VR, one-time bind the listener */\n        this.session = s;\n        s.addEventListener('end', function () {\n            /* Reset cache once the session ends to rebind select etc, in case\n             * it starts again */\n            this.gamepad = null;\n            this.session = null;\n        }.bind(this));\n        if (s.inputSources && s.inputSources.length) {\n            for (let i = 0; i < s.inputSources.length; i++) {\n                let inputSource = s.inputSources[i];\n                if (inputSource.handedness == this.handedness) {\n                    this.gamepad = inputSource.gamepad;\n                }\n            }\n        }\n        s.addEventListener('inputsourceschange', function (e) {\n            if (e.added && e.added.length) {\n                for (let i = 0; i < e.added.length; i++) {\n                    let inputSource = e.added[i];\n                    if (inputSource.handedness == this.handedness) {\n                        this.gamepad = inputSource.gamepad;\n                    }\n                }\n            }\n        }.bind(this));\n    }\n    onMouseDown() {\n        this.isMouseIndicating = true;\n    }\n    onMouseUp() {\n        this.isMouseIndicating = false;\n        this.teleportIndicatorMeshObject.active = false;\n        if (this._hasHit) {\n            this._teleportPlayer(this.hitSpot, 0.0);\n        }\n    }\n    onMousePressed() {\n        let origin = [0, 0, 0];\n        this.cam.getPositionWorld(origin);\n        const direction = this.cam.getForward(this._tempVec);\n        let rayHit = (this.rayHit =\n            this.rayCastMode == 0\n                ? this.engine.scene.rayCast(origin, direction, 1 << this.floorGroup)\n                : this.engine.physics.rayCast(origin, direction, 1 << this.floorGroup, this.maxDistance));\n        if (rayHit.hitCount > 0) {\n            this.indicatorHidden = false;\n            direction[1] = 0;\n            vec3.normalize(direction, direction);\n            this._currentIndicatorRotation =\n                -Math.sign(direction[2]) * Math.acos(direction[0]) - Math.PI * 0.5;\n            this.teleportIndicatorMeshObject.resetPositionRotation();\n            this.teleportIndicatorMeshObject.rotateAxisAngleRad([0, 1, 0], this._currentIndicatorRotation);\n            this.teleportIndicatorMeshObject.translate(rayHit.locations[0]);\n            this.teleportIndicatorMeshObject.active = true;\n            this.hitSpot = rayHit.locations[0];\n            this._hasHit = true;\n        }\n        else {\n            if (!this.indicatorHidden) {\n                this.teleportIndicatorMeshObject.active = false;\n                this.indicatorHidden = true;\n            }\n            this._hasHit = false;\n        }\n    }\n    _teleportPlayer(newPosition, rotationToAdd) {\n        this.camRoot.rotateAxisAngleRad([0, 1, 0], rotationToAdd);\n        const p = this._tempVec;\n        const p1 = this._tempVec0;\n        if (this.session) {\n            this.eyeLeft.getPositionWorld(p);\n            this.eyeRight.getPositionWorld(p1);\n            vec3.add(p, p, p1);\n            vec3.scale(p, p, 0.5);\n        }\n        else {\n            this.cam.getPositionWorld(p);\n        }\n        this.camRoot.getPositionWorld(p1);\n        vec3.sub(p, p1, p);\n        p[0] += newPosition[0];\n        p[1] = newPosition[1];\n        p[2] += newPosition[2];\n        this.camRoot.setPositionWorld(p);\n    }\n}\nexport { TeleportComponent };\n", "import { Component, Type, Mesh, MeshIndexType, MeshAttribute } from '@wonderlandengine/api';\nimport { vec3 } from 'gl-matrix';\nconst direction = vec3.create();\nconst offset = vec3.create();\nconst normal = vec3.create();\n/**\n * Dynamic mesh-based trail\n *\n * This component keeps track of the world position of the object it's added to.\n * At a fixed interval the world position is stored as start and end points of the trail segments.\n *\n * The trail tapers off along its length. UV texture coordinates are setup such that the\n * U-axis covers the width of the trail and the V-axis covers the length of the trail.\n * This allows the trail's appearance to be defined using a texture.\n */\nclass Trail extends Component {\n    static TypeName = 'trail';\n    static Properties = {\n        /** The material to apply to the trail mesh */\n        material: { type: Type.Material },\n        /** The number of segments in the trail mesh */\n        segments: { type: Type.Int, default: 50 },\n        /** The time interval before recording a new point */\n        interval: { type: Type.Float, default: 0.1 },\n        /** The width of the trail (in world space) */\n        width: { type: Type.Float, default: 1.0 },\n        /** Whether or not the trail should taper off */\n        taper: { type: Type.Bool, default: true },\n        /**\n         * The maximum delta time in seconds, above which the trail resets.\n         * This prevents the trail from jumping around when updates happen\n         * infrequently (e.g. when the tab doesn't have focus).\n         */\n        resetThreshold: { type: Type.Float, default: 0.5 },\n    };\n    init() {\n        this.points = new Array(this.segments + 1);\n        for (let i = 0; i < this.points.length; ++i) {\n            this.points[i] = vec3.create();\n        }\n        /* The points array is circular, so keep track of its head */\n        this.currentPointOffset = 0;\n        this.up = [0, 1, 0];\n        this.timeTillNext = this.interval;\n    }\n    start() {\n        this.trailContainer = this.engine.scene.addObject();\n        this.meshComp = this.trailContainer.addComponent('mesh');\n        this.meshComp.material = this.material;\n        /* Each point will have two vertices; one on either side */\n        const vertexCount = 2 * this.points.length;\n        /* Each segment consists of two triangles */\n        this.indexData = new Uint32Array(6 * this.segments);\n        for (let i = 0, v = 0; i < vertexCount - 2; i += 2, v += 6) {\n            this.indexData\n                .subarray(v, v + 6)\n                .set([i + 1, i + 0, i + 2, i + 2, i + 3, i + 1]);\n        }\n        this.mesh = new Mesh(this.engine, {\n            vertexCount: vertexCount,\n            indexData: this.indexData,\n            indexType: MeshIndexType.UnsignedInt,\n        });\n        this.meshComp.mesh = this.mesh;\n    }\n    updateVertices() {\n        const positions = this.mesh.attribute(MeshAttribute.Position);\n        const texCoords = this.mesh.attribute(MeshAttribute.TextureCoordinate);\n        const normals = this.mesh.attribute(MeshAttribute.Normal);\n        vec3.set(direction, 0, 0, 0);\n        for (let i = 0; i < this.points.length; ++i) {\n            const curr = this.points[(this.currentPointIndex + i + 1) % this.points.length];\n            const next = this.points[(this.currentPointIndex + i + 2) % this.points.length];\n            /* The last point has no next, so re-use the direction of the previous segment */\n            if (i !== this.points.length - 1) {\n                vec3.sub(direction, next, curr);\n            }\n            vec3.cross(offset, this.up, direction);\n            vec3.normalize(offset, offset);\n            const timeFraction = 1.0 - this.timeTillNext / this.interval;\n            const fraction = (i - timeFraction) / this.segments;\n            vec3.scale(offset, offset, ((this.taper ? fraction : 1.0) * this.width) / 2.0);\n            positions.set(i * 2, [\n                curr[0] - offset[0],\n                curr[1] - offset[1],\n                curr[2] - offset[2],\n            ]);\n            positions.set(i * 2 + 1, [\n                curr[0] + offset[0],\n                curr[1] + offset[1],\n                curr[2] + offset[2],\n            ]);\n            if (normals) {\n                vec3.cross(normal, direction, offset);\n                vec3.normalize(normal, normal);\n                normals.set(i * 2, normal);\n                normals.set(i * 2 + 1, normal);\n            }\n            if (texCoords) {\n                texCoords.set(i * 2, [0, fraction]);\n                texCoords.set(i * 2 + 1, [1, fraction]);\n            }\n        }\n        /* Notify WLE that the mesh has changed */\n        this.mesh.update();\n    }\n    resetTrail() {\n        this.object.getTranslationWorld(this.points[0]);\n        for (let i = 1; i < this.points.length; ++i) {\n            vec3.copy(this.points[i], this.points[0]);\n        }\n        this.currentPointIndex = 0;\n        this.timeTillNext = this.interval;\n    }\n    update(dt) {\n        this.timeTillNext -= dt;\n        if (dt > this.resetThreshold) {\n            this.resetTrail();\n        }\n        if (this.timeTillNext < 0) {\n            this.currentPointIndex = (this.currentPointIndex + 1) % this.points.length;\n            this.timeTillNext = (this.timeTillNext % this.interval) + this.interval;\n        }\n        this.object.getTranslationWorld(this.points[this.currentPointIndex]);\n        this.updateVertices();\n    }\n    onActivate() {\n        this.resetTrail();\n    }\n    onDestroy() {\n        this.trailContainer.destroy();\n        this.mesh.destroy();\n    }\n}\nexport { Trail };\n", "import { Component, Type } from '@wonderlandengine/api';\nimport { vec3, quat } from 'gl-matrix';\nMath.clamp = function (v, a, b) {\n    return Math.max(a, Math.min(v, b));\n};\n// From http://theorangeduck.com/page/simple-two-joint\nconst twoJointIK = (function () {\n    let ta = new Float32Array(3);\n    let ca = new Float32Array(3);\n    let ba = new Float32Array(3);\n    let ab = new Float32Array(3);\n    let cb = new Float32Array(3);\n    let axis0 = new Float32Array(3);\n    let axis1 = new Float32Array(3);\n    let temp = new Float32Array(4);\n    let r0 = new Float32Array(4);\n    let r1 = new Float32Array(4);\n    let r2 = new Float32Array(4);\n    return function (a_lr, b_lr, a, b, c, t, eps, a_gr, b_gr, helper) {\n        vec3.sub(ba, b, a);\n        const lab = vec3.length(ba);\n        vec3.sub(ta, b, c);\n        const lcb = vec3.length(ta);\n        vec3.sub(ta, t, a);\n        const lat = Math.clamp(vec3.length(ta), eps, lab + lcb - eps);\n        vec3.sub(ca, c, a);\n        vec3.sub(ab, a, b);\n        vec3.sub(cb, c, b);\n        vec3.normalize(ca, ca);\n        vec3.normalize(ba, ba);\n        vec3.normalize(ab, ab);\n        vec3.normalize(cb, cb);\n        vec3.normalize(ta, ta);\n        const ac_ab_0 = Math.acos(Math.clamp(vec3.dot(ca, ba), -1, 1));\n        const ba_bc_0 = Math.acos(Math.clamp(vec3.dot(ab, cb), -1, 1));\n        const ac_at_0 = Math.acos(Math.clamp(vec3.dot(ca, ta), -1, 1));\n        const ac_ab_1 = Math.acos(Math.clamp((lcb * lcb - lab * lab - lat * lat) / (-2 * lab * lat), -1, 1));\n        const ba_bc_1 = Math.acos(Math.clamp((lat * lat - lab * lab - lcb * lcb) / (-2 * lab * lcb), -1, 1));\n        vec3.sub(ca, c, a);\n        vec3.sub(ba, b, a);\n        vec3.sub(ta, t, a);\n        vec3.cross(axis0, ca, ba);\n        vec3.cross(axis1, ca, ta);\n        if (helper) {\n            vec3.sub(ba, helper, b);\n            vec3.transformQuat(ba, [0, 0, -1], b_gr);\n        }\n        else {\n            vec3.sub(ba, b, a);\n        }\n        const l = vec3.length(axis0);\n        if (l == 0) {\n            axis0.set([1, 0, 0]);\n        }\n        else {\n            vec3.scale(axis0, axis0, 1 / l);\n        }\n        vec3.normalize(axis1, axis1);\n        quat.conjugate(a_gr, a_gr);\n        quat.setAxisAngle(r0, vec3.transformQuat(temp, axis0, a_gr), ac_ab_1 - ac_ab_0);\n        quat.setAxisAngle(r2, vec3.transformQuat(temp, axis1, a_gr), ac_at_0);\n        quat.mul(a_lr, a_lr, quat.mul(temp, r0, r2));\n        quat.normalize(a_lr, a_lr);\n        quat.conjugate(b_gr, b_gr);\n        quat.setAxisAngle(r1, vec3.transformQuat(temp, axis0, b_gr), ba_bc_1 - ba_bc_0);\n        quat.mul(b_lr, b_lr, r1);\n        quat.normalize(b_lr, b_lr);\n    };\n})();\n/**\n * Inverse Kinematics for two-joint chains (e.g. knees or ellbows)\n */\nclass TwoJointIkSolver extends Component {\n    static TypeName = 'two-joint-ik-solver';\n    static Properties = {\n        /** Root bone, never moves */\n        root: { type: Type.Object },\n        /** Bone attached to the root */\n        middle: { type: Type.Object },\n        /** Bone attached to the middle */\n        end: { type: Type.Object },\n        /** Target the joins should reach for */\n        target: { type: Type.Object },\n        /** Helper object to use to determine joint rotation axis */\n        helper: { type: Type.Object },\n    };\n    init() {\n        this.pos = new Float32Array(3 * 7);\n        this.p = [\n            this.pos.subarray(0, 3),\n            this.pos.subarray(3, 6),\n            this.pos.subarray(6, 9),\n            this.pos.subarray(9, 12),\n            this.pos.subarray(12, 15),\n            this.pos.subarray(15, 18),\n            this.pos.subarray(18, 21),\n        ];\n    }\n    update() {\n        const p = this.p;\n        this.root.getTranslationWorld(p[0]);\n        this.middle.getTranslationWorld(p[1]);\n        this.end.getTranslationWorld(p[2]);\n        this.target.getTranslationWorld(p[3]);\n        const tla = p[4];\n        const tlb = p[5];\n        this.root.getTranslationLocal(tla);\n        this.middle.getTranslationLocal(tlb);\n        if (this.helper)\n            this.helper.getTranslationWorld(p[6]);\n        twoJointIK(this.root.transformLocal, this.middle.transformLocal, p[0], p[1], p[2], p[3], 0.01, this.root.transformWorld.subarray(0, 4), this.middle.transformWorld.subarray(0, 4), this.helper ? p[6] : null);\n        this.root.setTranslationLocal(tla);\n        this.middle.setTranslationLocal(tlb);\n        this.root.setDirty();\n        this.middle.setDirty();\n    }\n}\nexport { TwoJointIkSolver };\n", "import { Component, Texture, Property } from '@wonderlandengine/api';\nimport { setFirstMaterialTexture } from './utils/utils.js';\n/**\n * Downloads a video from URL and applies it as `diffuseTexture` or `flatTexture`\n * on given material.\n *\n * Video textures need to be updated regularly whenever\n * a new frame is available. This component handles the\n * detection of a new frame and updates the texture to\n * reflect the video's current frame.\n *\n * Materials from the following shaders are supported:\n *  - \"Phong Opaque Textured\"\n *  - \"Flat Opaque Textured\"\n *  - \"Background\"\n *  - \"Physical Opaque Textured\"\n *  - \"Foliage\"\n *\n * The video can be accessed through `this.video`:\n *\n * ```js\n *   let videoTexture = this.object.getComponent('video-texture');\n *   videoTexture.video.play();\n *   videoTexture.video.pause();\n * ```\n *\n * See [Video Example](/showcase/video).\n */\nclass VideoTexture extends Component {\n    static TypeName = 'video-texture';\n    static Properties = {\n        /** URL to download video from */\n        url: Property.string(),\n        /** Material to apply the video texture to */\n        material: Property.material(),\n        /** Whether to loop the video */\n        loop: Property.bool(true),\n        /** Whether to automatically start playing the video */\n        autoplay: Property.bool(true),\n        /** Whether to mute sound */\n        muted: Property.bool(true),\n        /** Name of the texture property to set */\n        textureProperty: Property.string('auto'),\n    };\n    init() {\n        if (!this.material) {\n            throw Error('video-texture: material property not set');\n        }\n        this.loaded = false;\n        this.frameUpdateRequested = true;\n    }\n    start() {\n        this.video = document.createElement('video');\n        this.video.src = this.url;\n        this.video.crossOrigin = 'anonymous';\n        this.video.playsInline = true;\n        this.video.loop = this.loop;\n        this.video.muted = this.muted;\n        this.video.addEventListener('playing', () => {\n            this.loaded = true;\n        });\n        if (this.autoplay) {\n            const playAfterUserGesture = () => {\n                this.video.play();\n                window.removeEventListener('click', playAfterUserGesture);\n                window.removeEventListener('touchstart', playAfterUserGesture);\n            };\n            window.addEventListener('click', playAfterUserGesture);\n            window.addEventListener('touchstart', playAfterUserGesture);\n        }\n    }\n    applyTexture() {\n        const mat = this.material;\n        const shader = mat.shader;\n        const texture = (this.texture = new Texture(this.engine, this.video));\n        if (!setFirstMaterialTexture(mat, texture, this.textureProperty)) {\n            console.error('Shader', shader, 'not supported by video-texture');\n        }\n        if ('requestVideoFrameCallback' in this.video) {\n            this.video.requestVideoFrameCallback(this.updateVideo.bind(this));\n        }\n        else {\n            this.video.addEventListener('timeupdate', () => {\n                this.frameUpdateRequested = true;\n            });\n        }\n    }\n    update(dt) {\n        if (this.loaded && this.frameUpdateRequested) {\n            if (this.texture) {\n                this.texture.update();\n            }\n            else {\n                /* Apply texture on first frame update request */\n                this.applyTexture();\n            }\n            this.frameUpdateRequested = false;\n        }\n    }\n    updateVideo() {\n        this.frameUpdateRequested = true;\n        this.video.requestVideoFrameCallback(this.updateVideo.bind(this));\n    }\n}\nexport { VideoTexture };\n", "import { Component, Type } from '@wonderlandengine/api';\n/**\n * Allows switching all other components on an object to active/inactive\n * depending on whether a VR/AR session is active.\n *\n * Useful for hiding controllers until the user enters VR for example.\n */\nclass VrModeActiveSwitch extends Component {\n    static TypeName = 'vr-mode-active-switch';\n    static Properties = {\n        /** When components should be active: In VR or when not in VR */\n        activateComponents: {\n            type: Type.Enum,\n            values: ['in VR', 'in non-VR'],\n            default: 'in VR',\n        },\n        /** Whether child object's components should be affected */\n        affectChildren: { type: Type.Bool, default: true },\n    };\n    start() {\n        this.components = [];\n        this.getComponents(this.object);\n        /* Initial activation/deactivation */\n        this.onXRSessionEnd();\n        this.onSessionStartCallback = this.onXRSessionStart.bind(this);\n        this.onSessionEndCallback = this.onXRSessionEnd.bind(this);\n    }\n    onActivate() {\n        this.engine.onXRSessionStart.add(this.onSessionStartCallback);\n        this.engine.onXRSessionEnd.add(this.onSessionEndCallback);\n    }\n    onDeactivate() {\n        this.engine.onXRSessionStart.remove(this.onSessionStartCallback);\n        this.engine.onXRSessionEnd.remove(this.onSessionEndCallback);\n    }\n    getComponents(obj) {\n        const comps = obj.getComponents().filter((c) => c.type !== 'vr-mode-active-switch');\n        this.components = this.components.concat(comps);\n        if (this.affectChildren) {\n            let children = obj.children;\n            for (let i = 0; i < children.length; ++i) {\n                this.getComponents(children[i]);\n            }\n        }\n    }\n    setComponentsActive(active) {\n        const comps = this.components;\n        for (let i = 0; i < comps.length; ++i) {\n            comps[i].active = active;\n        }\n    }\n    onXRSessionStart() {\n        this.setComponentsActive(this.activateComponents == 0);\n    }\n    onXRSessionEnd() {\n        this.setComponentsActive(this.activateComponents != 0);\n    }\n}\nexport { VrModeActiveSwitch };\n", "var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Collider, CollisionComponent, Component, Emitter, Mesh, MeshAttribute, MeshComponent, MeshIndexType, } from '@wonderlandengine/api';\nimport { property } from '@wonderlandengine/api/decorators.js';\nimport { setXRRigidTransformLocal } from './utils/webxr.js';\n// FIXME: earcut overrides default export, breaking our tests\nimport earcut from 'earcut';\nconst tempVec3 = new Float32Array(3);\n/** Compute minimum and maxium extents of given list of contour points */\nfunction extentsFromContour(out, points) {\n    if (points.length == 0)\n        return out;\n    let absMaxX = Math.abs(points[0].x);\n    let absMaxZ = Math.abs(points[0].z);\n    for (let i = 1; i < points.length; ++i) {\n        absMaxX = Math.max(absMaxX, Math.abs(points[i].x));\n        absMaxZ = Math.max(absMaxZ, Math.abs(points[i].z));\n    }\n    out[0] = absMaxX;\n    out[1] = 0;\n    out[2] = absMaxZ;\n}\n/** Check whether x lies between a and b */\nfunction within(x, a, b) {\n    if (a > b)\n        return x < a && x > b;\n    return x > a && x < b;\n}\n/**\n * Check whether given point on plane's bounding box is inside plane's polygon\n *\n * @param p 3D point in plane's local space, Y value is ignored, since it is assumed\n *     that the point was checked against the plane's bounding box.\n * @param plane XRPlane that has `XRPlane.polygon`\n * @returns `true` if the point lies on the plane\n */\nexport function isPointLocalOnXRPlanePolygon(p, plane) {\n    const points = plane.polygon;\n    if (points.length < 3)\n        return false;\n    /* Count ray intersections: even == inside, odd == outside */\n    const pX = p[0];\n    const pZ = p[2];\n    let intersections = 0;\n    for (let n = 0, l = points.length - 1; n < points.length; ++n) {\n        const aX = points[l].x;\n        const aZ = points[l].z;\n        const s = (points[n].z - aZ) / (points[n].x - aX);\n        const x = Math.abs((pZ - aZ) / s);\n        if (x >= 0.0 && x <= 1.0 && within(x + pX, aX, points[n].x))\n            ++intersections;\n        l = n;\n    }\n    return (intersections & 1) == 0;\n}\n/**\n * Check whether given point on plane's bounding box is inside plane's polygon\n *\n * @param p 3D point to test. It is assumed that the point was checked against\n *     the plane's bounding box beforehand.\n * @param plane XRPlane that has `XRPlane.polygon`\n * @returns `true` if the point lies on the plane\n */\nexport function isPointWorldOnXRPlanePolygon(object, p, plane) {\n    if (plane.polygon.length < 3)\n        return false;\n    isPointLocalOnXRPlanePolygon(object.transformPointInverseWorld(tempVec3, p), plane);\n}\n/**\n * Create a plane mesh from a list of contour points\n *\n * @param engine Engine to create the mesh with\n * @param points Contour points\n * @param meshToUpdate Optional mesh to update instead of creating a new one.\n */\nfunction planeMeshFromContour(engine, points, meshToUpdate = null) {\n    const vertexCount = points.length;\n    const vertices = new Float32Array(vertexCount * 2);\n    for (let i = 0, d = 0; i < vertexCount; ++i, d += 2) {\n        vertices[d] = points[i].x;\n        vertices[d + 1] = points[i].z;\n    }\n    const triangles = earcut(vertices);\n    const mesh = meshToUpdate ||\n        new Mesh(engine, {\n            vertexCount,\n            /* Assumption here that we will never have more than 256 points\n             * in the detected plane meshes! */\n            indexType: MeshIndexType.UnsignedByte,\n            indexData: triangles,\n        });\n    if (mesh.vertexCount !== vertexCount) {\n        console.warn('vertexCount of meshToUpdate did not match required vertexCount');\n        return mesh;\n    }\n    const positions = mesh.attribute(MeshAttribute.Position);\n    const textureCoords = mesh.attribute(MeshAttribute.TextureCoordinate);\n    const normals = mesh.attribute(MeshAttribute.Normal);\n    tempVec3[1] = 0;\n    for (let i = 0, s = 0; i < vertexCount; ++i, s += 2) {\n        tempVec3[0] = vertices[s];\n        tempVec3[2] = vertices[s + 1];\n        positions.set(i, tempVec3);\n    }\n    textureCoords?.set(0, vertices);\n    if (normals) {\n        tempVec3[0] = 0;\n        tempVec3[1] = 1;\n        tempVec3[2] = 0;\n        for (let i = 0; i < vertexCount; ++i) {\n            normals.set(i, tempVec3);\n        }\n    }\n    if (meshToUpdate)\n        mesh.update();\n    return mesh;\n}\n/**\n * Generate meshes and collisions for XRPlanes using [WebXR Device API - Plane Detection](https://immersive-web.github.io/real-world-geometry/plane-detection.html).\n */\nclass PlaneDetection extends Component {\n    static TypeName = 'plane-detection';\n    /**\n     * Material to assign to created plane meshes or `null` if meshes should not be created.\n     */\n    planeMaterial = null;\n    /**\n     * Collision mask to assign to newly created collision components or a negative value if\n     * collision components should not be created.\n     */\n    collisionMask = -1;\n    /** Map of all planes and their last updated timestamps */\n    planes = new Map();\n    /** Objects generated for each XRPlane */\n    planeObjects = new Map();\n    /** Called when a plane starts tracking */\n    onPlaneFound = new Emitter();\n    /** Called when a plane stops tracking */\n    onPlaneLost = new Emitter();\n    update() {\n        if (!this.engine.xr?.frame)\n            return;\n        // @ts-ignore\n        if (this.engine.xr.frame.detectedPlanes === undefined) {\n            console.error('plane-detection: WebXR feature not available.');\n            this.active = false;\n            return;\n        }\n        // @ts-ignore\n        const detectedPlanes = this.engine.xr.frame.detectedPlanes;\n        for (const [plane, _] of this.planes) {\n            if (!detectedPlanes.has(plane)) {\n                this.#planeLost(plane);\n            }\n        }\n        detectedPlanes.forEach((plane) => {\n            if (this.planes.has(plane)) {\n                if (plane.lastChangedTime > this.planes.get(plane)) {\n                    this.#planeUpdate(plane);\n                }\n            }\n            else {\n                this.#planeFound(plane);\n            }\n            this.#planeUpdatePose(plane);\n        });\n    }\n    #planeLost(plane) {\n        this.planes.delete(plane);\n        const o = this.planeObjects.get(plane);\n        this.onPlaneLost.notify(plane, o);\n        /* User might destroy the object */\n        if (o.objectId > 0)\n            o.destroy();\n    }\n    #planeFound(plane) {\n        this.planes.set(plane, plane.lastChangedTime);\n        const o = this.engine.scene.addObject(this.object);\n        this.planeObjects.set(plane, o);\n        if (this.planeMaterial) {\n            o.addComponent(MeshComponent, {\n                mesh: planeMeshFromContour(this.engine, plane.polygon),\n                material: this.planeMaterial,\n            });\n        }\n        if (this.collisionMask >= 0) {\n            extentsFromContour(tempVec3, plane.polygon);\n            tempVec3[1] = 0.025;\n            o.addComponent(CollisionComponent, {\n                group: this.collisionMask,\n                collider: Collider.Box,\n                extents: tempVec3,\n            });\n        }\n        this.onPlaneFound.notify(plane, o);\n    }\n    #planeUpdate(plane) {\n        this.planes.set(plane, plane.lastChangedTime);\n        const planeMesh = this.planeObjects.get(plane).getComponent(MeshComponent);\n        if (!planeMesh)\n            return;\n        planeMeshFromContour(this.engine, plane.polygon, planeMesh.mesh);\n    }\n    #planeUpdatePose(plane) {\n        const o = this.planeObjects.get(plane);\n        const pose = this.engine.xr.frame.getPose(plane.planeSpace, this.engine.xr.currentReferenceSpace);\n        if (!pose) {\n            o.active = false;\n            return;\n        }\n        setXRRigidTransformLocal(o, pose.transform);\n    }\n}\n__decorate([\n    property.material()\n], PlaneDetection.prototype, \"planeMaterial\", void 0);\n__decorate([\n    property.int()\n], PlaneDetection.prototype, \"collisionMask\", void 0);\nexport { PlaneDetection };\n", "import { Component, Type } from '@wonderlandengine/api';\nimport { vec3, mat4, quat, quat2 } from 'gl-matrix';\nconst VRM_ROLL_AXES = {\n    X: [1.0, 0.0, 0.0],\n    Y: [0.0, 1.0, 0.0],\n    Z: [0.0, 0.0, 1.0],\n};\nconst VRM_AIM_AXES = {\n    PositiveX: [1.0, 0.0, 0.0],\n    NegativeX: [-1.0, 0.0, 0.0],\n    PositiveY: [0.0, 1.0, 0.0],\n    NegativeY: [0.0, -1.0, 0.0],\n    PositiveZ: [0.0, 0.0, 1.0],\n    NegativeZ: [0.0, 0.0, -1.0],\n};\n/**\n * Component for loading and handling VRM 1.0 models.\n *\n * Posing of the model should be done exclusively by rotating the bones. These can be\n * accessed using the `.bones` property and follow the VRM bone naming. Note that not\n * all VRM models will have all possible bones. The rest pose (T-pose) is captured in\n * the `.restPose` property. Resetting a bone to its rest pose can be done as follows:\n * ```js\n * vrmComponent.bones[vrmBoneName].rotationLocal = vrmComponent.restPose[vrmBoneName];\n * ```\n *\n * Moving the model through the world should be done by moving the object this component\n * is attached to. In other words, by moving the root of the VRM model. The bones and any\n * descendant objects should *not* be used to move the VRM model.\n *\n * The core extension `VRMC_vrm` as well as the`VRMC_springBone` and `VRMC_node_constraint`\n * extensions are supported.\n *\n * **Limitations:**\n * - No support for `VRMC_material_mtoon`\n * - Expressions aren't supported\n * - Expression based lookAt isn't supported\n * - Mesh annotation mode `auto` is not supported (first person mode)\n */\nclass Vrm extends Component {\n    static TypeName = 'vrm';\n    static Properties = {\n        /** URL to a VRM file to load */\n        src: { type: Type.String },\n        /** Object the VRM is looking at */\n        lookAtTarget: { type: Type.Object },\n    };\n    /** Meta information about the VRM model */\n    meta = null;\n    /** The humanoid bones of the VRM model */\n    bones = {\n        /* Torso */\n        hips: null,\n        spine: null,\n        chest: null,\n        upperChest: null,\n        neck: null,\n        /* Head */\n        head: null,\n        leftEye: null,\n        rightEye: null,\n        jaw: null,\n        /* Legs */\n        leftUpperLeg: null,\n        leftLowerLeg: null,\n        leftFoot: null,\n        leftToes: null,\n        rightUpperLeg: null,\n        rightLowerLeg: null,\n        rightFoot: null,\n        rightToes: null,\n        /* Arms */\n        leftShoulder: null,\n        leftUpperArm: null,\n        leftLowerArm: null,\n        leftHand: null,\n        rightShoulder: null,\n        rightUpperArm: null,\n        rightLowerArm: null,\n        rightHand: null,\n        /* Fingers */\n        leftThumbMetacarpal: null,\n        leftThumbProximal: null,\n        leftThumbDistal: null,\n        leftIndexProximal: null,\n        leftIndexIntermediate: null,\n        leftIndexDistal: null,\n        leftMiddleProximal: null,\n        leftMiddleIntermediate: null,\n        leftMiddleDistal: null,\n        leftRingProximal: null,\n        leftRingIntermediate: null,\n        leftRingDistal: null,\n        leftLittleProximal: null,\n        leftLittleIntermediate: null,\n        leftLittleDistal: null,\n        rightThumbMetacarpal: null,\n        rightThumbProximal: null,\n        rightThumbDistal: null,\n        rightIndexProximal: null,\n        rightIndexIntermediate: null,\n        rightIndexDistal: null,\n        rightMiddleProximal: null,\n        rightMiddleIntermediate: null,\n        rightMiddleDistal: null,\n        rightRingProximal: null,\n        rightRingIntermediate: null,\n        rightRingDistal: null,\n        rightLittleProximal: null,\n        rightLittleIntermediate: null,\n        rightLittleDistal: null,\n    };\n    /** Rotations of the bones in the rest pose (T-pose) */\n    restPose = {};\n    /* All node constraints, ordered to deal with dependencies */\n    _nodeConstraints = [];\n    /* VRMC_springBone chains */\n    _springChains = [];\n    /* Spherical colliders for spring bones */\n    _sphereColliders = [];\n    /* Capsule shaped colliders for spring bones */\n    _capsuleColliders = [];\n    /* Indicates which meshes are rendered in first/third person views */\n    _firstPersonAnnotations = [];\n    /* Contains details for (bone type) lookAt behaviour */\n    _lookAt = null;\n    /* Whether or not the VRM component has been initialized with `initializeVrm` */\n    _initialized = false;\n    init() {\n        this._tempV3 = vec3.create();\n        this._tempV3A = vec3.create();\n        this._tempV3B = vec3.create();\n        this._tempQuat = quat.create();\n        this._tempQuatA = quat.create();\n        this._tempQuatB = quat.create();\n        this._tempMat4A = mat4.create();\n        this._tempQuat2 = quat2.create();\n        this._tailToShape = vec3.create();\n        this._headToTail = vec3.create();\n        this._inertia = vec3.create();\n        this._stiffness = vec3.create();\n        this._external = vec3.create();\n        this._rightVector = vec3.set(vec3.create(), 1, 0, 0);\n        this._upVector = vec3.set(vec3.create(), 0, 1, 0);\n        this._forwardVector = vec3.set(vec3.create(), 0, 0, 1);\n        this._identityQuat = quat.identity(quat.create());\n        this._rad2deg = 180.0 / Math.PI;\n    }\n    start() {\n        if (!this.src) {\n            console.error('vrm: src property not set');\n            return;\n        }\n        this.engine.scene\n            .append(this.src, { loadGltfExtensions: true })\n            .then(({ root, extensions }) => {\n            root.children.forEach((child) => (child.parent = this.object));\n            this._initializeVrm(extensions);\n            root.destroy();\n        });\n    }\n    /**\n     * Parses the VRM glTF extensions and initializes the vrm component.\n     * @param {GLTFExtensions} extensions The glTF extensions for the VRM model\n     */\n    _initializeVrm(extensions) {\n        if (this._initialized) {\n            throw Error('VRM component has already been initialized');\n        }\n        const VRMC_vrm = extensions.root['VRMC_vrm'];\n        if (!VRMC_vrm) {\n            throw Error('Missing VRM extensions');\n        }\n        if (VRMC_vrm.specVersion !== '1.0') {\n            throw Error(`Unsupported VRM version, only 1.0 is supported, but encountered '${VRMC_vrm.specVersion}'`);\n        }\n        this.meta = VRMC_vrm.meta;\n        this._parseHumanoid(VRMC_vrm.humanoid, extensions);\n        if (VRMC_vrm.firstPerson) {\n            this._parseFirstPerson(VRMC_vrm.firstPerson, extensions);\n        }\n        if (VRMC_vrm.lookAt) {\n            this._parseLookAt(VRMC_vrm.lookAt);\n        }\n        this._findAndParseNodeConstraints(extensions);\n        const springBone = extensions.root['VRMC_springBone'];\n        if (springBone) {\n            this._parseAndInitializeSpringBones(springBone, extensions);\n        }\n        this._initialized = true;\n    }\n    _parseHumanoid(humanoid, extensions) {\n        for (const boneName in humanoid.humanBones) {\n            if (!(boneName in this.bones)) {\n                console.warn(`Unrecognized bone '${boneName}'`);\n                continue;\n            }\n            const node = humanoid.humanBones[boneName].node;\n            const objectId = extensions.idMapping[node];\n            this.bones[boneName] = this.engine.wrapObject(objectId);\n            this.restPose[boneName] = quat.copy(quat.create(), this.bones[boneName].rotationLocal);\n        }\n    }\n    _parseFirstPerson(firstPerson, extensions) {\n        for (const meshAnnotation of firstPerson.meshAnnotations) {\n            const annotation = {\n                node: this.engine.wrapObject(extensions.idMapping[meshAnnotation.node]),\n                firstPerson: true,\n                thirdPerson: true,\n            };\n            switch (meshAnnotation.type) {\n                case 'firstPersonOnly':\n                    annotation.thirdPerson = false;\n                    break;\n                case 'thirdPersonOnly':\n                    annotation.firstPerson = false;\n                    break;\n                case 'both':\n                    break;\n                case 'auto':\n                    console.warn(\"First person mesh annotation type 'auto' is not supported, treating as 'both'!\");\n                    break;\n                default:\n                    console.error(`Invalid mesh annotation type '${meshAnnotation.type}'`);\n                    break;\n            }\n            this._firstPersonAnnotations.push(annotation);\n        }\n    }\n    _parseLookAt(lookAt) {\n        if (lookAt.type !== 'bone') {\n            console.warn(`Unsupported lookAt type '${lookAt.type}', only 'bone' is supported`);\n            return;\n        }\n        const parseRangeMap = (rangeMap) => {\n            return {\n                inputMaxValue: rangeMap.inputMaxValue,\n                outputScale: rangeMap.outputScale,\n            };\n        };\n        this._lookAt = {\n            offsetFromHeadBone: lookAt.offsetFromHeadBone || [0, 0, 0],\n            horizontalInner: parseRangeMap(lookAt.rangeMapHorizontalInner),\n            horizontalOuter: parseRangeMap(lookAt.rangeMapHorizontalOuter),\n            verticalDown: parseRangeMap(lookAt.rangeMapVerticalDown),\n            verticalUp: parseRangeMap(lookAt.rangeMapVerticalUp),\n        };\n    }\n    _findAndParseNodeConstraints(extensions) {\n        const traverse = (object) => {\n            const nodeExtensions = extensions.node[object.objectId];\n            if (nodeExtensions && 'VRMC_node_constraint' in nodeExtensions) {\n                const nodeConstraintExtension = nodeExtensions['VRMC_node_constraint'];\n                const constraint = nodeConstraintExtension.constraint;\n                let type, axis;\n                if ('roll' in constraint) {\n                    type = 'roll';\n                    axis = VRM_ROLL_AXES[constraint.roll.rollAxis];\n                }\n                else if ('aim' in constraint) {\n                    type = 'aim';\n                    axis = VRM_AIM_AXES[constraint.aim.aimAxis];\n                }\n                else if ('rotation' in constraint) {\n                    type = 'rotation';\n                }\n                if (type) {\n                    const source = this.engine.wrapObject(extensions.idMapping[constraint[type].source]);\n                    this._nodeConstraints.push({\n                        type,\n                        source,\n                        destination: object,\n                        axis: axis,\n                        weight: constraint[type].weight,\n                        /* Rest pose */\n                        destinationRestLocalRotation: quat.copy(quat.create(), object.rotationLocal),\n                        sourceRestLocalRotation: quat.copy(quat.create(), source.rotationLocal),\n                        sourceRestLocalRotationInv: quat.invert(quat.create(), source.rotationLocal),\n                    });\n                }\n                else {\n                    console.warn('Unrecognized or invalid VRMC_node_constraint, ignoring it');\n                }\n            }\n            for (const child of object.children) {\n                traverse(child);\n            }\n        };\n        traverse(this.object);\n    }\n    _parseAndInitializeSpringBones(springBone, extensions) {\n        const colliders = (springBone.colliders || []).map((collider, i) => {\n            const shapeType = 'capsule' in collider.shape ? 'capsule' : 'sphere';\n            return {\n                id: i,\n                object: this.engine.wrapObject(extensions.idMapping[collider.node]),\n                shape: {\n                    isCapsule: shapeType === 'capsule',\n                    radius: collider.shape[shapeType].radius,\n                    offset: collider.shape[shapeType].offset,\n                    tail: collider.shape[shapeType].tail,\n                },\n                cache: {\n                    head: vec3.create(),\n                    tail: vec3.create(),\n                },\n            };\n        });\n        this._sphereColliders = colliders.filter((c) => !c.shape.isCapsule);\n        this._capsuleColliders = colliders.filter((c) => c.shape.isCapsule);\n        const colliderGroups = (springBone.colliderGroups || []).map((group) => ({\n            name: group.name,\n            colliders: group.colliders.map((c) => colliders[c]),\n        }));\n        for (const spring of springBone.springs) {\n            const joints = [];\n            for (const joint of spring.joints) {\n                const springJoint = {\n                    hitRadius: 0.0,\n                    stiffness: 1.0,\n                    gravityPower: 0.0,\n                    gravityDir: [0.0, -1.0, 0.0],\n                    dragForce: 0.5,\n                    node: null,\n                    state: null,\n                };\n                Object.assign(springJoint, joint);\n                springJoint.node = this.engine.wrapObject(extensions.idMapping[springJoint.node]);\n                joints.push(springJoint);\n            }\n            const springChainColliders = (spring.colliderGroups || []).flatMap((cg) => colliderGroups[cg].colliders);\n            this._springChains.push({\n                name: spring.name,\n                center: spring.center\n                    ? this.engine.wrapObject(extensions.idMapping[spring.center])\n                    : null,\n                joints,\n                sphereColliders: springChainColliders.filter((c) => !c.shape.isCapsule),\n                capsuleColliders: springChainColliders.filter((c) => c.shape.isCapsule),\n            });\n        }\n        /* Initialize spring bone joint state */\n        for (const springChain of this._springChains) {\n            for (let i = 0; i < springChain.joints.length - 1; ++i) {\n                const springBoneJoint = springChain.joints[i];\n                const childSpringBoneJoint = springChain.joints[i + 1];\n                const springBonePosition = springBoneJoint.node.getTranslationWorld(vec3.create());\n                const childSpringBonePosition = childSpringBoneJoint.node.getTranslationWorld(vec3.create());\n                const boneDirection = vec3.subtract(this._tempV3A, springBonePosition, childSpringBonePosition);\n                const state = {\n                    prevTail: childSpringBonePosition,\n                    currentTail: vec3.copy(vec3.create(), childSpringBonePosition),\n                    initialLocalRotation: quat.copy(quat.create(), springBoneJoint.node.rotationLocal),\n                    initialLocalTransformInvert: quat2.invert(quat2.create(), springBoneJoint.node.transformLocal),\n                    boneAxis: vec3.normalize(vec3.create(), childSpringBoneJoint.node.getTranslationLocal(this._tempV3)),\n                    /* Ensure bone length is at least 1cm to avoid jittery behaviour from zero-length bones */\n                    boneLength: Math.max(0.01, vec3.length(boneDirection)),\n                    /* Tail positions in center space, if needed */\n                    prevTailCenter: null,\n                    currentTailCenter: null,\n                };\n                if (springChain.center) {\n                    state.prevTailCenter = springChain.center.transformPointInverseWorld(vec3.create(), childSpringBonePosition);\n                    state.currentTailCenter = vec3.copy(vec3.create(), childSpringBonePosition);\n                }\n                springBoneJoint.state = state;\n            }\n        }\n    }\n    update(dt) {\n        if (!this._initialized) {\n            return;\n        }\n        /* 1. Resolve humanoid bones (performed by user) */\n        /* 2. Resolve LookAt (bone type) as the position of the head is determined */\n        this._resolveLookAt();\n        /* 3. Expression update (TODO) */\n        /* 4. Apply Expression (TODO) */\n        /* 5. Resolve constraints */\n        this._resolveConstraints();\n        /* 6. Resolve Spring Bone */\n        this._updateSpringBones(dt);\n    }\n    _rangeMap(rangeMap, input) {\n        const maxValue = rangeMap.inputMaxValue;\n        const outputScale = rangeMap.outputScale;\n        return (Math.min(input, maxValue) / maxValue) * outputScale;\n    }\n    _resolveLookAt() {\n        if (!this._lookAt || !this.lookAtTarget) {\n            return;\n        }\n        const lookAtSource = this.bones.head.transformPointWorld(this._tempV3A, this._lookAt.offsetFromHeadBone);\n        const lookAtTarget = this.lookAtTarget.getTranslationWorld(this._tempV3B);\n        const lookAtDirection = vec3.sub(this._tempV3A, lookAtTarget, lookAtSource);\n        vec3.normalize(lookAtDirection, lookAtDirection);\n        /* Convert the direction into LookAt space */\n        this.bones.head.parent.transformVectorInverseWorld(lookAtDirection);\n        const z = vec3.dot(lookAtDirection, this._forwardVector);\n        const x = vec3.dot(lookAtDirection, this._rightVector);\n        const yaw = Math.atan2(x, z) * this._rad2deg;\n        const xz = Math.sqrt(x * x + z * z);\n        const y = vec3.dot(lookAtDirection, this._upVector);\n        let pitch = Math.atan2(-y, xz) * this._rad2deg;\n        /* Limit pitch */\n        if (pitch > 0) {\n            pitch = this._rangeMap(this._lookAt.verticalDown, pitch);\n        }\n        else {\n            pitch = -this._rangeMap(this._lookAt.verticalUp, -pitch);\n        }\n        /* Left eye (limit yaw) */\n        if (this.bones.leftEye) {\n            let yawLeft = yaw;\n            if (yawLeft > 0) {\n                yawLeft = this._rangeMap(this._lookAt.horizontalInner, yawLeft);\n            }\n            else {\n                yawLeft = -this._rangeMap(this._lookAt.horizontalOuter, -yawLeft);\n            }\n            const eyeRotation = quat.fromEuler(this._tempQuatA, pitch, yawLeft, 0);\n            this.bones.leftEye.rotationLocal = quat.multiply(eyeRotation, this.restPose.leftEye, eyeRotation);\n        }\n        /* Right eye (limit yaw) */\n        if (this.bones.rightEye) {\n            let yawRight = yaw;\n            if (yawRight > 0) {\n                yawRight = this._rangeMap(this._lookAt.horizontalOuter, yawRight);\n            }\n            else {\n                yawRight = -this._rangeMap(this._lookAt.horizontalInner, -yawRight);\n            }\n            const eyeRotation = quat.fromEuler(this._tempQuatA, pitch, yawRight, 0);\n            this.bones.rightEye.rotationLocal = quat.multiply(eyeRotation, this.restPose.rightEye, eyeRotation);\n        }\n    }\n    _resolveConstraints() {\n        for (const nodeConstraint of this._nodeConstraints) {\n            this._resolveConstraint(nodeConstraint);\n        }\n    }\n    _resolveConstraint(nodeConstraint) {\n        const dstRestQuat = nodeConstraint.destinationRestLocalRotation;\n        const srcRestQuatInv = nodeConstraint.sourceRestLocalRotationInv;\n        const targetQuat = quat.identity(this._tempQuatA);\n        switch (nodeConstraint.type) {\n            case 'roll':\n                {\n                    const deltaSrcQuat = quat.multiply(this._tempQuatA, srcRestQuatInv, nodeConstraint.source.rotationLocal);\n                    /* source to parent */\n                    const deltaSrcQuatInParent = quat.multiply(this._tempQuatA, nodeConstraint.sourceRestLocalRotation, deltaSrcQuat);\n                    quat.mul(deltaSrcQuatInParent, deltaSrcQuatInParent, srcRestQuatInv);\n                    /* parent to destination */\n                    const dstRestQuatInv = quat.invert(this._tempQuatB, dstRestQuat);\n                    const deltaSrcQuatInDst = quat.multiply(this._tempQuatB, dstRestQuatInv, deltaSrcQuatInParent);\n                    quat.multiply(deltaSrcQuatInDst, deltaSrcQuatInDst, dstRestQuat);\n                    const toVec = vec3.transformQuat(this._tempV3A, nodeConstraint.axis, deltaSrcQuatInDst);\n                    const fromToQuat = quat.rotationTo(this._tempQuatA, nodeConstraint.axis, toVec);\n                    quat.mul(targetQuat, dstRestQuat, quat.invert(this._tempQuat, fromToQuat));\n                    quat.mul(targetQuat, targetQuat, deltaSrcQuatInDst);\n                }\n                break;\n            case 'aim':\n                {\n                    const dstParentWorldQuat = nodeConstraint.destination.parent.rotationWorld;\n                    /* fromVec = aimAxis.applyQuaternion( dstParentWorldQuat * dstRestQuat ) */\n                    const fromVec = vec3.transformQuat(this._tempV3A, nodeConstraint.axis, dstRestQuat);\n                    vec3.transformQuat(fromVec, fromVec, dstParentWorldQuat);\n                    /* toVec = ( srcWorldPos - dstWorldPos ).normalized */\n                    const toVec = nodeConstraint.source.getTranslationWorld(this._tempV3B);\n                    vec3.sub(toVec, toVec, nodeConstraint.destination.getTranslationWorld(this._tempV3));\n                    vec3.normalize(toVec, toVec);\n                    /* fromToQuat = Quaternion.fromToRotation( fromVec, toVec ) */\n                    const fromToQuat = quat.rotationTo(this._tempQuatA, fromVec, toVec);\n                    quat.mul(targetQuat, quat.invert(this._tempQuat, dstParentWorldQuat), fromToQuat);\n                    quat.mul(targetQuat, targetQuat, dstParentWorldQuat);\n                    quat.mul(targetQuat, targetQuat, dstRestQuat);\n                }\n                break;\n            case 'rotation':\n                {\n                    const srcDeltaQuat = quat.mul(targetQuat, srcRestQuatInv, nodeConstraint.source.rotationLocal);\n                    quat.mul(targetQuat, dstRestQuat, srcDeltaQuat);\n                }\n                break;\n        }\n        /* Apply constraint */\n        quat.slerp(targetQuat, dstRestQuat, targetQuat, nodeConstraint.weight);\n        nodeConstraint.destination.rotationLocal = targetQuat;\n    }\n    _updateSpringBones(dt) {\n        /* Pre-compute collider positions */\n        this._sphereColliders.forEach(({ object, shape, cache }) => {\n            const offset = vec3.copy(cache.head, shape.offset);\n            object.transformVectorWorld(offset);\n            vec3.add(cache.head, object.getTranslationWorld(this._tempV3), offset);\n        });\n        this._capsuleColliders.forEach(({ object, shape, cache }) => {\n            const shapeCenter = object.getTranslationWorld(this._tempV3A);\n            const headOffset = vec3.copy(cache.head, shape.offset);\n            object.transformVectorWorld(headOffset);\n            vec3.add(cache.head, shapeCenter, headOffset);\n            const tailOffset = vec3.copy(cache.tail, shape.tail);\n            object.transformVectorWorld(tailOffset);\n            vec3.add(cache.tail, shapeCenter, tailOffset);\n        });\n        /* Update spring chains */\n        this._springChains.forEach((springChain) => {\n            for (let i = 0; i < springChain.joints.length - 1; ++i) {\n                const joint = springChain.joints[i];\n                const parentWorldRotation = joint.node.parent\n                    ? joint.node.parent.rotationWorld\n                    : this._identityQuat;\n                /* 1. Forces */\n                /* inertia = (currentTail - prevTail) * (1.0f - dragForce); */\n                const inertia = this._inertia;\n                if (springChain.center) {\n                    vec3.sub(inertia, joint.state.currentTailCenter, joint.state.prevTailCenter);\n                    springChain.center.transformVectorWorld(inertia);\n                }\n                else {\n                    vec3.sub(inertia, joint.state.currentTail, joint.state.prevTail);\n                }\n                vec3.scale(inertia, inertia, 1.0 - joint.dragForce);\n                /* stiffness = deltaTime * parentWorldRotation * localRotation * boneAxis * stiffnessForce; */\n                const stiffness = vec3.copy(this._stiffness, joint.state.boneAxis);\n                vec3.transformQuat(stiffness, stiffness, joint.state.initialLocalRotation);\n                vec3.transformQuat(stiffness, stiffness, parentWorldRotation);\n                vec3.scale(stiffness, stiffness, dt * joint.stiffness);\n                /* external = deltaTime * gravityDir * gravityPower; */\n                const external = vec3.scale(this._external, joint.gravityDir, dt * joint.gravityPower);\n                /* nextTail = currentTail + inertia + stiffness + external; */\n                const nextTail = vec3.copy(this._tempV3A, joint.state.currentTail);\n                vec3.add(nextTail, nextTail, inertia);\n                vec3.add(nextTail, nextTail, stiffness);\n                vec3.add(nextTail, nextTail, external);\n                /* constrain the length */\n                /* nextTail = worldPosition + (nextTail - worldPosition).normalized * boneLength; */\n                const worldPosition = joint.node.getTranslationWorld(this._tempV3B);\n                vec3.sub(nextTail, nextTail, worldPosition);\n                vec3.normalize(nextTail, nextTail);\n                vec3.scaleAndAdd(nextTail, worldPosition, nextTail, joint.state.boneLength);\n                /* 2. Collision with colliders */\n                /* Sphere colliders */\n                for (const { shape, cache } of springChain.sphereColliders) {\n                    let tailToShape = this._tailToShape;\n                    const sphereCenter = cache.head;\n                    tailToShape = vec3.sub(tailToShape, nextTail, sphereCenter);\n                    const radius = shape.radius + joint.hitRadius;\n                    const dist = vec3.length(tailToShape) - radius;\n                    if (dist < 0.0) {\n                        vec3.normalize(tailToShape, tailToShape);\n                        vec3.scaleAndAdd(nextTail, nextTail, tailToShape, -dist);\n                        /* constraint the length */\n                        vec3.sub(nextTail, nextTail, worldPosition);\n                        vec3.normalize(nextTail, nextTail);\n                        vec3.scaleAndAdd(nextTail, worldPosition, nextTail, joint.state.boneLength);\n                    }\n                }\n                /* Capsule colliders */\n                for (const { shape, cache } of springChain.capsuleColliders) {\n                    let tailToShape = this._tailToShape;\n                    const head = cache.head;\n                    const tail = cache.tail;\n                    /* Naively start with distance to the head */\n                    tailToShape = vec3.sub(tailToShape, nextTail, head);\n                    const headToTail = vec3.sub(this._headToTail, tail, head);\n                    const dot = vec3.dot(headToTail, tailToShape);\n                    if (vec3.squaredLength(headToTail) <= dot) {\n                        /* Closest to tail */\n                        vec3.sub(tailToShape, nextTail, tail);\n                    }\n                    else if (dot > 0.0) {\n                        /* Closest to middle */\n                        vec3.scale(headToTail, headToTail, dot / vec3.squaredLength(headToTail));\n                        vec3.sub(tailToShape, tailToShape, headToTail);\n                    }\n                    const radius = shape.radius + joint.hitRadius;\n                    const dist = vec3.length(tailToShape) - radius;\n                    if (dist < 0.0) {\n                        vec3.normalize(tailToShape, tailToShape);\n                        vec3.scaleAndAdd(nextTail, nextTail, tailToShape, -dist);\n                        /* constraint the length */\n                        vec3.sub(nextTail, nextTail, worldPosition);\n                        vec3.normalize(nextTail, nextTail);\n                        vec3.scaleAndAdd(nextTail, worldPosition, nextTail, joint.state.boneLength);\n                    }\n                }\n                /* 3. Applying rotation */\n                vec3.copy(joint.state.prevTail, joint.state.currentTail);\n                vec3.copy(joint.state.currentTail, nextTail);\n                if (springChain.center) {\n                    vec3.copy(joint.state.prevTailCenter, joint.state.currentTailCenter);\n                    vec3.copy(joint.state.currentTailCenter, nextTail);\n                    springChain.center.transformPointInverseWorld(joint.state.currentTailCenter);\n                }\n                /* to = (nextTail * (node.parent.worldMatrix * initialLocalMatrix).inverse).normalized */\n                joint.node.parent.transformPointInverseWorld(nextTail);\n                const nextTailDualQuat = quat2.fromTranslation(this._tempQuat2, nextTail);\n                quat2.multiply(nextTailDualQuat, joint.state.initialLocalTransformInvert, nextTailDualQuat);\n                quat2.getTranslation(nextTail, nextTailDualQuat);\n                vec3.normalize(nextTail, nextTail);\n                /* node.rotation = initialLocalRotation * Quaternion.fromToQuaternion(boneAxis, to); */\n                const jointRotation = quat.rotationTo(this._tempQuatA, joint.state.boneAxis, nextTail);\n                joint.node.rotationLocal = quat.mul(this._tempQuatA, joint.state.initialLocalRotation, jointRotation);\n            }\n        });\n    }\n    /**\n     * @param {boolean} firstPerson Whether the model should render for first person or third person views\n     */\n    set firstPerson(firstPerson) {\n        this._firstPersonAnnotations.forEach((annotation) => {\n            const visible = firstPerson == annotation.firstPerson ||\n                firstPerson != annotation.thirdPerson;\n            annotation.node.getComponents('mesh').forEach((mesh) => {\n                mesh.active = visible;\n            });\n        });\n    }\n}\nexport { Vrm };\n", "import { vec3 } from 'gl-matrix';\nimport { Component, Type } from '@wonderlandengine/api';\n/**\n * Basic movement with W/A/S/D keys.\n */\nclass WasdControlsComponent extends Component {\n    static TypeName = 'wasd-controls';\n    static Properties = {\n        /** Movement speed in m/s. */\n        speed: { type: Type.Float, default: 0.1 },\n        /** Object of which the orientation is used to determine forward direction */\n        headObject: { type: Type.Object },\n    };\n    init() {\n        this.up = false;\n        this.right = false;\n        this.down = false;\n        this.left = false;\n        window.addEventListener('keydown', this.press.bind(this));\n        window.addEventListener('keyup', this.release.bind(this));\n    }\n    start() {\n        this.headObject = this.headObject || this.object;\n    }\n    update() {\n        let direction = [0, 0, 0];\n        if (this.up)\n            direction[2] -= 1.0;\n        if (this.down)\n            direction[2] += 1.0;\n        if (this.left)\n            direction[0] -= 1.0;\n        if (this.right)\n            direction[0] += 1.0;\n        vec3.normalize(direction, direction);\n        direction[0] *= this.speed;\n        direction[2] *= this.speed;\n        vec3.transformQuat(direction, direction, this.headObject.transformWorld);\n        this.object.translate(direction);\n    }\n    press(e) {\n        if (e.keyCode === 38 /* up */ ||\n            e.keyCode === 87 /* w */ ||\n            e.keyCode === 90 /* z */) {\n            this.up = true;\n        }\n        else if (e.keyCode === 39 /* right */ || e.keyCode === 68 /* d */) {\n            this.right = true;\n        }\n        else if (e.keyCode === 40 /* down */ || e.keyCode === 83 /* s */) {\n            this.down = true;\n        }\n        else if (e.keyCode === 37 /* left */ ||\n            e.keyCode === 65 /* a */ ||\n            e.keyCode === 81 /* q */) {\n            this.left = true;\n        }\n    }\n    release(e) {\n        if (e.keyCode === 38 /* up */ ||\n            e.keyCode === 87 /* w */ ||\n            e.keyCode === 90 /* z */) {\n            this.up = false;\n        }\n        else if (e.keyCode === 39 /* right */ || e.keyCode === 68 /* d */) {\n            this.right = false;\n        }\n        else if (e.keyCode === 40 /* down */ || e.keyCode === 83 /* s */) {\n            this.down = false;\n        }\n        else if (e.keyCode === 37 /* left */ ||\n            e.keyCode === 65 /* a */ ||\n            e.keyCode === 81 /* q */) {\n            this.left = false;\n        }\n    }\n}\nexport { WasdControlsComponent };\n", "/**\n * Component property type.\n */\nexport var Type;\n(function (Type) {\n    /**\n     * **Native**\n     *\n     * Property of a native component. Must not be used in custom components.\n     *\n     * @hidden\n     */\n    Type[Type[\"Native\"] = 1] = \"Native\";\n    /**\n     * **Bool**:\n     *\n     * Appears in the editor as a checkbox.\n     *\n     * Initial value is `false`, unless overridden by the `default` property.\n     */\n    Type[Type[\"Bool\"] = 2] = \"Bool\";\n    /**\n     * **Int**:\n     *\n     * Appears in the editor as an integer input field.\n     *\n     * Initial value is `0`, unless overridden by the `default` property.\n     */\n    Type[Type[\"Int\"] = 4] = \"Int\";\n    /**\n     * **Float**:\n     *\n     * Appears in the editor as a floating point input field.\n     *\n     * Initial value is `0.0`, unless overridden by the `default` property.\n     */\n    Type[Type[\"Float\"] = 8] = \"Float\";\n    /**\n     * **String / Text**:\n     *\n     * Appears in the editor as a single-line text input field.\n     *\n     * Initial value is an empty string, unless overridden by the `default`\n     * property.\n     */\n    Type[Type[\"String\"] = 16] = \"String\";\n    /**\n     * **Enumeration**:\n     *\n     * Appears in the editor as a dropdown with given values. The additional\n     * `values` parameter with selection options is mandatory.\n     *\n     * The property value is resolved to an **index** into the `values` array.\n     *\n     * Initial value is the first element in `values`, unless overridden by\n     * the `default` property. The `default` value can be a string or an index\n     * into `values`.\n     *\n     * @example\n     *\n     * ```js\n     *     camera: {type: Type.Enum, values: ['auto', 'back', 'front'], default: 'auto'},\n     * ```\n     */\n    Type[Type[\"Enum\"] = 32] = \"Enum\";\n    /**\n     * **Object reference**:\n     *\n     * Appears in the editor as an object resource selection dropdown\n     * with object picker.\n     *\n     * Initial value is `null`.\n     */\n    Type[Type[\"Object\"] = 64] = \"Object\";\n    /**\n     * **Mesh reference**:\n     *\n     * Appears in the editor as a mesh resource selection dropdown.\n     *\n     * Initial value is `null`.\n     */\n    Type[Type[\"Mesh\"] = 128] = \"Mesh\";\n    /**\n     * **Texture reference**:\n     *\n     * Appears in the editor as a texture resource selection dropdown.\n     *\n     * Initial value is `null`.\n     */\n    Type[Type[\"Texture\"] = 256] = \"Texture\";\n    /**\n     * **Material reference**:\n     *\n     * Appears in the editor as a material resource selection dropdown.\n     *\n     * Initial value is `null`.\n     */\n    Type[Type[\"Material\"] = 512] = \"Material\";\n    /**\n     * **Animation reference**:\n     *\n     * Appears in the editor as an animation resource selection dropdown.\n     *\n     * Initial value is `null`.\n     */\n    Type[Type[\"Animation\"] = 1024] = \"Animation\";\n    /**\n     * **Skin reference**:\n     *\n     * Appears in the editor as a skin resource selection dropdown.\n     *\n     * Initial value is `null`.\n     */\n    Type[Type[\"Skin\"] = 2048] = \"Skin\";\n    /**\n     * **Color**:\n     *\n     * Appears in the editor as a color widget.\n     *\n     * Initial value is `[0.0, 0.0, 0.0, 1.0]`, unless overridden by the\n     * `default` property.\n     */\n    Type[Type[\"Color\"] = 4096] = \"Color\";\n})(Type || (Type = {}));\n/**\n * Component property namespace.\n *\n * Usage:\n *\n * ```js\n * import {Component, Property} from '@wonderlandengine/api';\n *\n * class MyComponent extends Component {\n *     static Properties = {\n *         myBool: Property.bool(true),\n *         myInt: Property.int(42),\n *         myString: Property.string('Hello World!'),\n *         myMesh: Property.mesh(),\n *     }\n * }\n * ```\n *\n * For TypeScript users, you can use the decorators instead.\n */\nexport const Property = {\n    /**\n     * Create an boolean property.\n     *\n     * @param defaultValue The default value. If not provided, defaults to `false`.\n     */\n    bool(defaultValue = false) {\n        return { type: Type.Bool, default: defaultValue };\n    },\n    /**\n     * Create an integer property.\n     *\n     * @param defaultValue The default value. If not provided, defaults to `0`.\n     */\n    int(defaultValue = 0) {\n        return { type: Type.Int, default: defaultValue };\n    },\n    /**\n     * Create an float property.\n     *\n     * @param defaultValue The default value. If not provided, defaults to `0.0`.\n     */\n    float(defaultValue = 0.0) {\n        return { type: Type.Float, default: defaultValue };\n    },\n    /**\n     * Create an string property.\n     *\n     * @param defaultValue The default value. If not provided, defaults to `''`.\n     */\n    string(defaultValue = '') {\n        return { type: Type.String, default: defaultValue };\n    },\n    /**\n     * Create an enumeration property.\n     *\n     * @param values The list of values.\n     * @param defaultValue The default value. Can be a string or an index into\n     *     `values`. If not provided, defaults to the first element.\n     */\n    enum(values, defaultValue) {\n        return { type: Type.Enum, values, default: defaultValue };\n    },\n    /** Create an {@link Object3D} reference property. */\n    object() {\n        return { type: Type.Object, default: null };\n    },\n    /** Create a {@link Mesh} reference property. */\n    mesh() {\n        return { type: Type.Mesh, default: null };\n    },\n    /** Create a {@link Texture} reference property. */\n    texture() {\n        return { type: Type.Texture, default: null };\n    },\n    /** Create a {@link Material} reference property. */\n    material() {\n        return { type: Type.Material, default: null };\n    },\n    /** Create an {@link Animation} reference property. */\n    animation() {\n        return { type: Type.Animation, default: null };\n    },\n    /** Create a {@link Skin} reference property. */\n    skin() {\n        return { type: Type.Skin, default: null };\n    },\n    /**\n     * Create a color property.\n     *\n     * @param r The red component, in the range [0; 1].\n     * @param g The green component, in the range [0; 1].\n     * @param b The blue component, in the range [0; 1].\n     * @param a The alpha component, in the range [0; 1].\n     */\n    color(r = 0.0, g = 0.0, b = 0.0, a = 1.0) {\n        return { type: Type.Color, default: [r, g, b, a] };\n    },\n};\n", "import { Property, Type } from './property.js';\n/**\n * Decorator for JS component properties.\n *\n * @param data The property description as an object literal\n * @returns A decorator function modifying the `Properties` static\n *     attribute\n */\nfunction propertyDecorator(data) {\n    return function (target, propertyKey) {\n        const ctor = target.constructor;\n        ctor.Properties = ctor.Properties ?? {};\n        ctor.Properties[propertyKey] = data;\n    };\n}\n/**\n * Decorator for making a getter enumerable.\n *\n * Usage:\n *\n * ```ts\n * class MyClass {\n *     @enumerable()\n *     get projectionMatrix(): Float32Array { ... }\n * }\n * ```\n */\nexport function enumerable() {\n    return function (_, __, descriptor) {\n        descriptor.enumerable = true;\n    };\n}\n/**\n * Decorator for native properties.\n *\n * Usage:\n *\n * ```ts\n * class MyClass {\n *     @nativeProperty()\n *     get projectionMatrix(): Float32Array { ... }\n * }\n * ```\n */\nexport function nativeProperty() {\n    return function (target, propertyKey, descriptor) {\n        enumerable()(target, propertyKey, descriptor);\n        propertyDecorator({ type: Type.Native })(target, propertyKey);\n    };\n}\n/**\n * Property decorators namespace.\n *\n * You can use the decorators to mark a class attribute as\n * a Wonderland Engine property.\n *\n * Usage:\n *\n * ```ts\n * import {Mesh} from '@wonderlandengine/api';\n * import {property} from '@wonderlandengine/api/decorators.js';\n *\n * class MyComponent extends Component {\n *     @property.bool(true)\n *     myBool!: boolean;\n *\n *     @property.int(42)\n *     myInt!: number;\n *\n *     @property.string('Hello World!')\n *     myString!: string;\n *\n *     @property.mesh()\n *     myMesh!: Mesh;\n * }\n * ```\n *\n * For JavaScript users, please declare the properties statically.\n */\nexport const property = {};\nfor (const name in Property) {\n    /* Assign each property functor to a TypeScript decorator.\n     * This code extracts parameters and return type to provide proper\n     * typings to the user. */\n    property[name] = (...args) => {\n        const functor = Property[name];\n        return propertyDecorator(functor(...args));\n    };\n}\n", "/**\n * Check if a given value is a native string or a `String` instance.\n *\n * @param value The value to check.\n * @returns `true` if the `value` has type string literal or `String`, `false` otherwise.\n */\nexport function isString(value) {\n    if (value === '')\n        return true;\n    return value && (typeof value === 'string' || value.constructor === String);\n}\n/**\n * Check if a given value is a native number or a `Number` instance.\n *\n * @param value The value to check.\n * @returns `true` if the `value` has type number literal or `Number`, `false` otherwise.\n */\nexport function isNumber(value) {\n    if (value === null || value === undefined)\n        return false;\n    return typeof value === 'number' || value.constructor === Number;\n}\n", "/**\n * Types\n */\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { nativeProperty, enumerable } from './decorators.js';\nimport { isNumber, isString } from './utils/object.js';\nimport { Emitter } from './utils/event.js';\nimport { fetchWithProgress } from './utils/fetch.js';\n/**\n * Wonderland Engine API\n * @namespace WL\n */\n/**\n * Collider type enum for {@link CollisionComponent}.\n */\nexport var Collider;\n(function (Collider) {\n    /**\n     * **Sphere Collider**:\n     *\n     * Simplest and most performant collision shape. If this type is set on a\n     * {@link CollisionComponent}, only the first component of\n     * {@link CollisionComponent#extents} will be used to determine the radius.\n     */\n    Collider[Collider[\"Sphere\"] = 0] = \"Sphere\";\n    /**\n     * **Axis Aligned Bounding Box Collider**:\n     *\n     * Box that is always aligned to XYZ axis. It cannot be rotated but is more\n     * efficient than {@link Collider.Box}.\n     */\n    Collider[Collider[\"AxisAlignedBox\"] = 1] = \"AxisAlignedBox\";\n    /**\n     * **Aligned Bounding Box Collider**:\n     *\n     * Box that matches the object's rotation and translation correctly. This\n     * is the least efficient collider and should only be chosen over\n     * {@link Collider.Sphere} and {@link Collider.AxisAlignedBox} if really\n     * necessary.\n     */\n    Collider[Collider[\"Box\"] = 2] = \"Box\";\n})(Collider || (Collider = {}));\n/**\n * Alignment type enum for {@link TextComponent}.\n */\nexport var Alignment;\n(function (Alignment) {\n    /** Text start is at object origin */\n    Alignment[Alignment[\"Left\"] = 0] = \"Left\";\n    /** Text center is at object origin */\n    Alignment[Alignment[\"Center\"] = 1] = \"Center\";\n    /** Text end is at object origin */\n    Alignment[Alignment[\"Right\"] = 2] = \"Right\";\n})(Alignment || (Alignment = {}));\n/**\n * Justification type enum for {@link TextComponent}.\n */\nexport var Justification;\n(function (Justification) {\n    /** Text line is at object origin */\n    Justification[Justification[\"Line\"] = 0] = \"Line\";\n    /** Text middle is at object origin */\n    Justification[Justification[\"Middle\"] = 1] = \"Middle\";\n    /** Text top is at object origin */\n    Justification[Justification[\"Top\"] = 2] = \"Top\";\n    /** Text bottom is at object origin */\n    Justification[Justification[\"Bottom\"] = 3] = \"Bottom\";\n})(Justification || (Justification = {}));\n/**\n * Effect type enum for {@link TextComponent}.\n */\nexport var TextEffect;\n(function (TextEffect) {\n    /** Text is rendered normally */\n    TextEffect[TextEffect[\"None\"] = 0] = \"None\";\n    /** Text is rendered with an outline */\n    TextEffect[TextEffect[\"Outline\"] = 1] = \"Outline\";\n})(TextEffect || (TextEffect = {}));\n/**\n * Input type enum for {@link InputComponent}.\n */\nexport var InputType;\n(function (InputType) {\n    /** Head input */\n    InputType[InputType[\"Head\"] = 0] = \"Head\";\n    /** Left eye input */\n    InputType[InputType[\"EyeLeft\"] = 1] = \"EyeLeft\";\n    /** Right eye input */\n    InputType[InputType[\"EyeRight\"] = 2] = \"EyeRight\";\n    /** Left controller input */\n    InputType[InputType[\"ControllerLeft\"] = 3] = \"ControllerLeft\";\n    /** Right controller input */\n    InputType[InputType[\"ControllerRight\"] = 4] = \"ControllerRight\";\n    /** Left ray input */\n    InputType[InputType[\"RayLeft\"] = 5] = \"RayLeft\";\n    /** Right ray input */\n    InputType[InputType[\"RayRight\"] = 6] = \"RayRight\";\n})(InputType || (InputType = {}));\n/**\n * Light type enum for {@link LightComponent}.\n */\nexport var LightType;\n(function (LightType) {\n    /** Point light */\n    LightType[LightType[\"Point\"] = 0] = \"Point\";\n    /** Spot light */\n    LightType[LightType[\"Spot\"] = 1] = \"Spot\";\n    /** Sun light / Directional light */\n    LightType[LightType[\"Sun\"] = 2] = \"Sun\";\n})(LightType || (LightType = {}));\n/**\n * Animation state of {@link AnimationComponent}.\n */\nexport var AnimationState;\n(function (AnimationState) {\n    /** Animation is currently playing */\n    AnimationState[AnimationState[\"Playing\"] = 0] = \"Playing\";\n    /** Animation is paused and will continue at current playback\n     * time on {@link AnimationComponent#play} */\n    AnimationState[AnimationState[\"Paused\"] = 1] = \"Paused\";\n    /** Animation is stopped */\n    AnimationState[AnimationState[\"Stopped\"] = 2] = \"Stopped\";\n})(AnimationState || (AnimationState = {}));\n/**\n * Rigid body force mode for {@link PhysXComponent#addForce} and {@link PhysXComponent#addTorque}.\n *\n * [PhysX API Reference](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxapi/files/structPxForceMode.html)\n */\nexport var ForceMode;\n(function (ForceMode) {\n    /** Apply as force */\n    ForceMode[ForceMode[\"Force\"] = 0] = \"Force\";\n    /** Apply as impulse */\n    ForceMode[ForceMode[\"Impulse\"] = 1] = \"Impulse\";\n    /** Apply as velocity change, mass dependent */\n    ForceMode[ForceMode[\"VelocityChange\"] = 2] = \"VelocityChange\";\n    /** Apply as mass dependent force */\n    ForceMode[ForceMode[\"Acceleration\"] = 3] = \"Acceleration\";\n})(ForceMode || (ForceMode = {}));\n/**\n * Collision callback event type.\n */\nexport var CollisionEventType;\n(function (CollisionEventType) {\n    /** Touch/contact detected, collision */\n    CollisionEventType[CollisionEventType[\"Touch\"] = 0] = \"Touch\";\n    /** Touch/contact lost, uncollide */\n    CollisionEventType[CollisionEventType[\"TouchLost\"] = 1] = \"TouchLost\";\n    /** Touch/contact with trigger detected */\n    CollisionEventType[CollisionEventType[\"TriggerTouch\"] = 2] = \"TriggerTouch\";\n    /** Touch/contact with trigger lost */\n    CollisionEventType[CollisionEventType[\"TriggerTouchLost\"] = 3] = \"TriggerTouchLost\";\n})(CollisionEventType || (CollisionEventType = {}));\n/**\n * Rigid body {@link PhysXComponent#shape}.\n *\n * [PhysX SDK Guide](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/Geometry.html#geometry-types).\n */\nexport var Shape;\n(function (Shape) {\n    /** No shape. */\n    Shape[Shape[\"None\"] = 0] = \"None\";\n    /** Sphere shape. */\n    Shape[Shape[\"Sphere\"] = 1] = \"Sphere\";\n    /** Capsule shape. */\n    Shape[Shape[\"Capsule\"] = 2] = \"Capsule\";\n    /** Box shape. */\n    Shape[Shape[\"Box\"] = 3] = \"Box\";\n    /** Plane shape. */\n    Shape[Shape[\"Plane\"] = 4] = \"Plane\";\n    /** Convex mesh shape. */\n    Shape[Shape[\"ConvexMesh\"] = 5] = \"ConvexMesh\";\n    /** Triangle mesh shape. */\n    Shape[Shape[\"TriangleMesh\"] = 6] = \"TriangleMesh\";\n})(Shape || (Shape = {}));\n/**\n * Mesh attribute enum.\n * @since 0.9.0\n */\nexport var MeshAttribute;\n(function (MeshAttribute) {\n    /** Position attribute, 3 floats */\n    MeshAttribute[MeshAttribute[\"Position\"] = 0] = \"Position\";\n    /** Tangent attribute, 4 floats */\n    MeshAttribute[MeshAttribute[\"Tangent\"] = 1] = \"Tangent\";\n    /** Normal attribute, 3 floats */\n    MeshAttribute[MeshAttribute[\"Normal\"] = 2] = \"Normal\";\n    /** Texture coordinate attribute, 2 floats */\n    MeshAttribute[MeshAttribute[\"TextureCoordinate\"] = 3] = \"TextureCoordinate\";\n    /** Color attribute, 4 floats, RGBA, range `0` to `1` */\n    MeshAttribute[MeshAttribute[\"Color\"] = 4] = \"Color\";\n    /** Joint id attribute, 8 unsigned ints */\n    MeshAttribute[MeshAttribute[\"JointId\"] = 5] = \"JointId\";\n    /** Joint weights attribute, 8 floats */\n    MeshAttribute[MeshAttribute[\"JointWeight\"] = 6] = \"JointWeight\";\n})(MeshAttribute || (MeshAttribute = {}));\n/**\n * Material parameter type.\n */\nexport var MaterialParamType;\n(function (MaterialParamType) {\n    /** Unsigned integer parameter type. */\n    MaterialParamType[MaterialParamType[\"UnsignedInt\"] = 0] = \"UnsignedInt\";\n    /** Integer parameter type. */\n    MaterialParamType[MaterialParamType[\"Int\"] = 1] = \"Int\";\n    /** Float parameter type. */\n    MaterialParamType[MaterialParamType[\"Float\"] = 2] = \"Float\";\n    /** Sampler resource parameter type, i.e., a {@link Texture}. */\n    MaterialParamType[MaterialParamType[\"Sampler\"] = 3] = \"Sampler\";\n    /**\n     * Font resource parameter type.\n     *\n     * **Note**: Changing font isn't exposed yet and will raise an error.\n     */\n    MaterialParamType[MaterialParamType[\"Font\"] = 4] = \"Font\";\n})(MaterialParamType || (MaterialParamType = {}));\n/**\n * Check whether a given shape is a mesh or not.\n *\n * @param shape The shape to check.\n * @returns `true` if the shape is a mesh, `false` if it's a primitive.\n */\nfunction isMeshShape(shape) {\n    return shape === Shape.ConvexMesh || shape === Shape.TriangleMesh;\n}\n/**\n * Constants.\n */\n/**\n * Default world up vector.\n */\nconst UP_VECTOR = [0, 1, 0];\n/**\n * Provides global scene functionality like raycasting.\n */\nexport class Scene {\n    /** Called before rendering the scene */\n    onPreRender = new Emitter();\n    /** Called after the scene has been rendered */\n    onPostRender = new Emitter();\n    /** Wonderland Engine instance. @hidden */\n    _engine;\n    /** Ray hit pointer in WASM heap. @hidden */\n    _rayHit;\n    /** Ray hit. @hidden */\n    _hit;\n    constructor(engine) {\n        this._engine = engine;\n        this._rayHit = engine.wasm._malloc(4 * (3 * 4 + 3 * 4 + 4 + 2) + 4);\n        this._hit = new RayHit(this._engine, this._rayHit);\n    }\n    /**\n     * Currently active view components.\n     */\n    get activeViews() {\n        const wasm = this._engine.wasm;\n        const count = wasm._wl_scene_get_active_views(this._engine.wasm._tempMem, 16);\n        const views = [];\n        const viewTypeIndex = wasm._typeIndexFor('view');\n        for (let i = 0; i < count; ++i) {\n            views.push(new ViewComponent(this._engine, viewTypeIndex, this._engine.wasm._tempMemInt[i]));\n        }\n        return views;\n    }\n    /**\n     * Cast a ray through the scene and find intersecting objects.\n     *\n     * The resulting ray hit will contain up to **4** closest ray hits,\n     * sorted by increasing distance.\n     *\n     * @param o Ray origin.\n     * @param d Ray direction.\n     * @param group Collision group to filter by: only objects that are\n     *        part of given group are considered for raycast.\n     *\n     * @returns The scene cached {@link RayHit} instance.\n     * @note The returned object is owned by the Scene instance\n     *   will be reused with the next {@link Scene#rayCast} call.\n     */\n    rayCast(o, d, group) {\n        this._engine.wasm._wl_scene_ray_cast(o[0], o[1], o[2], d[0], d[1], d[2], group, this._rayHit);\n        return this._hit;\n    }\n    /**\n     * Add an object to the scene.\n     *\n     * @param parent Parent object or `null`.\n     * @returns A newly created object.\n     */\n    addObject(parent = null) {\n        const parentId = parent ? parent.objectId : 0;\n        const objectId = this._engine.wasm._wl_scene_add_object(parentId);\n        return this._engine.wrapObject(objectId);\n    }\n    /**\n     * Batch-add objects to the scene.\n     *\n     * Will provide better performance for adding multiple objects (e.g. > 16)\n     * than calling {@link Scene#addObject} repeatedly in a loop.\n     *\n     * By providing upfront information of how many objects will be required,\n     * the engine is able to batch-allocate the required memory rather than\n     * convervatively grow the memory in small steps.\n     *\n     * **Experimental:** This API might change in upcoming versions.\n     *\n     * @param count Number of objects to add.\n     * @param parent Parent object or `null`, default `null`.\n     * @param componentCountHint Hint for how many components in total will\n     *      be added to the created objects afterwards, default `0`.\n     * @returns Newly created objects\n     */\n    addObjects(count, parent = null, componentCountHint = 0) {\n        const parentId = parent ? parent.objectId : 0;\n        this._engine.wasm.requireTempMem(count * 2);\n        const actualCount = this._engine.wasm._wl_scene_add_objects(parentId, count, componentCountHint || 0, this._engine.wasm._tempMem, this._engine.wasm._tempMemSize >> 1);\n        const ids = this._engine.wasm._tempMemUint16.subarray(0, actualCount);\n        const wrapper = this._engine.wrapObject.bind(this._engine);\n        const objects = Array.from(ids, wrapper);\n        return objects;\n    }\n    /**\n     * Pre-allocate memory for a given amount of objects and components.\n     *\n     * Will provide better performance for adding objects later with {@link Scene#addObject}\n     * and {@link Scene#addObjects}.\n     *\n     * By providing upfront information of how many objects will be required,\n     * the engine is able to batch-allocate the required memory rather than\n     * conservatively grow the memory in small steps.\n     *\n     * **Experimental:** This API might change in upcoming versions.\n     *\n     * @param objectCount Number of objects to add.\n     * @param componentCountPerType Amount of components to\n     *      allocate for {@link Object3D.addComponent}, e.g. `{mesh: 100, collision: 200, \"my-comp\": 100}`.\n     * @since 0.8.10\n     */\n    reserveObjects(objectCount, componentCountPerType) {\n        const wasm = this._engine.wasm;\n        componentCountPerType = componentCountPerType || {};\n        const jsManagerIndex = wasm._typeIndexFor('js');\n        let countsPerTypeIndex = wasm._tempMemInt.subarray();\n        countsPerTypeIndex.fill(0);\n        for (const e of Object.entries(componentCountPerType)) {\n            const typeIndex = wasm._typeIndexFor(e[0]);\n            countsPerTypeIndex[typeIndex < 0 ? jsManagerIndex : typeIndex] += e[1];\n        }\n        wasm._wl_scene_reserve_objects(objectCount, wasm._tempMem);\n    }\n    /**\n     * Set the background clear color.\n     *\n     * @param color new clear color (RGBA).\n     * @since 0.8.5\n     */\n    set clearColor(color) {\n        this._engine.wasm._wl_scene_set_clearColor(color[0], color[1], color[2], color[3]);\n    }\n    /**\n     * Set whether to clear the color framebuffer before drawing.\n     *\n     * This function is useful if an external framework (e.g. an AR tracking\n     * framework) is responsible for drawing a camera frame before Wonderland\n     * Engine draws the scene on top of it.\n     *\n     * @param b Whether to enable color clear.\n     * @since 0.9.4\n     */\n    set colorClearEnabled(b) {\n        this._engine.wasm._wl_scene_enableColorClear(b);\n    }\n    /** Hosting engine instance. */\n    get engine() {\n        return this._engine;\n    }\n    /**\n     * Load a scene file (.bin).\n     *\n     * Will replace the currently active scene with the one loaded\n     * from given file. It is assumed that JavaScript components required by\n     * the new scene were registered in advance.\n     *\n     * Once the scene is loaded successfully and initialized,\n     * {@link WonderlandEngine.onSceneLoaded} is notified.\n     *\n     * @param filename Path to the .bin file.\n     * @returns Promise that resolves when the scene was loaded.\n     */\n    async load(filename) {\n        const wasm = this._engine.wasm;\n        const buffer = await fetchWithProgress(filename, (bytes, size) => {\n            console.log(`Scene downloading: ${bytes} / ${size}`);\n            wasm._wl_set_loading_screen_progress(bytes / size);\n        });\n        const size = buffer.byteLength;\n        console.log(`Scene download of ${size} bytes successful.`);\n        const ptr = wasm._malloc(size);\n        new Uint8Array(wasm.HEAPU8.buffer, ptr, size).set(new Uint8Array(buffer));\n        try {\n            wasm._wl_load_scene_bin(ptr, size, wasm.tempUTF8(filename));\n        }\n        finally {\n            /* Catch calls to abort(), e.g. via asserts */\n            wasm._free(ptr);\n        }\n        const binQueue = wasm._queuedBinFiles;\n        if (binQueue.length > 0) {\n            wasm._queuedBinFiles = [];\n            await Promise.all(binQueue.map((path) => this.append(path)));\n        }\n        this._engine.onSceneLoaded.notify();\n    }\n    /**\n     * Append a scene file.\n     *\n     * Loads and parses the file and its images and appends the result\n     * to the currently active scene.\n     *\n     * Supported formats are streamable Wonderland scene files (.bin) and glTF\n     * 3D scenes (.gltf, .glb).\n     *\n     * ```js\n     * WL.scene.append(filename).then(root => {\n     *     // root contains the loaded scene\n     * });\n     * ```\n     *\n     * In case the `loadGltfExtensions` option is set to true, the response\n     * will be an object containing both the root of the loaded scene and\n     * any glTF extensions found on nodes, meshes and the root of the file.\n     *\n     * ```js\n     * WL.scene.append(filename, { loadGltfExtensions: true }).then(({root, extensions}) => {\n     *     // root contains the loaded scene\n     *     // extensions.root contains any extensions at the root of glTF document\n     *     const rootExtensions = extensions.root;\n     *     // extensions.mesh and extensions.node contain extensions indexed by Object id\n     *     const childObject = root.children[0];\n     *     const meshExtensions = root.meshExtensions[childObject.objectId];\n     *     const nodeExtensions = root.nodeExtensions[childObject.objectId];\n     *     // extensions.idMapping contains a mapping from glTF node index to Object id\n     * });\n     * ```\n     *\n     * @param file The .bin, .gltf or .glb file to append. Should be a URL or\n     *   an `ArrayBuffer` with the file content.\n     * @param options Additional options for loading.\n     * @returns Promise that resolves when the scene was appended.\n     */\n    async append(file, options) {\n        const buffer = isString(file) ? await fetchWithProgress(file) : file;\n        const wasm = this._engine.wasm;\n        let callback;\n        const promise = new Promise((resolve, reject) => {\n            callback = wasm.addFunction((objectId, extensionData, extensionDataSize) => {\n                if (objectId < 0) {\n                    reject();\n                    return;\n                }\n                const root = objectId ? this._engine.wrapObject(objectId) : null;\n                if (extensionData && extensionDataSize) {\n                    const marshalled = new Uint32Array(wasm.HEAPU32.buffer, extensionData, extensionDataSize / 4);\n                    const extensions = this._unmarshallGltfExtensions(marshalled);\n                    resolve({ root, extensions });\n                }\n                else {\n                    resolve(root);\n                }\n            }, 'viii');\n        }).finally(() => wasm.removeFunction(callback));\n        const size = buffer.byteLength;\n        const ptr = wasm._malloc(size);\n        const data = new Uint8Array(wasm.HEAPU8.buffer, ptr, size);\n        data.set(new Uint8Array(buffer));\n        const MAGIC = 'WLEV';\n        const isBinFile = data.byteLength > MAGIC.length &&\n            data\n                .subarray(0, MAGIC.length)\n                .every((value, i) => value === MAGIC.charCodeAt(i));\n        try {\n            if (isBinFile) {\n                wasm._wl_append_scene_bin(ptr, size, callback);\n            }\n            else {\n                const loadExtensions = options?.loadGltfExtensions ?? false;\n                wasm._wl_append_scene_gltf(ptr, size, loadExtensions, callback);\n            }\n        }\n        catch (e) {\n            wasm.removeFunction(callback);\n            throw e;\n        }\n        finally {\n            wasm._free(ptr);\n        }\n        const result = await promise;\n        const binQueue = wasm._queuedBinFiles;\n        if (isBinFile && binQueue.length > 0) {\n            wasm._queuedBinFiles = [];\n            await Promise.all(binQueue.map((path) => this.append(path, options)));\n        }\n        return result;\n    }\n    /**\n     * Unmarshalls the GltfExtensions from an Uint32Array.\n     *\n     * @param data Array containing the gltf extension data.\n     * @returns The extensions stored in an object literal.\n     *\n     * @hidden\n     */\n    _unmarshallGltfExtensions(data) {\n        /* @todo: This method should be moved in the internal Emscripten library. */\n        const extensions = {\n            root: {},\n            mesh: {},\n            node: {},\n            idMapping: [],\n        };\n        let index = 0;\n        const readString = () => {\n            const strPtr = data[index++];\n            const strLen = data[index++];\n            return this._engine.wasm.UTF8ViewToString(strPtr, strPtr + strLen);\n        };\n        const idMappingSize = data[index++];\n        const idMapping = new Array(idMappingSize);\n        for (let i = 0; i < idMappingSize; ++i) {\n            idMapping[i] = data[index++];\n        }\n        extensions.idMapping = idMapping;\n        const meshExtensionsSize = data[index++];\n        for (let i = 0; i < meshExtensionsSize; ++i) {\n            const objectId = data[index++];\n            extensions.mesh[idMapping[objectId]] = JSON.parse(readString());\n        }\n        const nodeExtensionsSize = data[index++];\n        for (let i = 0; i < nodeExtensionsSize; ++i) {\n            const objectId = data[index++];\n            extensions.node[idMapping[objectId]] = JSON.parse(readString());\n        }\n        const rootExtensionsStr = readString();\n        if (rootExtensionsStr) {\n            extensions.root = JSON.parse(rootExtensionsStr);\n        }\n        return extensions;\n    }\n    /**\n     * Reset the scene.\n     *\n     * This method deletes all used and allocated objects, and components.\n     */\n    reset() {\n        this._engine.wasm._wl_scene_reset();\n    }\n}\n/**\n * Native component\n *\n * Provides access to a native component instance of a specified component type.\n *\n * Usage example:\n *\n * ```js\n * import { Component, Type } from '@wonderlandengine/api';\n *\n * export class MyComponent extends Component {\n *     static TypeName = 'my-component';\n *     static Properties = {\n *         myBoolean: { type: Type.Boolean, default: false },\n *     };\n *     start() {}\n *     onActivate() {}\n *     onDeactivate() {}\n *     update(dt) {}\n * }\n * ```\n */\nexport class Component {\n    /**\n     * Unique identifier for this component class.\n     *\n     * This is used to register, add, and retrieve components of a given type.\n     */\n    static TypeName;\n    /**\n     * Properties of this component class.\n     *\n     * Properties are public attributes that can be configured via the\n     * Wonderland Editor.\n     *\n     * Example:\n     *\n     * ```js\n     * import { Component, Type } from '@wonderlandengine/api';\n     * class MyComponent extends Component {\n     *     static TypeName = 'my-component';\n     *     static Properties = {\n     *         myBoolean: { type: Type.Boolean, default: false },\n     *         myFloat: { type: Type.Float, default: false },\n     *         myTexture: { type: Type.Texture, default: null },\n     *     };\n     * }\n     * ```\n     *\n     * Properties are automatically added to each component instance, and are\n     * accessible like any JS attribute:\n     *\n     * ```js\n     * // Creates a new component and set each properties value:\n     * const myComponent = object.addComponent(MyComponent, {\n     *     myBoolean: true,\n     *     myFloat: 42.0,\n     *     myTexture: null\n     * });\n     *\n     * // You can also override the properties on the instance:\n     * myComponent.myBoolean = false;\n     * myComponent.myFloat = -42.0;\n     * ```\n     */\n    static Properties;\n    /**\n     * This was never released in an official version, we are keeping it\n     * to easy transition to the new API.\n     *\n     * @deprecated Use {@link Component.onRegister} instead.\n     * @hidden\n     */\n    static Dependencies;\n    /**\n     * Called when this component class is registered.\n     *\n     * @example\n     *\n     * This callback can be used to register dependencies of a component,\n     * e.g., component classes that need to be registered in order to add\n     * them at runtime with {@link Object3D.addComponent}, independent of whether\n     * they are used in the editor.\n     *\n     * ```js\n     * class Spawner extends Component {\n     *     static TypeName = 'spawner';\n     *\n     *     static onRegister() {\n     *         engine.registerComponent(SpawnedComponent);\n     *     }\n     *\n     *     // You can now use addComponent with SpawnedComponent\n     * }\n     * ```\n     *\n     * @example\n     *\n     * This callback can be used to register different implementations of a\n     * component depending on client features or API versions.\n     *\n     * ```js\n     * // Properties need to be the same for all implementations!\n     * const SharedProperties = {};\n     *\n     * class Anchor extends Component {\n     *     static TypeName = 'spawner';\n     *     static Properties = SharedProperties;\n     *\n     *     static onRegister() {\n     *         if(navigator.xr === undefined) {\n     *             /* WebXR unsupported, keep this dummy component *\\/\n     *             return;\n     *         }\n     *         /* WebXR supported! Override already registered dummy implementation\n     *          * with one depending on hit-test API support *\\/\n     *         engine.registerComponent(window.HitTestSource === undefined ?\n     *             AnchorWithoutHitTest : AnchorWithHitTest);\n     *     }\n     *\n     *     // This one implements no functions\n     * }\n     * ```\n     */\n    static onRegister;\n    /** Manager index. @hidden */\n    _manager;\n    /** Instance index. @hidden */\n    _id;\n    /**\n     * Object containing this object.\n     *\n     * **Note**: This is cached for faster retrieval.\n     *\n     * @hidden\n     */\n    _object;\n    /** Wonderland Engine instance. @hidden */\n    _engine;\n    /**\n     * Create a new instance\n     *\n     * @param engine The engine instance.\n     * @param manager Index of the manager.\n     * @param id WASM component instance index.\n     *\n     * @hidden\n     */\n    constructor(engine, manager = -1, id = -1) {\n        this._engine = engine;\n        this._manager = manager;\n        this._id = id;\n        this._object = null;\n    }\n    /** Hosting engine instance. */\n    get engine() {\n        return this._engine;\n    }\n    /** The name of this component's type */\n    get type() {\n        const ctor = this.constructor;\n        return ctor.TypeName ?? this._engine.wasm._typeNameFor(this._manager);\n    }\n    /** The object this component is attached to. */\n    get object() {\n        if (!this._object) {\n            const objectId = this._engine.wasm._wl_component_get_object(this._manager, this._id);\n            this._object = this._engine.wrapObject(objectId);\n        }\n        return this._object;\n    }\n    /**\n     * Set whether this component is active.\n     *\n     * Activating/deactivating a component comes at a small cost of reordering\n     * components in the respective component manager. This function therefore\n     * is not a trivial assignment.\n     *\n     * Does nothing if the component is already activated/deactivated.\n     *\n     * @param active New active state.\n     */\n    set active(active) {\n        this._engine.wasm._wl_component_setActive(this._manager, this._id, active);\n    }\n    /**\n     * Whether this component is active\n     */\n    get active() {\n        return this._engine.wasm._wl_component_isActive(this._manager, this._id) != 0;\n    }\n    /**\n     * Remove this component from its objects and destroy it.\n     *\n     * It is best practice to set the component to `null` after,\n     * to ensure it does not get used later.\n     *\n     * ```js\n     *    c.destroy();\n     *    c = null;\n     * ```\n     * @since 0.9.0\n     */\n    destroy() {\n        this._engine.wasm._wl_component_remove(this._manager, this._id);\n        this._manager = -1;\n        this._id = -1;\n    }\n    /**\n     * Checks equality by comparing whether the wrapped native component ids\n     * and component manager types are equal.\n     *\n     * @param otherComponent Component to check equality with.\n     * @returns Whether this component equals the given component.\n     */\n    equals(otherComponent) {\n        if (!otherComponent)\n            return false;\n        return this._manager == otherComponent._manager && this._id == otherComponent._id;\n    }\n}\n/**\n * Native collision component.\n *\n * Provides access to a native collision component instance.\n */\nexport class CollisionComponent extends Component {\n    /** @override */\n    static TypeName = 'collision';\n    /** Collision component collider */\n    get collider() {\n        return this._engine.wasm._wl_collision_component_get_collider(this._id);\n    }\n    /**\n     * Set collision component collider.\n     *\n     * @param collider Collider of the collision component.\n     */\n    set collider(collider) {\n        this._engine.wasm._wl_collision_component_set_collider(this._id, collider);\n    }\n    /**\n     * Collision component extents.\n     *\n     * If {@link collider} returns {@link Collider.Sphere}, only the first\n     * component of the returned vector is used.\n     */\n    get extents() {\n        const wasm = this._engine.wasm;\n        return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_collision_component_get_extents(this._id), 3);\n    }\n    /**\n     * Set collision component extents.\n     *\n     * If {@link collider} returns {@link Collider.Sphere}, only the first\n     * component of the passed vector is used.\n     *\n     * Example:\n     *\n     * ```js\n     * // Spans 1 unit on the x-axis, 2 on the y-axis, 3 on the z-axis.\n     * collision.extent = [1, 2, 3];\n     * ```\n     *\n     * @param extents Extents of the collision component, expects a\n     *      3 component array.\n     */\n    set extents(extents) {\n        this.extents.set(extents);\n    }\n    /**\n     * Collision component group.\n     *\n     * The groups is a bitmask that is compared to other components in {@link CollisionComponent#queryOverlaps}\n     * or the group in {@link Scene#rayCast}.\n     *\n     * Colliders that have no common groups will not overlap with each other. If a collider\n     * has none of the groups set for {@link Scene#rayCast}, the ray will not hit it.\n     *\n     * Each bit represents belonging to a group, see example.\n     *\n     * ```js\n     *    // c belongs to group 2\n     *    c.group = (1 << 2);\n     *\n     *    // c belongs to group 0\n     *    c.group = (1 << 0);\n     *\n     *    // c belongs to group 0 *and* 2\n     *    c.group = (1 << 0) | (1 << 2);\n     *\n     *    (c.group & (1 << 2)) != 0; // true\n     *    (c.group & (1 << 7)) != 0; // false\n     * ```\n     */\n    get group() {\n        return this._engine.wasm._wl_collision_component_get_group(this._id);\n    }\n    /**\n     * Set collision component group.\n     *\n     * @param group Group mask of the collision component.\n     */\n    set group(group) {\n        this._engine.wasm._wl_collision_component_set_group(this._id, group);\n    }\n    /**\n     * Query overlapping objects.\n     *\n     * Usage:\n     *\n     * ```js\n     * const collision = object.getComponent('collision');\n     * const overlaps = collision.queryOverlaps();\n     * for(const otherCollision of overlaps) {\n     *     const otherObject = otherCollision.object;\n     *     console.log(`Collision with object ${otherObject.objectId}`);\n     * }\n     * ```\n     *\n     * @returns Collision components overlapping this collider.\n     */\n    queryOverlaps() {\n        const count = this._engine.wasm._wl_collision_component_query_overlaps(this._id, this._engine.wasm._tempMem, this._engine.wasm._tempMemSize >> 1);\n        const overlaps = new Array(count);\n        for (let i = 0; i < count; ++i) {\n            overlaps[i] = new CollisionComponent(this._engine, this._manager, this._engine.wasm._tempMemUint16[i]);\n        }\n        return overlaps;\n    }\n}\n__decorate([\n    nativeProperty()\n], CollisionComponent.prototype, \"collider\", null);\n__decorate([\n    nativeProperty()\n], CollisionComponent.prototype, \"extents\", null);\n__decorate([\n    nativeProperty()\n], CollisionComponent.prototype, \"group\", null);\n/**\n * Native text component\n *\n * Provides access to a native text component instance\n */\nexport class TextComponent extends Component {\n    /** @override */\n    static TypeName = 'text';\n    /** Text component alignment. */\n    get alignment() {\n        return this._engine.wasm._wl_text_component_get_horizontal_alignment(this._id);\n    }\n    /**\n     * Set text component alignment.\n     *\n     * @param alignment Alignment for the text component.\n     */\n    set alignment(alignment) {\n        this._engine.wasm._wl_text_component_set_horizontal_alignment(this._id, alignment);\n    }\n    /** Text component justification. */\n    get justification() {\n        return this._engine.wasm._wl_text_component_get_vertical_alignment(this._id);\n    }\n    /**\n     * Set text component justification.\n     *\n     * @param justification Justification for the text component.\n     */\n    set justification(justification) {\n        this._engine.wasm._wl_text_component_set_vertical_alignment(this._id, justification);\n    }\n    /** Text component character spacing. */\n    get characterSpacing() {\n        return this._engine.wasm._wl_text_component_get_character_spacing(this._id);\n    }\n    /**\n     * Set text component character spacing.\n     *\n     * @param spacing Character spacing for the text component.\n     */\n    set characterSpacing(spacing) {\n        this._engine.wasm._wl_text_component_set_character_spacing(this._id, spacing);\n    }\n    /** Text component line spacing. */\n    get lineSpacing() {\n        return this._engine.wasm._wl_text_component_get_line_spacing(this._id);\n    }\n    /**\n     * Set text component line spacing\n     *\n     * @param spacing Line spacing for the text component\n     */\n    set lineSpacing(spacing) {\n        this._engine.wasm._wl_text_component_set_line_spacing(this._id, spacing);\n    }\n    /** Text component effect. */\n    get effect() {\n        return this._engine.wasm._wl_text_component_get_effect(this._id);\n    }\n    /**\n     * Set text component effect\n     *\n     * @param effect Effect for the text component\n     */\n    set effect(effect) {\n        this._engine.wasm._wl_text_component_set_effect(this._id, effect);\n    }\n    /** Text component text. */\n    get text() {\n        const wasm = this._engine.wasm;\n        const ptr = wasm._wl_text_component_get_text(this._id);\n        return wasm.UTF8ToString(ptr);\n    }\n    /**\n     * Set text component text.\n     *\n     * @param text Text of the text component.\n     */\n    set text(text) {\n        const wasm = this._engine.wasm;\n        wasm._wl_text_component_set_text(this._id, wasm.tempUTF8(text));\n    }\n    /**\n     * Set material to render the text with.\n     *\n     * @param material New material.\n     */\n    set material(material) {\n        const matIndex = material ? material._index : 0;\n        this._engine.wasm._wl_text_component_set_material(this._id, matIndex);\n    }\n    /** Material used to render the text. */\n    get material() {\n        const id = this._engine.wasm._wl_text_component_get_material(this._id);\n        return id > 0 ? new Material(this._engine, id) : null;\n    }\n}\n__decorate([\n    nativeProperty()\n], TextComponent.prototype, \"alignment\", null);\n__decorate([\n    nativeProperty()\n], TextComponent.prototype, \"justification\", null);\n__decorate([\n    nativeProperty()\n], TextComponent.prototype, \"characterSpacing\", null);\n__decorate([\n    nativeProperty()\n], TextComponent.prototype, \"lineSpacing\", null);\n__decorate([\n    nativeProperty()\n], TextComponent.prototype, \"effect\", null);\n__decorate([\n    nativeProperty()\n], TextComponent.prototype, \"text\", null);\n__decorate([\n    nativeProperty()\n], TextComponent.prototype, \"material\", null);\n/**\n * Native view component.\n *\n * Provides access to a native view component instance.\n */\nexport class ViewComponent extends Component {\n    /** @override */\n    static TypeName = 'view';\n    /** Projection matrix. */\n    get projectionMatrix() {\n        const wasm = this._engine.wasm;\n        return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_view_component_get_projection_matrix(this._id), 16);\n    }\n    /** ViewComponent near clipping plane value. */\n    get near() {\n        return this._engine.wasm._wl_view_component_get_near(this._id);\n    }\n    /**\n     * Set near clipping plane distance for the view.\n     *\n     * If an XR session is active, the change will apply in the\n     * following frame, otherwise the change is immediate.\n     *\n     * @param near Near depth value.\n     */\n    set near(near) {\n        this._engine.wasm._wl_view_component_set_near(this._id, near);\n    }\n    /** Far clipping plane value. */\n    get far() {\n        return this._engine.wasm._wl_view_component_get_far(this._id);\n    }\n    /**\n     * Set far clipping plane distance for the view.\n     *\n     * If an XR session is active, the change will apply in the\n     * following frame, otherwise the change is immediate.\n     *\n     * @param far Near depth value.\n     */\n    set far(far) {\n        this._engine.wasm._wl_view_component_set_far(this._id, far);\n    }\n    /**\n     * Get the horizontal field of view for the view, **in degrees**.\n     *\n     * If an XR session is active, this returns the field of view reported by\n     * the device, regardless of the fov that was set.\n     */\n    get fov() {\n        return this._engine.wasm._wl_view_component_get_fov(this._id);\n    }\n    /**\n     * Set the horizontal field of view for the view, **in degrees**.\n     *\n     * If an XR session is active, the field of view reported by the device is\n     * used and this value is ignored. After the XR session ends, the new value\n     * is applied.\n     *\n     * @param fov Horizontal field of view, **in degrees**.\n     */\n    set fov(fov) {\n        this._engine.wasm._wl_view_component_set_fov(this._id, fov);\n    }\n}\n__decorate([\n    enumerable()\n], ViewComponent.prototype, \"projectionMatrix\", null);\n__decorate([\n    nativeProperty()\n], ViewComponent.prototype, \"near\", null);\n__decorate([\n    nativeProperty()\n], ViewComponent.prototype, \"far\", null);\n__decorate([\n    nativeProperty()\n], ViewComponent.prototype, \"fov\", null);\n/**\n * Native input component.\n *\n * Provides access to a native input component instance.\n */\nexport class InputComponent extends Component {\n    /** @override */\n    static TypeName = 'input';\n    /** Input component type */\n    get inputType() {\n        return this._engine.wasm._wl_input_component_get_type(this._id);\n    }\n    /**\n     * Set input component type.\n     *\n     * @params New input component type.\n     */\n    set inputType(type) {\n        this._engine.wasm._wl_input_component_set_type(this._id, type);\n    }\n    /**\n     * WebXR Device API input source associated with this input component,\n     * if type {@link InputType.ControllerLeft} or {@link InputType.ControllerRight}.\n     */\n    get xrInputSource() {\n        const xrSession = this._engine.xrSession;\n        if (xrSession) {\n            for (let inputSource of xrSession.inputSources) {\n                if (inputSource.handedness == this.handedness) {\n                    return inputSource;\n                }\n            }\n        }\n        return null;\n    }\n    /**\n     * 'left', 'right' or `null` depending on the {@link InputComponent#inputType}.\n     */\n    get handedness() {\n        const inputType = this.inputType;\n        if (inputType == InputType.ControllerRight ||\n            inputType == InputType.RayRight ||\n            inputType == InputType.EyeRight)\n            return 'right';\n        if (inputType == InputType.ControllerLeft ||\n            inputType == InputType.RayLeft ||\n            inputType == InputType.EyeLeft)\n            return 'left';\n        return null;\n    }\n}\n__decorate([\n    nativeProperty()\n], InputComponent.prototype, \"inputType\", null);\n__decorate([\n    enumerable()\n], InputComponent.prototype, \"xrInputSource\", null);\n__decorate([\n    enumerable()\n], InputComponent.prototype, \"handedness\", null);\n/**\n * Native light component.\n *\n * Provides access to a native light component instance.\n */\nexport class LightComponent extends Component {\n    /** @override */\n    static TypeName = 'light';\n    getColor(out = new Float32Array(3)) {\n        const wasm = this._engine.wasm;\n        const ptr = wasm._wl_light_component_get_color(this._id) / 4; /* Align F32 */\n        out[0] = wasm.HEAPF32[ptr];\n        out[1] = wasm.HEAPF32[ptr + 1];\n        out[2] = wasm.HEAPF32[ptr + 2];\n        return out;\n    }\n    /**\n     * Set light color.\n     *\n     * @param c New color array/vector, expected to have at least 3 elements.\n     * @since 1.0.0\n     */\n    setColor(c) {\n        const wasm = this._engine.wasm;\n        const ptr = wasm._wl_light_component_get_color(this._id) / 4; /* Align F32 */\n        wasm.HEAPF32[ptr] = c[0];\n        wasm.HEAPF32[ptr + 1] = c[1];\n        wasm.HEAPF32[ptr + 2] = c[2];\n    }\n    /**\n     * View on the light color.\n     *\n     * @note Prefer to use {@link getColor} in performance-critical code.\n     */\n    get color() {\n        const wasm = this._engine.wasm;\n        return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_light_component_get_color(this._id), 3);\n    }\n    /**\n     * Set light color.\n     *\n     * @param c Color of the light component.\n     *\n     * @note Prefer to use {@link setColor} in performance-critical code.\n     */\n    set color(c) {\n        this.color.set(c);\n    }\n    /** Light type. */\n    get lightType() {\n        return this._engine.wasm._wl_light_component_get_type(this._id);\n    }\n    /**\n     * Set light type.\n     *\n     * @param lightType Type of the light component.\n     */\n    set lightType(t) {\n        this._engine.wasm._wl_light_component_set_type(this._id, t);\n    }\n    /**\n     * Light intensity.\n     * @since 1.0.0\n     */\n    get intensity() {\n        return this._engine.wasm._wl_light_component_get_intensity(this._id);\n    }\n    /**\n     * Set light intensity.\n     *\n     * @param intensity Intensity of the light component.\n     * @since 1.0.0\n     */\n    set intensity(intensity) {\n        this._engine.wasm._wl_light_component_set_intensity(this._id, intensity);\n    }\n    /**\n     * Outer angle for spot lights, in degrees.\n     * @since 1.0.0\n     */\n    get outerAngle() {\n        return this._engine.wasm._wl_light_component_get_outerAngle(this._id);\n    }\n    /**\n     * Set outer angle for spot lights.\n     *\n     * @param angle Outer angle, in degrees.\n     * @since 1.0.0\n     */\n    set outerAngle(angle) {\n        this._engine.wasm._wl_light_component_set_outerAngle(this._id, angle);\n    }\n    /**\n     * Inner angle for spot lights, in degrees.\n     * @since 1.0.0\n     */\n    get innerAngle() {\n        return this._engine.wasm._wl_light_component_get_innerAngle(this._id);\n    }\n    /**\n     * Set inner angle for spot lights.\n     *\n     * @param angle Inner angle, in degrees.\n     * @since 1.0.0\n     */\n    set innerAngle(angle) {\n        this._engine.wasm._wl_light_component_set_innerAngle(this._id, angle);\n    }\n    /**\n     * Whether the light casts shadows.\n     * @since 1.0.0\n     */\n    get shadows() {\n        return !!this._engine.wasm._wl_light_component_get_shadows(this._id);\n    }\n    /**\n     * Set whether the light casts shadows.\n     *\n     * @param b Whether the light casts shadows.\n     * @since 1.0.0\n     */\n    set shadows(b) {\n        this._engine.wasm._wl_light_component_set_shadows(this._id, b);\n    }\n    /**\n     * Range for shadows.\n     * @since 1.0.0\n     */\n    get shadowRange() {\n        return this._engine.wasm._wl_light_component_get_shadowRange(this._id);\n    }\n    /**\n     * Set range for shadows.\n     *\n     * @param range Range for shadows.\n     * @since 1.0.0\n     */\n    set shadowRange(range) {\n        this._engine.wasm._wl_light_component_set_shadowRange(this._id, range);\n    }\n    /**\n     * Bias value for shadows.\n     * @since 1.0.0\n     */\n    get shadowBias() {\n        return this._engine.wasm._wl_light_component_get_shadowBias(this._id);\n    }\n    /**\n     * Set bias value for shadows.\n     *\n     * @param bias Bias for shadows.\n     * @since 1.0.0\n     */\n    set shadowBias(bias) {\n        this._engine.wasm._wl_light_component_set_shadowBias(this._id, bias);\n    }\n    /**\n     * Normal bias value for shadows.\n     * @since 1.0.0\n     */\n    get shadowNormalBias() {\n        return this._engine.wasm._wl_light_component_get_shadowNormalBias(this._id);\n    }\n    /**\n     * Set normal bias value for shadows.\n     *\n     * @param bias Normal bias for shadows.\n     * @since 1.0.0\n     */\n    set shadowNormalBias(bias) {\n        this._engine.wasm._wl_light_component_set_shadowNormalBias(this._id, bias);\n    }\n    /**\n     * Texel size for shadows.\n     * @since 1.0.0\n     */\n    get shadowTexelSize() {\n        return this._engine.wasm._wl_light_component_get_shadowTexelSize(this._id);\n    }\n    /**\n     * Set texel size for shadows.\n     *\n     * @param size Texel size for shadows.\n     * @since 1.0.0\n     */\n    set shadowTexelSize(size) {\n        this._engine.wasm._wl_light_component_set_shadowTexelSize(this._id, size);\n    }\n    /**\n     * Cascade count for {@link LightType.Sun} shadows.\n     * @since 1.0.0\n     */\n    get cascadeCount() {\n        return this._engine.wasm._wl_light_component_get_cascadeCount(this._id);\n    }\n    /**\n     * Set cascade count for {@link LightType.Sun} shadows.\n     *\n     * @param count Cascade count.\n     * @since 1.0.0\n     */\n    set cascadeCount(count) {\n        this._engine.wasm._wl_light_component_set_cascadeCount(this._id, count);\n    }\n}\n__decorate([\n    nativeProperty()\n], LightComponent.prototype, \"color\", null);\n__decorate([\n    nativeProperty()\n], LightComponent.prototype, \"lightType\", null);\n__decorate([\n    nativeProperty()\n], LightComponent.prototype, \"intensity\", null);\n__decorate([\n    nativeProperty()\n], LightComponent.prototype, \"outerAngle\", null);\n__decorate([\n    nativeProperty()\n], LightComponent.prototype, \"innerAngle\", null);\n__decorate([\n    nativeProperty()\n], LightComponent.prototype, \"shadows\", null);\n__decorate([\n    nativeProperty()\n], LightComponent.prototype, \"shadowRange\", null);\n__decorate([\n    nativeProperty()\n], LightComponent.prototype, \"shadowBias\", null);\n__decorate([\n    nativeProperty()\n], LightComponent.prototype, \"shadowNormalBias\", null);\n__decorate([\n    nativeProperty()\n], LightComponent.prototype, \"shadowTexelSize\", null);\n__decorate([\n    nativeProperty()\n], LightComponent.prototype, \"cascadeCount\", null);\n/**\n * Native animation component.\n *\n * Provides access to a native animation component instance.\n */\nexport class AnimationComponent extends Component {\n    /** @override */\n    static TypeName = 'animation';\n    /**\n     * Set animation to play.\n     *\n     * Make sure to {@link Animation#retarget} the animation to affect the\n     * right objects.\n     *\n     * @param anim Animation to play.\n     */\n    set animation(anim) {\n        this._engine.wasm._wl_animation_component_set_animation(this._id, anim ? anim._index : 0);\n    }\n    /** Animation set for this component */\n    get animation() {\n        const id = this._engine.wasm._wl_animation_component_get_animation(this._id);\n        return id > 0 ? new Animation(this._engine, id) : null;\n    }\n    /**\n     * Set play count. Set to `0` to loop indefinitely.\n     *\n     * @param playCount Number of times to repeat the animation.\n     */\n    set playCount(playCount) {\n        this._engine.wasm._wl_animation_component_set_playCount(this._id, playCount);\n    }\n    /** Number of times the animation is played. */\n    get playCount() {\n        return this._engine.wasm._wl_animation_component_get_playCount(this._id);\n    }\n    /**\n     * Set speed. Set to negative values to run the animation backwards.\n     *\n     * Setting speed has an immediate effect for the current frame's update\n     * and will continue with the speed from the current point in the animation.\n     *\n     * @param speed New speed at which to play the animation.\n     * @since 0.8.10\n     */\n    set speed(speed) {\n        this._engine.wasm._wl_animation_component_set_speed(this._id, speed);\n    }\n    /**\n     * Speed factor at which the animation is played.\n     *\n     * @since 0.8.10\n     */\n    get speed() {\n        return this._engine.wasm._wl_animation_component_get_speed(this._id);\n    }\n    /** Current playing state of the animation */\n    get state() {\n        return this._engine.wasm._wl_animation_component_state(this._id);\n    }\n    /**\n     * Play animation.\n     *\n     * If the animation is currently paused, resumes from that position. If the\n     * animation is already playing, does nothing.\n     *\n     * To restart the animation, {@link AnimationComponent#stop} it first.\n     */\n    play() {\n        this._engine.wasm._wl_animation_component_play(this._id);\n    }\n    /** Stop animation. */\n    stop() {\n        this._engine.wasm._wl_animation_component_stop(this._id);\n    }\n    /** Pause animation. */\n    pause() {\n        this._engine.wasm._wl_animation_component_pause(this._id);\n    }\n}\n__decorate([\n    nativeProperty()\n], AnimationComponent.prototype, \"animation\", null);\n__decorate([\n    nativeProperty()\n], AnimationComponent.prototype, \"playCount\", null);\n__decorate([\n    nativeProperty()\n], AnimationComponent.prototype, \"speed\", null);\n__decorate([\n    enumerable()\n], AnimationComponent.prototype, \"state\", null);\n/**\n * Native mesh component.\n *\n * Provides access to a native mesh component instance.\n */\nexport class MeshComponent extends Component {\n    /** @override */\n    static TypeName = 'mesh';\n    /**\n     * Set material to render the mesh with.\n     *\n     * @param material Material to render the mesh with.\n     */\n    set material(material) {\n        this._engine.wasm._wl_mesh_component_set_material(this._id, material ? material._index : 0);\n    }\n    /** Material used to render the mesh. */\n    get material() {\n        const id = this._engine.wasm._wl_mesh_component_get_material(this._id);\n        return id > 0 ? new Material(this._engine, id) : null;\n    }\n    /** Mesh rendered by this component. */\n    get mesh() {\n        const id = this._engine.wasm._wl_mesh_component_get_mesh(this._id);\n        return id > 0 ? new Mesh(this._engine, id) : null;\n    }\n    /**\n     * Set mesh to rendered with this component.\n     *\n     * @param mesh Mesh rendered by this component.\n     */\n    set mesh(mesh) {\n        this._engine.wasm._wl_mesh_component_set_mesh(this._id, mesh ? mesh._index : 0);\n    }\n    /** Skin for this mesh component. */\n    get skin() {\n        const id = this._engine.wasm._wl_mesh_component_get_skin(this._id);\n        return id > 0 ? new Skin(this._engine, id) : null;\n    }\n    /**\n     * Set skin to transform this mesh component.\n     *\n     * @param skin Skin to use for rendering skinned meshes.\n     */\n    set skin(skin) {\n        this._engine.wasm._wl_mesh_component_set_skin(this._id, skin ? skin._index : 0);\n    }\n}\n__decorate([\n    nativeProperty()\n], MeshComponent.prototype, \"material\", null);\n__decorate([\n    nativeProperty()\n], MeshComponent.prototype, \"mesh\", null);\n__decorate([\n    nativeProperty()\n], MeshComponent.prototype, \"skin\", null);\n/**\n * Enum for Physics axes locking\n *\n * See {@link PhysXComponent.angularLockAxis} and {@link PhysXComponent.linearLockAxis}.\n */\nexport var LockAxis;\n(function (LockAxis) {\n    /**\n     * No axis selected.\n     */\n    LockAxis[LockAxis[\"None\"] = 0] = \"None\";\n    /**\n     * **X axis**:\n     */\n    LockAxis[LockAxis[\"X\"] = 1] = \"X\";\n    /**\n     * **Y axis**:\n     */\n    LockAxis[LockAxis[\"Y\"] = 2] = \"Y\";\n    /**\n     * **Z axis**:\n     */\n    LockAxis[LockAxis[\"Z\"] = 4] = \"Z\";\n})(LockAxis || (LockAxis = {}));\n/**\n * Native physx rigid body component.\n *\n * Provides access to a native mesh component instance.\n * Only available when using physx enabled runtime, see \"Project Settings > Runtime\".\n */\nexport class PhysXComponent extends Component {\n    /** @override */\n    static TypeName = 'physx';\n    /**\n     * Set whether this rigid body is static.\n     *\n     * Setting this property only takes effect once the component\n     * switches from inactive to active.\n     *\n     * @param b Whether the rigid body should be static.\n     */\n    set static(b) {\n        this._engine.wasm._wl_physx_component_set_static(this._id, b);\n    }\n    /**\n     * Whether this rigid body is static.\n     *\n     * This property returns whether the rigid body is *effectively*\n     * static. If static property was set while the rigid body was\n     * active, it will not take effect until the rigid body is set\n     * inactive and active again. Until the component is set inactive,\n     * this getter will return whether the rigid body is actually\n     * static.\n     */\n    get static() {\n        return !!this._engine.wasm._wl_physx_component_get_static(this._id);\n    }\n    /**\n     * Set whether this rigid body is kinematic.\n     *\n     * @param b Whether the rigid body should be kinematic.\n     */\n    set kinematic(b) {\n        this._engine.wasm._wl_physx_component_set_kinematic(this._id, b);\n    }\n    /**\n     * Whether this rigid body is kinematic.\n     */\n    get kinematic() {\n        return !!this._engine.wasm._wl_physx_component_get_kinematic(this._id);\n    }\n    /**\n     * Set whether this rigid body's gravity is enabled.\n     *\n     * @param b Whether the rigid body's gravity should be enabled.\n     */\n    set gravity(b) {\n        this._engine.wasm._wl_physx_component_set_gravity(this._id, b);\n    }\n    /**\n     * Whether this rigid body's gravity flag is enabled.\n     */\n    get gravity() {\n        return !!this._engine.wasm._wl_physx_component_get_gravity(this._id);\n    }\n    /**\n     * Set whether this rigid body's simulate flag is enabled.\n     *\n     * @param b Whether the rigid body's simulate flag should be enabled.\n     */\n    set simulate(b) {\n        this._engine.wasm._wl_physx_component_set_simulate(this._id, b);\n    }\n    /**\n     * Whether this rigid body's simulate flag is enabled.\n     */\n    get simulate() {\n        return !!this._engine.wasm._wl_physx_component_get_simulate(this._id);\n    }\n    /**\n     * Set whether to allow simulation of this rigid body.\n     *\n     * {@link allowSimulation} and {@link trigger} can not be enabled at the\n     * same time. Enabling {@link allowSimulation} while {@link trigger} is enabled\n     * will disable {@link trigger}.\n     *\n     * @param b Whether to allow simulation of this rigid body.\n     */\n    set allowSimulation(b) {\n        this._engine.wasm._wl_physx_component_set_allowSimulation(this._id, b);\n    }\n    /**\n     * Whether to allow simulation of this rigid body.\n     */\n    get allowSimulation() {\n        return !!this._engine.wasm._wl_physx_component_get_allowSimulation(this._id);\n    }\n    /**\n     * Set whether this rigid body may be queried in ray casts.\n     *\n     * @param b Whether this rigid body may be queried in ray casts.\n     */\n    set allowQuery(b) {\n        this._engine.wasm._wl_physx_component_set_allowQuery(this._id, b);\n    }\n    /**\n     * Whether this rigid body may be queried in ray casts.\n     */\n    get allowQuery() {\n        return !!this._engine.wasm._wl_physx_component_get_allowQuery(this._id);\n    }\n    /**\n     * Set whether this physics body is a trigger.\n     *\n     * {@link allowSimulation} and {@link trigger} can not be enabled at the\n     * same time. Enabling trigger while {@link allowSimulation} is enabled,\n     * will disable {@link allowSimulation}.\n     *\n     * @param b Whether this physics body is a trigger.\n     */\n    set trigger(b) {\n        this._engine.wasm._wl_physx_component_set_trigger(this._id, b);\n    }\n    /**\n     * Whether this physics body is a trigger.\n     */\n    get trigger() {\n        return !!this._engine.wasm._wl_physx_component_get_trigger(this._id);\n    }\n    /**\n     * Set the shape for collision detection.\n     *\n     * @param s New shape.\n     * @since 0.8.5\n     */\n    set shape(s) {\n        this._engine.wasm._wl_physx_component_set_shape(this._id, s);\n    }\n    /** The shape for collision detection. */\n    get shape() {\n        return this._engine.wasm._wl_physx_component_get_shape(this._id);\n    }\n    /**\n     * Set additional data for the shape.\n     *\n     * Retrieved only from {@link PhysXComponent#shapeData}.\n     * @since 0.8.10\n     */\n    set shapeData(d) {\n        if (d == null || !isMeshShape(this.shape))\n            return;\n        this._engine.wasm._wl_physx_component_set_shape_data(this._id, d.index);\n    }\n    /**\n     * Additional data for the shape.\n     *\n     * `null` for {@link Shape} values: `None`, `Sphere`, `Capsule`, `Box`, `Plane`.\n     * `{index: n}` for `TriangleMesh` and `ConvexHull`.\n     *\n     * This data is currently only for passing onto or creating other {@link PhysXComponent}.\n     * @since 0.8.10\n     */\n    get shapeData() {\n        if (!isMeshShape(this.shape))\n            return null;\n        return { index: this._engine.wasm._wl_physx_component_get_shape_data(this._id) };\n    }\n    /**\n     * Set the shape extents for collision detection.\n     *\n     * @param e New extents for the shape.\n     * @since 0.8.5\n     */\n    set extents(e) {\n        this.extents.set(e);\n    }\n    /**\n     * The shape extents for collision detection.\n     */\n    get extents() {\n        const wasm = this._engine.wasm;\n        const ptr = wasm._wl_physx_component_get_extents(this._id);\n        return new Float32Array(wasm.HEAPF32.buffer, ptr, 3);\n    }\n    /**\n     * Get staticFriction.\n     */\n    get staticFriction() {\n        return this._engine.wasm._wl_physx_component_get_staticFriction(this._id);\n    }\n    /**\n     * Set staticFriction.\n     * @param v New staticFriction.\n     */\n    set staticFriction(v) {\n        this._engine.wasm._wl_physx_component_set_staticFriction(this._id, v);\n    }\n    /**\n     * Get dynamicFriction.\n     */\n    get dynamicFriction() {\n        return this._engine.wasm._wl_physx_component_get_dynamicFriction(this._id);\n    }\n    /**\n     * Set dynamicFriction\n     * @param v New dynamicDamping.\n     */\n    set dynamicFriction(v) {\n        this._engine.wasm._wl_physx_component_set_dynamicFriction(this._id, v);\n    }\n    /**\n     * Get bounciness.\n     * @since 0.9.0\n     */\n    get bounciness() {\n        return this._engine.wasm._wl_physx_component_get_bounciness(this._id);\n    }\n    /**\n     * Set bounciness.\n     * @param v New bounciness.\n     * @since 0.9.0\n     */\n    set bounciness(v) {\n        this._engine.wasm._wl_physx_component_set_bounciness(this._id, v);\n    }\n    /**\n     * Get linearDamping/\n     */\n    get linearDamping() {\n        return this._engine.wasm._wl_physx_component_get_linearDamping(this._id);\n    }\n    /**\n     * Set linearDamping.\n     * @param v New linearDamping.\n     */\n    set linearDamping(v) {\n        this._engine.wasm._wl_physx_component_set_linearDamping(this._id, v);\n    }\n    /** Get angularDamping. */\n    get angularDamping() {\n        return this._engine.wasm._wl_physx_component_get_angularDamping(this._id);\n    }\n    /**\n     * Set angularDamping.\n     * @param v New angularDamping.\n     */\n    set angularDamping(v) {\n        this._engine.wasm._wl_physx_component_set_angularDamping(this._id, v);\n    }\n    /**\n     * Set linear velocity.\n     *\n     * [PhysX Manual - \"Velocity\"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#velocity)\n     *\n     * Has no effect, if the component is not active.\n     *\n     * @param v New linear velocity.\n     */\n    set linearVelocity(v) {\n        this._engine.wasm._wl_physx_component_set_linearVelocity(this._id, v[0], v[1], v[2]);\n    }\n    /** Linear velocity or `[0, 0, 0]` if the component is not active. */\n    get linearVelocity() {\n        const wasm = this._engine.wasm;\n        wasm._wl_physx_component_get_linearVelocity(this._id, wasm._tempMem);\n        return new Float32Array(wasm.HEAPF32.buffer, wasm._tempMem, 3);\n    }\n    /**\n     * Set angular velocity\n     *\n     * [PhysX Manual - \"Velocity\"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#velocity)\n     *\n     * Has no effect, if the component is not active.\n     *\n     * @param v New angular velocity\n     */\n    set angularVelocity(v) {\n        this._engine.wasm._wl_physx_component_set_angularVelocity(this._id, v[0], v[1], v[2]);\n    }\n    /** Angular velocity or `[0, 0, 0]` if the component is not active. */\n    get angularVelocity() {\n        const wasm = this._engine.wasm;\n        wasm._wl_physx_component_get_angularVelocity(this._id, wasm._tempMem);\n        return new Float32Array(wasm.HEAPF32.buffer, wasm._tempMem, 3);\n    }\n    /**\n     * Set the components groups mask.\n     *\n     * @param flags New flags that need to be set.\n     */\n    set groupsMask(flags) {\n        this._engine.wasm._wl_physx_component_set_groupsMask(this._id, flags);\n    }\n    /**\n     * Get the components groups mask flags.\n     *\n     * Each bit represents membership to group, see example.\n     *\n     * ```js\n     * // Assign c to group 2\n     * c.groupsMask = (1 << 2);\n     *\n     * // Assign c to group 0\n     * c.groupsMask  = (1 << 0);\n     *\n     * // Assign c to group 0 and 2\n     * c.groupsMask = (1 << 0) | (1 << 2);\n     *\n     * (c.groupsMask & (1 << 2)) != 0; // true\n     * (c.groupsMask & (1 << 7)) != 0; // false\n     * ```\n     */\n    get groupsMask() {\n        return this._engine.wasm._wl_physx_component_get_groupsMask(this._id);\n    }\n    /**\n     * Set the components blocks mask.\n     *\n     * @param flags New flags that need to be set.\n     */\n    set blocksMask(flags) {\n        this._engine.wasm._wl_physx_component_set_blocksMask(this._id, flags);\n    }\n    /**\n     * Get the components blocks mask flags.\n     *\n     * Each bit represents membership to the block, see example.\n     *\n     * ```js\n     * // Block overlap with any objects in group 2\n     * c.blocksMask = (1 << 2);\n     *\n     * // Block overlap with any objects in group 0\n     * c.blocksMask  = (1 << 0)\n     *\n     * // Block overlap with any objects in group 0 and 2\n     * c.blocksMask = (1 << 0) | (1 << 2);\n     *\n     * (c.blocksMask & (1 << 2)) != 0; // true\n     * (c.blocksMask & (1 << 7)) != 0; // false\n     * ```\n     */\n    get blocksMask() {\n        return this._engine.wasm._wl_physx_component_get_blocksMask(this._id);\n    }\n    /**\n     * Set axes to lock for linear velocity.\n     *\n     * @param lock The Axis that needs to be set.\n     *\n     * Combine flags with Bitwise OR.\n     * ```js\n     * body.linearLockAxis = LockAxis.X | LockAxis.Y; // x and y set\n     * body.linearLockAxis = LockAxis.X; // y unset\n     * ```\n     *\n     * @note This has no effect if the component is static.\n     */\n    set linearLockAxis(lock) {\n        this._engine.wasm._wl_physx_component_set_linearLockAxis(this._id, lock);\n    }\n    /**\n     * Get the linear lock axes flags.\n     *\n     * To get the state of a specific flag, Bitwise AND with the LockAxis needed.\n     *\n     * ```js\n     * if(body.linearLockAxis & LockAxis.Y) {\n     *     console.log(\"The Y flag was set!\");\n     * }\n     * ```\n     *\n     * @return axes that are currently locked for linear movement.\n     */\n    get linearLockAxis() {\n        return this._engine.wasm._wl_physx_component_get_linearLockAxis(this._id);\n    }\n    /**\n     * Set axes to lock for angular velocity.\n     *\n     * @param lock The Axis that needs to be set.\n     *\n     * ```js\n     * body.angularLockAxis = LockAxis.X | LockAxis.Y; // x and y set\n     * body.angularLockAxis = LockAxis.X; // y unset\n     * ```\n     *\n     * @note This has no effect if the component is static.\n     */\n    set angularLockAxis(lock) {\n        this._engine.wasm._wl_physx_component_set_angularLockAxis(this._id, lock);\n    }\n    /**\n     * Get the angular lock axes flags.\n     *\n     * To get the state of a specific flag, Bitwise AND with the LockAxis needed.\n     *\n     * ```js\n     * if(body.angularLockAxis & LockAxis.Y) {\n     *     console.log(\"The Y flag was set!\");\n     * }\n     * ```\n     *\n     * @return axes that are currently locked for angular movement.\n     */\n    get angularLockAxis() {\n        return this._engine.wasm._wl_physx_component_get_angularLockAxis(this._id);\n    }\n    /**\n     * Set mass.\n     *\n     * [PhysX Manual - \"Mass Properties\"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#mass-properties)\n     *\n     * @param m New mass.\n     */\n    set mass(m) {\n        this._engine.wasm._wl_physx_component_set_mass(this._id, m);\n    }\n    /** Mass */\n    get mass() {\n        return this._engine.wasm._wl_physx_component_get_mass(this._id);\n    }\n    /**\n     * Set mass space interia tensor.\n     *\n     * [PhysX Manual - \"Mass Properties\"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#mass-properties)\n     *\n     * Has no effect, if the component is not active.\n     *\n     * @param v New mass space interatia tensor.\n     */\n    set massSpaceInteriaTensor(v) {\n        this._engine.wasm._wl_physx_component_set_massSpaceInertiaTensor(this._id, v[0], v[1], v[2]);\n    }\n    /**\n     * Apply a force.\n     *\n     * [PhysX Manual - \"Applying Forces and Torques\"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#applying-forces-and-torques)\n     *\n     * Has no effect, if the component is not active.\n     *\n     * @param f Force vector.\n     * @param m Force mode, see {@link ForceMode}, default `Force`.\n     * @param localForce Whether the force vector is in local space, default `false`.\n     * @param p Position to apply force at, default is center of mass.\n     * @param local Whether position is in local space, default `false`.\n     */\n    addForce(f, m = ForceMode.Force, localForce = false, p, local = false) {\n        const wasm = this._engine.wasm;\n        if (!p) {\n            wasm._wl_physx_component_addForce(this._id, f[0], f[1], f[2], m, localForce);\n            return;\n        }\n        wasm._wl_physx_component_addForceAt(this._id, f[0], f[1], f[2], m, localForce, p[0], p[1], p[2], local);\n    }\n    /**\n     * Apply torque.\n     *\n     * [PhysX Manual - \"Applying Forces and Torques\"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#applying-forces-and-torques)\n     *\n     * Has no effect, if the component is not active.\n     *\n     * @param f Force vector.\n     * @param m Force mode, see {@link ForceMode}, default `Force`.\n     */\n    addTorque(f, m = ForceMode.Force) {\n        this._engine.wasm._wl_physx_component_addTorque(this._id, f[0], f[1], f[2], m);\n    }\n    /**\n     * Add on collision callback.\n     *\n     * @param callback Function to call when this rigid body (un)collides with any other.\n     *\n     * ```js\n     *  let rigidBody = this.object.getComponent('physx');\n     *  rigidBody.onCollision(function(type, other) {\n     *      // Ignore uncollides\n     *      if(type == CollisionEventType.TouchLost) return;\n     *\n     *      // Take damage on collision with enemies\n     *      if(other.object.name.startsWith('enemy-')) {\n     *          this.applyDamage(10);\n     *      }\n     *  }.bind(this));\n     * ```\n     *\n     * @returns Id of the new callback for use with {@link PhysXComponent#removeCollisionCallback}.\n     */\n    onCollision(callback) {\n        return this.onCollisionWith(this, callback);\n    }\n    /**\n     * Add filtered on collision callback.\n     *\n     * @param otherComp Component for which callbacks will\n     *        be triggered. If you pass this component, the method is equivalent to.\n     *        {@link PhysXComponent#onCollision}.\n     * @param callback Function to call when this rigid body\n     *        (un)collides with `otherComp`.\n     * @returns Id of the new callback for use with {@link PhysXComponent#removeCollisionCallback}.\n     */\n    onCollisionWith(otherComp, callback) {\n        const physics = this._engine.physics;\n        physics._callbacks[this._id] = physics._callbacks[this._id] || [];\n        physics._callbacks[this._id].push(callback);\n        return this._engine.wasm._wl_physx_component_addCallback(this._id, otherComp._id || this._id);\n    }\n    /**\n     * Remove a collision callback added with {@link PhysXComponent#onCollision} or {@link PhysXComponent#onCollisionWith}.\n     *\n     * @param callbackId Callback id as returned by {@link PhysXComponent#onCollision} or {@link PhysXComponent#onCollisionWith}.\n     * @throws When the callback does not belong to the component.\n     * @throws When the callback does not exist.\n     */\n    removeCollisionCallback(callbackId) {\n        const physics = this._engine.physics;\n        const r = this._engine.wasm._wl_physx_component_removeCallback(this._id, callbackId);\n        /* r is the amount of object to remove from the end of the\n         * callbacks array for this object */\n        if (r)\n            physics._callbacks[this._id].splice(-r);\n    }\n}\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"static\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"kinematic\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"gravity\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"simulate\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"allowSimulation\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"allowQuery\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"trigger\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"shape\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"shapeData\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"extents\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"staticFriction\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"dynamicFriction\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"bounciness\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"linearDamping\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"angularDamping\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"linearVelocity\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"angularVelocity\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"groupsMask\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"blocksMask\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"linearLockAxis\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"angularLockAxis\", null);\n__decorate([\n    nativeProperty()\n], PhysXComponent.prototype, \"mass\", null);\n/**\n * Access to the physics scene\n */\nexport class Physics {\n    /**\n     * @hidden\n     *\n     * **Note**: This is public to emulate a `friend` accessor.\n     */\n    _callbacks;\n    /** Wonderland Engine instance */\n    _engine;\n    /** Ray Hit */\n    _rayHit;\n    /** Hit. */\n    _hit;\n    constructor(engine) {\n        this._engine = engine;\n        this._rayHit = engine.wasm._malloc(4 * (3 * 4 + 3 * 4 + 4 + 2) + 4);\n        this._hit = new RayHit(this._engine, this._rayHit);\n        this._callbacks = {};\n    }\n    /**\n     * Cast a ray through the physics scene and find intersecting objects.\n     *\n     * The resulting ray hit will contain **up to 4** closest ray hits,\n     * sorted by increasing distance.\n     *\n     * @param o Ray origin.\n     * @param d Ray direction.\n     * @param group Collision group to filter by: only objects that are\n     *        part of given group are considered for raycast.\n     * @param maxDistance Maximum ray distance, default `100.0`.\n     *\n     * @returns The RayHit instance, belonging to this class.\n     *\n     * @note The returned {@link RayHit} object is owned by the Physics instance and\n     *       will be reused with the next {@link Physics#rayCast} call.\n     */\n    rayCast(o, d, group, maxDistance = 100.0) {\n        this._engine.wasm._wl_physx_ray_cast(o[0], o[1], o[2], d[0], d[1], d[2], group, maxDistance, this._rayHit);\n        return this._hit;\n    }\n}\n/**\n * Mesh index type.\n */\nexport var MeshIndexType;\n(function (MeshIndexType) {\n    /** Single byte mesh index, range 0-255 */\n    MeshIndexType[MeshIndexType[\"UnsignedByte\"] = 1] = \"UnsignedByte\";\n    /** Two byte mesh index, range 0-65535 */\n    MeshIndexType[MeshIndexType[\"UnsignedShort\"] = 2] = \"UnsignedShort\";\n    /** Four byte mesh index, range 0-4294967295 */\n    MeshIndexType[MeshIndexType[\"UnsignedInt\"] = 4] = \"UnsignedInt\";\n})(MeshIndexType || (MeshIndexType = {}));\n/**\n * Mesh skinning type.\n */\nexport var MeshSkinningType;\n(function (MeshSkinningType) {\n    /** Not skinned */\n    MeshSkinningType[MeshSkinningType[\"None\"] = 0] = \"None\";\n    /** Skinned, 4 joints/weight per vertex */\n    MeshSkinningType[MeshSkinningType[\"FourJoints\"] = 1] = \"FourJoints\";\n    /** Skinned, 8 joints/weight per vertex */\n    MeshSkinningType[MeshSkinningType[\"EightJoints\"] = 2] = \"EightJoints\";\n})(MeshSkinningType || (MeshSkinningType = {}));\n/**\n * Wrapper around a native mesh data.\n *\n * To modify a mesh, you get access to a {@link MeshAttributeAccessor} that allows you to modify\n * the content of the buffers:\n *\n * Usage:\n *\n * ```js\n * const mesh = new Mesh(engine, {vertexCount: 3, indexData: [0, 1, 2] });\n * const positions = mesh.attribute(MeshAttribute.Position);\n * ...\n * ```\n */\nexport class Mesh {\n    /**\n     * Index of the mesh in the manager.\n     *\n     * @hidden\n     */\n    _index = -1;\n    /** Wonderland Engine instance. @hidden */\n    _engine;\n    /**\n     * Create a new instance.\n     *\n     * @param params Either a mesh index to wrap or set of parameters to create a new mesh.\n     *    For more information, please have a look at the {@link MeshParameters} interface.\n     */\n    constructor(engine, params) {\n        this._engine = engine ?? WL;\n        this._index = -1;\n        if (isNumber(params)) {\n            this._index = params;\n            return;\n        }\n        if (!params.vertexCount)\n            throw new Error(\"Missing parameter 'vertexCount'\");\n        const wasm = this._engine.wasm;\n        let indexData = 0;\n        let indexType = 0;\n        let indexDataSize = 0;\n        if (params.indexData) {\n            indexType = params.indexType || MeshIndexType.UnsignedShort;\n            indexDataSize = params.indexData.length * indexType;\n            indexData = wasm._malloc(indexDataSize);\n            /* Copy the index data into wasm memory */\n            switch (indexType) {\n                case MeshIndexType.UnsignedByte:\n                    wasm.HEAPU8.set(params.indexData, indexData);\n                    break;\n                case MeshIndexType.UnsignedShort:\n                    wasm.HEAPU16.set(params.indexData, indexData >> 1);\n                    break;\n                case MeshIndexType.UnsignedInt:\n                    wasm.HEAPU32.set(params.indexData, indexData >> 2);\n                    break;\n            }\n        }\n        const { skinningType = MeshSkinningType.None } = params;\n        this._index = wasm._wl_mesh_create(indexData, indexDataSize, indexType, params.vertexCount, skinningType);\n    }\n    /** Number of vertices in this mesh. */\n    get vertexCount() {\n        return this._engine.wasm._wl_mesh_get_vertexCount(this._index);\n    }\n    /** Index data (read-only) or `null` if the mesh is not indexed. */\n    get indexData() {\n        const wasm = this._engine.wasm;\n        const tempMem = wasm._tempMem;\n        const ptr = wasm._wl_mesh_get_indexData(this._index, tempMem, tempMem + 4);\n        if (ptr === null)\n            return null;\n        const indexCount = wasm.HEAPU32[tempMem / 4];\n        const indexSize = wasm.HEAPU32[tempMem / 4 + 1];\n        switch (indexSize) {\n            case MeshIndexType.UnsignedByte:\n                return new Uint8Array(wasm.HEAPU8.buffer, ptr, indexCount);\n            case MeshIndexType.UnsignedShort:\n                return new Uint16Array(wasm.HEAPU16.buffer, ptr, indexCount);\n            case MeshIndexType.UnsignedInt:\n                return new Uint32Array(wasm.HEAPU32.buffer, ptr, indexCount);\n        }\n        return null;\n    }\n    /** Hosting engine instance. */\n    get engine() {\n        return this._engine;\n    }\n    /**\n     * Apply changes to {@link attribute | vertex attributes}.\n     *\n     * Uploads the updated vertex attributes to the GPU and updates the bounding\n     * sphere to match the new vertex positions.\n     *\n     * Since this is an expensive operation, call it only once you have performed\n     * all modifications on a mesh and avoid calling if you did not perform any\n     * modifications at all.\n     */\n    update() {\n        this._engine.wasm._wl_mesh_update(this._index);\n    }\n    getBoundingSphere(out = new Float32Array(4)) {\n        const tempMemFloat = this._engine.wasm._tempMemFloat;\n        this._engine.wasm._wl_mesh_get_boundingSphere(this._index, this._engine.wasm._tempMem);\n        out[0] = tempMemFloat[0];\n        out[1] = tempMemFloat[1];\n        out[2] = tempMemFloat[2];\n        out[3] = tempMemFloat[3];\n        return out;\n    }\n    attribute(attr) {\n        if (typeof attr != 'number')\n            throw new TypeError('Expected number, but got ' + typeof attr);\n        const tempMemUint32 = this._engine.wasm._tempMemUint32;\n        this._engine.wasm._wl_mesh_get_attribute(this._index, attr, this._engine.wasm._tempMem);\n        if (tempMemUint32[0] == 255)\n            return null;\n        const arraySize = tempMemUint32[5];\n        return new MeshAttributeAccessor(this._engine, {\n            attribute: tempMemUint32[0],\n            offset: tempMemUint32[1],\n            stride: tempMemUint32[2],\n            formatSize: tempMemUint32[3],\n            componentCount: tempMemUint32[4],\n            /* The WASM API returns `0` for a scalar value. We clamp it to 1 as we strictly use it as a multiplier for get/set operations */\n            arraySize: arraySize ? arraySize : 1,\n            length: this.vertexCount,\n            bufferType: (attr !== MeshAttribute.JointId\n                ? Float32Array\n                : Uint16Array),\n        });\n    }\n    /**\n     * Destroy and free the meshes memory.\n     *\n     * It is best practice to set the mesh variable to `null` after calling\n     * destroy to prevent accidental use:\n     *\n     * ```js\n     *   mesh.destroy();\n     *   mesh = null;\n     * ```\n     *\n     * Accessing the mesh after destruction behaves like accessing an empty\n     * mesh.\n     *\n     * @since 0.9.0\n     */\n    destroy() {\n        this._engine.wasm._wl_mesh_destroy(this._index);\n    }\n    /**\n     * Checks equality by comparing whether the wrapped native mesh ids are\n     * equal.\n     *\n     * @param otherMesh Mesh to check equality with.\n     * @returns Whether this mesh equals the given mesh.\n     *\n     * @since 1.0.0\n     */\n    equals(otherMesh) {\n        if (!otherMesh)\n            return false;\n        return this._index === otherMesh._index;\n    }\n}\n/**\n * An iterator over a mesh vertex attribute.\n *\n * Usage:\n *\n * ```js\n *   const mesh = this.object.getComponent('mesh').mesh;\n *   const positions = mesh.attribute(WL.MeshAttribute.Position);\n *\n *   const temp = new Float32Array(3);\n *   for(int i = 0; i < positions.length; ++i) {\n *       // pos will reference temp and thereby not allocate additional\n *       // JavaScript garbage, which would cause a perf spike when collected.\n *       const pos = positions.get(i, temp);\n *       // scale position by 2 on X axis only\n *       pos[0] *= 2.0f;\n *       positions.set(i, pos);\n *   }\n *   // we're done modifying, tell the engine to move vertex data to the GPU\n *   mesh.update();\n * ```\n */\nexport class MeshAttributeAccessor {\n    /** Max number of elements. */\n    length = 0;\n    /** Wonderland Engine instance. @hidden */\n    _engine;\n    /** Attribute index. @hidden */\n    _attribute = -1;\n    /** Attribute offset. @hidden */\n    _offset = 0;\n    /** Attribute stride. @hidden */\n    _stride = 0;\n    /** Format size native enum. @hidden */\n    _formatSize = 0;\n    /** Number of components per vertex. @hidden */\n    _componentCount = 0;\n    /** Number of values per vertex. @hidden */\n    _arraySize = 1;\n    /**\n     * Class to instantiate an ArrayBuffer to get/set values.\n     */\n    _bufferType;\n    /**\n     * Function to allocate temporary WASM memory. It is cached in the accessor to avoid\n     * conditionals during get/set.\n     */\n    _tempBufferGetter;\n    /**\n     * Create a new instance.\n     *\n     * @note Please use {@link Mesh.attribute} to create a new instance.\n     *\n     * @param options Contains information about how to read the data.\n     * @note Do not use this constructor. Instead, please use the {@link Mesh.attribute} method.\n     *\n     * @hidden\n     */\n    constructor(engine, options) {\n        this._engine = engine;\n        const wasm = this._engine.wasm;\n        this._attribute = options.attribute;\n        this._offset = options.offset;\n        this._stride = options.stride;\n        this._formatSize = options.formatSize;\n        this._componentCount = options.componentCount;\n        this._arraySize = options.arraySize;\n        this._bufferType = options.bufferType;\n        this.length = options.length;\n        this._tempBufferGetter = (this._bufferType === Float32Array\n            ? wasm.getTempBufferF32.bind(wasm)\n            : wasm.getTempBufferU16.bind(wasm));\n    }\n    /**\n     * Create a new TypedArray to hold this attribute's values.\n     *\n     * This method is useful to create a view to hold the data to\n     * pass to {@link get} and {@link set}\n     *\n     * Example:\n     *\n     * ```js\n     * const vertexCount = 4;\n     * const positionAttribute = mesh.attribute(MeshAttributes.Position);\n     *\n     * // A position has 3 floats per vertex. Thus, positions has length 3 * 4.\n     * const positions = positionAttribute.createArray(vertexCount);\n     * ```\n     *\n     * @param count The number of **vertices** expected.\n     * @returns A TypedArray with the appropriate format to access the data\n     */\n    createArray(count = 1) {\n        count = count > this.length ? this.length : count;\n        return new this._bufferType(count * this._componentCount * this._arraySize);\n    }\n    get(index, out = this.createArray()) {\n        if (out.length % this._componentCount !== 0) {\n            throw new Error(`out.length, ${out.length} is not a multiple of the attribute vector components, ${this._componentCount}`);\n        }\n        const dest = this._tempBufferGetter(out.length);\n        const elementSize = this._bufferType.BYTES_PER_ELEMENT;\n        const destSize = elementSize * out.length;\n        const srcFormatSize = this._formatSize * this._arraySize;\n        const destFormatSize = this._componentCount * elementSize * this._arraySize;\n        this._engine.wasm._wl_mesh_get_attribute_values(this._attribute, srcFormatSize, this._offset + index * this._stride, this._stride, destFormatSize, dest.byteOffset, destSize);\n        for (let i = 0; i < out.length; ++i)\n            out[i] = dest[i];\n        return out;\n    }\n    /**\n     * Set attribute element.\n     *\n     * @param i Index\n     * @param v Value to set the element to\n     *\n     * `v.length` needs to be a multiple of the attributes component count, see\n     * {@link MeshAttribute}. If `v.length` is more than one multiple, it will be\n     * filled with the next n attribute elements, which can reduce overhead\n     * of this call.\n     *\n     * @returns Reference to self (for method chaining)\n     */\n    set(i, v) {\n        if (v.length % this._componentCount !== 0)\n            throw new Error(`out.length, ${v.length} is not a multiple of the attribute vector components, ${this._componentCount}`);\n        const elementSize = this._bufferType.BYTES_PER_ELEMENT;\n        const srcSize = elementSize * v.length;\n        const srcFormatSize = this._componentCount * elementSize * this._arraySize;\n        const destFormatSize = this._formatSize * this._arraySize;\n        const wasm = this._engine.wasm;\n        /* Unless we are already working with data from WASM heap, we\n         * need to copy into temporary memory. */\n        if (v.buffer != wasm.HEAPU8.buffer) {\n            const dest = this._tempBufferGetter(v.length);\n            dest.set(v);\n            v = dest;\n        }\n        wasm._wl_mesh_set_attribute_values(this._attribute, srcFormatSize, v.byteOffset, srcSize, destFormatSize, this._offset + i * this._stride, this._stride);\n        return this;\n    }\n}\n/**\n * Wrapper around a native material.\n *\n * Each material instance will have properties associated to the pipeline it uses.\n * The material properties are automatically added to each material instance, example:\n *\n * ```js\n * const material = mesh.material; // Material with a `Phong Opaque Textured` pipeline\n * // You can access all the material properties from the editor using:\n * material.diffuseTexture = null;\n * material.diffuseColor = [1.0, 0.0, 0.0, 1.0];\n * ```\n */\nexport class Material {\n    /**\n     * Index of this material in the manager.\n     *\n     * @hidden\n     */\n    _index;\n    /**\n     * Material definition index in the scene.\n     *\n     * @hidden\n     */\n    _definition;\n    /** Wonderland Engine instance. @hidden */\n    _engine;\n    /**\n     * Create a new Material.\n     *\n     * @note Creating material is expensive. Please use {@link Material#clone} to clone a material.\n     * @note Do not use this constructor directly with an index, this is reserved for internal purposes.\n     */\n    constructor(engine, params) {\n        this._engine = engine;\n        if (typeof params !== 'number') {\n            if (!params?.pipeline)\n                throw new Error(\"Missing parameter 'pipeline'\");\n            const wasm = this._engine.wasm;\n            const pipeline = params.pipeline;\n            this._index = wasm._wl_material_create(wasm.tempUTF8(pipeline));\n            if (this._index < 0)\n                throw new Error(`No such pipeline '${pipeline}'`);\n        }\n        else {\n            this._index = params;\n        }\n        this._definition = this._engine.wasm._wl_material_get_definition(this._index);\n        if (!this._engine.wasm._materialDefinitions[this._definition])\n            throw new Error(`Material Definition ${this._definition} not found for material with index ${this._index}`);\n        return new Proxy(this, {\n            get(target, prop) {\n                const wasm = engine.wasm;\n                const definition = wasm._materialDefinitions[target._definition];\n                const param = definition.get(prop);\n                if (!param)\n                    return target[prop];\n                if (wasm._wl_material_get_param_value(target._index, param.index, wasm._tempMem)) {\n                    const type = param.type;\n                    switch (type.type) {\n                        case MaterialParamType.UnsignedInt:\n                            return type.componentCount == 1\n                                ? wasm._tempMemUint32[0]\n                                : new Uint32Array(wasm.HEAPU32.buffer, wasm._tempMem, type.componentCount);\n                        case MaterialParamType.Int:\n                            return type.componentCount == 1\n                                ? wasm._tempMemInt[0]\n                                : new Int32Array(wasm.HEAP32.buffer, wasm._tempMem, type.componentCount);\n                        case MaterialParamType.Float:\n                            return type.componentCount == 1\n                                ? wasm._tempMemFloat[0]\n                                : new Float32Array(wasm.HEAPF32.buffer, wasm._tempMem, type.componentCount);\n                        case MaterialParamType.Sampler:\n                            return engine.textures.wrap(wasm._tempMemInt[0]);\n                        default:\n                            throw new Error(`Invalid type ${type.type} on parameter ${param.index} for material ${target._index}`);\n                    }\n                }\n            },\n            set(target, prop, value) {\n                const wasm = engine.wasm;\n                const definition = wasm._materialDefinitions[target._definition];\n                const param = definition.get(prop);\n                if (!param) {\n                    target[prop] = value;\n                    return true;\n                }\n                const type = param.type;\n                switch (type.type) {\n                    case MaterialParamType.UnsignedInt:\n                    case MaterialParamType.Int:\n                    case MaterialParamType.Sampler:\n                        const v = value.id ?? value;\n                        wasm._wl_material_set_param_value_uint(target._index, param.index, v);\n                        break;\n                    case MaterialParamType.Float:\n                        let count = 1;\n                        if (typeof value === 'number') {\n                            wasm._tempMemFloat[0] = value;\n                        }\n                        else {\n                            count = value.length;\n                            for (let i = 0; i < count; ++i)\n                                wasm._tempMemFloat[i] = value[i];\n                        }\n                        wasm._wl_material_set_param_value_float(target._index, param.index, wasm._tempMem, count);\n                        break;\n                    case MaterialParamType.Font:\n                        throw new Error('Setting font properties is currently unsupported.');\n                }\n                return true;\n            },\n        });\n    }\n    /** @deprecated Use {@link #pipeline} instead. */\n    get shader() {\n        return this.pipeline;\n    }\n    /** Name of the pipeline used by this material. */\n    get pipeline() {\n        const wasm = this._engine.wasm;\n        return wasm.UTF8ToString(wasm._wl_material_get_pipeline(this._index));\n    }\n    /** Hosting engine instance. */\n    get engine() {\n        return this._engine;\n    }\n    /**\n     * Create a copy of the underlying native material.\n     *\n     * @returns Material clone.\n     */\n    clone() {\n        const id = this._engine.wasm._wl_material_clone(this._index);\n        return id > 0 ? new Material(this._engine, id) : null;\n    }\n    /**\n     * Checks equality by comparing whether the wrapped native material ids are\n     * equal.\n     *\n     * @param otherMaterial Material to check equality with.\n     * @returns Whether this material equals the given material.\n     *\n     * @since 1.0.0\n     */\n    equals(otherMaterial) {\n        if (!otherMaterial)\n            return false;\n        return this._index === otherMaterial._index;\n    }\n    /**\n     * Wrap a native material index.\n     *\n     * @param engine Engine instance.\n     * @param index The index.\n     * @returns Material instance or `null` if index <= 0.\n     *\n     * @deprecated Please use `new Material()` instead.\n     */\n    static wrap(engine, index) {\n        /** @todo: this propagate nullable in the entire codebase. Remove. */\n        return index > 0 ? new Material(engine, index) : null;\n    }\n}\n/** Temporary canvas */\nlet temp2d = null;\n/**\n * Wrapper around a native texture data.\n */\nexport class Texture {\n    /** Wonderland Engine instance. @hidden */\n    _engine;\n    /** Index in the manager. @hidden */\n    _id = 0;\n    /** HTML image index. @hidden */\n    _imageIndex = null;\n    /**\n     * @param engine The engine instance\n     * @param param HTML media element to create texture from or texture id to wrap.\n     */\n    constructor(engine, param) {\n        this._engine = engine ?? WL;\n        const wasm = engine.wasm;\n        if (param instanceof HTMLImageElement ||\n            param instanceof HTMLVideoElement ||\n            param instanceof HTMLCanvasElement) {\n            const index = wasm._images.length;\n            wasm._images.push(param);\n            this._imageIndex = index;\n            this._id = this._engine.wasm._wl_renderer_addImage(index);\n        }\n        else {\n            this._id = param;\n        }\n        this._engine.textures._set(this);\n    }\n    /** Whether this texture is valid. */\n    get valid() {\n        return this._id >= 0;\n    }\n    /** Index in this manager. */\n    get id() {\n        return this._id;\n    }\n    /** Update the texture to match the HTML element (e.g. reflect the current frame of a video). */\n    update() {\n        if (!this.valid || this._imageIndex === null)\n            return;\n        this._engine.wasm._wl_renderer_updateImage(this._id, this._imageIndex);\n    }\n    /** Width of the texture. */\n    get width() {\n        return this._engine.wasm._wl_texture_width(this._id);\n    }\n    /** Height of the texture. */\n    get height() {\n        return this._engine.wasm._wl_texture_height(this._id);\n    }\n    /** Hosting engine instance. */\n    get engine() {\n        return this._engine;\n    }\n    /**\n     * Update a subrange on the texture to match the HTML element (e.g. reflect the current frame of a video).\n     *\n     * Usage:\n     *\n     * ```js\n     * // Copies rectangle of pixel starting from (10, 20)\n     * texture.updateSubImage(10, 20, 600, 400);\n     * ```\n     *\n     * @param x x offset\n     * @param y y offset\n     * @param w width\n     * @param h height\n     */\n    updateSubImage(x, y, w, h) {\n        if (!this.valid || this._imageIndex === null)\n            return;\n        /* Lazy initialize temp canvas */\n        if (!temp2d) {\n            const canvas = document.createElement('canvas');\n            const ctx = canvas.getContext('2d');\n            if (!ctx) {\n                throw new Error('Texture.updateSubImage(): Failed to obtain CanvasRenderingContext2D.');\n            }\n            temp2d = { canvas, ctx };\n        }\n        const wasm = this._engine.wasm;\n        const img = wasm._images[this._imageIndex];\n        if (!img)\n            return;\n        temp2d.canvas.width = w;\n        temp2d.canvas.height = h;\n        temp2d.ctx.drawImage(img, x, y, w, h, 0, 0, w, h);\n        const yOffset = (img.videoHeight ?? img.height) - y - h;\n        wasm._images[this._imageIndex] = temp2d.canvas;\n        wasm._wl_renderer_updateImage(this._id, this._imageIndex, x, yOffset);\n        wasm._images[this._imageIndex] = img;\n    }\n    /**\n     * Destroy and free the texture's texture altas space and memory.\n     *\n     * It is best practice to set the texture variable to `null` after calling\n     * destroy to prevent accidental use of the invalid texture:\n     *\n     * ```js\n     *   texture.destroy();\n     *   texture = null;\n     * ```\n     *\n     * @since 0.9.0\n     */\n    destroy() {\n        this.engine.textures._destroy(this);\n        this._id = -1;\n        this._imageIndex = null;\n    }\n    /**\n     * Checks equality by comparing whether the wrapped native texture ids are\n     * equal.\n     *\n     * @param otherTexture Texture to check equality with.\n     * @returns Whether this texture equals the given texture.\n     *\n     * @since 1.0.0\n     */\n    equals(otherTexture) {\n        if (!otherTexture)\n            return false;\n        return this._id === otherTexture._id;\n    }\n}\n/**\n * Wrapper around a native animation.\n */\nexport class Animation {\n    /** Index of the mesh in the manager. @hidden */\n    _index;\n    /** Wonderland Engine instance. @hidden */\n    _engine;\n    /**\n     * @param index Index in the manager\n     */\n    constructor(engine = WL, index) {\n        this._engine = engine;\n        this._index = index;\n    }\n    /** Duration of this animation. */\n    get duration() {\n        return this._engine.wasm._wl_animation_get_duration(this._index);\n    }\n    /** Number of tracks in this animation. */\n    get trackCount() {\n        return this._engine.wasm._wl_animation_get_trackCount(this._index);\n    }\n    /**\n     * Clone this animation retargeted to a new set of objects.\n     *\n     * The clone shares most of the data with the original and is therefore\n     * light-weight.\n     *\n     * **Experimental:** This API might change in upcoming versions.\n     *\n     * If retargeting to {@link Skin}, the join names will be used to determine a mapping\n     * from the previous skin to the new skin. The source skin will be retrieved from\n     * the first track in the animation that targets a joint.\n     *\n     * @param newTargets New targets per track. Expected to have\n     *      {@link Animation#trackCount} elements or to be a {@link Skin}.\n     * @returns The retargeted clone of this animation.\n     */\n    retarget(newTargets) {\n        const wasm = this._engine.wasm;\n        if (newTargets instanceof Skin) {\n            const animId = wasm._wl_animation_retargetToSkin(this._index, newTargets._index);\n            return new Animation(this._engine, animId);\n        }\n        if (newTargets.length != this.trackCount) {\n            throw Error('Expected ' +\n                this.trackCount.toString() +\n                ' targets, but got ' +\n                newTargets.length.toString());\n        }\n        const ptr = wasm._malloc(2 * newTargets.length);\n        for (let i = 0; i < newTargets.length; ++i) {\n            wasm.HEAPU16[ptr >> (1 + i)] = newTargets[i].objectId;\n        }\n        const animId = wasm._wl_animation_retarget(this._index, ptr);\n        wasm._free(ptr);\n        return new Animation(this._engine, animId);\n    }\n    /**\n     * Checks equality by comparing whether the wrapped native animation ids\n     * are equal.\n     *\n     * @param otherAnimation Animation to check equality with.\n     * @returns Whether this animation equals the given animation.\n     *\n     * @since 1.0.0\n     */\n    equals(otherAnimation) {\n        if (!otherAnimation)\n            return false;\n        return this._index === otherAnimation._index;\n    }\n}\n/**\n * Scene graph object.\n *\n * Node in the scene graph or \"entity\". Consists of transformation and a reference\n * to its parent object. Usually holds components and is accessible by components\n * through {@link Component#object}.\n *\n * Objects are stored in a data oriented manner inside WebAssembly memory. This class\n * is a JavaScript API wrapper around this memory for more convenient use in\n * components.\n *\n * Objects can be created and added to a scene through\n * {@link Scene#addObject} on the {@link WonderlandEngine.scene}.\n */\nexport class Object3D {\n    /** Wonderland Engine instance. @hidden */\n    _engine;\n    /**\n     * Object index in the manager.\n     *\n     * @hidden\n     */\n    _objectId = -1;\n    /**\n     * @param o Object id to wrap\n     *\n     * For performance reasons, please use {@link WonderlandEngine.wrapObject}\n     */\n    constructor(engine, o) {\n        this._objectId = o;\n        this._engine = engine;\n    }\n    /**\n     * Name of the object.\n     *\n     * Useful for identifying objects during debugging.\n     */\n    get name() {\n        const wasm = this._engine.wasm;\n        return wasm.UTF8ToString(wasm._wl_object_name(this.objectId));\n    }\n    /**\n     * Set the object's name.\n     *\n     * @param newName The new name to set.\n     */\n    set name(newName) {\n        const wasm = this._engine.wasm;\n        wasm._wl_object_set_name(this.objectId, wasm.tempUTF8(newName));\n    }\n    /**\n     * Parent of this object or `null` if parented to root.\n     */\n    get parent() {\n        const p = this._engine.wasm._wl_object_parent(this.objectId);\n        return p === 0 ? null : this._engine.wrapObject(p);\n    }\n    /**\n     * Children of this object.\n     */\n    get children() {\n        const childrenCount = this._engine.wasm._wl_object_get_children_count(this.objectId);\n        if (childrenCount === 0)\n            return [];\n        const wasm = this._engine.wasm;\n        wasm.requireTempMem(childrenCount * 2);\n        this._engine.wasm._wl_object_get_children(this.objectId, wasm._tempMem, wasm._tempMemSize >> 1);\n        const children = new Array(childrenCount);\n        for (let i = 0; i < childrenCount; ++i) {\n            children[i] = this._engine.wrapObject(wasm._tempMemUint16[i]);\n        }\n        return children;\n    }\n    /**\n     * Reparent object to given object.\n     *\n     * @note Reparenting is not trivial and might have a noticeable performance impact.\n     *\n     * @param newParent New parent or `null` to parent to root\n     */\n    set parent(newParent) {\n        this._engine.wasm._wl_object_set_parent(this.objectId, newParent == null ? 0 : newParent.objectId);\n    }\n    /** Object index in the manager. */\n    get objectId() {\n        return this._objectId;\n    }\n    /** Hosting engine instance. */\n    get engine() {\n        return this._engine;\n    }\n    /**\n     * Reset local transformation (translation, rotation and scaling) to identity.\n     *\n     * @returns Reference to self (for method chaining).\n     */\n    resetTransform() {\n        this._engine.wasm._wl_object_reset_translation_rotation(this.objectId);\n        this._engine.wasm._wl_object_reset_scaling(this.objectId);\n        return this;\n    }\n    /**\n     * Reset local position and rotation to identity.\n     *\n     * @returns Reference to self (for method chaining).\n     */\n    resetPositionRotation() {\n        this._engine.wasm._wl_object_reset_translation_rotation(this.objectId);\n        return this;\n    }\n    /** @deprecated Please use {@link Object3D.resetPositionRotation} instead. */\n    resetTranslationRotation() {\n        return this.resetPositionRotation();\n    }\n    /**\n     * Reset local rotation, keep translation.\n     *\n     * @note To reset both rotation and translation, prefer\n     *       {@link resetTranslationRotation}.\n     *\n     * @returns Reference to self (for method chaining).\n     */\n    resetRotation() {\n        this._engine.wasm._wl_object_reset_rotation(this.objectId);\n        return this;\n    }\n    /**\n     * Reset local translation, keep rotation.\n     *\n     * @note To reset both rotation and translation, prefer\n     *       {@link resetTranslationRotation}.\n     *\n     * @returns Reference to self (for method chaining).\n     */\n    resetPosition() {\n        this._engine.wasm._wl_object_reset_translation(this.objectId);\n        return this;\n    }\n    /** @deprecated Please use {@link Object3D.resetPosition} instead. */\n    resetTranslation() {\n        return this.resetPosition();\n    }\n    /**\n     * Reset local scaling to identity (``[1.0, 1.0, 1.0]``).\n     *\n     * @returns Reference to self (for method chaining).\n     */\n    resetScaling() {\n        this._engine.wasm._wl_object_reset_scaling(this.objectId);\n        return this;\n    }\n    /** @deprecated Please use {@link Object3D.translateLocal} instead. */\n    translate(v) {\n        return this.translateLocal(v);\n    }\n    /**\n     * Translate object by a vector in the parent's space.\n     *\n     * @param v Vector to translate by.\n     *\n     * @returns Reference to self (for method chaining).\n     */\n    translateLocal(v) {\n        this._engine.wasm._wl_object_translate(this.objectId, v[0], v[1], v[2]);\n        return this;\n    }\n    /**\n     * Translate object by a vector in object space.\n     *\n     * @param v Vector to translate by.\n     *\n     * @returns Reference to self (for method chaining).\n     */\n    translateObject(v) {\n        this._engine.wasm._wl_object_translate_obj(this.objectId, v[0], v[1], v[2]);\n        return this;\n    }\n    /**\n     * Translate object by a vector in world space.\n     *\n     * @param v Vector to translate by.\n     *\n     * @returns Reference to self (for method chaining).\n     */\n    translateWorld(v) {\n        this._engine.wasm._wl_object_translate_world(this.objectId, v[0], v[1], v[2]);\n        return this;\n    }\n    /** @deprecated Please use {@link Object3D.rotateAxisAngleDegLocal} instead. */\n    rotateAxisAngleDeg(a, d) {\n        this.rotateAxisAngleDegLocal(a, d);\n        return this;\n    }\n    /**\n     * Rotate around given axis by given angle (degrees) in local space.\n     *\n     * @param a Vector representing the rotation axis.\n     * @param d Angle in degrees.\n     *\n     * @note If the object is translated the rotation will be around\n     *     the parent. To rotate around the object origin, use\n     *     {@link rotateAxisAngleDegObject}\n     *\n     * @see {@link rotateAxisAngleRad}\n     *\n     * @returns Reference to self (for method chaining).\n     */\n    rotateAxisAngleDegLocal(a, d) {\n        this._engine.wasm._wl_object_rotate_axis_angle(this.objectId, a[0], a[1], a[2], d);\n        return this;\n    }\n    /** @deprecated Please use {@link Object3D.rotateAxisAngleRadLocal} instead. */\n    rotateAxisAngleRad(a, d) {\n        return this.rotateAxisAngleRadLocal(a, d);\n    }\n    /**\n     * Rotate around given axis by given angle (radians) in local space.\n     *\n     * @param a Vector representing the rotation axis.\n     * @param d Angle in radians.\n     *\n     * @note If the object is translated the rotation will be around\n     *     the parent. To rotate around the object origin, use\n     *     {@link rotateAxisAngleDegObject}\n     *\n     * @see {@link rotateAxisAngleDeg}\n     *\n     * @returns Reference to self (for method chaining).\n     */\n    rotateAxisAngleRadLocal(a, d) {\n        this._engine.wasm._wl_object_rotate_axis_angle_rad(this.objectId, a[0], a[1], a[2], d);\n        return this;\n    }\n    /**\n     * Rotate around given axis by given angle (degrees) in object space.\n     *\n     * @param a Vector representing the rotation axis.\n     * @param d Angle in degrees.\n     *\n     * Equivalent to prepending a rotation quaternion to the object's\n     * local transformation.\n     *\n     * @see {@link rotateAxisAngleRadObject}\n     *\n     * @returns Reference to self (for method chaining).\n     */\n    rotateAxisAngleDegObject(a, d) {\n        this._engine.wasm._wl_object_rotate_axis_angle_obj(this.objectId, a[0], a[1], a[2], d);\n        return this;\n    }\n    /**\n     * Rotate around given axis by given angle (radians) in object space\n     * Equivalent to prepending a rotation quaternion to the object's\n     * local transformation.\n     *\n     * @param a Vector representing the rotation axis\n     * @param d Angle in degrees\n     *\n     * @see {@link rotateAxisAngleDegObject}\n     *\n     * @returns Reference to self (for method chaining).\n     */\n    rotateAxisAngleRadObject(a, d) {\n        this._engine.wasm._wl_object_rotate_axis_angle_rad_obj(this.objectId, a[0], a[1], a[2], d);\n        return this;\n    }\n    /** @deprecated Please use {@link Object3D.rotateLocal} instead. */\n    rotate(q) {\n        this.rotateLocal(q);\n        return this;\n    }\n    /**\n     * Rotate by a quaternion.\n     *\n     * @param q the Quaternion to rotate by.\n     *\n     * @returns Reference to self (for method chaining).\n     */\n    rotateLocal(q) {\n        this._engine.wasm._wl_object_rotate_quat(this.objectId, q[0], q[1], q[2], q[3]);\n        return this;\n    }\n    /**\n     * Rotate by a quaternion in object space.\n     *\n     * Equivalent to prepending a rotation quaternion to the object's\n     * local transformation.\n     *\n     * @param q the Quaternion to rotate by.\n     *\n     * @returns Reference to self (for method chaining).\n     */\n    rotateObject(q) {\n        this._engine.wasm._wl_object_rotate_quat_obj(this.objectId, q[0], q[1], q[2], q[3]);\n        return this;\n    }\n    /** @deprecated Please use {@link Object3D.scaleLocal} instead. */\n    scale(v) {\n        this.scaleLocal(v);\n        return this;\n    }\n    /**\n     * Scale object by a vector in object space.\n     *\n     * @param v Vector to scale by.\n     *\n     * @returns Reference to self (for method chaining).\n     */\n    scaleLocal(v) {\n        this._engine.wasm._wl_object_scale(this.objectId, v[0], v[1], v[2]);\n        return this;\n    }\n    getPositionLocal(out = new Float32Array(3)) {\n        const wasm = this._engine.wasm;\n        /* Translation is different than rotation & scaling.\n         * We can't simply read the memory. */\n        wasm._wl_object_get_translation_local(this.objectId, wasm._tempMem);\n        out[0] = wasm._tempMemFloat[0];\n        out[1] = wasm._tempMemFloat[1];\n        out[2] = wasm._tempMemFloat[2];\n        return out;\n    }\n    getTranslationLocal(out = new Float32Array(3)) {\n        return this.getPositionLocal(out);\n    }\n    getPositionWorld(out = new Float32Array(3)) {\n        const wasm = this._engine.wasm;\n        /* Translation is different than rotation & scaling.\n         * We can't simply read the memory. */\n        wasm._wl_object_get_translation_world(this.objectId, wasm._tempMem);\n        out[0] = wasm._tempMemFloat[0];\n        out[1] = wasm._tempMemFloat[1];\n        out[2] = wasm._tempMemFloat[2];\n        return out;\n    }\n    getTranslationWorld(out = new Float32Array(3)) {\n        return this.getPositionWorld(out);\n    }\n    /**\n     * Set local / object space position.\n     *\n     * Concatenates a new translation dual quaternion onto the existing rotation.\n     *\n     * @param v New local position array/vector, expected to have at least 3 elements.\n     *\n     * @returns Reference to self (for method chaining).\n     */\n    setPositionLocal(v) {\n        this._engine.wasm._wl_object_set_translation_local(this.objectId, v[0], v[1], v[2]);\n        return this;\n    }\n    /** @deprecated Please use {@link Object3D.setPositionLocal} instead. */\n    setTranslationLocal(v) {\n        return this.setPositionLocal(v);\n    }\n    /**\n     * Set world space position.\n     *\n     * Applies the inverse parent transform with a new translation dual quaternion\n     * which is concatenated onto the existing rotation.\n     *\n     * @param v New world position array/vector, expected to have at least 3 elements.\n     *\n     * @returns Reference to self (for method chaining).\n     */\n    setPositionWorld(v) {\n        this._engine.wasm._wl_object_set_translation_world(this.objectId, v[0], v[1], v[2]);\n        return this;\n    }\n    /** @deprecated Please use {@link Object3D.setPositionWorld} instead. */\n    setTranslationWorld(v) {\n        return this.setPositionWorld(v);\n    }\n    getScalingLocal(out = new Float32Array(3)) {\n        const wasm = this._engine.wasm;\n        const ptr = wasm._wl_object_scaling_local(this.objectId) / 4; /* Align F32 */\n        out[0] = wasm.HEAPF32[ptr];\n        out[1] = wasm.HEAPF32[ptr + 1];\n        out[2] = wasm.HEAPF32[ptr + 2];\n        return out;\n    }\n    /**\n     * Set local / object space scaling.\n     *\n     * @param v New local scaling array/vector, expected to have at least 3 elements.\n     *\n     * @returns Reference to self (for method chaining).\n     */\n    setScalingLocal(v) {\n        this._engine.wasm._wl_object_set_scaling_local(this.objectId, v[0], v[1], v[2]);\n        return this;\n    }\n    getScalingWorld(out = new Float32Array(3)) {\n        const wasm = this._engine.wasm;\n        const ptr = wasm._wl_object_scaling_world(this.objectId) / 4; /* Align F32 */\n        out[0] = wasm.HEAPF32[ptr];\n        out[1] = wasm.HEAPF32[ptr + 1];\n        out[2] = wasm.HEAPF32[ptr + 2];\n        return out;\n    }\n    /**\n     * Set World space scaling.\n     *\n     * @param v New world scaling array/vector, expected to have at least 3 elements.\n     *\n     * @returns Reference to self (for method chaining).\n     */\n    setScalingWorld(v) {\n        this._engine.wasm._wl_object_set_scaling_world(this.objectId, v[0], v[1], v[2]);\n        return this;\n    }\n    getRotationLocal(out = new Float32Array(4)) {\n        const wasm = this._engine.wasm;\n        const ptr = wasm._wl_object_trans_local(this.objectId) / 4; /* Align F32 */\n        /* The first 4 floats represent the rotation quaternion. */\n        out[0] = wasm.HEAPF32[ptr];\n        out[1] = wasm.HEAPF32[ptr + 1];\n        out[2] = wasm.HEAPF32[ptr + 2];\n        out[3] = wasm.HEAPF32[ptr + 3];\n        return out;\n    }\n    /**\n     * Set local space rotation.\n     *\n     * @param v New world rotation array/vector, expected to have at least 4 elements.\n     *\n     * @returns Reference to self (for method chaining).\n     */\n    setRotationLocal(v) {\n        this._engine.wasm._wl_object_set_rotation_local(this.objectId, v[0], v[1], v[2], v[3]);\n        return this;\n    }\n    getRotationWorld(out = new Float32Array(4)) {\n        const wasm = this._engine.wasm;\n        const ptr = wasm._wl_object_trans_world(this.objectId) / 4; /* Align F32 */\n        /* The first 4 floats represent the rotation quaternion. */\n        out[0] = wasm.HEAPF32[ptr];\n        out[1] = wasm.HEAPF32[ptr + 1];\n        out[2] = wasm.HEAPF32[ptr + 2];\n        out[3] = wasm.HEAPF32[ptr + 3];\n        return out;\n    }\n    /**\n     * Set local space rotation.\n     *\n     * @param v New world rotation array/vector, expected to have at least 4 elements.\n     *\n     * @returns Reference to self (for method chaining).\n     */\n    setRotationWorld(v) {\n        this._engine.wasm._wl_object_set_rotation_world(this.objectId, v[0], v[1], v[2], v[3]);\n        return this;\n    }\n    getTransformLocal(out = new Float32Array(8)) {\n        const wasm = this._engine.wasm;\n        const ptr = wasm._wl_object_trans_local(this.objectId) / 4; /* Align F32 */\n        out[0] = wasm.HEAPF32[ptr];\n        out[1] = wasm.HEAPF32[ptr + 1];\n        out[2] = wasm.HEAPF32[ptr + 2];\n        out[3] = wasm.HEAPF32[ptr + 3];\n        out[4] = wasm.HEAPF32[ptr + 4];\n        out[5] = wasm.HEAPF32[ptr + 5];\n        out[6] = wasm.HEAPF32[ptr + 6];\n        out[7] = wasm.HEAPF32[ptr + 7];\n        return out;\n    }\n    /**\n     * Set local space rotation.\n     *\n     * @param v New local transform array, expected to have at least 8 elements.\n     *\n     * @returns Reference to self (for method chaining).\n     */\n    setTransformLocal(v) {\n        const wasm = this._engine.wasm;\n        const ptr = wasm._wl_object_trans_local(this.objectId) / 4; /* Align F32 */\n        wasm.HEAPF32[ptr] = v[0];\n        wasm.HEAPF32[ptr + 1] = v[1];\n        wasm.HEAPF32[ptr + 2] = v[2];\n        wasm.HEAPF32[ptr + 3] = v[3];\n        wasm.HEAPF32[ptr + 4] = v[4];\n        wasm.HEAPF32[ptr + 5] = v[5];\n        wasm.HEAPF32[ptr + 6] = v[6];\n        wasm.HEAPF32[ptr + 7] = v[7];\n        this.setDirty();\n        return this;\n    }\n    getTransformWorld(out = new Float32Array(8)) {\n        const wasm = this._engine.wasm;\n        const ptr = wasm._wl_object_trans_world(this.objectId) / 4; /* Align F32 */\n        out[0] = wasm.HEAPF32[ptr];\n        out[1] = wasm.HEAPF32[ptr + 1];\n        out[2] = wasm.HEAPF32[ptr + 2];\n        out[3] = wasm.HEAPF32[ptr + 3];\n        out[4] = wasm.HEAPF32[ptr + 4];\n        out[5] = wasm.HEAPF32[ptr + 5];\n        out[6] = wasm.HEAPF32[ptr + 6];\n        out[7] = wasm.HEAPF32[ptr + 7];\n        return out;\n    }\n    /**\n     * Set world space rotation.\n     *\n     * @param v New world transform array, expected to have at least 8 elements.\n     *\n     * @returns Reference to self (for method chaining).\n     */\n    setTransformWorld(v) {\n        const wasm = this._engine.wasm;\n        const ptr = wasm._wl_object_trans_world(this.objectId) / 4; /* Align F32 */\n        wasm.HEAPF32[ptr] = v[0];\n        wasm.HEAPF32[ptr + 1] = v[1];\n        wasm.HEAPF32[ptr + 2] = v[2];\n        wasm.HEAPF32[ptr + 3] = v[3];\n        wasm.HEAPF32[ptr + 4] = v[4];\n        wasm.HEAPF32[ptr + 5] = v[5];\n        wasm.HEAPF32[ptr + 6] = v[6];\n        wasm.HEAPF32[ptr + 7] = v[7];\n        this._engine.wasm._wl_object_trans_world_to_local(this.objectId);\n        return this;\n    }\n    /**\n     * Local space transformation.\n     *\n     * @deprecated Please use {@link Object3D.setTransformLocal} and\n     * {@link Object3D.getTransformLocal} instead.\n     */\n    get transformLocal() {\n        const wasm = this._engine.wasm;\n        return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_object_trans_local(this.objectId), 8);\n    }\n    /**\n     * Set local transform.\n     *\n     * @param t Local space transformation.\n     *\n     * @since 0.8.5\n     *\n     * @deprecated Please use {@link Object3D.setTransformLocal} and\n     * {@link Object3D.getTransformLocal} instead.\n     */\n    set transformLocal(t) {\n        this.transformLocal.set(t);\n        this.setDirty();\n    }\n    /**\n     * Global / world space transformation.\n     *\n     * May recompute transformations of the hierarchy of this object,\n     * if they were changed by JavaScript components this frame.\n     *\n     * @deprecated Please use {@link Object3D.setTransformWorld} and\n     * {@link Object3D.getTransformWorld} instead.\n     */\n    get transformWorld() {\n        const wasm = this._engine.wasm;\n        return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_object_trans_world(this.objectId), 8);\n    }\n    /**\n     * Set world transform.\n     *\n     * @param t Global / world space transformation.\n     *\n     * @since 0.8.5\n     *\n     * @deprecated Please use {@link Object3D.setTransformWorld} and\n     * {@link Object3D.getTransformWorld} instead.\n     */\n    set transformWorld(t) {\n        this.transformWorld.set(t);\n        this._engine.wasm._wl_object_trans_world_to_local(this.objectId);\n    }\n    /**\n     * Local / object space scaling.\n     *\n     * @deprecated Please use {@link Object3D.setScalingLocal} and\n     * {@link Object3D.getScalingLocal} instead.\n     */\n    get scalingLocal() {\n        const wasm = this._engine.wasm;\n        return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_object_scaling_local(this.objectId), 3);\n    }\n    /**\n     * Set local space scaling.\n     *\n     * @param s Local space scaling.\n     *\n     * @since 0.8.7\n     *\n     * @deprecated Please use {@link Object3D.setScalingLocal} and\n     * {@link Object3D.getScalingLocal} instead.\n     */\n    set scalingLocal(s) {\n        this.scalingLocal.set(s);\n        this.setDirty();\n    }\n    /**\n     * Global / world space scaling.\n     *\n     * May recompute transformations of the hierarchy of this object,\n     * if they were changed by JavaScript components this frame.\n     *\n     * @deprecated Please use {@link Object3D.setScalingWorld} and\n     * {@link Object3D.getScalingWorld} instead.\n     */\n    get scalingWorld() {\n        const wasm = this._engine.wasm;\n        return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_object_scaling_world(this.objectId), 3);\n    }\n    /**\n     * Set world space scaling.\n     *\n     * @param t World space scaling.\n     *\n     * @since 0.8.7\n     *\n     * @deprecated Please use {@link Object3D.setScalingWorld} and\n     * {@link Object3D.getScalingWorld} instead.\n     */\n    set scalingWorld(s) {\n        this.scalingWorld.set(s);\n        this._engine.wasm._wl_object_scaling_world_to_local(this.objectId);\n    }\n    /**\n     * Local space rotation.\n     *\n     * @since 0.8.7\n     *\n     * @deprecated Please use {@link Object3D.getRotationLocal} and\n     * {@link Object3D.setRotationLocal} instead.\n     */\n    get rotationLocal() {\n        return this.transformLocal.subarray(0, 4);\n    }\n    /**\n     * Global / world space rotation\n     *\n     * @since 0.8.7\n     *\n     * @deprecated Please use {@link Object3D.getRotationWorld} and\n     * {@link Object3D.setRotationWorld} instead.\n     */\n    get rotationWorld() {\n        return this.transformWorld.subarray(0, 4);\n    }\n    /**\n     * Set local space rotation.\n     *\n     * @param r Local space rotation\n     *\n     * @since 0.8.7\n     *\n     * @deprecated Please use {@link Object3D.getRotationLocal} and\n     * {@link Object3D.setRotationLocal} instead.\n     */\n    set rotationLocal(r) {\n        this._engine.wasm._wl_object_set_rotation_local(this.objectId, r[0], r[1], r[2], r[3]);\n    }\n    /**\n     * Set world space rotation.\n     *\n     * @param r Global / world space rotation.\n     *\n     * @since 0.8.7\n     *\n     * @deprecated Please use {@link Object3D.getRotationWorld} and\n     * {@link Object3D.setRotationWorld} instead.\n     */\n    set rotationWorld(r) {\n        this._engine.wasm._wl_object_set_rotation_world(this.objectId, r[0], r[1], r[2], r[3]);\n    }\n    /** @deprecated Please use {@link Object3D.getForwardWorld} instead. */\n    getForward(out) {\n        return this.getForwardWorld(out);\n    }\n    /**\n     * Compute the object's forward facing world space vector.\n     *\n     * The forward vector in object space is along the negative z-axis, i.e.,\n     * `[0, 0, -1]`.\n     *\n     * @param out Destination array/vector, expected to have at least 3 elements.\n     * @return The `out` parameter.\n     */\n    getForwardWorld(out) {\n        out[0] = 0;\n        out[1] = 0;\n        out[2] = -1;\n        this.transformVectorWorld(out);\n        return out;\n    }\n    /** @deprecated Please use {@link Object3D.getUpWorld} instead. */\n    getUp(out) {\n        return this.getUpWorld(out);\n    }\n    /**\n     * Compute the object's up facing world space vector.\n     *\n     * @param out Destination array/vector, expected to have at least 3 elements.\n     * @return The `out` parameter.\n     */\n    getUpWorld(out) {\n        out[0] = 0;\n        out[1] = 1;\n        out[2] = 0;\n        this.transformVectorWorld(out);\n        return out;\n    }\n    /** @deprecated Please use {@link Object3D.getRightWorld} instead. */\n    getRight(out) {\n        return this.getRightWorld(out);\n    }\n    /**\n     * Compute the object's right facing world space vector.\n     *\n     * @param out Destination array/vector, expected to have at least 3 elements.\n     * @return The `out` parameter.\n     */\n    getRightWorld(out) {\n        out[0] = 1;\n        out[1] = 0;\n        out[2] = 0;\n        this.transformVectorWorld(out);\n        return out;\n    }\n    /**\n     * Transform a vector by this object's world transform.\n     *\n     * @param out Out vector\n     * @param v Vector to transform, default `out`\n     * @return The `out` parameter.\n     *\n     * @since 0.8.7\n     */\n    transformVectorWorld(out, v = out) {\n        const wasm = this._engine.wasm;\n        wasm._tempMemFloat[0] = v[0];\n        wasm._tempMemFloat[1] = v[1];\n        wasm._tempMemFloat[2] = v[2];\n        wasm._wl_object_transformVectorWorld(this.objectId, wasm._tempMem);\n        out[0] = wasm._tempMemFloat[0];\n        out[1] = wasm._tempMemFloat[1];\n        out[2] = wasm._tempMemFloat[2];\n        return out;\n    }\n    /**\n     * Transform a vector by this object's local transform.\n     *\n     * @param out Out vector\n     * @param v Vector to transform, default `out`\n     * @return The `out` parameter.\n     *\n     * @since 0.8.7\n     */\n    transformVectorLocal(out, v = out) {\n        const wasm = this._engine.wasm;\n        wasm._tempMemFloat[0] = v[0];\n        wasm._tempMemFloat[1] = v[1];\n        wasm._tempMemFloat[2] = v[2];\n        wasm._wl_object_transformVectorLocal(this.objectId, wasm._tempMem);\n        out[0] = wasm._tempMemFloat[0];\n        out[1] = wasm._tempMemFloat[1];\n        out[2] = wasm._tempMemFloat[2];\n        return out;\n    }\n    /**\n     * Transform a point by this object's world transform.\n     *\n     * @param out Out point.\n     * @param p Point to transform, default `out`.\n     * @return The `out` parameter.\n     *\n     * @since 0.8.7\n     */\n    transformPointWorld(out, p = out) {\n        const wasm = this._engine.wasm;\n        wasm._tempMemFloat[0] = p[0];\n        wasm._tempMemFloat[1] = p[1];\n        wasm._tempMemFloat[2] = p[2];\n        wasm._wl_object_transformPointWorld(this.objectId, wasm._tempMem);\n        out[0] = wasm._tempMemFloat[0];\n        out[1] = wasm._tempMemFloat[1];\n        out[2] = wasm._tempMemFloat[2];\n        return out;\n    }\n    /**\n     * Transform a point by this object's local transform.\n     *\n     * @param out Out point.\n     * @param p Point to transform, default `out`.\n     * @return The `out` parameter.\n     *\n     * @since 0.8.7\n     */\n    transformPointLocal(out, p = out) {\n        const wasm = this._engine.wasm;\n        wasm._tempMemFloat[0] = p[0];\n        wasm._tempMemFloat[1] = p[1];\n        wasm._tempMemFloat[2] = p[2];\n        wasm._wl_object_transformPointLocal(this.objectId, wasm._tempMem);\n        out[0] = wasm._tempMemFloat[0];\n        out[1] = wasm._tempMemFloat[1];\n        out[2] = wasm._tempMemFloat[2];\n        return out;\n    }\n    /**\n     * Transform a vector by this object's inverse world transform.\n     *\n     * @param out Out vector.\n     * @param v Vector to transform, default `out`.\n     * @return The `out` parameter.\n     *\n     * @since 0.8.7\n     */\n    transformVectorInverseWorld(out, v = out) {\n        const wasm = this._engine.wasm;\n        wasm._tempMemFloat[0] = v[0];\n        wasm._tempMemFloat[1] = v[1];\n        wasm._tempMemFloat[2] = v[2];\n        wasm._wl_object_transformVectorInverseWorld(this.objectId, wasm._tempMem);\n        out[0] = wasm._tempMemFloat[0];\n        out[1] = wasm._tempMemFloat[1];\n        out[2] = wasm._tempMemFloat[2];\n        return out;\n    }\n    /**\n     * Transform a vector by this object's inverse local transform.\n     *\n     * @param out Out vector\n     * @param v Vector to transform, default `out`\n     * @return The `out` parameter.\n     *\n     * @since 0.8.7\n     */\n    transformVectorInverseLocal(out, v = out) {\n        const wasm = this._engine.wasm;\n        wasm._tempMemFloat[0] = v[0];\n        wasm._tempMemFloat[1] = v[1];\n        wasm._tempMemFloat[2] = v[2];\n        wasm._wl_object_transformVectorInverseLocal(this.objectId, wasm._tempMem);\n        out[0] = wasm._tempMemFloat[0];\n        out[1] = wasm._tempMemFloat[1];\n        out[2] = wasm._tempMemFloat[2];\n        return out;\n    }\n    /**\n     * Transform a point by this object's inverse world transform.\n     *\n     * @param out Out point.\n     * @param p Point to transform, default `out`.\n     * @return The `out` parameter.\n     *\n     * @since 0.8.7\n     */\n    transformPointInverseWorld(out, p = out) {\n        const wasm = this._engine.wasm;\n        wasm._tempMemFloat[0] = p[0];\n        wasm._tempMemFloat[1] = p[1];\n        wasm._tempMemFloat[2] = p[2];\n        wasm._wl_object_transformPointInverseWorld(this.objectId, wasm._tempMem);\n        out[0] = wasm._tempMemFloat[0];\n        out[1] = wasm._tempMemFloat[1];\n        out[2] = wasm._tempMemFloat[2];\n        return out;\n    }\n    /**\n     * Transform a point by this object's inverse local transform.\n     *\n     * @param out Out point.\n     * @param p Point to transform, default `out`.\n     * @return The `out` parameter.\n     *\n     * @since 0.8.7\n     */\n    transformPointInverseLocal(out, p = out) {\n        const wasm = this._engine.wasm;\n        wasm._tempMemFloat.set(p);\n        wasm._wl_object_transformPointInverseLocal(this.objectId, wasm._tempMem);\n        out[0] = wasm._tempMemFloat[0];\n        out[1] = wasm._tempMemFloat[1];\n        out[2] = wasm._tempMemFloat[2];\n        return out;\n    }\n    /**\n     * Transform an object space dual quaternion into world space.\n     *\n     * @param out Out transformation.\n     * @param q Local space transformation, default `out`.\n     * @return The `out` parameter.\n     *\n     * @since 0.8.7\n     */\n    toWorldSpaceTransform(out, q = out) {\n        const wasm = this._engine.wasm;\n        wasm._tempMemFloat.set(q);\n        wasm._wl_object_toWorldSpaceTransform(this.objectId, wasm._tempMem);\n        out[0] = wasm._tempMemFloat[0];\n        out[1] = wasm._tempMemFloat[1];\n        out[2] = wasm._tempMemFloat[2];\n        out[3] = wasm._tempMemFloat[3];\n        out[4] = wasm._tempMemFloat[4];\n        out[5] = wasm._tempMemFloat[5];\n        out[6] = wasm._tempMemFloat[6];\n        out[7] = wasm._tempMemFloat[7];\n        return out;\n    }\n    /**\n     * Transform a world space dual quaternion into local space.\n     *\n     * @param out Out transformation\n     * @param q World space transformation, default `out`\n     * @return The `out` parameter.\n     *\n     * @since 0.8.7\n     */\n    toLocalSpaceTransform(out, q = out) {\n        const p = this.parent;\n        if (p) {\n            p.toObjectSpaceTransform(out, q);\n            return out;\n        }\n        if (out !== q) {\n            out[0] = q[0];\n            out[1] = q[1];\n            out[2] = q[2];\n            out[3] = q[3];\n            out[4] = q[4];\n            out[5] = q[5];\n            out[6] = q[6];\n            out[7] = q[7];\n        }\n        return out;\n    }\n    /**\n     * Transform a world space dual quaternion into object space.\n     *\n     * @param out Out transformation.\n     * @param q World space transformation, default `out`\n     * @return The `out` parameter.\n     *\n     * @since 0.8.7\n     */\n    toObjectSpaceTransform(out, q = out) {\n        const wasm = this._engine.wasm;\n        wasm._tempMemFloat.set(q);\n        wasm._wl_object_toObjectSpaceTransform(this.objectId, wasm._tempMem);\n        out[0] = wasm._tempMemFloat[0];\n        out[1] = wasm._tempMemFloat[1];\n        out[2] = wasm._tempMemFloat[2];\n        out[3] = wasm._tempMemFloat[3];\n        out[4] = wasm._tempMemFloat[4];\n        out[5] = wasm._tempMemFloat[5];\n        out[6] = wasm._tempMemFloat[6];\n        out[7] = wasm._tempMemFloat[7];\n        return out;\n    }\n    /**\n     * Turn towards / look at target.\n     *\n     * Rotates the object so that its forward vector faces towards the target\n     * position. The `up` vector acts as a hint to uniquely orient the object's\n     * up direction. When orienting a view component, the projected `up` vector\n     * faces upwards on the viewing plane.\n     *\n     * @param p Target position to turn towards, in world space.\n     * @param up Up vector to align object with, in world space. Default is `[0, 1, 0]`.\n     *\n     * @returns Reference to self (for method chaining).\n     */\n    lookAt(p, up = UP_VECTOR) {\n        this._engine.wasm._wl_object_lookAt(this.objectId, p[0], p[1], p[2], up[0], up[1], up[2]);\n        return this;\n    }\n    /** Destroy the object with all of its components and remove it from the scene */\n    destroy() {\n        this._engine.wasm._wl_scene_remove_object(this.objectId);\n        this._objectId = -1;\n    }\n    /**\n     * Mark transformation dirty.\n     *\n     * Causes an eventual recalculation of {@link transformWorld}, either\n     * on next {@link getTranslationWorld}, {@link transformWorld} or\n     * {@link scalingWorld} or the beginning of next frame, whichever\n     * happens first.\n     */\n    setDirty() {\n        this._engine.wasm._wl_object_set_dirty(this.objectId);\n    }\n    /**\n     * Disable/enable all components of this object.\n     *\n     * @param b New state for the components.\n     *\n     * @since 0.8.5\n     */\n    set active(b) {\n        const comps = this.getComponents();\n        for (let c of comps) {\n            c.active = b;\n        }\n    }\n    getComponent(typeOrClass, index = 0) {\n        const type = isString(typeOrClass) ? typeOrClass : typeOrClass.TypeName;\n        const wasm = this._engine.wasm;\n        const componentType = wasm._wl_get_component_manager_index(wasm.tempUTF8(type));\n        if (componentType < 0) {\n            /* Not a native component, try js: */\n            const typeIndex = wasm._componentTypeIndices[type];\n            if (typeIndex === undefined)\n                return null;\n            const jsIndex = wasm._wl_get_js_component_index(this.objectId, typeIndex, index);\n            return jsIndex < 0 ? null : this._engine.wasm._components[jsIndex];\n        }\n        const componentId = this._engine.wasm._wl_get_component_id(this.objectId, componentType, index);\n        return this._engine._wrapComponent(type, componentType, componentId);\n    }\n    /**\n     * @param typeOrClass Type name, pass a falsey value (`undefined` or `null`) to retrieve all.\n     *     It's also possible to give a class definition. In this case, the method will use the `class.TypeName` field to\n     *     find the components.\n     * @returns All components of given type attached to this object.\n     *\n     * @note As this function is non-trivial, avoid using it in `update()` repeatedly,\n     *      but rather store its result in `init()` or `start()`\n     * @warning This method will currently return at most 341 components.\n     */\n    getComponents(typeOrClass) {\n        const wasm = this._engine.wasm;\n        let componentType = null;\n        let type = null;\n        if (typeOrClass) {\n            type = isString(typeOrClass) ? typeOrClass : typeOrClass.TypeName;\n            componentType = wasm._typeIndexFor(type);\n        }\n        const components = [];\n        const maxComps = Math.floor((wasm._tempMemSize / 3) * 2);\n        const componentsCount = wasm._wl_object_get_components(this.objectId, wasm._tempMem, maxComps);\n        const offset = 2 * componentsCount;\n        wasm._wl_object_get_component_types(this.objectId, wasm._tempMem + offset, maxComps);\n        const jsManagerIndex = wasm._typeIndexFor('js');\n        for (let i = 0; i < componentsCount; ++i) {\n            const t = wasm._tempMemUint8[i + offset];\n            const componentId = wasm._tempMemUint16[i];\n            /* Handle JS types separately */\n            if (t == jsManagerIndex) {\n                const typeIndex = wasm._wl_get_js_component_index_for_id(componentId);\n                const comp = wasm._components[typeIndex];\n                if (componentType === null || comp.type == type)\n                    components.push(comp);\n                continue;\n            }\n            if (componentType === null) {\n                const managerName = wasm._typeNameFor(t);\n                components.push(this._engine._wrapComponent(managerName, t, componentId));\n            }\n            else if (t == componentType) {\n                /* Optimized manager name retrieval, already have type */\n                components.push(this._engine._wrapComponent(type, componentType, componentId));\n            }\n        }\n        return components;\n    }\n    addComponent(typeOrClass, params) {\n        const wasm = this._engine.wasm;\n        const type = isString(typeOrClass) ? typeOrClass : typeOrClass.TypeName;\n        const componentType = wasm._typeIndexFor(type);\n        let component = null;\n        let componentIndex = null;\n        if (componentType < 0) {\n            /* JavaScript component */\n            if (!(type in wasm._componentTypeIndices)) {\n                throw new TypeError(\"Unknown component type '\" + type + \"'\");\n            }\n            const componentId = wasm._wl_object_add_js_component(this.objectId, wasm._componentTypeIndices[type]);\n            componentIndex = wasm._wl_get_js_component_index_for_id(componentId);\n            component = wasm._components[componentIndex];\n        }\n        else {\n            /* native component */\n            const componentId = wasm._wl_object_add_component(this.objectId, componentType);\n            component = this._engine._wrapComponent(type, componentType, componentId);\n        }\n        if (params !== undefined) {\n            const ctor = component.constructor;\n            for (const key in params) {\n                if (!(key in ctor.Properties))\n                    continue;\n                component[key] = params[key];\n            }\n        }\n        /* Explicitly initialize native components */\n        if (componentType < 0) {\n            /* @todo: `componentIndex` can be null here, that's an error */\n            wasm._wljs_component_init(componentIndex);\n            /* start() is called through onActivate() */\n        }\n        /* If it was not explicitly requested by the user to leave the component inactive,\n         * we activate it as a final step. This invalidates componentIndex! */\n        if (!params || !('active' in params && !params.active)) {\n            component.active = true;\n        }\n        return component;\n    }\n    /**\n     * Whether given object's transformation has changed.\n     */\n    get changed() {\n        return !!this._engine.wasm._wl_object_is_changed(this.objectId);\n    }\n    /**\n     * Checks equality by comparing whether the wrapped native object ids are\n     * equal.\n     *\n     * @param otherObject Object to check equality with.\n     * @returns Whether this object equals the given object.\n     */\n    equals(otherObject) {\n        if (!otherObject)\n            return false;\n        return this.objectId == otherObject.objectId;\n    }\n}\n/**\n * Wrapper around a native skin data.\n */\nexport class Skin {\n    /**\n     * Index of the skin in the manager.\n     * @hidden\n     */\n    _index;\n    /** Wonderland Engine instance. @hidden */\n    _engine;\n    constructor(engine, index) {\n        this._engine = engine;\n        this._index = index;\n    }\n    /** Amount of joints in this skin. */\n    get jointCount() {\n        return this._engine.wasm._wl_skin_get_joint_count(this._index);\n    }\n    /** Joints object ids for this skin */\n    get jointIds() {\n        const wasm = this._engine.wasm;\n        return new Uint16Array(wasm.HEAPU16.buffer, wasm._wl_skin_joint_ids(this._index), this.jointCount);\n    }\n    /**\n     * Dual quaternions in a flat array of size 8 times {@link jointCount}.\n     *\n     * Inverse bind transforms of the skin.\n     */\n    get inverseBindTransforms() {\n        const wasm = this._engine.wasm;\n        return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_skin_inverse_bind_transforms(this._index), 8 * this.jointCount);\n    }\n    /**\n     * Vectors in a flat array of size 3 times {@link jointCount}.\n     *\n     * Inverse bind scalings of the skin.\n     */\n    get inverseBindScalings() {\n        const wasm = this._engine.wasm;\n        return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_skin_inverse_bind_scalings(this._index), 3 * this.jointCount);\n    }\n    /**\n     * Checks equality by comparing whether the wrapped native skin ids are\n     * equal.\n     *\n     * @param otherSkin Skin to check equality with.\n     * @returns Whether this skin equals the given skin.\n     *\n     * @since 1.0.0\n     */\n    equals(otherSkin) {\n        if (!otherSkin)\n            return false;\n        return this._index === otherSkin._index;\n    }\n}\n/* For backward compatibility with < 1.0.0. */\nexport { Object3D as Object };\n/**\n * Ray hit.\n *\n * Result of a {@link Scene.rayCast}.\n *\n * @note this class wraps internal engine data and should only be created internally.\n */\nexport class RayHit {\n    /** Wonderland Engine instance. @hidden */\n    _engine;\n    /** Pointer to the memory heap. */\n    _ptr;\n    /**\n     * @param ptr Pointer to the ray hits memory.\n     */\n    constructor(engine, ptr) {\n        if ((ptr & 3) !== 0) {\n            throw new Error('Misaligned pointer: please report a bug');\n        }\n        this._engine = engine;\n        this._ptr = ptr;\n    }\n    /** Array of ray hit locations. */\n    get locations() {\n        let p = this._ptr;\n        let l = [];\n        for (let i = 0; i < this.hitCount; ++i) {\n            l.push(new Float32Array(this._engine.wasm.HEAPF32.buffer, p + 12 * i, 3));\n        }\n        return l;\n    }\n    /** Array of ray hit normals (only when using {@link Physics#rayCast}. */\n    get normals() {\n        let p = this._ptr + 48;\n        let l = [];\n        for (let i = 0; i < this.hitCount; ++i) {\n            l.push(new Float32Array(this._engine.wasm.HEAPF32.buffer, p + 12 * i, 3));\n        }\n        return l;\n    }\n    /**\n     * Prefer these to recalculating the distance from locations.\n     *\n     * Distances of array hits to ray origin.\n     */\n    get distances() {\n        const p = this._ptr + 48 * 2;\n        return new Float32Array(this._engine.wasm.HEAPF32.buffer, p, this.hitCount);\n    }\n    /** Hit objects */\n    get objects() {\n        const HEAPU16 = this._engine.wasm.HEAPU16;\n        const objects = [null, null, null, null];\n        let p = (this._ptr + (48 * 2 + 16)) >> 1;\n        for (let i = 0; i < this.hitCount; ++i) {\n            objects[i] = this._engine.wrapObject(HEAPU16[p + i]);\n        }\n        return objects;\n    }\n    /** Number of hits (max 4) */\n    get hitCount() {\n        return Math.min(this._engine.wasm.HEAPU32[this._ptr / 4 + 30], 4);\n    }\n}\nclass math {\n    /** (Experimental!) Cubic Hermite spline interpolation for vector3 and quaternions.\n     *\n     * With `f == 0`, `out` will be `b`, if `f == 1`, `out` will be c.\n     *\n     * Whether a quaternion or vector3 interpolation is intended is determined by\n     * length of `a`.\n     *\n     * @param out Array to write result to.\n     * @param a First tangent/handle.\n     * @param b First point or quaternion.\n     * @param c Second point or quaternion.\n     * @param d Second handle.\n     * @param f Interpolation factor in [0; 1].\n     * @returns The `out` parameter.\n     *\n     * @since 0.8.6\n     */\n    static cubicHermite(out, a, b, c, d, f, engine = WL) {\n        const wasm = engine.wasm;\n        wasm._tempMemFloat.subarray(0).set(a);\n        wasm._tempMemFloat.subarray(4).set(b);\n        wasm._tempMemFloat.subarray(8).set(c);\n        wasm._tempMemFloat.subarray(12).set(d);\n        const isQuat = a.length == 4;\n        wasm._wl_math_cubicHermite(wasm._tempMem + 4 * 16, wasm._tempMem + 4 * 0, wasm._tempMem + 4 * 4, wasm._tempMem + 4 * 8, wasm._tempMem + 4 * 12, f, isQuat);\n        out[0] = wasm._tempMemFloat[16];\n        out[1] = wasm._tempMemFloat[17];\n        out[2] = wasm._tempMemFloat[18];\n        if (isQuat)\n            out[3] = wasm._tempMemFloat[19];\n        return out;\n    }\n}\nexport { math };\n/**\n * Class for accessing internationalization (i18n) features.\n *\n * Allows {@link I18N.onLanguageChanged \"detecting language change\"},\n * {@link I18N.language \"setting the current language\"} or translating\n * {@link I18N.translate() \"individual terms\"}.\n *\n * Internationalization works with terms,\n * a string type keyword that is linked to a different text for each language.\n *\n * Internally, string parameters for text and js components are\n * automatically swapped during language change, given they are linked to a term.\n * If manual text swapping is desired, {@link I18N.translate()}\n * can be used to retrieve the current translation for any term.\n *\n * You can also use the {@link I18N.onLanguageChanged} to manually update text\n * when a language is changed to for example update a number in a string.\n *\n * @since 1.0.0\n */\nexport class I18N {\n    /**\n     * {@link Emitter} for language change events.\n     *\n     * First parameter to a listener is the old language index,\n     * second parameter is the new language index.\n     *\n     * Usage from a within a component:\n     * ```js\n     * this.engine.i18n.onLanguageChanged.add((oldLanguageIndex, newLanguageIndex) => {\n     *     const oldLanguage = this.engine.i18n.languageName(oldLanguageIndex);\n     *     const newLanguage = this.engine.i18n.languageName(newLanguageIndex);\n     *     console.log(\"Switched from\", oldLanguage, \"to\", newLanguage);\n     * });\n     * ```\n     */\n    onLanguageChanged = new Emitter();\n    /** Wonderland Engine instance. @hidden */\n    _engine;\n    /**\n     * Constructor\n     */\n    constructor(engine) {\n        this._engine = engine;\n    }\n    /**\n     * Set current language and apply translations to linked text parameters.\n     *\n     * @param code Language code to switch to\n     */\n    set language(code) {\n        if (code == null)\n            return;\n        const wasm = this._engine.wasm;\n        wasm._wl_i18n_setLanguage(wasm.tempUTF8(code));\n    }\n    /**\n     * Get current language code.\n     *\n     */\n    get language() {\n        const wasm = this._engine.wasm;\n        const code = wasm._wl_i18n_currentLanguage();\n        if (code === 0)\n            return null;\n        return wasm.UTF8ToString(code);\n    }\n    /**\n     * Get translated string for a term for the currently loaded language.\n     *\n     * @param term Term to translate\n     */\n    translate(term) {\n        const wasm = this._engine.wasm;\n        const translation = wasm._wl_i18n_translate(wasm.tempUTF8(term));\n        if (translation === 0)\n            return null;\n        return wasm.UTF8ToString(translation);\n    }\n    /**\n     * Get the number of languages in the project.\n     *\n     */\n    languageCount() {\n        const wasm = this._engine.wasm;\n        return wasm._wl_i18n_languageCount();\n    }\n    /**\n     * Get a language code.\n     *\n     * @param index Index of the language to get the code from\n     */\n    languageIndex(code) {\n        const wasm = this._engine.wasm;\n        return wasm._wl_i18n_languageIndex(wasm.tempUTF8(code));\n    }\n    /**\n     * Get a language code.\n     *\n     * @param index Index of the language to get the code from\n     */\n    languageCode(index) {\n        const wasm = this._engine.wasm;\n        const code = wasm._wl_i18n_languageCode(index);\n        if (code === 0)\n            return null;\n        return wasm.UTF8ToString(code);\n    }\n    /**\n     * Get a language name.\n     *\n     * @param index Index of the language to get the name from\n     */\n    languageName(index) {\n        const wasm = this._engine.wasm;\n        const name = wasm._wl_i18n_languageName(index);\n        if (name === 0)\n            return null;\n        return wasm.UTF8ToString(name);\n    }\n}\n/** Properties of a WebXR session */\nexport class XR {\n    /** Wonderland WASM bridge. @hidden */\n    #wasm;\n    #mode;\n    constructor(wasm, mode) {\n        this.#wasm = wasm;\n        this.#mode = mode;\n    }\n    /** Current WebXR session mode */\n    get sessionMode() {\n        return this.#mode;\n    }\n    /** Current WebXR session */\n    get session() {\n        return this.#wasm.webxr_session;\n    }\n    /** Current WebXR frame */\n    get frame() {\n        return this.#wasm.webxr_frame;\n    }\n    referenceSpaceForType(type) {\n        return this.#wasm.webxr_refSpaces[type] ?? null;\n    }\n    /** Set current reference space type used for retrieving eye, head, hand and joint poses */\n    set currentReferenceSpace(refSpace) {\n        this.#wasm.webxr_refSpace = refSpace;\n        this.#wasm.webxr_refSpaceType = null;\n        for (const type of Object.keys(this.#wasm.webxr_refSpaces)) {\n            if (this.#wasm.webxr_refSpaces[type] === refSpace) {\n                /* Keep track of reference space type */\n                this.#wasm.webxr_refSpaceType = type;\n            }\n        }\n    }\n    /** Current reference space type used for retrieving eye, head, hand and joint poses */\n    get currentReferenceSpace() {\n        return this.#wasm.webxr_refSpace;\n    }\n    /** Current WebXR reference space type or `null` if not a default reference space */\n    get currentReferenceSpaceType() {\n        return this.#wasm.webxr_refSpaceType;\n    }\n    /** Current WebXR base layer  */\n    get baseLayer() {\n        return this.#wasm.webxr_baseLayer;\n    }\n    /** Current WebXR framebuffer */\n    get framebuffers() {\n        if (!Array.isArray(this.#wasm.webxr_fbo)) {\n            return [this.#wasm.GL.framebuffers[this.#wasm.webxr_fbo]];\n        }\n        return this.#wasm.webxr_fbo.map((id) => this.#wasm.GL.framebuffers[id]);\n    }\n}\n", "import { RetainEmitter } from './index.js';\nimport { Type } from './property.js';\nimport { Animation, Component, Material, Mesh, Skin, XR, } from './wonderland.js';\n/**\n * Default component parameter value per type.\n */\nconst _componentDefaults = new Map([\n    [Type.Bool, false],\n    [Type.Int, 0],\n    [Type.Float, 0.0],\n    [Type.String, ''],\n    [Type.Enum, undefined],\n    [Type.Object, null],\n    [Type.Mesh, null],\n    [Type.Texture, null],\n    [Type.Material, null],\n    [Type.Animation, null],\n    [Type.Skin, null],\n    [Type.Color, [0.0, 0.0, 0.0, 1.0]],\n]);\n/**\n * Setup the defaults value of the properties on a given\n * component class.\n *\n * @param ctor The component class\n */\nfunction _setupDefaults(ctor) {\n    for (const name in ctor.Properties) {\n        const p = ctor.Properties[name];\n        if (p.type === Type.Enum) {\n            /* Enum default can be a string or an index. Convert to and/or\n             * sanity-check the index. */\n            if (p.values?.length) {\n                /* Don't try to look up the default if the user specified a\n                 * number or we already converted to one. */\n                if (typeof p.default !== 'number') {\n                    /* If undefined, missing element or wrong type this returns\n                     * -1 which becomes 0 below. This matches editor behavior. */\n                    p.default = p.values.indexOf(p.default);\n                }\n                if (p.default < 0 || p.default >= p.values.length) {\n                    p.default = 0;\n                }\n            }\n            else {\n                /* There's no index value that makes sense */\n                p.default = undefined;\n            }\n        }\n        else {\n            p.default = p.default ?? _componentDefaults.get(p.type);\n        }\n        ctor.prototype[name] = p.default;\n    }\n}\n/**\n * Low-level wrapper to interact with the WebAssembly code.\n *\n * @hidden\n */\nexport class WASM {\n    /**\n     * Emscripten worker field.\n     *\n     * @note This api is meant to be used internally.\n     */\n    worker = '';\n    /**\n     * Emscripten wasm field.\n     *\n     * @note This api is meant to be used internally.\n     */\n    wasm = null;\n    /**\n     * Emscripten canvas.\n     *\n     * @note This api is meant to be used internally.\n     */\n    canvas = null;\n    /** Current WebXR  */\n    /**\n     * Emscripten WebXR session.\n     *\n     * @note This api is meant to be used internally.\n     */\n    webxr_session = null;\n    /**\n     * Emscripten WebXR request session callback.\n     *\n     * @note This api is meant to be used internally.\n     */\n    webxr_requestSession = null;\n    /**\n     * Emscripten WebXR frame.\n     *\n     * @note This api is meant to be used internally.\n     */\n    webxr_frame = null;\n    /**\n     * Emscripten current WebXR reference space.\n     *\n     * @note This api is meant to be used internally.\n     */\n    webxr_refSpace = null;\n    /**\n     * Emscripten WebXR reference spaces.\n     *\n     * @note This api is meant to be used internally.\n     */\n    webxr_refSpaces = null;\n    /**\n     * Emscripten WebXR current reference space type.\n     *\n     * @note This api is meant to be used internally.\n     */\n    webxr_refSpaceType = null;\n    /**\n     * Emscripten WebXR GL projection layer.\n     *\n     * @note This api is meant to be used internally.\n     */\n    webxr_baseLayer = null;\n    /**\n     * Emscripten WebXR framebuffer scale factor.\n     *\n     * @note This api is meant to be used internally.\n     */\n    webxr_framebufferScaleFactor = 1.0;\n    /**\n     * Emscripten WebXR framebuffer(s).\n     *\n     * @note This api is meant to be used internally.\n     */\n    /* webxr_fbo will not get overwritten if we are rendering to the\n     * default framebuffer, e.g., when using WebXR emulator. */\n    webxr_fbo = 0;\n    /**\n     * Convert a WASM memory view to a JavaScript string.\n     *\n     * @param ptr Pointer start\n     * @param ptrEnd Pointer end\n     * @returns JavaScript string\n     */\n    UTF8ViewToString;\n    /** If `true`, logs will not spam the console on error. */\n    _deactivate_component_on_error = false;\n    /** Temporary memory pointer. */\n    _tempMem = null;\n    /** Temporary memory size. */\n    _tempMemSize = 0;\n    /** Temporary float memory view. */\n    _tempMemFloat = null;\n    /** Temporary int memory view. */\n    _tempMemInt = null;\n    /** Temporary uint8 memory view. */\n    _tempMemUint8 = null;\n    /** Temporary uint32 memory view. */\n    _tempMemUint32 = null;\n    /** Temporary uint16 memory view. */\n    _tempMemUint16 = null;\n    /** Loading screen .bin file data */\n    _loadingScreen = null;\n    /** List of callbacks triggered when the scene is loaded. */\n    _sceneLoadedCallback = [];\n    /**\n     * Material definition cache. Each pipeline has its own\n     * associated material definition.\n     */\n    _materialDefinitions = [];\n    /** Image cache. */\n    _images = [];\n    /** Component instances. */\n    _components = [];\n    /** Component Type info. */\n    _componentTypes = [];\n    /** Index per component type name. */\n    _componentTypeIndices = {};\n    /** Wonderland engine instance. */\n    _engine = null;\n    /**\n     * `true` if this runtime is using physx.\n     *\n     * @note This api is meant to be used internally.\n     */\n    _withPhysX = false;\n    /** Decoder for UTF8 `ArrayBuffer` to JavaScript string. */\n    _utf8Decoder = new TextDecoder('utf8');\n    /** List of .bin files to delay-load. */\n    _queuedBinFiles = [];\n    /**\n     * Create a new instance of the WebAssembly <> API bridge.\n     *\n     * @param threads `true` if the runtime used has threads support\n     */\n    constructor(threads) {\n        if (threads) {\n            this.UTF8ViewToString = (s, e) => {\n                if (!s)\n                    return '';\n                return this._utf8Decoder.decode(this.HEAPU8.slice(s, e));\n            };\n            return;\n        }\n        this.UTF8ViewToString = (s, e) => {\n            if (!s)\n                return '';\n            return this._utf8Decoder.decode(this.HEAPU8.subarray(s, e));\n        };\n    }\n    /**\n     * Reset the cache of the library\n     *\n     * @note Should only be called when tearing down the runtime.\n     */\n    reset() {\n        this._materialDefinitions = [];\n        this._images = [];\n        this._components = [];\n        this._componentTypes = [];\n        this._componentTypeIndices = {};\n    }\n    /**\n     * Checks whether the given component is registered or not.\n     *\n     * @param ctor  A string representing the component typename (e.g., `'cursor-component'`).\n     * @returns `true` if the component is registered, `false` otherwise.\n     */\n    isRegistered(type) {\n        return type in this._componentTypeIndices;\n    }\n    /**\n     * Register a legacy component in this Emscripten instance.\n     *\n     * @note This api is meant to be used internally.\n     *\n     * @param typeName The name of the component.\n     * @param params An object containing the parameters (properties).\n     * @param object The object's prototype.\n     * @returns The registration index\n     */\n    _registerComponentLegacy(typeName, params, object) {\n        const ctor = class CustomComponent extends Component {\n        };\n        ctor.TypeName = typeName;\n        ctor.Properties = params;\n        Object.assign(ctor.prototype, object);\n        return this._registerComponent(ctor);\n    }\n    /**\n     * Register a class component in this Emscripten instance.\n     *\n     * @note This api is meant to be used internally.\n     *\n     * @param ctor The class to register.\n     * @returns The registration index.\n     */\n    _registerComponent(ctor) {\n        if (!ctor.TypeName)\n            throw new Error('no name provided for component.');\n        // TODO: 'Dependencies' is hard-deprecated, remove at 1.1\n        const dependencies = ctor.Dependencies;\n        if (dependencies) {\n            for (const dependency of dependencies) {\n                /* For dependencies, we skip potential over-registration. */\n                if (!this.isRegistered(dependency.TypeName)) {\n                    this._registerComponent(dependency);\n                }\n            }\n        }\n        _setupDefaults(ctor);\n        const typeIndex = ctor.TypeName in this._componentTypeIndices\n            ? this._componentTypeIndices[ctor.TypeName]\n            : this._componentTypes.length;\n        this._componentTypes[typeIndex] = ctor;\n        this._componentTypeIndices[ctor.TypeName] = typeIndex;\n        console.log('Registered component', ctor.TypeName, `(class ${ctor.name})`, 'with index', typeIndex);\n        if (ctor.onRegister)\n            ctor.onRegister(this._engine);\n        return typeIndex;\n    }\n    /**\n     * Allocate the requested amount of temporary memory\n     * in this WASM instance.\n     *\n     * @param size The number of bytes to allocate\n     */\n    allocateTempMemory(size) {\n        console.log('Allocating temp mem:', size);\n        this._tempMemSize = size;\n        if (this._tempMem)\n            this._free(this._tempMem);\n        this._tempMem = this._malloc(this._tempMemSize);\n        this.updateTempMemory();\n    }\n    /**\n     * @todo: Delete this and only keep `allocateTempMemory`\n     *\n     * @param size Number of bytes to allocate\n     */\n    requireTempMem(size) {\n        if (this._tempMemSize >= size)\n            return;\n        /* Grow in 1kb increments */\n        this.allocateTempMemory(Math.ceil(size / 1024) * 1024);\n    }\n    /**\n     * Update the temporary memory views. This must be called whenever the\n     * temporary memory address changes.\n     *\n     * @note This api is meant to be used internally.\n     */\n    updateTempMemory() {\n        this._tempMemFloat = new Float32Array(this.HEAP8.buffer, this._tempMem, this._tempMemSize >> 2);\n        this._tempMemInt = new Int32Array(this.HEAP8.buffer, this._tempMem, this._tempMemSize >> 2);\n        this._tempMemUint32 = new Uint32Array(this.HEAP8.buffer, this._tempMem, this._tempMemSize >> 2);\n        this._tempMemUint16 = new Uint16Array(this.HEAP8.buffer, this._tempMem, this._tempMemSize >> 1);\n        this._tempMemUint8 = new Uint8Array(this.HEAP8.buffer, this._tempMem, this._tempMemSize);\n    }\n    /**\n     * Returns a uint8 buffer view on temporary WASM memory.\n     *\n     * **Note**: this method might allocate if the requested memory is bigger\n     * than the current temporary memory allocated.\n     *\n     * @param count The number of **elements** required\n     * @returns A {@link TypedArray} over the WASM memory\n     */\n    getTempBufferU8(count) {\n        this.requireTempMem(count);\n        return this._tempMemUint8;\n    }\n    /**\n     * Returns a uint16 buffer view on temporary WASM memory.\n     *\n     * **Note**: this method might allocate if the requested memory is bigger\n     * than the current temporary memory allocated.\n     *\n     * @param count The number of **elements** required\n     * @returns A {@link TypedArray} over the WASM memory\n     */\n    getTempBufferU16(count) {\n        this.requireTempMem(count * 2);\n        return this._tempMemUint16;\n    }\n    /**\n     * Returns a uint32 buffer view on temporary WASM memory.\n     *\n     * **Note**: this method might allocate if the requested memory is bigger\n     * than the current temporary memory allocated.\n     *\n     * @param count The number of **elements** required.\n     * @returns A {@link TypedArray} over the WASM memory.\n     */\n    getTempBufferU32(count) {\n        this.requireTempMem(count * 4);\n        return this._tempMemUint32;\n    }\n    /**\n     * Returns a int32 buffer view on temporary WASM memory.\n     *\n     * **Note**: this method might allocate if the requested memory is bigger\n     * than the current temporary memory allocated.\n     *\n     * @param count The number of **elements** required.\n     * @returns A {@link TypedArray} over the WASM memory.\n     */\n    getTempBufferI32(count) {\n        this.requireTempMem(count * 4);\n        return this._tempMemInt;\n    }\n    /**\n     * Returns a float32 buffer view on temporary WASM memory.\n     *\n     * **Note**: this method might allocate if the requested memory is bigger\n     * than the current temporary memory allocated.\n     *\n     * @param count The number of **elements** required.\n     * @returns A {@link TypedArray} over the WASM memory.\n     */\n    getTempBufferF32(count) {\n        this.requireTempMem(count * 4);\n        return this._tempMemFloat;\n    }\n    /**\n     * Copy the string into temporary WASM memory and retrieve the pointer.\n     *\n     * @note This method will compute the strlen and append a `\\0`.\n     *\n     * @note The result should be used **directly** otherwise it might get\n     * overridden by any next call modifying the temporary memory.\n     *\n     * @param str The string to write to temporary memory\n     * @return The temporary pointer onto the WASM memory\n     */\n    tempUTF8(str) {\n        const strLen = this.lengthBytesUTF8(str) + 1;\n        this.requireTempMem(strLen);\n        this.stringToUTF8(str, this._tempMem, strLen);\n        return this._tempMem;\n    }\n    /**\n     * Return the index of the component type.\n     *\n     * @note This method uses malloc and copies the string\n     * to avoid overwriting caller's temporary data.\n     *\n     * @param type The type\n     * @return The component type index\n     */\n    _typeIndexFor(type) {\n        const lengthBytes = this.lengthBytesUTF8(type) + 1;\n        const mem = this._malloc(lengthBytes);\n        this.stringToUTF8(type, mem, lengthBytes);\n        const componentType = this._wl_get_component_manager_index(mem);\n        this._free(mem);\n        return componentType;\n    }\n    /**\n     * Return the name of component type stored at the given index.\n     *\n     * @param typeIndex The type index\n     * @return The name as a string\n     */\n    _typeNameFor(typeIndex) {\n        return this.UTF8ToString(this._wl_component_manager_name(typeIndex));\n    }\n    /**\n     * Returns `true` if the runtime supports physx or not.\n     */\n    get withPhysX() {\n        return this._withPhysX;\n    }\n    /**\n     * Set the engine instance holding this bridge.\n     *\n     * @note This api is meant to be used internally.\n     *\n     * @param engine The engine instance.\n     */\n    _setEngine(engine) {\n        this._engine = engine;\n    }\n    /* WebAssembly to JS call bridge. */\n    _wljs_xr_session_start(mode) {\n        this._engine.xr = new XR(this, mode);\n        this._engine.onXRSessionStart.notify(this.webxr_session, mode);\n    }\n    _wljs_xr_session_end() {\n        const startEmitter = this._engine.onXRSessionStart;\n        if (startEmitter instanceof RetainEmitter)\n            startEmitter.reset();\n        this._engine.onXRSessionEnd.notify();\n        this._engine.xr = null;\n    }\n    _wljs_xr_disable() {\n        /* @todo This could directly be fully handled in JS. */\n        this._engine.arSupported = false;\n        this._engine.vrSupported = false;\n    }\n    _wljs_allocate(numComponents) {\n        this._components = new Array(numComponents);\n    }\n    _wljs_init(withPhysX) {\n        this._withPhysX = withPhysX;\n        /* Target memory for JS API functions that return arrays */\n        this.allocateTempMemory(1024);\n    }\n    _wljs_reallocate(numComponents) {\n        if (numComponents > this._components.length) {\n            this._components.length = numComponents;\n        }\n    }\n    _wljs_scene_add_material_definition(definitionId) {\n        const definition = new Map();\n        /* Cache material definition for faster read/write */\n        const nbParams = this._wl_material_definition_get_count(definitionId);\n        for (let i = 0; i < nbParams; ++i) {\n            const name = this.UTF8ToString(this._wl_material_definition_get_param_name(definitionId, i));\n            const t = this._wl_material_definition_get_param_type(definitionId, i);\n            definition.set(name, {\n                index: i,\n                type: {\n                    type: t & 0xff,\n                    componentCount: (t >> 8) & 0xff,\n                    metaType: (t >> 16) & 0xff,\n                },\n            });\n        }\n        this._materialDefinitions[definitionId] = definition;\n    }\n    _wljs_set_component_param_bool(c, p, pe, v) {\n        const param = this.UTF8ViewToString(p, pe);\n        this._components[c][param] = v !== 0;\n    }\n    _wljs_set_component_param_int(c, p, pe, v) {\n        const param = this.UTF8ViewToString(p, pe);\n        this._components[c][param] = v;\n    }\n    _wljs_set_component_param_float(c, p, pe, v) {\n        const param = this.UTF8ViewToString(p, pe);\n        this._components[c][param] = v;\n    }\n    _wljs_set_component_param_string(c, p, pe, v, ve) {\n        const param = this.UTF8ViewToString(p, pe);\n        const value = this.UTF8ViewToString(v, ve);\n        this._components[c][param] = value;\n    }\n    _wljs_set_component_param_color(c, p, pe, v) {\n        const param = this.UTF8ViewToString(p, pe);\n        this._components[c][param] = new Float32Array([0, 8, 16, 24].map((s) => ((v >>> s) & 0xff) / 255.0));\n    }\n    _wljs_set_component_param_object(c, p, pe, v) {\n        const param = this.UTF8ViewToString(p, pe);\n        this._components[c][param] =\n            v > 0 ? this._engine.wrapObject(v) : null;\n    }\n    _wljs_set_component_param_mesh(c, p, pe, v) {\n        const param = this.UTF8ViewToString(p, pe);\n        this._components[c][param] =\n            v > 0 ? new Mesh(this._engine, v) : null;\n    }\n    _wljs_set_component_param_texture(c, p, pe, v) {\n        const param = this.UTF8ViewToString(p, pe);\n        this._components[c][param] =\n            v > 0 ? this._engine.textures.wrap(v) : null;\n    }\n    _wljs_set_component_param_material(c, p, pe, v) {\n        const param = this.UTF8ViewToString(p, pe);\n        this._components[c][param] =\n            v > 0 ? new Material(this._engine, v) : null;\n    }\n    _wljs_set_component_param_animation(c, p, pe, v) {\n        const param = this.UTF8ViewToString(p, pe);\n        this._components[c][param] =\n            v > 0 ? new Animation(this._engine, v) : null;\n    }\n    _wljs_set_component_param_skin(c, p, pe, v) {\n        const param = this.UTF8ViewToString(p, pe);\n        this._components[c][param] =\n            v > 0 ? new Skin(this._engine, v) : null;\n    }\n    _wljs_get_component_type_index(namePtr, nameEndPtr) {\n        return this._componentTypeIndices[this.UTF8ViewToString(namePtr, nameEndPtr)];\n    }\n    _wljs_component_create(jsManagerIndex, index, id, type, object) {\n        const ctor = this._componentTypes[type];\n        const component = new ctor();\n        /* Sets the manager and identifier from the outside, to simplify the user's constructor. */\n        /* @ts-ignore */\n        component._engine = this._engine;\n        component._manager = jsManagerIndex;\n        component._id = id;\n        component._object = this._engine.wrapObject(object);\n        this._components[index] = component;\n        return component;\n    }\n    _wljs_component_init(component) {\n        const c = this._components[component];\n        if (c.init) {\n            try {\n                c.init();\n            }\n            catch (e) {\n                console.error(`Exception during ${c.type} init() on object ${c.object.name}`);\n                console.error(e);\n            }\n        }\n        if (c.start) {\n            /* Arm onActivate() with the initial start() call */\n            const oldActivate = c.onActivate;\n            c.onActivate = function () {\n                /* As \"component\" is the component index, which may change\n                 * through calls to init() and start(), we call it on the\n                 * calling object, which will be the component, instead of\n                 * wljs_component_start() etc */\n                try {\n                    if (this.start)\n                        this.start();\n                }\n                catch (e) {\n                    console.error(`Exception during ${this.type} start() on object ${this.object.name}`);\n                    console.error(e);\n                }\n                this.onActivate = oldActivate;\n                if (this.onActivate) {\n                    try {\n                        this.onActivate();\n                    }\n                    catch (e) {\n                        console.error(`Exception during ${this.type} onActivate() on object ${this.object.name}`);\n                        console.error(e);\n                    }\n                }\n            };\n        }\n    }\n    _wljs_component_update(component, dt) {\n        const c = this._components[component];\n        if (!c) {\n            console.warn('WL: component was undefined:', component);\n            this._components[component] = new Component(this._engine);\n            return;\n        }\n        if (!c.update)\n            return;\n        try {\n            c.update(dt);\n        }\n        catch (e) {\n            console.error(`Exception during ${c.type} update() on object ${c.object.name}`);\n            console.error(e);\n            if (this._deactivate_component_on_error)\n                c.active = false;\n        }\n    }\n    _wljs_component_onActivate(component) {\n        const c = this._components[component];\n        if (!c || !c.onActivate)\n            return;\n        try {\n            c.onActivate();\n        }\n        catch (e) {\n            console.error(`Exception during ${c.type} onActivate() on object ${c.object.name}`);\n            console.error(e);\n        }\n    }\n    _wljs_component_onDeactivate(component) {\n        const c = this._components[component];\n        if (!c.onDeactivate)\n            return;\n        try {\n            c.onDeactivate();\n        }\n        catch (e) {\n            console.error(`Exception during ${c.type} onDeactivate() on object ${c.object.name}`);\n            console.error(e);\n        }\n    }\n    _wljs_component_onDestroy(component) {\n        const c = this._components[component];\n        if (!c.onDestroy)\n            return;\n        try {\n            c.onDestroy();\n        }\n        catch (e) {\n            console.error(`Exception during ${c.type} onDestroy() on object ${c.object.name}`);\n            console.error(e);\n        }\n    }\n    _wljs_swap(a, b) {\n        const componentA = this._components[a];\n        this._components[a] = this._components[b];\n        this._components[b] = componentA;\n    }\n    /* JS to WebAssembly bridge. */\n    HEAP8 = null;\n    HEAPU8 = null;\n    HEAPU16 = null;\n    HEAPU32 = null;\n    HEAP32 = null;\n    HEAPF32 = null;\n    GL = null;\n    assert = null;\n    _free = null;\n    _malloc = null;\n    lengthBytesUTF8 = null;\n    stringToUTF8 = null;\n    UTF8ToString = null;\n    addFunction = null;\n    removeFunction = null;\n    _wl_set_error_callback = null;\n    _wl_application_version = null;\n    _wl_application_start = null;\n    _wl_application_resize = null;\n    _wl_nextUpdate = null;\n    _wl_nextFrame = null;\n    _wl_scene_get_active_views = null;\n    _wl_scene_ray_cast = null;\n    _wl_scene_add_object = null;\n    _wl_scene_add_objects = null;\n    _wl_scene_reserve_objects = null;\n    _wl_scene_set_clearColor = null;\n    _wl_scene_enableColorClear = null;\n    _wl_set_loading_screen_progress = null;\n    _wl_load_scene_bin = null;\n    _wl_append_scene_bin = null;\n    _wl_append_scene_gltf = null;\n    _wl_scene_reset = null;\n    _wl_component_get_object = null;\n    _wl_component_setActive = null;\n    _wl_component_isActive = null;\n    _wl_component_remove = null;\n    _wl_collision_component_get_collider = null;\n    _wl_collision_component_set_collider = null;\n    _wl_collision_component_get_extents = null;\n    _wl_collision_component_get_group = null;\n    _wl_collision_component_set_group = null;\n    _wl_collision_component_query_overlaps = null;\n    _wl_text_component_get_horizontal_alignment = null;\n    _wl_text_component_set_horizontal_alignment = null;\n    _wl_text_component_get_vertical_alignment = null;\n    _wl_text_component_set_vertical_alignment = null;\n    _wl_text_component_get_character_spacing = null;\n    _wl_text_component_set_character_spacing = null;\n    _wl_text_component_get_line_spacing = null;\n    _wl_text_component_set_line_spacing = null;\n    _wl_text_component_get_effect = null;\n    _wl_text_component_set_effect = null;\n    _wl_text_component_get_text = null;\n    _wl_text_component_set_text = null;\n    _wl_text_component_set_material = null;\n    _wl_text_component_get_material = null;\n    _wl_view_component_get_projection_matrix = null;\n    _wl_view_component_get_near = null;\n    _wl_view_component_set_near = null;\n    _wl_view_component_get_far = null;\n    _wl_view_component_set_far = null;\n    _wl_view_component_get_fov = null;\n    _wl_view_component_set_fov = null;\n    _wl_input_component_get_type = null;\n    _wl_input_component_set_type = null;\n    _wl_light_component_get_color = null;\n    _wl_light_component_get_type = null;\n    _wl_light_component_set_type = null;\n    _wl_light_component_get_intensity = null;\n    _wl_light_component_set_intensity = null;\n    _wl_light_component_get_outerAngle = null;\n    _wl_light_component_set_outerAngle = null;\n    _wl_light_component_get_innerAngle = null;\n    _wl_light_component_set_innerAngle = null;\n    _wl_light_component_get_shadows = null;\n    _wl_light_component_set_shadows = null;\n    _wl_light_component_get_shadowRange = null;\n    _wl_light_component_set_shadowRange = null;\n    _wl_light_component_get_shadowBias = null;\n    _wl_light_component_set_shadowBias = null;\n    _wl_light_component_get_shadowNormalBias = null;\n    _wl_light_component_set_shadowNormalBias = null;\n    _wl_light_component_get_shadowTexelSize = null;\n    _wl_light_component_set_shadowTexelSize = null;\n    _wl_light_component_get_cascadeCount = null;\n    _wl_light_component_set_cascadeCount = null;\n    _wl_animation_component_get_animation = null;\n    _wl_animation_component_set_animation = null;\n    _wl_animation_component_get_playCount = null;\n    _wl_animation_component_set_playCount = null;\n    _wl_animation_component_get_speed = null;\n    _wl_animation_component_set_speed = null;\n    _wl_animation_component_play = null;\n    _wl_animation_component_stop = null;\n    _wl_animation_component_pause = null;\n    _wl_animation_component_state = null;\n    _wl_mesh_component_get_material = null;\n    _wl_mesh_component_set_material = null;\n    _wl_mesh_component_get_mesh = null;\n    _wl_mesh_component_set_mesh = null;\n    _wl_mesh_component_get_skin = null;\n    _wl_mesh_component_set_skin = null;\n    _wl_physx_component_get_static = null;\n    _wl_physx_component_set_static = null;\n    _wl_physx_component_get_kinematic = null;\n    _wl_physx_component_set_kinematic = null;\n    _wl_physx_component_get_gravity = null;\n    _wl_physx_component_set_gravity = null;\n    _wl_physx_component_get_simulate = null;\n    _wl_physx_component_set_simulate = null;\n    _wl_physx_component_get_allowSimulation = null;\n    _wl_physx_component_set_allowSimulation = null;\n    _wl_physx_component_get_allowQuery = null;\n    _wl_physx_component_set_allowQuery = null;\n    _wl_physx_component_get_trigger = null;\n    _wl_physx_component_set_trigger = null;\n    _wl_physx_component_get_shape = null;\n    _wl_physx_component_set_shape = null;\n    _wl_physx_component_get_shape_data = null;\n    _wl_physx_component_set_shape_data = null;\n    _wl_physx_component_get_extents = null;\n    _wl_physx_component_get_staticFriction = null;\n    _wl_physx_component_set_staticFriction = null;\n    _wl_physx_component_get_dynamicFriction = null;\n    _wl_physx_component_set_dynamicFriction = null;\n    _wl_physx_component_get_bounciness = null;\n    _wl_physx_component_set_bounciness = null;\n    _wl_physx_component_get_linearDamping = null;\n    _wl_physx_component_set_linearDamping = null;\n    _wl_physx_component_get_angularDamping = null;\n    _wl_physx_component_set_angularDamping = null;\n    _wl_physx_component_get_linearVelocity = null;\n    _wl_physx_component_set_linearVelocity = null;\n    _wl_physx_component_get_angularVelocity = null;\n    _wl_physx_component_set_angularVelocity = null;\n    _wl_physx_component_get_groupsMask = null;\n    _wl_physx_component_set_groupsMask = null;\n    _wl_physx_component_get_blocksMask = null;\n    _wl_physx_component_set_blocksMask = null;\n    _wl_physx_component_get_linearLockAxis = null;\n    _wl_physx_component_set_linearLockAxis = null;\n    _wl_physx_component_get_angularLockAxis = null;\n    _wl_physx_component_set_angularLockAxis = null;\n    _wl_physx_component_get_mass = null;\n    _wl_physx_component_set_mass = null;\n    _wl_physx_component_set_massSpaceInertiaTensor = null;\n    _wl_physx_component_addForce = null;\n    _wl_physx_component_addForceAt = null;\n    _wl_physx_component_addTorque = null;\n    _wl_physx_component_addCallback = null;\n    _wl_physx_component_removeCallback = null;\n    _wl_physx_update_global_pose = null;\n    _wl_physx_ray_cast = null;\n    _wl_physx_set_collision_callback = null;\n    _wl_mesh_create = null;\n    _wl_mesh_get_vertexData = null;\n    _wl_mesh_get_vertexCount = null;\n    _wl_mesh_get_indexData = null;\n    _wl_mesh_update = null;\n    _wl_mesh_get_boundingSphere = null;\n    _wl_mesh_get_attribute = null;\n    _wl_mesh_destroy = null;\n    _wl_mesh_get_attribute_values = null;\n    _wl_mesh_set_attribute_values = null;\n    _wl_material_create = null;\n    _wl_material_get_definition = null;\n    _wl_material_definition_get_count = null;\n    _wl_material_definition_get_param_name = null;\n    _wl_material_definition_get_param_type = null;\n    _wl_material_get_pipeline = null;\n    _wl_material_clone = null;\n    _wl_material_get_param_index = null;\n    _wl_material_get_param_type = null;\n    _wl_material_get_param_value = null;\n    _wl_material_set_param_value_uint = null;\n    _wl_material_set_param_value_float = null;\n    _wl_renderer_addImage = null;\n    _wl_texture_width = null;\n    _wl_texture_height = null;\n    _wl_renderer_updateImage = null;\n    _wl_texture_destroy = null;\n    _wl_animation_get_duration = null;\n    _wl_animation_get_trackCount = null;\n    _wl_animation_retargetToSkin = null;\n    _wl_animation_retarget = null;\n    _wl_object_name = null;\n    _wl_object_set_name = null;\n    _wl_object_parent = null;\n    _wl_object_get_children_count = null;\n    _wl_object_get_children = null;\n    _wl_object_set_parent = null;\n    _wl_object_reset_scaling = null;\n    _wl_object_reset_translation_rotation = null;\n    _wl_object_reset_rotation = null;\n    _wl_object_reset_translation = null;\n    _wl_object_translate = null;\n    _wl_object_translate_obj = null;\n    _wl_object_translate_world = null;\n    _wl_object_rotate_axis_angle = null;\n    _wl_object_rotate_axis_angle_rad = null;\n    _wl_object_rotate_axis_angle_obj = null;\n    _wl_object_rotate_axis_angle_rad_obj = null;\n    _wl_object_rotate_quat = null;\n    _wl_object_rotate_quat_obj = null;\n    _wl_object_scale = null;\n    _wl_object_trans_local = null;\n    _wl_object_get_translation_local = null;\n    _wl_object_set_translation_local = null;\n    _wl_object_get_translation_world = null;\n    _wl_object_set_translation_world = null;\n    _wl_object_trans_world = null;\n    _wl_object_trans_world_to_local = null;\n    _wl_object_scaling_local = null;\n    _wl_object_scaling_world = null;\n    _wl_object_set_scaling_local = null;\n    _wl_object_set_scaling_world = null;\n    _wl_object_scaling_world_to_local = null;\n    _wl_object_set_rotation_local = null;\n    _wl_object_set_rotation_world = null;\n    _wl_object_transformVectorWorld = null;\n    _wl_object_transformVectorLocal = null;\n    _wl_object_transformPointWorld = null;\n    _wl_object_transformPointLocal = null;\n    _wl_object_transformVectorInverseWorld = null;\n    _wl_object_transformVectorInverseLocal = null;\n    _wl_object_transformPointInverseWorld = null;\n    _wl_object_transformPointInverseLocal = null;\n    _wl_object_toWorldSpaceTransform = null;\n    _wl_object_toObjectSpaceTransform = null;\n    _wl_object_lookAt = null;\n    _wl_scene_remove_object = null;\n    _wl_object_set_dirty = null;\n    _wl_get_component_manager_index = null;\n    _wl_get_js_component_index = null;\n    _wl_get_js_component_index_for_id = null;\n    _wl_get_component_id = null;\n    _wl_object_get_components = null;\n    _wl_object_get_component_types = null;\n    _wl_object_add_js_component = null;\n    _wl_object_add_component = null;\n    _wl_object_is_changed = null;\n    _wl_component_manager_name = null;\n    _wl_skin_get_joint_count = null;\n    _wl_skin_joint_ids = null;\n    _wl_skin_inverse_bind_transforms = null;\n    _wl_skin_inverse_bind_scalings = null;\n    _wl_math_cubicHermite = null;\n    _wl_i18n_setLanguage = null;\n    _wl_i18n_currentLanguage = null;\n    _wl_i18n_translate = null;\n    _wl_i18n_languageCount = null;\n    _wl_i18n_languageIndex = null;\n    _wl_i18n_languageCode = null;\n    _wl_i18n_languageName = null;\n}\n", "const tempVec = new Float32Array(3);\nconst tempQuat = new Float32Array(4);\nexport function setXRRigidTransformLocal(o, transform) {\n    const r = transform.orientation;\n    tempQuat[0] = r.x;\n    tempQuat[1] = r.y;\n    tempQuat[2] = r.z;\n    tempQuat[3] = r.w;\n    const t = transform.position;\n    tempVec[0] = t.x;\n    tempVec[1] = t.y;\n    tempVec[2] = t.z;\n    o.resetTranslationRotation();\n    o.transformLocal.set(tempQuat);\n    o.translate(tempVec);\n}\n", "import {Component, Property, ViewComponent} from '@wonderlandengine/api';\nimport {setXRRigidTransformLocal} from '@wonderlandengine/components/dist/utils/webxr.js';\n\n/**\n * Looking Glass integration component\n *\n * Add one into your scene to allow rendering to Looking Glass\n * by entering VR.\n */\nexport class LookingGlassComponent extends Component {\n    static TypeName = 'looking-glass';\n    static Properties = {\n        /** Object that acts as the center of the display */\n        head: Property.object(),\n        /** Looking Glass displays require rendering an array of tiles\n         * that is interleaved */\n        tileHeight: Property.int(512),\n        /** Number of views to render. The more, the clearer the image, but\n         * the more performance is required to render a frame */\n        viewCount: Property.int(86),\n        /** Diameter of the looking glass display */\n        targetDiameter: Property.int(3),\n        /** Vertical field of view to render */\n        fovYDeg: Property.int(14),\n        /** Depth separation factor. the more, the deeper the image appears,\n         * but the higher potential artefacts might be. */\n        depthiness: Property.float(1.1),\n    };\n\n    start() {\n        this.viewObjects = [];\n        this.spawnViews(45 - 2);\n\n        /* Only activate in VR */\n        this.engine.onXRSessionStart.add(() => {\n            this.active = true;\n            this.viewObjects.forEach((v) => (v.active = true));\n        });\n        this.engine.onXRSessionEnd.add(() => {\n            this.active = false;\n            this.viewObjects.forEach((v) => (v.active = false));\n        });\n\n        if (typeof document !== 'undefined') {\n            var LookingGlassWebXRPolyfill =\n                require('@lookingglass/webxr').LookingGlassWebXRPolyfill;\n            new LookingGlassWebXRPolyfill({\n                tileHeight: this.tileHeight,\n                numViews: this.viewCount,\n                targetY: 0,\n                targetZ: 0,\n                targetDiam: this.targetDiameter,\n                fovy: (this.fovYDeg * Math.PI) / 180,\n                depthiness: this.depthiness,\n            });\n        }\n\n        this.active = false;\n    }\n\n    update() {\n        const pose = this.engine.xr.frame.getViewerPose(\n            this.engine.xr.currentReferenceSpace\n        );\n        const views = pose.views;\n        if (views.length - 2 > this.viewObjects.length) {\n            this.spawnViews(views.length - 2 - this.viewObjects.length, true);\n        }\n\n        for (let i = 2; i < views.length; ++i) {\n            setXRRigidTransformLocal(this.viewObjects[i - 2], views[i].transform);\n        }\n    }\n\n    spawnViews(viewCount, active = false) {\n        const newViews = this.engine.scene.addObjects(viewCount, this.head, viewCount);\n        newViews.forEach((v) => v.addComponent(ViewComponent, {active}));\n        this.viewObjects.push(...newViews);\n    }\n}\n", "import { Component, Type } from \"@wonderlandengine/api\";\nimport { vec3 } from \"gl-matrix\";\n\nexport class FloatingAnimation extends Component {\n  static TypeName = \"floating-animation\";\n  static Properties = {\n    speed: { type: Type.Float, default: 0.8 },\n    sizeX: { type: Type.Float, default: 0.01 },\n    sizeY: { type: Type.Float, default: 0.02 },\n    sizeZ: { type: Type.Float, default: 0.0 },\n  };\n\n  init() {\n    this.time = Math.random() * 10.0;\n    this.startPos = new Float32Array(3);\n    this.lastPos = new Float32Array(3);\n  }\n\n  start() {\n    this.object.getPositionLocal(this.startPos);\n  }\n\n  update(dt) {\n    this.time += this.speed * dt;\n    this.object.setPositionLocal(\n      vec3.add(this.lastPos, this.startPos, [\n        this.sizeX * Math.sin(0.8 * this.time),\n        this.sizeY * Math.sin(0.9 * this.time),\n        this.sizeZ * Math.sin(0.7 * this.time),\n      ])\n    );\n  }\n}\n", "/**\n * /!\\ This file is auto-generated.\n *\n * This is the entry point of your standalone application.\n *\n * There are multiple tags used by the editor to inject code automatically:\n *     - `wle:auto-imports:start` and `wle:auto-imports:end`: The list of import statements\n *     - `wle:auto-register:start` and `wle:auto-register:end`: The list of component to register\n *     - `wle:auto-constants:start` and `wle:auto-constants:end`: The project's constants,\n *        such as the project's name, whether it should use the physx runtime, etc...\n *     - `wle:auto-benchmark:start` and `wle:auto-benchmark:end`: Append the benchmarking code\n */\n\n/* wle:auto-imports:start */\nimport {MouseLookComponent} from '@wonderlandengine/components';\nimport {WasdControlsComponent} from '@wonderlandengine/components';\nimport {LookingGlassComponent} from '@wonderlandengine/looking-glass';\nimport {FloatingAnimation} from './floating-animation.js';\n/* wle:auto-imports:end */\n\nimport { loadRuntime } from \"@wonderlandengine/api\";\nimport * as API from \"@wonderlandengine/api\"; // Deprecated: Backward compatibility.\n\n/* wle:auto-constants:start */\nconst RuntimeOptions = {\n    physx: false,\n    loader: false,\n    xrFramebufferScaleFactor: 1,\n    canvas: 'canvas',\n};\nconst Constants = {\n    ProjectName: 'LookingGlass',\n    RuntimeBaseName: 'WonderlandRuntime',\n    WebXRRequiredFeatures: ['local',],\n    WebXROptionalFeatures: ['local','hand-tracking','hit-test',],\n};\n/* wle:auto-constants:end */\n\nconst engine = await loadRuntime(Constants.RuntimeBaseName, RuntimeOptions);\nObject.assign(engine, API); // Deprecated: Backward compatibility.\nwindow.WL = engine; // Deprecated: Backward compatibility.\n\nengine.onSceneLoaded.once(() => {\n  const el = document.getElementById(\"version\");\n  if (el) setTimeout(() => el.remove(), 2000);\n});\n\n/* WebXR setup. */\n\nfunction requestSession(mode) {\n  engine\n    .requestXRSession(\n      mode,\n      Constants.WebXRRequiredFeatures,\n      Constants.WebXROptionalFeatures\n    )\n    .catch((e) => console.error(e));\n}\n\nfunction setupButtonsXR() {\n  /* Setup AR / VR buttons */\n  const arButton = document.getElementById(\"ar-button\");\n  if (arButton) {\n    arButton.dataset.supported = engine.arSupported;\n    arButton.addEventListener(\"click\", () => requestSession(\"immersive-ar\"));\n  }\n  const vrButton = document.getElementById(\"vr-button\");\n  if (vrButton) {\n    vrButton.dataset.supported = engine.vrSupported;\n    vrButton.addEventListener(\"click\", () => requestSession(\"immersive-vr\"));\n  }\n}\n\nif (document.readyState === \"loading\") {\n  window.addEventListener(\"load\", setupButtonsXR);\n} else {\n  setupButtonsXR();\n}\n\n/* wle:auto-register:start */\nengine.registerComponent(MouseLookComponent);\nengine.registerComponent(WasdControlsComponent);\nengine.registerComponent(LookingGlassComponent);\nengine.registerComponent(FloatingAnimation);\n/* wle:auto-register:end */\n\nengine.scene.load(`${Constants.ProjectName}.bin`);\n\n/* wle:auto-benchmark:start */\n/* wle:auto-benchmark:end */\n"],
  "mappings": "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",
  "names": ["HowlerGlobal", "self", "Howler", "e", "i", "Howl", "str", "Sound", "len", "earcut", "equals", "len", "EventTarget", "EPSILON", "ARRAY_TYPE", "degree", "create", "ARRAY_TYPE", "copy", "identity", "invert", "multiply", "fromRotationTranslation", "getTranslation", "getRotation", "perspective", "create", "ARRAY_TYPE", "clone", "length", "fromValues", "copy", "add", "scale", "normalize", "len", "dot", "cross", "transformQuat", "angle", "forEach", "offset", "create", "ARRAY_TYPE", "create", "ARRAY_TYPE", "clone", "fromValues", "copy", "normalize", "len", "forEach", "offset", "create", "ARRAY_TYPE", "setAxisAngle", "multiply", "slerp", "EPSILON", "invert", "dot", "fromMat3", "fromEuler", "clone", "fromValues", "copy", "normalize", "rotationTo", "sqlerp", "setAxes", "cross", "len", "PRIVATE", "XRRigidTransform", "identity", "create", "getTranslation", "getRotation", "fromRotationTranslation", "fromValues", "invert", "PRIVATE", "invert", "multiply", "XRRigidTransform", "PRIVATE", "identity", "multiply", "invert", "PRIVATE", "EventTarget", "PRIVATE", "XRPose", "PRIVATE", "XRPose", "PRIVATE", "PRIVATE", "PRIVATE", "PRIVATE", "PRIVATE", "PRIVATE", "PRIVATE", "PRIVATE", "XRSession", "EventTarget", "PRIVATE", "PRIVATE", "XRSession", "PRIVATE", "XRSession", "XRRigidTransform", "XRPose", "global", "canvas", "global", "arg", "dataUri", "lerp", "isIOS", "isWebViewAndroid", "isSafari", "isFirefoxAndroid", "isR7", "isLandscapeMode", "isTimestampDeltaValid", "getScreenWidth", "getScreenHeight", "requestFullscreen", "exitFullscreen", "getFullscreenElement", "linkProgram", "getProgramUniforms", "orthoMatrix", "isMobile", "extend", "safariCssSizeWorkaround", "canvas", "offset", "isInsideCrossOriginIFrame", "getOriginFromUrl", "getQuaternionAngle", "angle", "deprecateWarning", "self", "gl", "set", "Vector3", "copy", "length", "normalize", "multiplyScalar", "dot", "Quaternion", "multiply", "inverse", "slerp", "dist", "PoseSensor", "config", "div", "module", "exports", "property", "NoSleep", "cssProperties", "onFullscreenChange", "onFullscreenError", "CardboardVRDisplay", "EventTarget", "global", "min", "max", "fromValues", "create", "copy", "getTranslation", "getRotation", "slerp", "transformQuat", "dot", "clone", "invert", "multiply", "add", "scale", "offset", "fromEuler", "angle", "PRIVATE", "create", "fromRotationTranslation", "normalize", "copy", "multiply", "PRIVATE", "global", "create", "canvas", "perspective", "fromRotationTranslation", "global", "CardboardVRDisplay", "TEST_ENV", "SESSION_ID", "Session", "global", "create", "canvas", "perspective", "global", "global", "global", "exports", "module", "offset", "length", "i", "value", "dataView", "bindata", "str", "t", "n", "r", "e", "u", "a", "o", "i", "s", "c", "f", "M", "h", "l", "v", "d", "v", "k", "V", "e", "Type", "Collider", "Alignment", "Justification", "TextEffect", "InputType", "LightType", "AnimationState", "ForceMode", "CollisionEventType", "Shape", "MeshAttribute", "MaterialParamType", "engine", "size", "angle", "LockAxis", "MeshIndexType", "MeshSkinningType", "canvas", "animId", "offset", "engine", "engine", "engine", "threads", "str", "engine", "simd", "threads", "canvas", "filename", "engine", "__decorate", "tempQuat", "create", "create", "len", "scale", "add", "clone", "copy", "create", "dot", "equals", "exactEquals", "fromValues", "identity", "invert", "len", "length", "lerp", "mul", "multiply", "normalize", "random", "rotateX", "rotateY", "rotateZ", "scale", "set", "sqrLen", "squaredLength", "str", "add", "clone", "copy", "create", "equals", "exactEquals", "fromValues", "mul", "multiply", "rotateX", "rotateY", "rotateZ", "scale", "set", "str", "sub", "subtract", "create", "clone", "fromValues", "copy", "set", "add", "subtract", "multiply", "scale", "len", "rotateX", "rotateY", "rotateZ", "str", "exactEquals", "equals", "sub", "mul", "offset", "create", "clone", "fromValues", "copy", "set", "add", "scale", "length", "squaredLength", "normalize", "len", "dot", "lerp", "exactEquals", "equals", "forEach", "create", "offset", "create", "identity", "dot", "multiply", "rotateX", "rotateY", "rotateZ", "scale", "random", "invert", "str", "clone", "fromValues", "copy", "set", "add", "mul", "lerp", "length", "len", "squaredLength", "sqrLen", "normalize", "exactEquals", "equals", "add", "clone", "conjugate", "copy", "create", "dot", "equals", "exactEquals", "fromRotation", "fromRotationTranslation", "fromTranslation", "fromValues", "getTranslation", "identity", "invert", "len", "length", "lerp", "mul", "multiply", "normalize", "rotateX", "rotateY", "rotateZ", "scale", "set", "sqrLen", "squaredLength", "str", "translate", "create", "clone", "fromValues", "fromRotationTranslation", "fromTranslation", "fromRotation", "copy", "identity", "set", "getTranslation", "translate", "rotateX", "rotateY", "rotateZ", "add", "multiply", "mul", "scale", "dot", "lerp", "invert", "squaredLength", "conjugate", "length", "len", "sqrLen", "normalize", "str", "exactEquals", "equals", "__decorate", "__decorate", "tempVec", "engine", "canvas", "dist", "__decorate", "import_howler", "canvas", "a", "direction", "__decorate", "tempVec3", "engine", "earcut", "tempVec3", "__decorate", "lookAt", "offset", "dist", "dot", "direction", "Type", "Property", "propertyDecorator", "enumerable", "nativeProperty", "Type", "property", "Property", "isNumber", "__decorate", "Collider", "Alignment", "Justification", "TextEffect", "InputType", "LightType", "AnimationState", "ForceMode", "CollisionEventType", "Shape", "MeshAttribute", "MaterialParamType", "isMeshShape", "Component", "engine", "_CollisionComponent", "CollisionComponent", "__decorate", "nativeProperty", "TextComponent", "Material", "ViewComponent", "enumerable", "InputComponent", "InputType", "LightComponent", "angle", "AnimationComponent", "Animation", "MeshComponent", "Mesh", "Skin", "LockAxis", "PhysXComponent", "isMeshShape", "ForceMode", "MeshIndexType", "MeshSkinningType", "Mesh", "engine", "isNumber", "MeshAttributeAccessor", "MeshAttribute", "Material", "MaterialParamType", "Animation", "engine", "Skin", "animId", "Skin", "engine", "_componentDefaults", "Type", "tempVec", "tempQuat", "setXRRigidTransformLocal", "Component", "setXRRigidTransformLocal", "ViewComponent", "Property"]
}
